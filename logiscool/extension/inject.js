class DiversityEvents{static hello(){Logger.log(`Hello from diversity! This version runs event prefix '${DiversityGlobals.getEventPrefix()}'`)}}
class DiversityGlobals{static VERSION="0.1";static BRANCH="beta";static EVENT_PREFIX="diversity@$ver$";static getVersion(){return`${this.BRANCH}-${this.VERSION}`}static getEventPrefix(){return this.EVENT_PREFIX.replace("$ver",this.getVersion())}}
class Logger{static registerEvents(){DiversityBackend.registerEvent("debug",this.debug);DiversityBackend.registerEvent("info",this.info);DiversityBackend.registerEvent("log",this.log);DiversityBackend.registerEvent("warn",this.warn);DiversityBackend.registerEvent("error",this.error)}static format(s){return`[Diversity ${DiversityGlobals.getVersion()}] ${s}`}static log(s){console.log(Logger.format(s))}static info(s){console.info(Logger.format(s))}static warn(s){console.warn(Logger.format(s))}static debug(s){console.debug(Logger.format(s))}static error(s){console.error(Logger.format(s))}}
class DiversityNetworking{static BTF_PREFIX="dnInternal$BTF$";static FTB_PREFIX="dnInternal$FTB$";static returnGetResult(data){if(!DiversityBackend.broadcastMethod||typeof DiversityBackend.broadcastMethod!=="function"){Logger.error("[DiversityNetworking] broadcastMethod is not valid!");return}let realData=null;if(typeof data==="object"){realData=Object.entries(data)}DiversityBackend.broadcastMethod(DiversityNetworking.BTF_PREFIX+"getResult",realData??data,false)}static returnPostResult(data){if(!DiversityBackend.broadcastMethod||typeof DiversityBackend.broadcastMethod!=="function"){Logger.error("[DiversityNetworking] broadcastMethod is not valid!");return}let realData=null;if(typeof data==="object"){realData=Object.entries(data)}DiversityBackend.broadcastMethod(DiversityNetworking.BTF_PREFIX+"postResult",realData??data,false)}static async getInternal(data){try{const parts=Object.fromEntries(data.split(";").map(pair=>{const[key,...rest]=pair.split("=");return[key.trim(),rest.join("=").trim()]}));const{url,headers}=parts;if(!url)throw new Error("Missing URL in getInternal request.");let headerObj={};if(headers){headers.split(",").forEach(h=>{const[k,...v]=h.split(":");if(k&&v.length>0){headerObj[k.trim()]=v.join(":").trim()}})}const response=await fetch(url,{method:"GET",headers:headerObj});const text=await response.text();DiversityNetworking.returnGetResult({success:true,status:response.status,body:text})}catch(err){Logger.error("[DiversityNetworking] Error in getInternal:",err);DiversityNetworking.returnGetResult({success:false,error:err.message})}}static async postInternal(data){try{const parts=Object.fromEntries(data.split(";").map(pair=>{const[key,...rest]=pair.split("=");return[key.trim(),rest.join("=").trim()]}));const{url,headers,body}=parts;if(!url)throw new Error("Missing URL in postInternal request.");let headerObj={};if(headers){headers.split(",").forEach(h=>{const[k,...v]=h.split(":");if(k&&v.length>0){headerObj[k.trim()]=v.join(":").trim()}})}const response=await fetch(url,{method:"POST",headers:headerObj,body:body??null});const text=await response.text();DiversityNetworking.returnPostResult({success:true,status:response.status,body:text})}catch(err){Logger.error("[DiversityNetworking] Error in postInternal:",err);DiversityNetworking.returnPostResult({success:false,error:err.message})}}static registerEvents(){DiversityBackend.registerEvent(this.FTB_PREFIX+"getInternal",this.getInternal);DiversityBackend.registerEvent(this.FTB_PREFIX+"postInternal",this.postInternal)}}
class DiversityBackend{static registry={};static broadcastMethod=null;static registerEvent(eventName,handler){this.registry[eventName]=handler;Logger.log(`Mapped event '${eventName}' to handler '${handler.name||"anonymous"}'`)}static _handleDynamicRegistration(data){try{const parts=Object.fromEntries(data.split(";").map(pair=>{const[key,...rest]=pair.split("=");return[key.trim(),rest.join("=").trim()]}));const{eventName,handler}=parts;if(!eventName||!handler){Logger.warn("Dynamic registration failed: missing eventName or handler.");return false}const fn=eval(`(${handler})`);if(typeof fn!=="function"){Logger.warn(`Dynamic registration failed: handler is not a function.`);return false}this.registerEvent(eventName,fn);Logger.info(`Dynamically registered new event '${eventName}'`);return true}catch(err){Logger.error(`Dynamic registration error: ${err}`);return false}}static routeEvent(channel,data){const prefix=DiversityGlobals.getEventPrefix();if(!channel.startsWith(prefix))return false;const eventName=channel.slice(prefix.length);if(eventName==="!register"){return this._handleDynamicRegistration(data)}const handler=this.registry[eventName];if(!handler){Logger.warn(`No handler registered for event '${eventName}'`);return false}try{return handler(data)}catch(err){Logger.error(`Error in event '${eventName}': ${err}`)}}static jankSaveBroadcastMethod(method){if(typeof method!=="function"){Logger.error("Attempted to save a non-function broadcast method!");return}this.broadcastMethod=method;Logger.log("Saved broadcast method:",method.name||"<anonymous>")}static registerDefaults(){Logger.log(`Registering default events for '${DiversityGlobals.getEventPrefix()}'...`);this.registerEvent("checkIsLoaded",()=>{if(this.broadcastMethod!=null&&typeof this.broadcastMethod=="function")this.broadcastMethod("diversity$version",DiversityGlobals.getVersion(),false)});DiversityNetworking.registerEvents();Logger.registerEvents();const count=Object.keys(this.registry).length;Logger.log(`Registered ${count} event${count!==1?"s":""}.`)}}
/*! For license information please see 2.a8e78b64.chunk.js.LICENSE.txt */
(this["webpackJsonpscoolcode-platform-embed"]=this["webpackJsonpscoolcode-platform-embed"]||[]).push([[2],[function(e,t,r){"use strict";e.exports=r(352)},function(e,t,r){"use strict";e.exports=r(358)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(368),t),i(r(369),t),i(r(370),t),i(r(371),t),i(r(372),t),i(r(373),t),i(r(374),t),i(r(375),t),i(r(376),t),i(r(377),t),i(r(378),t),i(r(379),t),i(r(380),t),i(r(381),t),i(r(382),t),i(r(383),t),i(r(384),t),i(r(385),t),i(r(386),t),i(r(387),t),i(r(181),t),i(r(388),t),i(r(182),t),i(r(389),t),i(r(390),t),i(r(391),t),i(r(392),t),i(r(393),t),i(r(394),t),i(r(395),t),i(r(396),t),i(r(397),t),i(r(398),t),i(r(399),t),i(r(400),t),i(r(402),t),i(r(403),t),i(r(404),t),i(r(405),t),i(r(406),t),i(r(407),t),i(r(408),t),i(r(409),t),i(r(410),t),i(r(411),t),i(r(412),t),i(r(413),t),i(r(414),t),i(r(415),t),i(r(416),t),i(r(417),t),i(r(418),t),i(r(419),t),i(r(420),t),i(r(421),t),i(r(422),t),i(r(423),t),i(r(424),t),i(r(425),t),i(r(426),t),i(r(427),t),i(r(428),t),i(r(429),t),i(r(430),t),i(r(431),t),i(r(432),t),i(r(433),t),i(r(434),t),i(r(435),t),i(r(436),t),i(r(437),t),i(r(438),t),i(r(439),t),i(r(440),t),i(r(441),t),i(r(442),t),i(r(443),t),i(r(444),t),i(r(445),t),i(r(446),t),i(r(447),t),i(r(448),t),i(r(449),t),i(r(450),t),i(r(451),t),i(r(452),t),i(r(453),t),i(r(454),t),i(r(455),t),i(r(456),t),i(r(457),t),i(r(458),t),i(r(459),t),i(r(460),t),i(r(461),t),i(r(462),t),i(r(463),t),i(r(464),t),i(r(465),t),i(r(466),t),i(r(467),t),i(r(468),t),i(r(469),t),i(r(470),t),i(r(471),t),i(r(472),t),i(r(473),t),i(r(184),t),i(r(474),t),i(r(475),t),i(r(476),t),i(r(477),t),i(r(478),t),i(r(479),t),i(r(480),t),i(r(186),t),i(r(481),t),i(r(482),t),i(r(483),t),i(r(484),t),i(r(485),t),i(r(486),t),i(r(487),t),i(r(488),t),i(r(489),t),i(r(490),t),i(r(491),t),i(r(495),t),i(r(496),t),i(r(497),t),i(r(498),t),i(r(499),t),i(r(500),t),i(r(501),t),i(r(502),t),i(r(503),t),i(r(504),t),i(r(505),t),i(r(506),t),i(r(507),t),i(r(508),t),i(r(509),t),i(r(510),t),i(r(511),t),i(r(512),t),i(r(513),t),i(r(514),t),i(r(515),t),i(r(516),t),i(r(517),t),i(r(518),t),i(r(519),t),i(r(520),t),i(r(521),t),i(r(185),t),i(r(522),t),i(r(523),t),i(r(524),t),i(r(525),t),i(r(526),t),i(r(527),t),i(r(528),t),i(r(529),t),i(r(530),t),i(r(531),t),i(r(532),t),i(r(533),t),i(r(534),t),i(r(535),t),i(r(536),t),i(r(537),t),i(r(538),t),i(r(539),t),i(r(540),t),i(r(541),t),i(r(542),t),i(r(543),t),i(r(544),t),i(r(545),t),i(r(546),t),i(r(547),t),i(r(548),t),i(r(549),t),i(r(550),t),i(r(551),t),i(r(552),t),i(r(188),t),i(r(553),t),i(r(136),t),i(r(59),t),i(r(554),t),i(r(555),t),i(r(556),t),i(r(557),t),i(r(558),t),i(r(559),t),i(r(560),t),i(r(561),t),i(r(562),t),i(r(563),t),i(r(564),t),i(r(565),t),i(r(566),t),i(r(567),t),i(r(568),t),i(r(569),t),i(r(570),t),i(r(571),t),i(r(572),t),i(r(573),t),i(r(574),t),i(r(137),t),i(r(575),t),i(r(576),t),i(r(577),t),i(r(578),t),i(r(579),t),i(r(580),t),i(r(581),t),i(r(582),t),i(r(583),t),i(r(584),t),i(r(585),t),i(r(586),t),i(r(587),t),i(r(588),t),i(r(589),t),i(r(590),t),i(r(591),t),i(r(595),t),i(r(596),t),i(r(597),t),i(r(598),t),i(r(599),t),i(r(600),t),i(r(601),t),i(r(602),t),i(r(603),t),i(r(604),t),i(r(605),t),i(r(606),t),i(r(607),t),i(r(608),t),i(r(609),t),i(r(610),t),i(r(611),t),i(r(612),t),i(r(613),t),i(r(614),t),i(r(615),t),i(r(616),t),i(r(617),t),i(r(618),t),i(r(619),t),i(r(620),t),i(r(621),t),i(r(622),t),i(r(623),t),i(r(624),t),i(r(625),t),i(r(626),t),i(r(627),t),i(r(628),t),i(r(629),t),i(r(630),t),i(r(631),t),i(r(632),t),i(r(633),t),i(r(634),t),i(r(635),t),i(r(636),t),i(r(637),t),i(r(638),t),i(r(639),t),i(r(640),t),i(r(641),t),i(r(642),t),i(r(643),t),i(r(644),t),i(r(645),t),i(r(646),t)},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2),t);const o=r(2);Object.keys(o.ValueType).map((e=>o.ValueType[e].init()));r(2).ContextualTypeBuilder.prepareLiterals()},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return Me})),r.d(t,"b",(function(){return De})),r.d(t,"c",(function(){return ve}));var n=r(97),i=r(0),o=r.n(i),a=r(326),s=r.n(a),l=r(327),c=r(328),p=r(175),u=r(44),d=r.n(u);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(n.typeOf)(e)},g=Object.freeze([]),y=Object.freeze({});function v(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function S(e){return e&&"string"==typeof e.styledComponentId}var T="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",w="undefined"!=typeof window&&"HTMLElement"in window,E=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),x={};function _(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var k=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)(i<<=1)<0&&_(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=n;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,o=n;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),O=new Map,A=new Map,C=1,M=function(e){if(O.has(e))return O.get(e);for(;A.has(C);)C++;var t=C++;return O.set(e,t),A.set(t,e),t},P=function(e){return A.get(e)},R=function(e,t){t>=C&&(C=t+1),O.set(e,t),A.set(t,e)},I="style["+T+'][data-styled-version="5.3.1"]',B=new RegExp("^"+T+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,r){for(var n,i=r.split(","),o=0,a=i.length;o<a;o++)(n=i[o])&&e.registerName(t,n)},L=function(e,t){for(var r=(t.innerHTML||"").split("/*!sc*/\n"),n=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var s=a.match(B);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(R(c,l),D(e,c,s[3]),e.getTag().insertRules(l,n)),n.length=0}else n.push(a)}}},F=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},N=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(T))return n}}(r),o=void 0!==i?i.nextSibling:null;n.setAttribute(T,"active"),n.setAttribute("data-styled-version","5.3.1");var a=F();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},j=function(){function e(e){var t=this.element=N(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}_(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),V=function(){function e(e){var t=this.element=N(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),G=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),U=w,W={isServer:!w,useCSSOMInjection:!E},z=function(){function e(e,t,r){void 0===e&&(e=y),void 0===t&&(t={}),this.options=h({},W,{},e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&w&&U&&(U=!1,function(e){for(var t=document.querySelectorAll(I),r=0,n=t.length;r<n;r++){var i=t[r];i&&"active"!==i.getAttribute(T)&&(L(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return M(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(h({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,i=t.target,e=r?new G(i):n?new j(i):new V(i),new k(e)));var e,t,r,n,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(M(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(M(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(M(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=0;i<r;i++){var o=P(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var l=T+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),n+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return n}(this)},e}(),H=/(a)(d)/gi,$=function(e){return String.fromCharCode(e+(e>25?39:97))};function X(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=$(t%52)+r;return($(t%52)+r).replace(H,"$1-$2")}var Y=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},K=function(e){return Y(5381,e)};function q(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(v(r)&&!S(r))return!1}return!0}var J=K("5.3.1"),Z=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&q(e),this.componentId=t,this.baseHash=Y(J,t),this.baseStyle=r,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))i.push(this.staticRulesId);else{var o=ge(this.rules,e,t,r).join(""),a=X(Y(this.baseHash,o)>>>0);if(!t.hasNameForId(n,a)){var s=r(o,"."+a,void 0,n);t.insertRules(n,a,s)}i.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,c=Y(this.baseHash,r.hash),p="",u=0;u<l;u++){var d=this.rules[u];if("string"==typeof d)p+=d;else if(d){var h=ge(d,e,t,r),f=Array.isArray(h)?h.join(""):h;c=Y(c,f+u),p+=f}}if(p){var m=X(c>>>0);if(!t.hasNameForId(n,m)){var g=r(p,"."+m,void 0,n);t.insertRules(n,m,g)}i.push(m)}}return i.join(" ")},e}(),Q=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,r,n,i,o=void 0===e?y:e,a=o.options,s=void 0===a?y:a,c=o.plugins,p=void 0===c?g:c,u=new l.a(s),d=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,i,o,a,s,l,c,p,u){switch(r){case 1:if(0===p&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===c)return n+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+n),"";default:return n+(0===u?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),f=function(e,n,o){return 0===n&&-1!==ee.indexOf(o[r.length])||o.match(i)?e:"."+t};function m(e,o,a,s){void 0===s&&(s="&");var l=e.replace(Q,""),c=o&&a?a+" "+o+" { "+l+" }":l;return t=s,r=o,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),u(a||!o?"":o,c)}return u.use([].concat(p,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(r)>0&&(i[0]=i[0].replace(n,f))},h,function(e){if(-2===e){var t=d;return d=[],t}}])),m.hash=p.length?p.reduce((function(e,t){return t.name||_(15),Y(e,t.name)}),5381).toString():"",m}var re=o.a.createContext(),ne=(re.Consumer,o.a.createContext()),ie=(ne.Consumer,new z),oe=te();function ae(){return Object(i.useContext)(re)||ie}function se(){return Object(i.useContext)(ne)||oe}function le(e){var t=Object(i.useState)(e.stylisPlugins),r=t[0],n=t[1],a=ae(),l=Object(i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return Object(i.useEffect)((function(){s()(r,e.stylisPlugins)||n(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(re.Provider,{value:l},o.a.createElement(ne.Provider,{value:c},e.children))}var ce=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=oe);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return _(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),pe=/([A-Z])/,ue=/([A-Z])/g,de=/^ms-/,he=function(e){return"-"+e.toLowerCase()};function fe(e){return pe.test(e)?e.replace(ue,he).replace(de,"-ms-"):e}var me=function(e){return null==e||!1===e||""===e};function ge(e,t,r,n){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ge(e[a],t,r,n))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return me(e)?"":S(e)?"."+e.styledComponentId:v(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:ge(e(t),t,r,n):e instanceof ce?r?(e.inject(r,n),e.getName(n)):e:m(e)?function e(t,r){var n,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!me(t[a])&&(Array.isArray(t[a])&&t[a].isCss||v(t[a])?o.push(fe(a)+":",t[a],";"):m(t[a])?o.push.apply(o,e(t[a],a)):o.push(fe(a)+": "+(n=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||n in c.a?String(i).trim():i+"px")+";")));return r?[r+" {"].concat(o,["}"]):o}(e):e.toString();var l}var ye=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ve(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return v(e)||m(e)?ye(ge(f(g,[e].concat(r)))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:ye(ge(f(e,r)))}new Set;var be=function(e,t,r){return void 0===r&&(r=y),e.theme!==r.theme&&e.theme||t||r.theme},Se=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Te=/(^-|-$)/g;function we(e){return e.replace(Se,"-").replace(Te,"")}var Ee=function(e){return X(K(e)>>>0)};function xe(e){return"string"==typeof e&&!0}var _e=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},ke=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Oe(e,t,r){var n=e[r];_e(t)&&_e(n)?Ae(n,t):e[r]=t}function Ae(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=o[i];if(_e(a))for(var s in a)ke(s)&&Oe(e,a[s],s)}return e}var Ce=o.a.createContext();Ce.Consumer;function Me(e){var t=Object(i.useContext)(Ce),r=Object(i.useMemo)((function(){return function(e,t){return e?v(e)?e(t):Array.isArray(e)||"object"!=typeof e?_(8):t?h({},t,{},e):e:_(14)}(e.theme,t)}),[e.theme,t]);return e.children?o.a.createElement(Ce.Provider,{value:r},e.children):null}var Pe={};function Re(e,t,r){var n=S(e),a=!xe(e),s=t.attrs,l=void 0===s?g:s,c=t.componentId,u=void 0===c?function(e,t){var r="string"!=typeof e?"sc":we(e);Pe[r]=(Pe[r]||0)+1;var n=r+"-"+Ee("5.3.1"+r+Pe[r]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):c,f=t.displayName,m=void 0===f?function(e){return xe(e)?"styled."+e:"Styled("+b(e)+")"}(e):f,T=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||u,w=n&&e.attrs?Array.prototype.concat(e.attrs,l).filter(Boolean):l,E=t.shouldForwardProp;n&&e.shouldForwardProp&&(E=t.shouldForwardProp?function(r,n,i){return e.shouldForwardProp(r,n,i)&&t.shouldForwardProp(r,n,i)}:e.shouldForwardProp);var x,_=new Z(r,T,n?e.componentStyle:void 0),k=_.isStatic&&0===l.length,O=function(e,t){return function(e,t,r,n){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,u=e.styledComponentId,d=e.target,f=function(e,t,r){void 0===e&&(e=y);var n=h({},t,{theme:e}),i={};return r.forEach((function(e){var t,r,o,a=e;for(t in v(a)&&(a=a(n)),a)n[t]=i[t]="className"===t?(r=i[t],o=a[t],r&&o?r+" "+o:r||o):a[t]})),[n,i]}(be(t,Object(i.useContext)(Ce),s)||y,t,o),m=f[0],g=f[1],b=function(e,t,r,n){var i=ae(),o=se();return t?e.generateAndInjectStyles(y,i,o):e.generateAndInjectStyles(r,i,o)}(a,n,m),S=r,T=g.$as||t.$as||g.as||t.as||d,w=xe(T),E=g!==t?h({},t,{},g):t,x={};for(var _ in E)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?x.as=E[_]:(c?c(_,p.a,T):!w||Object(p.a)(_))&&(x[_]=E[_]));return t.style&&g.style!==t.style&&(x.style=h({},t.style,{},g.style)),x.className=Array.prototype.concat(l,u,b!==u?b:null,t.className,g.className).filter(Boolean).join(" "),x.ref=S,Object(i.createElement)(T,x)}(x,e,t,k)};return O.displayName=m,(x=o.a.forwardRef(O)).attrs=w,x.componentStyle=_,x.displayName=m,x.shouldForwardProp=E,x.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,x.styledComponentId=T,x.target=n?e.target:e,x.withComponent=function(e){var n=t.componentId,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["componentId"]),o=n&&n+"-"+(xe(e)?e:we(b(e)));return Re(e,h({},i,{attrs:w,componentId:o}),r)},Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?Ae({},e.defaultProps,t):t}}),x.toString=function(){return"."+x.styledComponentId},a&&d()(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),x}var Ie=function(e){return function e(t,r,i){if(void 0===i&&(i=y),!Object(n.isValidElementType)(r))return _(1,String(r));var o=function(){return t(r,i,ve.apply(void 0,arguments))};return o.withConfig=function(n){return e(t,r,h({},i,{},n))},o.attrs=function(n){return e(t,r,h({},i,{attrs:Array.prototype.concat(i.attrs,n).filter(Boolean)}))},o}(Re,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ie[e]=Ie(e)}));var Be=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=q(e),z.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,r,n){var i=n(ge(this.rules,t,r,n).join(""),""),o=this.componentId+e;r.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,r,n){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)},e}();function De(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=ve.apply(void 0,[e].concat(r)),s="sc-global-"+Ee(JSON.stringify(a)),l=new Be(a,s);function c(e){var t=ae(),r=se(),n=Object(i.useContext)(Ce),o=Object(i.useRef)(t.allocateGSInstance(s)).current;return t.server&&p(o,e,t,n,r),Object(i.useLayoutEffect)((function(){if(!t.server)return p(o,e,t,n,r),function(){return l.removeStyles(o,t)}}),[o,e,t,n,r]),null}function p(e,t,r,n,i){if(l.isStatic)l.renderStyles(e,x,r,i);else{var o=h({},t,{theme:be(t,n,c.defaultProps)});l.renderStyles(e,o,r,i)}}return o.a.memo(c)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=F();return"<style "+[r&&'nonce="'+r+'"',T+'="true"','data-styled-version="5.3.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?_(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return _(2);var r=((t={})[T]="",t["data-styled-version"]="5.3.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=F();return n&&(r.nonce=n),[o.a.createElement("style",h({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?_(2):o.a.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return _(3)}}();t.d=Ie}).call(this,r(32))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(67);function i(e,t){if(null==e)return{};var r,i,o=Object(n.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t,r){e.exports=r(356)()},function(e,t,r){"use strict";function n(e){var t,r,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,r){var n=e.exports={AABB:r(113),AngleLockEquation:r(279),Body:r(65),Broadphase:r(116),Capsule:r(283),Circle:r(117),Constraint:r(66),ContactEquation:r(118),ContactEquationPool:r(284),ContactMaterial:r(285),Convex:r(93),DistanceConstraint:r(286),Equation:r(36),EventEmitter:r(115),FrictionEquation:r(94),FrictionEquationPool:r(287),GearConstraint:r(288),GSSolver:r(289),Heightfield:r(965),Line:r(290),LockConstraint:r(291),Material:r(161),Narrowphase:r(292),NaiveBroadphase:r(966),Particle:r(164),Plane:r(163),Pool:r(78),RevoluteConstraint:r(295),PrismaticConstraint:r(298),Ray:r(114),RaycastResult:r(160),Box:r(294),RotationalVelocityEquation:r(296),SAPBroadphase:r(299),Shape:r(37),Solver:r(162),Spring:r(165),TopDownVehicle:r(967),LinearSpring:r(300),RotationalSpring:r(301),Utils:r(27),World:r(968),vec2:r(11),version:r(302).version};Object.defineProperty(n,"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=r.n(o),s=(r(7),r(44)),l=r.n(s),c=r(1081),p=r(1058),u=r(342),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var o=t.defaultTheme,s=t.withTheme,d=void 0!==s&&s,h=t.name,f=Object(i.a)(t,["defaultTheme","withTheme","name"]);var m=h,g=Object(c.a)(e,Object(n.a)({defaultTheme:o,Component:r,name:h||r.displayName,classNamePrefix:m},f)),y=a.a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,c=Object(i.a)(e,["classes","innerRef"]),f=g(Object(n.a)({},r.defaultProps,e)),m=c;return("string"===typeof h||d)&&(s=Object(u.a)()||o,h&&(m=Object(p.a)({theme:s,name:h,props:c})),d&&!m.theme&&(m.theme=s)),a.a.createElement(r,Object(n.a)({ref:l||t,classes:f},m))}));return l()(y,r),y}},h=r(83);t.a=function(e,t){return d(e,Object(n.a)({defaultTheme:h.a},t))}},function(e,t,r){var n=e.exports={},i=r(27);n.crossLength=function(e,t){return e[0]*t[1]-e[1]*t[0]},n.crossVZ=function(e,t,r){return n.rotate(e,t,-Math.PI/2),n.scale(e,e,r),e},n.crossZV=function(e,t,r){return n.rotate(e,r,Math.PI/2),n.scale(e,e,t),e},n.rotate=function(e,t,r){if(0!==r){var n=Math.cos(r),i=Math.sin(r),o=t[0],a=t[1];e[0]=n*o-i*a,e[1]=i*o+n*a}else e[0]=t[0],e[1]=t[1]},n.rotate90cw=function(e,t){var r=t[0],n=t[1];e[0]=n,e[1]=-r},n.toLocalFrame=function(e,t,r,i){n.copy(e,t),n.sub(e,e,r),n.rotate(e,e,-i)},n.toGlobalFrame=function(e,t,r,i){n.copy(e,t),n.rotate(e,e,i),n.add(e,e,r)},n.vectorToLocalFrame=function(e,t,r){n.rotate(e,t,-r)},n.vectorToGlobalFrame=function(e,t,r){n.rotate(e,t,r)},n.centroid=function(e,t,r,i){return n.add(e,t,r),n.add(e,e,i),n.scale(e,e,1/3),e},n.create=function(){var e=new i.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},n.clone=function(e){var t=new i.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},n.fromValues=function(e,t){var r=new i.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r},n.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},n.set=function(e,t,r){return e[0]=t,e[1]=r,e},n.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e},n.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e},n.sub=n.subtract,n.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e},n.mul=n.multiply,n.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e},n.div=n.divide,n.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},n.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)},n.dist=n.distance,n.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n},n.sqrDist=n.squaredDistance,n.length=function(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)},n.len=n.length,n.squaredLength=function(e){var t=e[0],r=e[1];return t*t+r*r},n.sqrLen=n.squaredLength,n.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},n.normalize=function(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},n.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},n.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},n.lerp=function(e,t,r,n){var i=t[0],o=t[1];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e},n.reflect=function(e,t,r){var n=t[0]*r[0]+t[1]*r[1];e[0]=t[0]-2*r[0]*n,e[1]=t[1]-2*r[1]*n},n.getLineSegmentsIntersection=function(e,t,r,i,o){var a=n.getLineSegmentsIntersectionFraction(t,r,i,o);return!(a<0)&&(e[0]=t[0]+a*(r[0]-t[0]),e[1]=t[1]+a*(r[1]-t[1]),!0)},n.getLineSegmentsIntersectionFraction=function(e,t,r,n){var i,o,a=t[0]-e[0],s=t[1]-e[1],l=n[0]-r[0],c=n[1]-r[1];return i=(-s*(e[0]-r[0])+a*(e[1]-r[1]))/(-l*s+a*c),o=(l*(e[1]-r[1])-c*(e[0]-r[0]))/(-l*s+a*c),i>=0&&i<=1&&o>=0&&o<=1?o:-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserScope=void 0,function(e){e[e.Default=0]="Default",e[e.Value=1]="Value",e[e.Assignment=2]="Assignment",e[e.Stage=3]="Stage",e[e.When=4]="When",e[e.On=4]="On",e[e.Actor=5]="Actor",e[e.Iteration=6]="Iteration",e[e.Function=7]="Function",e[e.Part=8]="Part",e[e.Scene=9]="Scene",e[e.Asset=10]="Asset"}(t.ParserScope||(t.ParserScope={}))},function(e,t,r){"use strict";t.__esModule=!0;t.VERSION="4.8.9",t.PI_2=2*Math.PI,t.RAD_TO_DEG=180/Math.PI,t.DEG_TO_RAD=Math.PI/180,t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},t.SCALE_MODES={LINEAR:0,NEAREST:1},t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},t.GC_MODES={AUTO:0,MANUAL:1},t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},t.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(341);function i(e){if("string"!==typeof e)throw new Error(Object(n.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserScope=void 0,function(e){e[e.Default=0]="Default",e[e.Value=1]="Value",e[e.Assignment=2]="Assignment",e[e.Stage=3]="Stage",e[e.When=4]="When",e[e.On=4]="On",e[e.Actor=5]="Actor",e[e.Iteration=6]="Iteration",e[e.Function=7]="Function",e[e.Part=8]="Part",e[e.Scene=9]="Scene"}(t.ParserScope||(t.ParserScope={}))},function(e,t,r){"use strict";t.__esModule=!0,t.autoDetectRenderer=t.Application=t.Filter=t.SpriteMaskFilter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.CanvasRenderTarget=t.TextureUvs=t.VideoBaseTexture=t.BaseRenderTexture=t.RenderTexture=t.BaseTexture=t.TextureMatrix=t.Texture=t.Spritesheet=t.CanvasGraphicsRenderer=t.GraphicsRenderer=t.GraphicsData=t.Graphics=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.glCore=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=void 0;var n=r(13);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}));var i=r(30);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=r(40);Object.defineProperty(t,"glCore",{enumerable:!0,get:function(){return X(o).default}});var a=r(149);Object.defineProperty(t,"Bounds",{enumerable:!0,get:function(){return X(a).default}});var s=r(239);Object.defineProperty(t,"DisplayObject",{enumerable:!0,get:function(){return X(s).default}});var l=r(87);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return X(l).default}});var c=r(241);Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return X(c).default}});var p=r(240);Object.defineProperty(t,"TransformStatic",{enumerable:!0,get:function(){return X(p).default}});var u=r(151);Object.defineProperty(t,"TransformBase",{enumerable:!0,get:function(){return X(u).default}});var d=r(153);Object.defineProperty(t,"Sprite",{enumerable:!0,get:function(){return X(d).default}});var h=r(891);Object.defineProperty(t,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return X(h).default}});var f=r(108);Object.defineProperty(t,"CanvasTinter",{enumerable:!0,get:function(){return X(f).default}});var m=r(894);Object.defineProperty(t,"SpriteRenderer",{enumerable:!0,get:function(){return X(m).default}});var g=r(909);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return X(g).default}});var y=r(254);Object.defineProperty(t,"TextStyle",{enumerable:!0,get:function(){return X(y).default}});var v=r(255);Object.defineProperty(t,"TextMetrics",{enumerable:!0,get:function(){return X(v).default}});var b=r(911);Object.defineProperty(t,"Graphics",{enumerable:!0,get:function(){return X(b).default}});var S=r(256);Object.defineProperty(t,"GraphicsData",{enumerable:!0,get:function(){return X(S).default}});var T=r(913);Object.defineProperty(t,"GraphicsRenderer",{enumerable:!0,get:function(){return X(T).default}});var w=r(920);Object.defineProperty(t,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return X(w).default}});var E=r(921);Object.defineProperty(t,"Spritesheet",{enumerable:!0,get:function(){return X(E).default}});var x=r(64);Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return X(x).default}});var _=r(252);Object.defineProperty(t,"TextureMatrix",{enumerable:!0,get:function(){return X(_).default}});var k=r(77);Object.defineProperty(t,"BaseTexture",{enumerable:!0,get:function(){return X(k).default}});var O=r(156);Object.defineProperty(t,"RenderTexture",{enumerable:!0,get:function(){return X(O).default}});var A=r(247);Object.defineProperty(t,"BaseRenderTexture",{enumerable:!0,get:function(){return X(A).default}});var C=r(244);Object.defineProperty(t,"VideoBaseTexture",{enumerable:!0,get:function(){return X(C).default}});var M=r(245);Object.defineProperty(t,"TextureUvs",{enumerable:!0,get:function(){return X(M).default}});var P=r(248);Object.defineProperty(t,"CanvasRenderTarget",{enumerable:!0,get:function(){return X(P).default}});var R=r(90);Object.defineProperty(t,"Shader",{enumerable:!0,get:function(){return X(R).default}});var I=r(89);Object.defineProperty(t,"WebGLManager",{enumerable:!0,get:function(){return X(I).default}});var B=r(109);Object.defineProperty(t,"ObjectRenderer",{enumerable:!0,get:function(){return X(B).default}});var D=r(111);Object.defineProperty(t,"RenderTarget",{enumerable:!0,get:function(){return X(D).default}});var L=r(253);Object.defineProperty(t,"Quad",{enumerable:!0,get:function(){return X(L).default}});var F=r(250);Object.defineProperty(t,"SpriteMaskFilter",{enumerable:!0,get:function(){return X(F).default}});var N=r(251);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return X(N).default}});var j=r(257);Object.defineProperty(t,"Application",{enumerable:!0,get:function(){return X(j).default}});var V=r(258);Object.defineProperty(t,"autoDetectRenderer",{enumerable:!0,get:function(){return V.autoDetectRenderer}});var G=$(r(23)),U=$(r(155)),W=X(r(29)),z=X(r(88)),H=X(r(110));function $(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function X(e){return e&&e.__esModule?e:{default:e}}t.settings=W.default,t.utils=G,t.ticker=U,t.CanvasRenderer=z.default,t.WebGLRenderer=H.default},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return k})),r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return R})),r.d(t,"e",(function(){return g})),r.d(t,"f",(function(){return _})),r.d(t,"g",(function(){return B})),r.d(t,"h",(function(){return D}));var o=r(0),a=r.n(o),s=(r(7),r(34)),l=r(333),c=r(38);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=r(173),d=r.n(u);r(97);function h(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r(44);var f=function(e){var t=Object(l.a)();return t.displayName=e,t},m=f("Router-History"),g=f("Router"),y=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={location:t.history.location},r._isMounted=!1,r._pendingLocation=null,t.staticContext||(r.unlisten=t.history.listen((function(e){r._isMounted?r.setState({location:e}):r._pendingLocation=e}))),r}i(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return a.a.createElement(g.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;var v=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(a.a.Component);var b={},S=0;function T(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(b[e])return b[e];var t=d.a.compile(e);return S<1e4&&(b[e]=t,S++),t}(e)(t,{pretty:!0})}function w(e){var t=e.computedMatch,r=e.to,n=e.push,i=void 0!==n&&n;return a.a.createElement(g.Consumer,null,(function(e){e||Object(c.a)(!1);var n=e.history,o=e.staticContext,l=i?n.push:n.replace,u=Object(s.c)(t?"string"===typeof r?T(r,t.params):p({},r,{pathname:T(r.pathname,t.params)}):r);return o?(l(u),null):a.a.createElement(v,{onMount:function(){l(u)},onUpdate:function(e,t){var r=Object(s.c)(t.to);Object(s.f)(r,p({},u,{key:r.key}))||l(u)},to:r})}))}var E={},x=0;function _(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,i=r.exact,o=void 0!==i&&i,a=r.strict,s=void 0!==a&&a,l=r.sensitive,c=void 0!==l&&l;return[].concat(n).reduce((function(t,r){if(!r&&""!==r)return null;if(t)return t;var n=function(e,t){var r=""+t.end+t.strict+t.sensitive,n=E[r]||(E[r]={});if(n[e])return n[e];var i=[],o={regexp:d()(e,i,t),keys:i};return x<1e4&&(n[e]=o,x++),o}(r,{end:o,strict:s,sensitive:c}),i=n.regexp,a=n.keys,l=i.exec(e);if(!l)return null;var p=l[0],u=l.slice(1),h=e===p;return o&&!h?null:{path:r,url:"/"===r&&""===p?"/":p,isExact:h,params:a.reduce((function(e,t,r){return e[t.name]=u[r],e}),{})}}),null)}var k=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(g.Consumer,null,(function(t){t||Object(c.a)(!1);var r=e.props.location||t.location,n=p({},t,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?_(r.pathname,e.props):t.match}),i=e.props,o=i.children,s=i.component,l=i.render;return Array.isArray(o)&&function(e){return 0===a.a.Children.count(e)}(o)&&(o=null),a.a.createElement(g.Provider,{value:n},n.match?o?"function"===typeof o?o(n):o:s?a.a.createElement(s,n):l?l(n):null:"function"===typeof o?o(n):null)}))},t}(a.a.Component);function O(e){return"/"===e.charAt(0)?e:"/"+e}function A(e,t){if(!e)return t;var r=O(e);return 0!==t.pathname.indexOf(r)?t:p({},t,{pathname:t.pathname.substr(r.length)})}function C(e){return"string"===typeof e?e:Object(s.e)(e)}function M(e){return function(){Object(c.a)(!1)}}function P(){}a.a.Component;var R=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(g.Consumer,null,(function(t){t||Object(c.a)(!1);var r,n,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==n&&a.a.isValidElement(e)){r=e;var o=e.props.path||e.props.from;n=o?_(i.pathname,p({},e.props,{path:o})):t.match}})),n?a.a.cloneElement(r,{location:i,computedMatch:n}):null}))},t}(a.a.Component);var I=a.a.useContext;function B(){return I(g).location}function D(){var e=I(g).match;return e?e.params:{}}},function(e,t,r){"use strict";(function(e){t.__esModule=!0,t.loader=t.prepare=t.particles=t.mesh=t.loaders=t.interaction=t.filters=t.extras=t.extract=t.accessibility=void 0;var n=r(862);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}));var i=r(16);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o,a=r(922),s=(o=a)&&o.__esModule?o:{default:o},l=y(r(923)),c=y(r(925)),p=y(r(260)),u=y(r(935)),d=y(r(942)),h=y(r(944)),f=y(r(948)),m=y(r(953)),g=y(r(958));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}i.utils.mixins.performMixins();var v=h.shared||null;t.accessibility=l,t.extract=c,t.extras=p,t.filters=u,t.interaction=d,t.loaders=h,t.mesh=f,t.particles=m,t.prepare=g,t.loader=v,"function"===typeof s.default&&(0,s.default)(t),e.PIXI=t}).call(this,r(47))},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.validators=t.constants=void 0,t.constants={blockStartCharacter:"{",blockEndCharacter:"}",objectStartCharacter:"{",objectEndCharacter:"}",segmentStartCharacter:"(",segmentEndCharacter:")",arrayStartCharacter:"[",arrayEndCharacter:"]",indexerStartCharacter:"[",indexerEndCharacter:"]",semicolonCharacter:";",colonCharacter:",",dotCharacter:".",parameterSeparatorCharacter:",",labelSeparatorCharacter:":",equalSign:"=",questionMarkSign:"?",doubleDotSign:":",unionSeparatorSign:"|",breakKeyword:"break",continueKeyword:"continue",debuggerKeyword:"debugger",doKeyword:"do",forKeyword:"for",defKeyword:"def",ifKeyword:"if",elifKeyword:"elif",elseKeyword:"else",delKeyword:"del",passKeyword:"pass",returnKeyword:"return",switchKeyword:"switch",caseKeyword:"case",defaultKeyword:"default",whileKeyword:"while",inKeyword:"in",selfKeyword:"self",stageKeyword:"stage",actorKeyword:"actor",layerKeyword:"layer",refKeyword:"ref",fromKeyword:"from",newLineToken:"newline",indentToken:"indent",dedentToken:"dedent",unexpectedToken:"UNEXPECTED_TOKEN",wrongVariableName:"ILLEGAL_VARIABLE_NAME",wrongFunctionName:"ILLEGAL_FUNCTION_NAME",missingExpression:"MISSING_EXPRESSION",missingExpressionWithParam:"MISSING_EXPRESSION_WITH_PARAM",redeclarationProperty:"REDECLARATION_PROPERTY",expectedEndOfStatement:"EXPECTED_END_OF_STATEMENT",expectedIndent:"EXPECTED_INDENT",expectedDedent:"EXPECTED_DEDENT"};const n={tokenValidator:e=>t=>t.token&&t.token.type===e,lookaheadTokenValidator:e=>t=>{const r=t.lookahead;return r&&r.type===e},keywordValidator:e=>t=>t.token&&"keyword"===t.token.type&&t.token.data===e,identifierValidator:e=>t=>t.token&&"identifier"===t.token.type&&t.token.data===e};t.validators={isComment:n.tokenValidator("comment"),isMacro:n.tokenValidator("macro"),isLiteral:n.tokenValidator("literal"),isKeyword:n.tokenValidator("keyword"),isIdentifier:n.tokenValidator("identifier"),isIdentifierName:n.tokenValidator("identifier"),isIndent:n.tokenValidator(t.constants.indentToken),isDedent:n.tokenValidator(t.constants.dedentToken),isNewLine:n.tokenValidator(t.constants.newLineToken),isDoubleDot:n.tokenValidator(t.constants.doubleDotSign),isUnionSeparator:n.tokenValidator(t.constants.unionSeparatorSign),isBlockStart:n.tokenValidator(t.constants.blockStartCharacter),isBlockEnd:n.tokenValidator(t.constants.blockEndCharacter),isSegmentStart:n.tokenValidator(t.constants.segmentStartCharacter),isSegmentEnd:n.tokenValidator(t.constants.segmentEndCharacter),isArrayStart:n.tokenValidator(t.constants.arrayStartCharacter),isArrayEnd:n.tokenValidator(t.constants.arrayEndCharacter),isObjectStart:n.tokenValidator(t.constants.objectStartCharacter),isObjectEnd:n.tokenValidator(t.constants.objectEndCharacter),isIndexerStart:n.tokenValidator(t.constants.indexerStartCharacter),isIndexerEnd:n.tokenValidator(t.constants.indexerEndCharacter),isSemicolon:n.tokenValidator(t.constants.semicolonCharacter),isColon:n.tokenValidator(t.constants.colonCharacter),isDot:n.tokenValidator(t.constants.dotCharacter),isParameterSeparator:n.tokenValidator(t.constants.parameterSeparatorCharacter),isLabelSeparator:n.tokenValidator(t.constants.labelSeparatorCharacter),isEqualSign:n.tokenValidator(t.constants.equalSign),isQuestionMark:n.tokenValidator(t.constants.questionMarkSign),isBreak:n.keywordValidator(t.constants.breakKeyword),isContinue:n.keywordValidator(t.constants.continueKeyword),isDebugger:n.keywordValidator(t.constants.debuggerKeyword),isFor:n.keywordValidator(t.constants.forKeyword),isDef:n.keywordValidator(t.constants.defKeyword),isIf:n.keywordValidator(t.constants.ifKeyword),isElif:n.keywordValidator(t.constants.elifKeyword),isElse:n.keywordValidator(t.constants.elseKeyword),isDel:n.keywordValidator(t.constants.delKeyword),isPass:n.keywordValidator(t.constants.passKeyword),isReturn:n.keywordValidator(t.constants.returnKeyword),isSwitch:n.keywordValidator(t.constants.switchKeyword),isCase:n.keywordValidator(t.constants.caseKeyword),isDefault:n.keywordValidator(t.constants.defaultKeyword),isWhile:n.keywordValidator(t.constants.whileKeyword),isIn:n.keywordValidator(t.constants.inKeyword),isSelf:n.keywordValidator(t.constants.selfKeyword),isActor:n.keywordValidator(t.constants.actorKeyword),isStage:n.keywordValidator(t.constants.stageKeyword),isLayer:n.keywordValidator(t.constants.layerKeyword),isRef:n.keywordValidator(t.constants.refKeyword),isFrom:n.identifierValidator(t.constants.fromKeyword),isLookaheadLabelSeparator:n.lookaheadTokenValidator(t.constants.labelSeparatorCharacter),isLookaheadEqualSign:n.lookaheadTokenValidator(t.constants.equalSign),isLookaheadDoubleDot:n.lookaheadTokenValidator(t.constants.doubleDotSign),isCaseOrDefault:e=>t.validators.isCase(e)||t.validators.isDefault(e),extend:e=>(e.isComment=t.validators.isComment,e.isMacro=t.validators.isMacro,e.isLiteral=t.validators.isLiteral,e.isKeyword=t.validators.isKeyword,e.isIdentifier=t.validators.isIdentifier,e.isIdentifierName=t.validators.isIdentifierName,e.isBlockStart=t.validators.isBlockStart,e.isBlockEnd=t.validators.isBlockEnd,e.isSegmentStart=t.validators.isSegmentStart,e.isSegmentEnd=t.validators.isSegmentEnd,e.isArrayStart=t.validators.isArrayStart,e.isArrayEnd=t.validators.isArrayEnd,e.isObjectStart=t.validators.isObjectStart,e.isObjectEnd=t.validators.isObjectEnd,e.isIndexerStart=t.validators.isIndexerStart,e.isIndexerEnd=t.validators.isIndexerEnd,e.isSemicolon=t.validators.isSemicolon,e.isColon=t.validators.isColon,e.isDot=t.validators.isDot,e.isParameterSeparator=t.validators.isParameterSeparator,e.isLabelSeparator=t.validators.isLabelSeparator,e.isEqualSign=t.validators.isEqualSign,e.isQuestionMark=t.validators.isQuestionMark,e.isBreak=t.validators.isBreak,e.isContinue=t.validators.isContinue,e.isDebugger=t.validators.isDebugger,e.isFor=t.validators.isFor,e.isDef=t.validators.isDef,e.isIf=t.validators.isIf,e.isElif=t.validators.isElif,e.isElse=t.validators.isElse,e.isReturn=t.validators.isReturn,e.isSwitch=t.validators.isSwitch,e.isCase=t.validators.isCase,e.isDefault=t.validators.isDefault,e.isWhile=t.validators.isWhile,e.isIn=t.validators.isIn,e.isSelf=t.validators.isSelf,e.isStage=t.validators.isStage,e.isFrom=t.validators.isFrom,e.isLookaheadLabelSeparator=t.validators.isLookaheadLabelSeparator,e.isCaseOrDefault=t.validators.isCaseOrDefault,e)};const i={block(e,r,n,i){e.openInnerRange(),e.storeItem();let o,a=!1;if(t.validators.isComment(e)&&(a=!0,r||(e.levelDown(),e.leaf(),e.item.type="block"),e.levelDown(n),i&&e.levelDown(i),t.utils.comments(e)),t.validators.isNewLine(e)||a){if(a||e.next(),!t.validators.isIndent(e))return e.error(t.constants.expectedIndent);for(e.next(),a||(r||(e.levelDown(),e.leaf(),e.item.type="block"),e.levelDown(n),i&&e.levelDown(i));e.token&&!t.validators.isDedent(e);)e.processor.token(e);o=e.lookback2,i&&e.levelUp(),e.levelUp(),r||(e.closeLeafRange(),e.levelUp()),e.next()}else t.utils.statementInBlock(e,n,i),o=e.token,t.utils.endOfLine(e);e.restoreItem(),e.closeInnerRange(o)}};t.utils={typeAnnotation(e){e.next();const r=[];let n="",i=!1;for(;;){if(!t.validators.isIdentifier(e)&&!t.validators.isKeyword(e)||i)if(t.validators.isDot(e)&&i)n+=e.token.data,i=!1;else{if(!t.validators.isUnionSeparator(e)||!i){if(i){r.push(n);break}return e.error("MISSING_TYPE_ANNOTATION")}r.push(n),n="",i=!1}else n+=e.token.data,i=!0;e.next()}return e.item.options=e.item.options||{},e.item.options.typeAnnotated=!0,1===r.length?e.item.subtype=r[0]:(e.item.subtype="<union>",e.item.options.unionType=r),!0},block:(e,t,r)=>i.block(e,!1,t,r),implicitBlock:(e,t,r)=>i.block(e,!0,t,r),statementsInBlock(e,r,n){for(e.levelDown(r),n&&e.levelDown(n);e.token&&!t.validators.isDedent(e);)e.processor.token(e);n&&e.levelUp(),e.levelUp()},comments(e){for(;e.token&&t.validators.isComment(e);)e.processor.token(e)},statementInBlock(e,t,r){e.levelDown(t),r&&e.levelDown(r),e.processor.token(e),r&&e.levelUp(),e.levelUp()},endOfLine:(e,r=!1)=>!!t.validators.isComment(e)||(t.validators.isNewLine(e)||e.hasFinished()||e.lookback.type===t.constants.newLineToken?(t.validators.isNewLine(e)&&e.next(),!0):(r||e.error(t.constants.expectedEndOfStatement),!1)),name:e=>!(!e.token||"identifier"!=e.token.type)&&(e.item.name=e.token.data,e.next(),!0),segmentStart:(e,r=!1)=>t.validators.isSegmentStart(e)?(e.next(),!0):(r||e.error("MISSING_SEGMENT_START"),!1),segmentEnd:(e,r=!1)=>t.validators.isSegmentEnd(e)?(e.next(),!0):(r||e.error("MISSING_SEGMENT_END"),!1),doubleDot:e=>t.validators.isDoubleDot(e)?(e.next(),!0):(e.error("MISSING_DOUBLE_DOT"),!1),extend:e=>(e.typeAnnotation=t.utils.typeAnnotation,e.block=t.utils.block,e.implicitBlock=t.utils.implicitBlock,e.statementsInBlock=t.utils.statementsInBlock,e.endOfLine=t.utils.endOfLine,e.name=t.utils.name,e.segmentStart=t.utils.segmentStart,e.segmentEnd=t.utils.segmentEnd,e.doubleDot=t.utils.doubleDot,e.extend=t.utils.extend,e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),i=r(56);function o(e,t){return n.useMemo((function(){return null==e&&null==t?null:function(r){Object(i.a)(e,r),Object(i.a)(t,r)}}),[e,t])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.validators=t.constants=void 0,t.constants={blockStartCharacter:"{",blockEndCharacter:"}",objectStartCharacter:"{",objectEndCharacter:"}",segmentStartCharacter:"(",segmentEndCharacter:")",arrayStartCharacter:"[",arrayEndCharacter:"]",indexerStartCharacter:"[",indexerEndCharacter:"]",semicolonCharacter:";",colonCharacter:",",dotCharacter:".",parameterSeparatorCharacter:",",labelSeparatorCharacter:":",equalSign:"=",questionMarkSign:"?",doubleDotSign:":",unionSeparatorSign:"|",breakKeyword:"break",continueKeyword:"continue",debuggerKeyword:"debugger",doKeyword:"do",forKeyword:"for",functionKeyword:"function",ifKeyword:"if",elseKeyword:"else",returnKeyword:"return",switchKeyword:"switch",caseKeyword:"case",defaultKeyword:"default",variableKeyword:"var",whileKeyword:"while",ofKeyword:"of",letKeyword:"let",constKeyword:"const",thisKeyword:"this",stageKeyword:"stage",actorKeyword:"actor",refKeyword:"ref",fromKeyword:"from",unexpectedToken:"UNEXPECTED_TOKEN",wrongVariableName:"ILLEGAL_VARIABLE_NAME",wrongFunctionName:"ILLEGAL_FUNCTION_NAME",missingExpression:"MISSING_EXPRESSION",missingExpressionWithParam:"MISSING_EXPRESSION_WITH_PARAM",redeclarationProperty:"REDECLARATION_PROPERTY"};const n={tokenValidator:e=>t=>t.token&&t.token.type===e,lookaheadTokenValidator:e=>t=>{const r=t.lookahead;return r&&r.type===e},keywordValidator:e=>t=>t.token&&"keyword"===t.token.type&&t.token.data===e,identifierValidator:e=>t=>t.token&&"identifier"===t.token.type&&t.token.data===e};t.validators={isComment:n.tokenValidator("comment"),isMacro:n.tokenValidator("macro"),isLiteral:n.tokenValidator("literal"),isKeyword:n.tokenValidator("keyword"),isIdentifier:n.tokenValidator("identifier"),isIdentifierName:n.tokenValidator("identifier"),isDoubleDot:n.tokenValidator(t.constants.doubleDotSign),isUnionSeparator:n.tokenValidator(t.constants.unionSeparatorSign),isBlockStart:n.tokenValidator(t.constants.blockStartCharacter),isBlockEnd:n.tokenValidator(t.constants.blockEndCharacter),isSegmentStart:n.tokenValidator(t.constants.segmentStartCharacter),isSegmentEnd:n.tokenValidator(t.constants.segmentEndCharacter),isArrayStart:n.tokenValidator(t.constants.arrayStartCharacter),isArrayEnd:n.tokenValidator(t.constants.arrayEndCharacter),isObjectStart:n.tokenValidator(t.constants.objectStartCharacter),isObjectEnd:n.tokenValidator(t.constants.objectEndCharacter),isIndexerStart:n.tokenValidator(t.constants.indexerStartCharacter),isIndexerEnd:n.tokenValidator(t.constants.indexerEndCharacter),isSemicolon:n.tokenValidator(t.constants.semicolonCharacter),isColon:n.tokenValidator(t.constants.colonCharacter),isDot:n.tokenValidator(t.constants.dotCharacter),isParameterSeparator:n.tokenValidator(t.constants.parameterSeparatorCharacter),isLabelSeparator:n.tokenValidator(t.constants.labelSeparatorCharacter),isEqualSign:n.tokenValidator(t.constants.equalSign),isQuestionMark:n.tokenValidator(t.constants.questionMarkSign),isBreak:n.keywordValidator(t.constants.breakKeyword),isContinue:n.keywordValidator(t.constants.continueKeyword),isDebugger:n.keywordValidator(t.constants.debuggerKeyword),isDo:n.keywordValidator(t.constants.doKeyword),isFor:n.keywordValidator(t.constants.forKeyword),isFunction:n.keywordValidator(t.constants.functionKeyword),isIf:n.keywordValidator(t.constants.ifKeyword),isElse:n.keywordValidator(t.constants.elseKeyword),isReturn:n.keywordValidator(t.constants.returnKeyword),isSwitch:n.keywordValidator(t.constants.switchKeyword),isCase:n.keywordValidator(t.constants.caseKeyword),isDefault:n.keywordValidator(t.constants.defaultKeyword),isVar:n.keywordValidator(t.constants.variableKeyword),isVariable:n.keywordValidator(t.constants.variableKeyword),isLet:n.keywordValidator(t.constants.letKeyword),isConst:n.keywordValidator(t.constants.constKeyword),isWhile:n.keywordValidator(t.constants.whileKeyword),isOf:n.keywordValidator(t.constants.ofKeyword),isThis:n.keywordValidator(t.constants.thisKeyword),isActor:n.keywordValidator(t.constants.actorKeyword),isStage:n.keywordValidator(t.constants.stageKeyword),isRef:n.keywordValidator(t.constants.refKeyword),isFrom:n.identifierValidator(t.constants.fromKeyword),isLookaheadLabelSeparator:n.lookaheadTokenValidator(t.constants.labelSeparatorCharacter),isCaseOrDefault:e=>t.validators.isCase(e)||t.validators.isDefault(e),extend:e=>(e.isComment=t.validators.isComment,e.isMacro=t.validators.isMacro,e.isLiteral=t.validators.isLiteral,e.isKeyword=t.validators.isKeyword,e.isIdentifier=t.validators.isIdentifier,e.isIdentifierName=t.validators.isIdentifierName,e.isBlockStart=t.validators.isBlockStart,e.isBlockEnd=t.validators.isBlockEnd,e.isSegmentStart=t.validators.isSegmentStart,e.isSegmentEnd=t.validators.isSegmentEnd,e.isArrayStart=t.validators.isArrayStart,e.isArrayEnd=t.validators.isArrayEnd,e.isObjectStart=t.validators.isObjectStart,e.isObjectEnd=t.validators.isObjectEnd,e.isIndexerStart=t.validators.isIndexerStart,e.isIndexerEnd=t.validators.isIndexerEnd,e.isSemicolon=t.validators.isSemicolon,e.isColon=t.validators.isColon,e.isDot=t.validators.isDot,e.isParameterSeparator=t.validators.isParameterSeparator,e.isLabelSeparator=t.validators.isLabelSeparator,e.isEqualSign=t.validators.isEqualSign,e.isQuestionMark=t.validators.isQuestionMark,e.isBreak=t.validators.isBreak,e.isContinue=t.validators.isContinue,e.isDebugger=t.validators.isDebugger,e.isDo=t.validators.isDo,e.isFor=t.validators.isFor,e.isFunction=t.validators.isFunction,e.isIf=t.validators.isIf,e.isElse=t.validators.isElse,e.isReturn=t.validators.isReturn,e.isSwitch=t.validators.isSwitch,e.isCase=t.validators.isCase,e.isDefault=t.validators.isDefault,e.isVar=t.validators.isVar,e.isVariable=t.validators.isVariable,e.isLet=t.validators.isLet,e.isConst=t.validators.isConst,e.isWhile=t.validators.isWhile,e.isOf=t.validators.isOf,e.isThis=t.validators.isThis,e.isStage=t.validators.isStage,e.isFrom=t.validators.isFrom,e.isLookaheadLabelSeparator=t.validators.isLookaheadLabelSeparator,e.isCaseOrDefault=t.validators.isCaseOrDefault,e)},t.utils={typeAnnotation(e){e.next(),e.skipComment();const r=[];let n="",i=!1;for(;;){if(!t.validators.isIdentifier(e)&&!t.validators.isKeyword(e)||i)if(t.validators.isDot(e)&&i)n+=e.token.data,i=!1;else{if(!t.validators.isUnionSeparator(e)||!i){if(i){r.push(n);break}return e.error("MISSING_TYPE_ANNOTATION")}r.push(n),n="",i=!1}else n+=e.token.data,i=!0;e.next(),e.skipComment()}return e.item.options=e.item.options||{},e.item.options.typeAnnotated=!0,1===r.length?e.item.subtype=r[0]:(e.item.subtype="<union>",e.item.options.unionType=r),!0},block:(e,r,n)=>t.validators.isBlockStart(e)?(e.next(),e.openInnerRange(),e.storeItem(),t.utils.statementsInBlock(e,r,n),e.restoreItem(),t.validators.isBlockEnd(e)?(e.next(),void e.closeInnerRange()):e.error("MISSING_BLOCK_END")):e.error(t.constants.unexpectedToken),statementsInBlock(e,r,n){for(e.levelDown(r),n&&e.levelDown(n);e.token&&!t.validators.isBlockEnd(e);)e.processor.token(e);n&&e.levelUp(),e.levelUp()},semicolon(e,r){if(t.validators.isSemicolon(e))e.skipComment(),e.next();else{const n=e.lookBackDelta(2);if(n&&"commentIgnored"===n.type)return!0;if(e.token&&!t.validators.isBlockEnd(e)&&!t.validators.isComment(e)){const n=e.lookback;if(!n||e.token.line===n.line)return r||e.error(t.constants.unexpectedToken),!1}}return!0},semicolonNonTerminal(e,r){if(t.validators.isSemicolon(e))e.skipComment(),e.next();else if(e.token&&!t.validators.isBlockEnd(e)&&!t.validators.isComment(e)){const n=e.lookback;if(!n||e.token.line===n.line)return r||e.error(t.constants.unexpectedToken),!1}return!0},name:e=>!(!e.token||"identifier"!=e.token.type)&&(e.item.name=e.token.data,e.next(),!0),segmentStart:(e,r=!1)=>(e.skipComment(),t.validators.isSegmentStart(e)?(e.next(),e.skipComment(),!0):(r||e.error("MISSING_SEGMENT_START"),!1)),segmentEnd:(e,r=!1)=>(e.skipComment(),t.validators.isSegmentEnd(e)?(e.next(),!0):(r||e.error("MISSING_SEGMENT_END"),!1)),extend:e=>(e.typeAnnotation=t.utils.typeAnnotation,e.block=t.utils.block,e.statementsInBlock=t.utils.statementsInBlock,e.semicolon=t.utils.semicolon,e.semicolonNonTerminal=t.utils.semicolonNonTerminal,e.name=t.utils.name,e.segmentStart=t.utils.segmentStart,e.segmentEnd=t.utils.segmentEnd,e.extend=t.utils.extend,e)}},function(e,t,r){"use strict";t.__esModule=!0,t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.earcut=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=t.isMobile=void 0,t.uid=function(){return++f},t.hex2rgb=function(e,t){return(t=t||[])[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},t.hex2string=function(e){return e=e.toString(16),"#"+(e="000000".substr(0,6-e.length)+e)},t.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},t.getResolutionOfUrl=function(e,t){var r=i.default.RETINA_PREFIX.exec(e);if(r)return parseFloat(r[1]);return void 0!==t?t:1},t.decomposeDataUri=function(e){var t=n.DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]};return},t.getUrlFileExtension=function(e){var t=n.URL_FILE_EXTENSION.exec(e);if(t)return t[1].toLowerCase();return},t.getSvgSize=function(e){var t=n.SVG_SIZE.exec(e),r={};t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7])));return r},t.skipHello=function(){m=!0},t.sayHello=function(e){if(m)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["\n %c %c %c PixiJS "+n.VERSION+" - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+e+" - http://www.pixijs.com/");m=!0},t.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(o){return!1}},t.sign=function(e){return 0===e?0:e<0?-1:1},t.destroyTextureCache=function(){var e=void 0;for(e in g)g[e].destroy();for(e in y)y[e].destroy()},t.clearTextureCache=function(){var e=void 0;for(e in g)delete g[e];for(e in y)delete y[e]},t.correctBlendMode=function(e,t){return v[t?1:0][e]},t.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=e>>16&255,n=e>>8&255,i=255&e;return(255*t<<24)+((r=r*t+.5|0)<<16)+((n=n*t+.5|0)<<8)+(i=i*t+.5|0)},t.premultiplyRgba=function(e,t,r,n){r=r||new Float32Array(4),n||void 0===n?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]);return r[3]=t,r},t.premultiplyTintToRgba=function(e,t,r,n){(r=r||new Float32Array(4))[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(255&e)/255,(n||void 0===n)&&(r[0]*=t,r[1]*=t,r[2]*=t);return r[3]=t,r};var n=r(13),i=h(r(29)),o=h(r(70)),a=h(r(879)),s=d(r(880)),l=d(r(150)),c=h(r(881)),p=h(r(882)),u=h(r(152));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var f=0,m=!1;t.isMobile=l,t.removeItems=c.default,t.EventEmitter=o.default,t.pluginTarget=a.default,t.mixins=s,t.earcut=u.default;var g=t.TextureCache=Object.create(null),y=t.BaseTextureCache=Object.create(null);var v=t.premultiplyBlendMode=(0,p.default)()},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return p})),r.d(t,"d",(function(){return u}));var n=r(341);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),r)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(r))throw new Error(Object(n.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:r,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),"".concat(t,"(").concat(r.join(", "),")")}function s(e,t){var r=l(e),n=l(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function l(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,r=t[0],n=t[1]/100,i=t[2]/100,s=n*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",p=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",p.push(t[3])),a({type:c,values:p})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function p(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return a(e)}function u(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;return a(e)}},,function(e,t){function r(){}e.exports=r,r.appendArray=function(e,t){if(t.length<15e4)e.push.apply(e,t);else for(var r=0,n=t.length;r!==n;++r)e.push(t[r])},r.splice=function(e,t,r){r=r||1;for(var n=t,i=e.length-r;n<i;n++)e[n]=e[n+r];e.length=i},"undefined"!==typeof P2_ARRAY_TYPE?r.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!==typeof Float32Array?r.ARRAY_TYPE=Float32Array:r.ARRAY_TYPE=Array,r.extend=function(e,t){for(var r in t)e[r]=t[r]},r.defaults=function(e,t){for(var r in e=e||{},t)r in e||(e[r]=t[r]);return e}},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(353)},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(877)),i=o(r(878));function o(e){return e&&e.__esModule?e:{default:e}}t.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(145);Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return d(n).default}});var i=r(228);Object.defineProperty(t,"ObservablePoint",{enumerable:!0,get:function(){return d(i).default}});var o=r(146);Object.defineProperty(t,"Matrix",{enumerable:!0,get:function(){return d(o).default}});var a=r(229);Object.defineProperty(t,"GroupD8",{enumerable:!0,get:function(){return d(a).default}});var s=r(867);Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return d(s).default}});var l=r(868);Object.defineProperty(t,"Ellipse",{enumerable:!0,get:function(){return d(l).default}});var c=r(869);Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return d(c).default}});var p=r(147);Object.defineProperty(t,"Rectangle",{enumerable:!0,get:function(){return d(p).default}});var u=r(870);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"RoundedRectangle",{enumerable:!0,get:function(){return d(u).default}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(342),i=(r(0),r(83));function o(){return Object(n.a)()||i.a}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],p=!1,u=-1;function d(){p&&l&&(p=!1,l.length?c=l.concat(c):u=-1,c.length&&h())}function h(){if(!p){var e=s(d);p=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,p=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||p||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){e.exports=r(735)},function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"b",(function(){return C})),r.d(t,"d",(function(){return P})),r.d(t,"c",(function(){return m})),r.d(t,"f",(function(){return g})),r.d(t,"e",(function(){return f}));var n=r(3);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}var a=function(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),l=t&&i(t),c=s||l;if(e&&i(e)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";if(a.length){var p=a[a.length-1];r="."===p||".."===p||""===p}else r=!1;for(var u=0,d=a.length;d>=0;d--){var h=a[d];"."===h?o(a,d):".."===h?(o(a,d),u++):u&&(o(a,d),u--)}if(!c)for(;u--;u)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var f=a.join("/");return r&&"/"!==f.substr(-1)&&(f+="/"),f};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));if("object"===typeof t||"object"===typeof r){var n=s(t),i=s(r);return n!==t||i!==r?e(n,i):Object.keys(Object.assign({},t,r)).every((function(n){return e(t[n],r[n])}))}return!1},c=r(38);function p(e){return"/"===e.charAt(0)?e:"/"+e}function u(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e.pathname,r=e.search,n=e.hash,i=t||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i}function m(e,t,r,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",r="",n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(r=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}(e)).state=t:(void 0===(o=Object(n.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return r&&(o.key=r),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,i){if(null!=e){var o="function"===typeof e?e(t,r):e;"string"===typeof o?"function"===typeof n?n(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var r=!0;function n(){r&&e.apply(void 0,arguments)}return t.push(n),function(){r=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,r)}))}}}var v=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var S="popstate",T="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t=window.history,r=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,u=void 0===l?b:l,g=o.keyLength,E=void 0===g?6:g,x=e.basename?h(p(e.basename)):"";function _(e){var t=e||{},r=t.key,n=t.state,i=window.location,o=i.pathname+i.search+i.hash;return x&&(o=d(o,x)),m(o,n,r)}function k(){return Math.random().toString(36).substr(2,E)}var O=y();function A(e){Object(n.a)(V,e),V.length=t.length,O.notifyListeners(V.location,V.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(_(e.state))}function M(){R(_(w()))}var P=!1;function R(e){if(P)P=!1,A();else{O.confirmTransitionTo(e,"POP",u,(function(t){t?A({action:"POP",location:e}):function(e){var t=V.location,r=B.indexOf(t.key);-1===r&&(r=0);var n=B.indexOf(e.key);-1===n&&(n=0);var i=r-n;i&&(P=!0,L(i))}(e)}))}}var I=_(w()),B=[I.key];function D(e){return x+f(e)}function L(e){t.go(e)}var F=0;function N(e){1===(F+=e)&&1===e?(window.addEventListener(S,C),i&&window.addEventListener(T,M)):0===F&&(window.removeEventListener(S,C),i&&window.removeEventListener(T,M))}var j=!1;var V={length:t.length,action:"POP",location:I,createHref:D,push:function(e,n){var i="PUSH",o=m(e,n,k(),V.location);O.confirmTransitionTo(o,i,u,(function(e){if(e){var n=D(o),a=o.key,l=o.state;if(r)if(t.pushState({key:a,state:l},null,n),s)window.location.href=n;else{var c=B.indexOf(V.location.key),p=B.slice(0,c+1);p.push(o.key),B=p,A({action:i,location:o})}else window.location.href=n}}))},replace:function(e,n){var i="REPLACE",o=m(e,n,k(),V.location);O.confirmTransitionTo(o,i,u,(function(e){if(e){var n=D(o),a=o.key,l=o.state;if(r)if(t.replaceState({key:a,state:l},null,n),s)window.location.replace(n);else{var c=B.indexOf(V.location.key);-1!==c&&(B[c]=o.key),A({action:i,location:o})}else window.location.replace(n)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=O.setPrompt(e);return j||(N(1),j=!0),function(){return j&&(j=!1,N(-1)),t()}},listen:function(e){var t=O.appendListener(e);return N(1),function(){N(-1),t()}}};return V}var x="hashchange",_={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+u(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u,decodePath:p},slash:{encodePath:p,decodePath:p}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(k(window.location.href)+"#"+e)}function C(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t=window.history,r=(window.navigator.userAgent.indexOf("Firefox"),e),i=r.getUserConfirmation,o=void 0===i?b:i,a=r.hashType,s=void 0===a?"slash":a,l=e.basename?h(p(e.basename)):"",u=_[s],g=u.encodePath,S=u.decodePath;function T(){var e=S(O());return l&&(e=d(e,l)),m(e)}var w=y();function E(e){Object(n.a)(V,e),V.length=t.length,w.notifyListeners(V.location,V.action)}var C=!1,M=null;function P(){var e,t,r=O(),n=g(r);if(r!==n)A(n);else{var i=T(),a=V.location;if(!C&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(M===f(i))return;M=null,function(e){if(C)C=!1,E();else{var t="POP";w.confirmTransitionTo(e,t,o,(function(r){r?E({action:t,location:e}):function(e){var t=V.location,r=D.lastIndexOf(f(t));-1===r&&(r=0);var n=D.lastIndexOf(f(e));-1===n&&(n=0);var i=r-n;i&&(C=!0,L(i))}(e)}))}}(i)}}var R=O(),I=g(R);R!==I&&A(I);var B=T(),D=[f(B)];function L(e){t.go(e)}var F=0;function N(e){1===(F+=e)&&1===e?window.addEventListener(x,P):0===F&&window.removeEventListener(x,P)}var j=!1;var V={length:t.length,action:"POP",location:B,createHref:function(e){var t=document.querySelector("base"),r="";return t&&t.getAttribute("href")&&(r=k(window.location.href)),r+"#"+g(l+f(e))},push:function(e,t){var r="PUSH",n=m(e,void 0,void 0,V.location);w.confirmTransitionTo(n,r,o,(function(e){if(e){var t=f(n),i=g(l+t);if(O()!==i){M=t,function(e){window.location.hash=e}(i);var o=D.lastIndexOf(f(V.location)),a=D.slice(0,o+1);a.push(t),D=a,E({action:r,location:n})}else E()}}))},replace:function(e,t){var r="REPLACE",n=m(e,void 0,void 0,V.location);w.confirmTransitionTo(n,r,o,(function(e){if(e){var t=f(n),i=g(l+t);O()!==i&&(M=t,A(i));var o=D.indexOf(f(V.location));-1!==o&&(D[o]=t),E({action:r,location:n})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return j||(N(1),j=!0),function(){return j&&(j=!1,N(-1)),t()}},listen:function(e){var t=w.appendListener(e);return N(1),function(){N(-1),t()}}};return V}function M(e,t,r){return Math.min(Math.max(e,t),r)}function P(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,p=y();function u(e){Object(n.a)(S,e),S.length=S.entries.length,p.notifyListeners(S.location,S.action)}function d(){return Math.random().toString(36).substr(2,c)}var h=M(s,0,o.length-1),g=o.map((function(e){return m(e,void 0,"string"===typeof e?d():e.key||d())})),v=f;function b(e){var t=M(S.index+e,0,S.entries.length-1),n=S.entries[t];p.confirmTransitionTo(n,"POP",r,(function(e){e?u({action:"POP",location:n,index:t}):u()}))}var S={length:g.length,action:"POP",location:g[h],index:h,entries:g,createHref:v,push:function(e,t){var n="PUSH",i=m(e,t,d(),S.location);p.confirmTransitionTo(i,n,r,(function(e){if(e){var t=S.index+1,r=S.entries.slice(0);r.length>t?r.splice(t,r.length-t,i):r.push(i),u({action:n,location:i,index:t,entries:r})}}))},replace:function(e,t){var n="REPLACE",i=m(e,t,d(),S.location);p.confirmTransitionTo(i,n,r,(function(e){e&&(S.entries[S.index]=i,u({action:n,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=S.index+e;return t>=0&&t<S.entries.length},block:function(e){return void 0===e&&(e=!1),p.setPrompt(e)},listen:function(e){return p.appendListener(e)}};return S}},function(e,t,r){"use strict";var n=r(209),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function p(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:p,merge:function e(){var t={};function r(r,n){l(t[n])&&l(r)?t[n]=e(t[n],r):l(r)?t[n]=e({},r):o(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)p(arguments[n],r);return t},extend:function(e,t,r){return p(t,(function(t,i){e[i]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,r){e.exports=o;var n=r(11),i=r(27);r(65);function o(e,t,r,n){this.minForce="undefined"===typeof r?-Number.MAX_VALUE:r,this.maxForce="undefined"===typeof n?Number.MAX_VALUE:n,this.bodyA=e,this.bodyB=t,this.stiffness=o.DEFAULT_STIFFNESS,this.relaxation=o.DEFAULT_RELAXATION,this.G=new i.ARRAY_TYPE(6);for(var a=0;a<6;a++)this.G[a]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}o.prototype.constructor=o,o.DEFAULT_STIFFNESS=1e6,o.DEFAULT_RELAXATION=4,o.prototype.update=function(){var e=this.stiffness,t=this.relaxation,r=this.timeStep;this.a=4/(r*(1+4*t)),this.b=4*t/(1+4*t),this.epsilon=4/(r*r*e*(1+4*t)),this.needsUpdate=!1},o.prototype.gmult=function(e,t,r,n,i){return e[0]*t[0]+e[1]*t[1]+e[2]*r+e[3]*n[0]+e[4]*n[1]+e[5]*i},o.prototype.computeB=function(e,t,r){var n=this.computeGW();return-this.computeGq()*e-n*t-this.computeGiMf()*r};var a=n.create(),s=n.create();o.prototype.computeGq=function(){var e=this.G,t=this.bodyA,r=this.bodyB,n=(t.position,r.position,t.angle),i=r.angle;return this.gmult(e,a,n,s,i)+this.offset},o.prototype.computeGW=function(){var e=this.G,t=this.bodyA,r=this.bodyB,n=t.velocity,i=r.velocity,o=t.angularVelocity,a=r.angularVelocity;return this.gmult(e,n,o,i,a)+this.relativeVelocity},o.prototype.computeGWlambda=function(){var e=this.G,t=this.bodyA,r=this.bodyB,n=t.vlambda,i=r.vlambda,o=t.wlambda,a=r.wlambda;return this.gmult(e,n,o,i,a)};var l=n.create(),c=n.create();o.prototype.computeGiMf=function(){var e=this.bodyA,t=this.bodyB,r=e.force,i=e.angularForce,o=t.force,a=t.angularForce,s=e.invMassSolve,p=t.invMassSolve,u=e.invInertiaSolve,d=t.invInertiaSolve,h=this.G;return n.scale(l,r,s),n.multiply(l,e.massMultiplier,l),n.scale(c,o,p),n.multiply(c,t.massMultiplier,c),this.gmult(h,l,i*u,c,a*d)},o.prototype.computeGiMGt=function(){var e=this.bodyA,t=this.bodyB,r=e.invMassSolve,n=t.invMassSolve,i=e.invInertiaSolve,o=t.invInertiaSolve,a=this.G;return a[0]*a[0]*r*e.massMultiplier[0]+a[1]*a[1]*r*e.massMultiplier[1]+a[2]*a[2]*i+a[3]*a[3]*n*t.massMultiplier[0]+a[4]*a[4]*n*t.massMultiplier[1]+a[5]*a[5]*o};var p=n.create(),u=n.create(),d=n.create();n.create(),n.create(),n.create();o.prototype.addToWlambda=function(e){var t=this.bodyA,r=this.bodyB,i=p,o=u,a=d,s=t.invMassSolve,l=r.invMassSolve,c=t.invInertiaSolve,h=r.invInertiaSolve,f=this.G;o[0]=f[0],o[1]=f[1],a[0]=f[3],a[1]=f[4],n.scale(i,o,s*e),n.multiply(i,i,t.massMultiplier),n.add(t.vlambda,t.vlambda,i),t.wlambda+=c*f[2]*e,n.scale(i,a,l*e),n.multiply(i,i,r.massMultiplier),n.add(r.vlambda,r.vlambda,i),r.wlambda+=h*f[5]*e},o.prototype.computeInvC=function(e){return 1/(this.computeGiMGt()+e)}},function(e,t,r){e.exports=i;var n=r(11);function i(e){e=e||{},this.body=null,this.position=n.fromValues(0,0),e.position&&n.copy(this.position,e.position),this.angle=e.angle||0,this.type=e.type||0,this.id=i.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==e.collisionGroup?e.collisionGroup:1,this.collisionResponse=void 0===e.collisionResponse||e.collisionResponse,this.collisionMask=void 0!==e.collisionMask?e.collisionMask:1,this.material=e.material||null,this.area=0,this.sensor=void 0!==e.sensor&&e.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}i.idCounter=0,i.CIRCLE=1,i.PARTICLE=2,i.PLANE=4,i.CONVEX=8,i.LINE=16,i.BOX=32,Object.defineProperty(i,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),i.BOX}}),i.CAPSULE=64,i.HEIGHTFIELD=128,i.prototype.computeMomentOfInertia=function(e){},i.prototype.updateBoundingRadius=function(){},i.prototype.updateArea=function(){},i.prototype.computeAABB=function(e,t,r){},i.prototype.raycast=function(e,t,r,n){}},function(e,t,r){"use strict";var n="Invariant failed";t.a=function(e,t){if(!e)throw new Error(n)}},function(e,t,r){"use strict";var n=r(203),i=r(736),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"===typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function r(r,n){"object"===typeof t[n]&&"object"===typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,i){e[i]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){var n={createContext:r(871),setVertexAttribArrays:r(230),GLBuffer:r(872),GLFramebuffer:r(873),GLShader:r(874),GLTexture:r(231),VertexArrayObject:r(875),shader:r(876)};e.exports&&(e.exports=n),"undefined"!==typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(e,t,r){"use strict";var n=r(306),i=r(975),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"===typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function r(r,n){"object"===typeof t[n]&&"object"===typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,i){e[i]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){e.exports=r(974)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isActorMethodOrProperty=t.isStageMethodOrProperty=t.removeEscapeChars=t.removeRegexpSpecialChars=t.getPropertyDescriptor=t.normaliseName=t.process=t.canProcess=t.validators=t.validateName=t.constants=void 0;const n=r(4),i="case,catch,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,let,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElemenmarmintt,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan,boolean,string,function,vector,vector3i,vector3d,number,Boolean,String,Function,Vector,Vector3i,Vector3d,Number",o=new RegExp("^(?!(?:do|if|in|for|let|new|try|let|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$"),a=/^([^\[\]]+)(?:\s*\[\s*(["']?)\s*(.*)?\s*\2\s*\])?$/,s=/^[0-9]+$/;let l={enableScope:!0,enableBrackets:!1,allowUpperCase:!0,allowLowerCase:!0,validateChars:!1,invalidLet:!0,actorProps:!0,stageProps:!0,spaceAllowed:!1,typeKeywords:!0,stage:void 0,scope:void 0},c=Object.keys(l),p={isValid:u};function u(e,r){let n,p,u,d,h,g,y;if(r&&"Object"===r.constructor.name)for(y={},p=0,u=c.length;p<u;++p)d=c[p],y[d]=d in r?r[d]:l[d];else y=l;if(y.validateChars&&!t.validators.validateChars(e))return!1;const v=[...t.constants.keywords,...t.constants.nonTerminalKeywords,...t.constants.booleanLiterals,...t.constants.reservedWords,...t.constants.literalKeywords,...i.split(","),...t.constants.operators,...t.constants.stageKeywords];if(!1!==y.typeKeywords&&v.push(...t.constants.typeKeywords),v.includes(e))return!1;if(y.stageProps&&f(e,y.stage))return!1;if(y.actorProps&&m(e,y.scope))return!1;function b(e){return!o.test(e)||!y.allowLowerCase&&e.toLocaleUpperCase()!=e||!y.allowUpperCase&&e.toLocaleLowerCase()!=e}if("string"===typeof e){for(n=y.enableScope?e.split("."):[e],p=0,u=n.length;p<u;++p)if(d=n[p],y.spaceAllowed&&(d=d.replace(/\s/g,"_")),y.enableBrackets){if(h=d.match(a),!h||y.invalidLet&&b(h[1].trim())||!h[2]&&h[3]&&!s.test(g=h[3].trim())&&y.invalidLet&&b(g))return!1}else if(y.invalidLet&&b(d))return!1;return!0}return!1}function d(e){return n.ExecutionManager.Default.bloxMode?e:e.replace(/(\s)|(-)/g,"_")}function h(e,t){if(e)return Object.getOwnPropertyDescriptor(e,t)||h(Object.getPrototypeOf(e),t)}t.constants={stageKeywords:["stage","actor","for","do","of","if","this","else","ref","return","const","let","while","true","false","when","function","part","from","started","clicked","pointerOver","pointerOut","pointerDown","pointerUp","cloned","touched","never","setup","keyPressed","signalReceived","dataReceived","sceneChanged","touchDown","touchMove","touchUp","shown","hidden"],operators:["=",">","<","!","==","<=",">=","!=","&&","||","++","--","+","-","*","/","%","+=","-=","*=","/=","**"],typeKeywords:["costume","backdrop","parallax","tilemap","scene","sound","default","use","number","string","array","bool","boolean","monitor"],keywords:["when","actor","stage","this","asm","do","else","for","function","if","of","return","continue","break","var","while","let","ref","use","part"],codeSequenceKeywords:["when","function","part"],nonTerminalKeywords:["continue","break","return"],literalKeywords:["false","null","true","undefined"],booleanLiterals:["false","true"],reservedWords:["abstract","byte","double","enum","export","extends","final","float","goto","implements","import","int","interface","long","native","package","short","super","synchronized","throws","transient","volatile","with","case","catch","finally","in","instanceof","new","switch","typeof","void","debugger","const"],startCharacters:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xc1\xc9\xcd\xd3\xda\xdd\xe1\xe9\xed\xf3\xfa\xfd\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc3\xd1\xd5\xe3\xf1\xf5\xc4\xcb\xcf\xd6\xdc\xe4\xeb\xef\xf6\xfc\xe7\xc7\xdf\xd8\xf8\xc5\xe5\xc6\xe6\xde\xfe\xd0\xf0\u0151\u0171\u0150\u0170\u016f\xfd\u017e\u010d\u010f\u011b\u0148\u0159\u0161\u0165\u0104\u0141\u013d\u013f\u015a\u0160\u015e\u0164\u0179\u017d\u017b\u0105\u0142\u013e\u0140\u015b\u0161\u015f\u0165\u017a\u017e\u017c\u0154\u0102\u0106\u0139\xc7\u010c\u0118\u011a\xce\u010e\u0143\u0147\xd4\u0158\u016e\xdd\u0162\u0155\u0103\u0110\u0107\xe7\u010d\u0119\xee\u010f\u0111\u0144\u0148\u0159\u016f\xfd\u0163\u011b\u0218\u021a\u0219\u021b\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u0458\u0452\u0459\u045a\u045b\u045f\u0408\u0402\u0409\u040a\u040b\u040f\u04e9\u04af\u04e8\u04ae\u1ee4\u1eea\u1eec\u1eee\u1ee8\u1ef0\u1ef2\u1ef6\u1ef8\u1ef4\u1ea2\u1ea0\u1eb6\u1eac\u1eba\u1ebc\u1eb8\u1ec6\u1ec8\u0128\u1eca\u1ece\u1ecc\u1ed8\u1edc\u1ede\u1ee0\u1eda\u1ee2\u1ee6\u0168\u01a0\u01af\u01a1\u01b0\u1eb0\u1ea3\u1ea1\u1eb2\u1eb1\u1eb3\u1eb5\u1eaf\u1eb4\u1eae\u1ea6\u1ea8\u1eaa\u1ea4\u1ec0\u1eb7\u1ea7\u1ea9\u1eab\u1ea5\u1ead\u1ec2\u1ebb\u1ebd\u1eb9\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7\u1ec9\u1ec4\u1ebe\u1ed2\u0129\u1ecb\u1ed4\u1ecf\u1ecd\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u1edd\u1edf\u1ee1\u1edb\u1ee3\u1ed6\u1ee7\u0169\u1ee5\u1eeb\u1eed\u1eef\u1ee9\u1ef1\u1ef3\u1ef7\u1ef9\u1ef5\u1ed0I\u0131\u0130\u011e\u011f",partCharacters:"_\u203f\u2040\u2054\ufe33\ufe34\ufe4d\ufe4e\ufe4f\uff3f\u200c\u200d",digits:"0123456789",lineTerminators:"\n\r\u2028\u2029",attributeMarker:"@",dotCharacter:".",globalsIcon:"\u25cd",globalsIconWithSpace:"toBeOverwrittenBelow"},t.constants.globalsIconWithSpace=" "+t.constants.globalsIcon,Object.defineProperties(p,{enableScope:{enumerable:!0,configurable:!1,get:function(){return l.enableScope},set:function(e){l.enableScope=e}},enableBrackets:{enumerable:!0,configurable:!1,get:function(){return l.enableBrackets},set:function(e){l.enableBrackets=e}},allowUpperCase:{enumerable:!0,configurable:!1,get:function(){return l.allowUpperCase},set:function(e){l.allowUpperCase=e}},allowLowerCase:{enumerable:!0,configurable:!1,get:function(){return l.allowLowerCase},set:function(e){l.allowLowerCase=e}}}),t.validateName=u,t.constants.partCharacters=t.constants.startCharacters+t.constants.digits+t.constants.partCharacters,t.validators={isStart:e=>-1!==t.constants.startCharacters.indexOf(e),isPart:e=>-1!==t.constants.partCharacters.indexOf(e),isKeyword:e=>-1!==t.constants.keywords.indexOf(e),isStageKeyword:e=>-1!==t.constants.stageKeywords.indexOf(e),isTypeKeyword:e=>-1!==t.constants.typeKeywords.indexOf(e),isNonTerminalKeyword:e=>-1!==t.constants.nonTerminalKeywords.indexOf(e),isLiteralKeyword:e=>-1!==t.constants.literalKeywords.indexOf(e),isReservedWord:e=>-1!==t.constants.reservedWords.indexOf(e),isBoolean:e=>-1!==t.constants.booleanLiterals.indexOf(e),validateChars(e){for(const r of e)if(!t.validators.isPart(r))return!1;return!0},validateCharsWithSpace(e){for(const r of e)if(" "!==r&&!t.validators.isPart(r))return!1;return!0},isInvalidNumber:e=>"string"===typeof e?!e.match(/^\s*-?\d+(\.\d+)?\s*$/):void 0==e||null==e||!("number"===typeof e&&!Number.isNaN(e))},t.canProcess=function(e){return t.validators.isStart(e.char)||e.char==t.constants.attributeMarker},t.process=function(e){let r=!1;e.char==t.constants.attributeMarker&&(r=!0,e.skip(),e.next());do{e.add(),e.next()}while(e.char&&t.validators.isPart(e.char));if(r)e.token("attribute"),e.nonTerminalMode();else if(t.validators.isKeyword(e.tokenValue)){const r=e.tokenValue;e.token("keyword"),t.validators.isNonTerminalKeyword(r)&&e.nonTerminalMode()}else t.validators.isLiteralKeyword(e.tokenValue)?t.validators.isBoolean(e.tokenValue)?e.token("literal","boolean"):e.token("literal",e.tokenValue):t.validators.isReservedWord(e.tokenValue)?e.error("RESERVED_WORD",e.tokenValue):e.token("identifier")},t.normaliseName=d,t.getPropertyDescriptor=h;function f(e,t){const r=d(e);if(void 0!==h(t||n.ScoolcodeStage.Default?t||n.ScoolcodeStage.Default:n.ScoolcodeStage.prototype,r))return!0;if(!t){for(const e of n.ScoolcodeStage.Type.properties)if(e.name===r)return!0;for(const e of n.ScoolcodeStage.Type.methods)if(e.name===r)return!0}return!(!t||void 0===t[e])}function m(e,t){const r=d(e);let i=n.ScoolcodeActor.Default?n.ScoolcodeActor.Default:n.ScoolcodeActor.prototype;if(t&&"ScoolcodeActor"===t.constructor.name&&(i=t),void 0!==h(i,r))return!0;for(const o of n.ScoolcodeActor.Type.properties)if(o.name===r)return!0;for(const o of n.ScoolcodeActor.Type.methods)if(o.name===r)return!0;return!1}t.removeRegexpSpecialChars=e=>{if(e){let t="";for(const r of e)"?*\\()+[]{}$^".includes(r)||(t+=r);return t}return null},t.removeEscapeChars=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charAt(r),i=r<e.length-1?e.charAt(r+1):null;("\\"!==n||'"'!==i&&"'"!==i)&&(t+=n)}return t},t.isStageMethodOrProperty=f,t.isActorMethodOrProperty=m},function(e,t,r){"use strict";var n=r(97),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,p=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(f){var i=h(r);i&&i!==f&&e(t,i,n)}var a=p(r);u&&(a=a.concat(u(r)));for(var s=l(t),m=l(r),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!n||!n[y])&&(!m||!m[y])&&(!s||!s[y])){var v=d(r,y);try{c(t,y,v)}catch(b){}}}}return t}},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n=function(e){return e.scrollTop};function i(e,t){var r=e.timeout,n=e.style,i=void 0===n?{}:n;return{duration:i.transitionDuration||"number"===typeof r?r:r[t.mode]||0,delay:i.transitionDelay}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return a}));var n=r(3),i=r(6),o=["xs","sm","md","lg","xl"];function a(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,a=e.unit,s=void 0===a?"px":a,l=e.step,c=void 0===l?5:l,p=Object(i.a)(e,["values","unit","step"]);function u(e){var t="number"===typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var n=o.indexOf(t);return n===o.length-1?u(e):"@media (min-width:".concat("number"===typeof r[e]?r[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==n&&"number"===typeof r[o[n+1]]?r[o[n+1]]:t)-c/100).concat(s,")")}return Object(n.a)({keys:o,values:r,up:u,down:function(e){var t=o.indexOf(e)+1,n=r[o[t]];return t===o.length?u("xs"):"@media (max-width:".concat(("number"===typeof n&&t>0?n:e)-c/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return r[e]}},p)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=a+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(32))},function(e,t,r){"use strict";e.exports=r(360)},function(e,t,r){"use strict";function n(e){var t=Object.entries(e).filter((function(e){var t=e[1];return void 0!==t&&null!==t})).map((function(e){var t=e[0],r=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(String(r))}));return t.length>0?"?"+t.join("&"):""}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),i=r.n(n),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function s(e){var t=function(t){var r=t.bgStyle,n=t.borderRadius,s=t.iconFillColor,l=t.round,c=t.size,p=a(t,["bgStyle","borderRadius","iconFillColor","round","size"]);return i.a.createElement("svg",o({viewBox:"0 0 64 64",width:c,height:c},p),l?i.a.createElement("circle",{cx:"32",cy:"32",r:"31",fill:e.color,style:r}):i.a.createElement("rect",{width:"64",height:"64",rx:n,ry:n,fill:e.color,style:r}),i.a.createElement("path",{d:e.path,fill:s}))};return t.defaultProps={bgStyle:{},borderRadius:0,iconFillColor:"white",size:64},t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(98);var i=r(325),o=r(124);function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(323);var i=r(124),o=r(324);function a(e,t){return Object(n.a)(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}},function(e,t,r){"use strict";var n=r(0),i=r.n(n),o=r(336),a=r.n(o),s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(t){o(t)}}function s(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},p=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},d=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},h=function(e,t){return{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}},f=function(e,t){return{top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}};function m(e,t,r){var n=t.height,i=t.width,o=u(t,["height","width"]),a=l({height:n,width:i,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),s=window.open(e,"",Object.keys(a).map((function(e){return e+"="+a[e]})).join(", "));if(r)var c=window.setInterval((function(){try{(null===s||s.closed)&&(window.clearInterval(c),r(s))}catch(e){console.error(e)}}),1e3);return s}var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openShareDialog=function(e){var r=t.props,n=r.onShareWindowClose,i=r.windowHeight,o=void 0===i?400:i,a=r.windowPosition,s=void 0===a?"windowCenter":a,c=r.windowWidth,p=void 0===c?550:c;m(e,l({height:o,width:p},"windowCenter"===s?h(p,o):f(p,o)),n)},t.handleClick=function(e){return c(t,void 0,void 0,(function(){var t,r,n,i,o,a,s,l,c,u;return p(this,(function(p){switch(p.label){case 0:return t=this.props,r=t.beforeOnClick,n=t.disabled,i=t.networkLink,o=t.onClick,a=t.url,s=t.openShareDialogOnClick,l=t.opts,c=i(a,l),n?[2]:(e.preventDefault(),r?(u=r(),d(u)?[4,u]:[3,2]):[3,2]);case 1:p.sent(),p.label=2;case 2:return s&&this.openShareDialog(c),o&&o(e,c),[2]}}))}))},t}return s(t,e),t.prototype.render=function(){var e=this.props,t=(e.beforeOnClick,e.children),r=e.className,n=e.disabled,o=e.disabledStyle,s=e.forwardedRef,c=(e.networkLink,e.networkName),p=(e.onShareWindowClose,e.openShareDialogOnClick,e.opts,e.resetButtonStyle),d=e.style,h=(e.url,e.windowHeight,e.windowPosition,e.windowWidth,u(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","networkLink","networkName","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"])),f=a()("react-share__ShareButton",{"react-share__ShareButton--disabled":!!n,disabled:!!n},r),m=l(l(p?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},d),n&&o);return i.a.createElement("button",l({},h,{"aria-label":h["aria-label"]||c,className:f,onClick:this.handleClick,ref:s,style:m}),t)},t.defaultProps={disabledStyle:{opacity:.6},openShareDialogOnClick:!0,resetButtonStyle:!0},t}(n.Component),y=function(){return(y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.a=function(e,t,r,o){function a(n,a){var s=r(n),l=y({},n);return Object.keys(s).forEach((function(e){delete l[e]})),i.a.createElement(g,y({},o,l,{forwardedRef:a,networkName:e,networkLink:t,opts:r(n)}))}return a.displayName="ShareButton-"+e,Object(n.forwardRef)(a)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r(6),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,s=void 0===r?o.standard:r,l=t.easing,c=void 0===l?i.easeInOut:l,p=t.delay,u=void 0===p?0:p;Object(n.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(c," ").concat("string"===typeof u?u:a(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,r){"use strict";function n(e,t){"function"===typeof e?e(t):e&&(e.current=t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(e){function t(t){var r=e.call(this,t)||this;return r.name="AssertionError",r}return n(t,e),t}(Error);function o(e,t){if(!e)throw new i(t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),i="undefined"!==typeof window?n.useLayoutEffect:n.useEffect;function o(e){var t=n.useRef(e);return i((function(){t.current=e})),n.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeActor=t.ScoolcodeActorEvents=t.ScoolcodeActorInfo=t.ActorAsAnyInfo=void 0;const i=r(2),o=n(r(134)),a=r(104),s=Math.PI/180,l=180/Math.PI,c=r(135),p=(e,t,r)=>{const n=new i.ReadPropertyAction(e.getProperty(t));return e instanceof i.ScoolcodeStageInfo&&(n.instance=r.stage),n};class u extends i.ScoolcodeObjectInfoBase{constructor(){super("any",null,i.AnyType),this.options={validateMembers:"none"}}}t.ActorAsAnyInfo=u,u.Type=new u;class d extends i.ScoolcodeObjectInfoBase{constructor(e="ScoolcodeActor",t,r){super(e,t||i.ScoolcodeObjectBase.Type,r||d.DefaultImplementation),this.thisType=m.Type,i.ActorsInfoBase.ValueType=this.thisType,this.setName(e),this.localeName="ScoolcodeActor",this.OnStarted=this.declareEvent("started").declareBlock("\u25b6 When Started"),this.OnClick=this.declareEvent("clicked").declareBlock("When This Actor Clicked"),this.OnOver=this.declareEvent("pointerOver").declareBlock("When Pointer Enters This Actor"),this.OnOut=this.declareEvent("pointerOut").declareBlock("When Pointer Leaves This Actor"),this.OnDown=this.declareEvent("pointerDown").declareBlock("When Pointer Pressed on This Actor"),this.OnUp=this.declareEvent("pointerUp").declareBlock("When Pointer Released"),this.OnCloned=this.declareEvent("cloned").declareBlock("When Cloned"),this.OnTouching=this.declareEvent("touched").declareDataParameterAt(0).declareBlock("When Touched"),this.declareReadOnlyProperty("name",i.ValueType.String).declareColorForBlocks(i.BlockColor.Sensing),this.declareProperty("heading",i.ValueType.Angle).declareDefaults((()=>new i.NumericLiteralAction("degrees"===i.HeadingInfo.Unit?90:15))).declareNameForBlocks("direction",i.BlockColor.Motion),this.declareProperty("rotationAngle",i.ValueType.Angle).declareDefaults((()=>new i.NumericLiteralAction("degrees"===i.HeadingInfo.Unit?90:15))).declareNameForBlocks("rotationAngle",i.BlockColor.Motion),this.declareProperty("size",i.ValueType.Number).declareDefaults(100,10).declareNameForBlocks("size",i.BlockColor.Looks,"%"),this.declareProperty("tint",i.ValueType.Number).declareDefaults(100,10).declareNameForBlocks("tint",i.BlockColor.Looks,"%"),this.declareProperty("tintHue",i.ValueType.Number).declareDefaults(100,10).declareNameForBlocks("tint hue",i.BlockColor.Looks),this.declareProperty("tintShade",i.ValueType.Number).declareDefaults(50,10).declareNameForBlocks("tint shade",i.BlockColor.Looks),this.declareMethod("setCssTint").declareParameter("value",i.UnionTypeInfo.for(i.ValueType.Color,i.ValueType.Number,i.ValueType.String),"#0000FF",!1,!0).declareBlock("set tint to {value}",i.BlockColor.Looks),this.declareMethod("setRgbTint").declareParameter("r",i.ValueType.Number,0).declareParameter("g",i.ValueType.Number,0).declareParameter("b",i.ValueType.Number,255).declareBlock("set tint to R:{r} G:{g} B:{b}",i.BlockColor.Looks),this.declareMethod("resetTint").declareBlock("reset tint",i.BlockColor.Looks),this.declareProperty("x",i.ValueType.Number).declareDefaults(0,10).declareBlock(i.CoordinatesBlockInstance,i.BlockColor.Motion),this.declareProperty("y",i.ValueType.Number).declareDefaults(0,10).declareBlock(i.CoordinatesBlockInstance,i.BlockColor.Motion),this.declareProperty("relativeX",i.ValueType.Number).declareDefaults(0,10).declareBlock(i.CoordinatesRelativeBlockInstance,i.BlockColor.Motion),this.declareProperty("relativeY",i.ValueType.Number).declareDefaults(0,10).declareBlock(i.CoordinatesRelativeBlockInstance,i.BlockColor.Motion),this.declareProperty("horizontalPosition",i.ValueType.Number).declareDefaults(0,10).declareBlock(i.CoordinatesSimpleBlockInstance,i.BlockColor.Motion).markAsPrivate(),this.declareProperty("verticalPosition",i.ValueType.Number).declareDefaults(0,10).declareBlock(i.CoordinatesSimpleBlockInstance,i.BlockColor.Motion).markAsPrivate(),this.declareProperty("anchor",i.AnchorInfo.Type).declareDefaults(i.AnchorInfo.Instance.stage).declareNameForBlocks("anchor",i.BlockColor.Motion),this.declareReadOnlyProperty("cloneId",i.ValueType.Number).declareNameForBlocks("clone #",i.BlockColor.Control),this.declareReadOnlyProperty("isClone",i.ValueType.Boolean).declareNameForBlocks("is clone?",i.BlockColor.Control),this.declareReadOnlyProperty("cloneCount",i.ValueType.Number).declareNameForBlocks("clone count",i.BlockColor.Control),this.declareReadOnlyProperty("clones",i.ValueType.Array).declareColorForBlocks(i.BlockColor.Control),this.declareMethod("getActorByName",i.ValueType.Any).declareParameter("name",i.ValueType.String).declareBlock("get actor {name}",i.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareReadOnlyProperty("physics",i.PhysicsBodyInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("bubble",i.ScoolcodeBubbleInfo.Type).markAsBlockRoot(),this.declareMethod("say").declareRepeatableParameter("message",i.ValueType.Any,(()=>new i.StringLiteralAction(i.LocalisationService.Default.getValue("Hello World!"))),!1,!1).declareBlock(i.BubbleBlockInstance,i.BlockColor.Looks),this.declareMethod("think").declareRepeatableParameter("message",i.ValueType.Any,(()=>new i.StringLiteralAction(i.LocalisationService.Default.getValue("Hmm..."))),!1,!1).declareBlock(i.BubbleBlockInstance,i.BlockColor.Looks),this.declareMethod("move",i.ValueType.Number).declareParameter("amount",i.ValueType.Number,10).declareBlock("move {amount} steps",i.BlockColor.Motion),this.declareMethod("turnLeft",i.ValueType.Number).declareParameter("amount",i.ValueType.Number,15).declareBlock(i.TurnBlockInstance,i.BlockColor.Motion),this.declareMethod("turnRight",i.ValueType.Number).declareParameter("amount",i.ValueType.Number,15).declareBlock(i.TurnBlockInstance,i.BlockColor.Motion),this.declareMethod("turnMinutesRight",i.ValueType.Number).declareParameter("amount",i.ValueType.Number,15).declareBlock(i.TurnBlockInstance,i.BlockColor.Motion).markAsPrivate(),this.declareMethod("turnMinutesLeft",i.ValueType.Number).declareParameter("amount",i.ValueType.Number,15).declareBlock(i.TurnBlockInstance,i.BlockColor.Motion).markAsPrivate(),this.declareMethod("getClone",this).declareParameter("cloneId",i.ValueType.Number,1).declareBlock("clone {cloneId}",i.BlockColor.Control,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareAsyncMethod("deleteClone",i.ValueType.Number).declareOptionalParameter("target",m.Type).declareBlock(i.DeleteCloneBlockInstance),this.declareMethod("bounceOffEdge",i.ValueType.Boolean).declareBlock("if on edge, bounce",i.BlockColor.Motion),this.declareMethod("directionTo",i.ValueType.Number).declareParameter("actor",i.UnionTypeInfo.for(i.PositionTargetsInfo.DirectionType,i.ValueType.Any),(e=>new i.InfoItemWrapperAction(new i.ExecuteAsAction(p(i.ScoolcodeStage.Type,"Pointer",e),new i.ReadPropertyAction(i.PointerInfo.Type.getProperty("position")))))).declareOptionalParameter("yOrNothing",i.ValueType.Number).declareBlock("direction to {actor}",i.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareProperty("costume",i.ScoolcodeTexture.Type).declareColorForBlocks(i.BlockColor.Looks),this.declareMethod("isCostumeSelected",i.ValueType.Boolean).declareParameter("costume",i.UnionTypeInfo.for(i.CostumesInfo.Type,i.ValueType.Number,i.ValueType.String),(e=>e.costumeProperty)).declareBlock("is {costume} selected?",i.BlockColor.Looks,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("nextCostume").declareBlock("next costume",i.BlockColor.Looks),this.declareMethod("previousCostume").declareBlock("previous costume",i.BlockColor.Looks),this.declareMethod("pointTowards",i.ValueType.Number).declareParameter("actor",i.UnionTypeInfo.for(i.PositionTargetsInfo.DirectionType,i.ValueType.Any),(e=>new i.InfoItemWrapperAction(new i.ExecuteAsAction(p(i.ScoolcodeStage.Type,"Pointer",e),new i.ReadPropertyAction(i.PointerInfo.Type.getProperty("position")))))).declareBlock("point towards {actor}",i.BlockColor.Motion),this.declareMethod("pointTowardsPosition",i.ValueType.Number).declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("point towards X: {x} Y: {y}",i.BlockColor.Motion),this.declareMethod("pointTowardsRelativePosition",i.ValueType.Number).declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("point towards X: {x} Y: {y} in camera space",i.BlockColor.Motion),this.declareMethod("setPosition").declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("go to X: {x} Y: {y}",i.BlockColor.Motion),this.declareMethod("setRelativePosition").declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("go to X: {x} Y: {y} in camera space",i.BlockColor.Motion),this.declareMethod("setHorizontalVerticalPosition").declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("go to horizontal: {x} vertical: {y}",i.BlockColor.Motion).markAsPrivate(),this.declareMethod("goTo").declareParameter("target",i.UnionTypeInfo.for(i.PositionTargetsInfo.PositionType,i.ValueType.Any),(e=>new i.InfoItemWrapperAction(new i.ExecuteAsAction(p(i.ScoolcodeStage.Type,"Pointer",e),new i.ReadPropertyAction(i.PointerInfo.Type.getProperty("position")))))).declareOptionalParameter("yOrNothing",i.ValueType.Number).declareBlock("go to {target}",i.BlockColor.Motion),this.declareMethod("setCostume").declareParameter("costume",i.UnionTypeInfo.for(i.CostumesInfo.Type,i.ValueType.String,i.ValueType.Number),(e=>e.costumeProperty)).declareBlock("switch costume to {costume}",i.BlockColor.Looks),this.declareMethod("stopSound").declareOptionalParameter("id",i.ValueType.Number).declareBlock("stop {id}",i.BlockColor.Sound),this.declareMethod("playSound",i.ValueType.Number).declareParameter("sound",i.UnionTypeInfo.for(i.SoundsInfo.Type,i.ValueType.Number,i.ValueType.String),(e=>e.soundProperty)).declareBlock("play {sound}",i.BlockColor.Sound),this.declareAsyncMethod("playSoundAndWait").declareParameter("sound",i.UnionTypeInfo.for(i.SoundsInfo.Type,i.ValueType.Number,i.ValueType.String),(e=>e.soundProperty)).declareBlock("play {sound} and wait",i.BlockColor.Sound),this.declareReadOnlyProperty("costumeName",i.ValueType.String).declareNameForBlocks("costume name",i.BlockColor.Looks),this.declareReadOnlyProperty("costumeId",i.ValueType.Number).declareNameForBlocks("costume #",i.BlockColor.Looks),this.declareProperty("costumeWidth",i.ValueType.Number).declareNameForBlocks("costume width",i.BlockColor.Looks),this.declareProperty("costumeHeight",i.ValueType.Number).declareNameForBlocks("costume height",i.BlockColor.Looks),this.declareMethod("show").declareBlock("show",i.BlockColor.Looks),this.declareMethod("hide").declareBlock("hide",i.BlockColor.Looks),this.declareReadOnlyProperty("isShown",i.ValueType.Boolean).declareNameForBlocks("is shown ?",i.BlockColor.Looks),this.declareMethod("distanceTo",i.ValueType.Number).declareParameter("target",i.UnionTypeInfo.for(i.PositionTargetsInfo.PositionType,i.ValueType.Any),(e=>new i.InfoItemWrapperAction(new i.ExecuteAsAction(p(i.ScoolcodeStage.Type,"Pointer",e),new i.ReadPropertyAction(i.PointerInfo.Type.getProperty("position")))))).declareOptionalParameter("yOrNothing",i.ValueType.Number).declareBlock("distance to {target}",i.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareReadOnlyProperty("pen",i.ScoolcodePen.Type).declareColorForBlocks(i.BlockColor.Pen).markAsBlockRoot(),this.declareMethod("stampCostume").declareBlock("stamp costume",i.BlockColor.Pen),this.declareProperty("rotationStyle",i.RotationStyleInfo.Type).declareDefaults(i.RotationStyleInfo.Instance.leftRight).declareColorForBlocks(i.BlockColor.Motion),this.declareMethod("isPointerOver",i.ValueType.Boolean).declareBlock("pointer over?",i.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("touching",i.ValueType.Boolean).declareParameter("target",i.UnionTypeInfo.for(i.TouchTargetsInfo.Type,i.ValueType.String,i.ValueType.Any),(e=>new i.InfoItemWrapperAction(new i.ExecuteAsAction(p(i.ScoolcodeStage.Type,"Edge",e),new i.ReadPropertyAction(i.EdgeInfo.Type.getProperty("any")))))).declareBlock("touching {target}?",i.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("touchingActorOrClone",i.ValueType.Boolean).declareParameter("target",i.UnionTypeInfo.for(i.ActorsExceptSelfInfo.Type,i.ValueType.String,i.ValueType.Any),(e=>e.otherActorProperty)).declareBlock("touching {target} or it's clone?",i.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareAsyncMethod("glideSecondsTo").declareParameter("seconds",i.ValueType.Number,1).declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("glide {seconds} seconds to X: {x} Y: {y}",i.BlockColor.Motion),this.declareAsyncMethod("glideSecondsToHorizontalVertical").declareParameter("seconds",i.ValueType.Number,1).declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("glide {seconds} seconds to horizontal: {x} vertical: {y}",i.BlockColor.Motion).markAsPrivate(),this.declareAsyncMethod("glideSecondsToRelative").declareParameter("seconds",i.ValueType.Number,1).declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("glide {seconds} seconds to relative X: {x} Y: {y}",i.BlockColor.Motion),this.declareAsyncMethod("glideSecondsToRelativeHorizontalVertical").declareParameter("seconds",i.ValueType.Number,1).declareParameter("x",i.ValueType.Number,0).declareParameter("y",i.ValueType.Number,0).declareBlock("glide {seconds} seconds to relative horizontal: {x} vertical: {y}",i.BlockColor.Motion).markAsPrivate(),this.declareProperty("opacity",i.ValueType.Number).declareDefaults(100,10).declareNameForBlocks("opacity",i.BlockColor.Looks,"%"),this.declareMethod("goToBack").declareBlock("go to back",i.BlockColor.Looks),this.declareMethod("goToFront").declareBlock("go to front",i.BlockColor.Looks),this.declareMethod("goAfter").declareParameter("target",i.ActorsExceptSelfInfo.Type,(e=>e.otherActorProperty)).declareBlock("go after {target}",i.BlockColor.Looks),this.declareMethod("goBefore").declareParameter("target",i.ActorsExceptSelfInfo.Type,(e=>e.otherActorProperty)).declareBlock("go before {target}",i.BlockColor.Looks),this.declareMethod("goBackwardBy").declareParameter("amount",i.ValueType.Number,1).declareBlock("go backward by {amount} layers",i.BlockColor.Looks),this.declareMethod("goForwardBy").declareParameter("amount",i.ValueType.Number,1).declareBlock("go forward by {amount} layers",i.BlockColor.Looks),this.declareMethod("resetSize").declareBlock("reset size",i.BlockColor.Looks).markAsPrivate(),this.declareAsyncMethod("sayForSeconds").declareParameter("message",i.ValueType.Any,(()=>new i.StringLiteralAction(i.LocalisationService.Default.getValue("Hello World!")))).declareParameter("secs",i.ValueType.Number,2).declareBlock(i.BubbleForSecsBlockInstance,i.BlockColor.Looks),this.declareAsyncMethod("thinkForSeconds").declareParameter("message",i.ValueType.Any,(()=>new i.StringLiteralAction(i.LocalisationService.Default.getValue("Hmm...")))).declareParameter("secs",i.ValueType.Number,2).declareBlock(i.BubbleForSecsBlockInstance,i.BlockColor.Looks),this.declareAsyncMethod("wait").declareParameter("amount",i.ValueType.Numeric).declareBlock("wait {amount} seconds",i.BlockColor.Control),this.declareAsyncMethod("deleteAllClones").declareOptionalParameter("target",m.Type).declareBlock("delete all clones",i.BlockColor.Control);const n=[{name:"edit",icon:"/media/button-edit.svg",callback:(e,t)=>i.SpriteManager.Default.editConversation(e,t)},{name:"refresh",icon:"/media/button-refresh.svg",callback:(e,t)=>{e.stopPropagation(),console.log("refresh click"),i.SpriteManager.Default.updateConversations(!0)}},{name:"create",icon:"/media/button-add.svg",callback:(e,t)=>{e.stopPropagation(),i.SpriteManager.Default.ConversationProvider.createNew()}}];this.declareAsyncMethod("startConversation",i.ValueType.String).declareParameter("conversation",i.ConversationsInfo.Type,"").declareBlock("start conversation: {conversation} and wait",i.BlockColor.Sensing,{embeddable:!1,hasBottomConnector:!0,hasTopConnector:!0,buttons:n}).markAsPrivate(),this.declareAsyncMethod("startConversationAsValue",i.ValueType.String).declareParameter("conversation",i.ConversationsInfo.Type,"").declareBlock("start conversation: {conversation} and wait",i.BlockColor.Sensing,{embeddable:!0,hasBottomConnector:!1,hasTopConnector:!1,buttons:n}).markAsPrivate(),this.declareMethod("ask",i.ValueType.Numeric).declareParameter("question",i.ValueType.String,(()=>new i.StringLiteralAction(i.LocalisationService.Default.getValue("What's your name?")))).declareBlock("ask {question} and wait",i.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("askToAnswer",i.ValueType.Numeric).declareParameter("question",i.ValueType.String,(()=>new i.StringLiteralAction(i.LocalisationService.Default.getValue("What's your name?")))).declareBlock("ask {question} and wait",i.BlockColor.Sensing).markAsPrivate()}setDeclaringName(e){this.setName(e)}addTexture(e,t){const r=!!e.costume;this.declareUserAsset(t.name,t.getType()),e.textures.push(e[t.name]=t),r||i.SpriteManager.Default.addAsset(e,t)}addSound(e,t){this.declareUserAsset(t.name,i.ScoolcodeSound.Type),e.sounds.push(e[t.name]=t),i.SpriteManager.Default.addAsset(e,t)}addUserField(e,t,r,n,o=null,a=!1,s=!1){const l=this.declareUserField(t,n,a,s);e[t]=0,e[t+".action"]=new i.DefineGlobalVariableAction(l,r,a),e[t+".action"].position=o}declareRecord(e){const t=this.getMethod(e.name);if(t)return t.returnType;const r=this.declareMethod(e.name,e);for(let n of e.fields)r.declareParameter(n.name,i.ValueType.Any);return r.internal=!1,r}declarePart(e,t,r,n){var o;const a=null===(o=i.TypeRegistry.resolve("ScoolcodeActorPart"))||void 0===o?void 0:o.construct(e,t,r);return a.getType().declareMixinsFromBase(n||this),this.declareReadOnlyProperty(t,a.getType()).markAsBlockRoot(),e.parts.push(a),e[t]=a,a}addPart(e,t){return this.properties.find((e=>e.name===t.name))||(this.declareReadOnlyProperty(t.name,t.getType()).markAsBlockRoot(),e.parts.find((e=>e.name==t.name))||(e.parts.push(t),e[t.name]=t)),t}removePart(e,t){const r=e.parts.indexOf(t);if(r>-1){const n=this.properties.find((e=>e.name===t.name));n&&(this.deleteProperty(n),e.parts.splice(r,1),delete e[t.name])}}addComment(e,t){const r=this.declareComment();t.setName(r.name),e[r.name]=t}removeComment(e,t){delete e[t.name],this.deleteComment(t.name)}renameTextureAt(e,t,r){const n=e.textures[t];this.renameAsset(e,n,r)}renameSoundAt(e,t,r){const n=e.sounds[t];this.renameAsset(e,n,r)}renameAsset(e,t,r){this.deleteUserAsset(t.name),delete e[t.name],t.name=r,this.declareUserAsset(t.name,t.getType()),e[t.name]=t}removeTextureAt(e,t){const r=e.textures[t];r.stop(),e.textures.splice(t,1),this.deleteUserAsset(r.name),delete e[r.name],0==e.textures.length&&delete e.sprite}removeTexture(e,t){return this.removeTextureAt(e,e.textures.indexOf(t))}removeSoundAt(e,t){const r=e.sounds[t];e.sounds.splice(t,1),this.deleteUserAsset(r.name),delete e[r.name]}removeSound(e,t){return this.removeSoundAt(e,e.sounds.indexOf(t))}reorderSounds(e,t){e.sounds=t}reorderTextures(e,t){e.textures=t}reorderParts(e,t){e.parts=t}}function h(e){switch(i.HeadingInfo.Unit){case"degrees":return e;case"minutes":case"quarters":return e/6;default:throw new Error("Invalid heading unit: "+i.HeadingInfo.Unit)}}var f;t.ScoolcodeActorInfo=d,d.DefaultImplementation=null,function(e){e.textureChange="textureChange"}(f=t.ScoolcodeActorEvents||(t.ScoolcodeActorEvents={}));class m extends i.ScoolcodeObjectBase{constructor(e){if(super(new d(e.name),e.stage),this.getType=()=>this.internal.type,this.metadata={hidden:!1},this.ask=async e=>this.stage.ask(e,this),this.askToAnswer=async e=>{await this.stage.askToAnswer(e,this)},this.startConversation=async e=>{await this.stage.startConversation(e,this)},this.startConversationAsValue=async e=>this.stage.startConversationAsValue(e,this),this._name="Undefined",this.isClone=!1,this.cloneId=0,this.cloneOf=null,this._clones=new i.SafeArray,this.events=new i.EventEmitter,this.textures=[],this.sounds=[],this.records=[],this.parts=[],this.props={x:50,y:50,relativeX:0,relativeY:0,size:100,zoom:1,tint:new o.default("#FFFFFF"),texture:-1,heading:90,rotationAngle:90,visible:!0,hover:!1,pointerDown:!1,zIndex:0,rotationStyle:"allAround",mirrorX:1,transformedX:0,transformedY:0,relativeTransformedInited:!1,relativeTransformedX:0,relativeTransformedY:0,opacity:100,cloneCounter:0,cloneUuid:0,bubble:new i.ScoolcodeBubble(this),anchor:"stage",touchCounterLeft:0,touchCounterRight:0,touchCounterTop:0,touchCounterBottom:0},this.setCostume=async(e,t=!1)=>{if(0!=this.textures.length){if("number"===typeof e){if(!this.texture)return;const r=Math.min(this.textures.length,Math.max(1,e))-1;if(this.props.texture===r&&!t)return;return this.props.texture=r,await this.applyCostume(t?"MISSING_COSTUME":this.getMissingAssetCode(),t?void 0:"setCostume"),this.texture.sprite&&(this.props.bubble.onChange("bubblePosition",{x:this.texture.bubbleX,y:this.texture.bubbleY}),this.events.emit(f.textureChange,this.texture)),this.texture}{let r,n="string"===typeof e?this[e]:e;if(void 0==n){const t=Number(e);r=Math.min(this.textures.length,Math.max(1,t))-1,n=this.textures[r]}else r=this.textures.indexOf(n);if(-1==r||isNaN(r)){const t=e instanceof i.ScoolcodeTexture?e:{name:(null===e||void 0===e?void 0:e.toString)?e.toString():"",path:(null===e||void 0===e?void 0:e.toString)?e.toString():""};return void i.ScoolcodeStage.warnMissingAsset(this.getMissingAssetCode(),t,"setCostume",this.name)}if(r===this.props.texture&&!t)return;return this.props.texture=r,await this.applyCostume(this.getMissingAssetCode(),"setCostume"),this.texture.sprite&&(this.props.bubble.onChange("bubblePosition",{x:this.texture.bubbleX,y:this.texture.bubbleY}),this.events.emit(f.textureChange,this.texture)),this.texture}}},this.isCostumeSelected=e=>{if(!this.texture||!(this.texture instanceof i.ScoolcodeCostume||this.texture instanceof i.ScoolcodeTexture))return!1;if(e&&"string"===typeof e){let t=this[e];if(t&&(t instanceof i.ScoolcodeCostume||t instanceof i.ScoolcodeTexture))return t.name===this.texture.name}if(e&&"number"===typeof e){const t=Math.min(this.textures.length,Math.max(1,e))-1;if(t>-1)return e==t+1&&this.texture.name===this.textures[t].name}return!(!this.texture||!(this.texture instanceof i.ScoolcodeCostume||this.texture instanceof i.ScoolcodeTexture))&&this.texture.name===e.name},this.stopSound=e=>{null==e?i.SpriteManager.Default.stopAllSounds():i.SpriteManager.Default.stopSound(e)},this.playSound=e=>{if(!this.stage.isStageRunning()||this.stage.isStagePaused())return null;if("number"===typeof e){const t=Math.min(this.sounds.length,Math.max(1,e))-1;e=this.sounds[t]}else"string"===typeof e&&(e=this[e]);if(e instanceof i.ScoolcodeSound){if(e.available)return e.play();i.ScoolcodeStage.UseSimplePaths?i.ScoolcodeStage.warnMissingAsset("MISSING_SOUND",e):i.ScoolcodeStage.warnMissingAsset("INVALID_ARGUMENT",e,"playSound",this.name)}},this.playSoundAndWait=async e=>{if(!this.stage.isStageRunning()||this.stage.isStagePaused())return null;if("number"===typeof e){const t=Math.min(this.sounds.length,Math.max(1,e))-1;e=this.sounds[t]}else"string"===typeof e&&(e=this[e]);if(e instanceof i.ScoolcodeSound){if(e.available&&e.buffer)return await e.playAndWait();i.ScoolcodeStage.UseSimplePaths?i.ScoolcodeStage.warnMissingAsset("MISSING_SOUND",e):i.ScoolcodeStage.warnMissingAsset("INVALID_ARGUMENT",e,"playSoundAndWait",this.name)}},this.getDeltasTo=e=>{if(e.type&&i.PositionTargetsInfo.cameraPositions.includes(e.type))return this.getDeltasToRelative(e);let t,r;e.props?null!=e.props.transformedX?(t=e.props.transformedX,r=e.props.transformedY):(t=e.props.x,r=e.props.y):[t,r]=this.stage.camera.coordinateTransformationDeviceToStage(e.x,e.y);let n=this.props.transformedX,o=this.props.transformedY;return this.stage.coordinateSystem===i.CoordinateSystemInfo.Instance.polar&&([n,o]=this.stage.camera.coordinateTransformationStageToDevice(this.props.transformedX,this.props.transformedY),[t,r]=this.stage.camera.coordinateTransformationStageToDevice(t,r),o=-o,r=-r),[t-n,r-o]},this.directionTo=(e,t)=>{if("undefined"!==typeof t&&(e={x:e,y:t}),e.type&&i.PositionTargetsInfo.cameraPositions.includes(e.type))return this.directionToRelative(e);{const[t,r]=this.getDeltasTo(e);return 0==t&&0==r?this.heading:h(this.stage.Math.atan2(t*this.stage.unitX,r*this.stage.unitY*-1))}},this.getDeltasToRelative=e=>{let t=0,r=0;if(e.type){const n=this.stage.camera.getRelativePositionFromPositionType(e.type);n&&(t=n.x-this.props.relativeTransformedX,r=n.y-this.props.relativeTransformedY)}else if(e.props)null!=e.props.relativeTransformedX?(t=e.props.relativeTransformedX-this.props.relativeTransformedX,r=e.props.relativeTransformedY-this.props.relativeTransformedY):null!=e.props.relativeX?(t=e.props.relativeX-this.props.relativeTransformedX,r=e.props.relativeY-this.props.relativeTransformedY):(t=e.props.x-this.props.relativeTransformedX,r=e.props.y-this.props.relativeTransformedY);else{const[n,i]=this.stage.camera.coordinateTransformationDefaultDeviceToRelative(e.x,e.y);t=n-this.props.relativeTransformedX,r=i-this.props.relativeTransformedY}return[t,r]},this.directionToRelative=e=>{const[t,r]=this.getDeltasToRelative(e);return 0==t&&0==r?this.heading:h(this.stage.Math.atan2(t*this.stage.unitX,r*this.stage.unitY*-1))},this.setInternalPosition=async(e,t,r=!0)=>{this.pen.preparePen(),this.props.x=e,this.props.y=t,this.props.bubble.updatePosition(),this.sprite&&(this.sprite.x=e,this.sprite.y=t,this.physics&&r&&this.updatePhysicsPosition(!0)),this.pen.draw()},this.setInternalPositionX=async(e,t=!0)=>{this.pen.preparePen(),this.props.x=e,this.props.bubble.updatePosition(),this.sprite&&(this.sprite.x=e,this.physics&&t&&this.updatePhysicsPosition()),this.pen.draw()},this.setInternalPositionY=async(e,t=!0)=>{this.pen.preparePen(),this.props.y=e,this.props.bubble.updatePosition(),this.sprite&&(this.sprite.y=e,this.physics&&t&&this.updatePhysicsPosition()),this.pen.draw()},this.setCssTint=e=>{if("number"===typeof e)this.tint=e;else{const t=c(e.toLowerCase());if(!t&&!RegExp(/^#([A-Fa-f0-9]{6})$/).test(e))return void i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"setCssTint");this.props.tint.hex=t||e,this.sprite&&(this.sprite.tint=this.tint)}},this.setRgbTint=(e,t,r)=>{this.props.tint.rgb=[e,t,r],this.sprite&&(this.sprite.tint=this.tint)},this.deleteAllClones=async e=>{this.stage.deleteAllClones(e||this),this.props.cloneCounter=0},this.clone=async()=>{const e=this.getType(),t=e.createInstance([{name:this.name,stage:this.stage}]);t.props.cloneUuid=++i.ScoolcodeStage._cloneUuid,t.props=Object.assign(Object.assign({},this.props),{bubble:new i.ScoolcodeBubble(t),tint:this.props.tint.clone(),hover:!1,pointerDown:!1}),t.textures=this.textures.map((e=>t[e.name]=e.clone())),t.sounds=this.sounds.map((e=>t[e.name]=e.clone())),t.records=this.records,t.pen=this.pen.clone(t.props),t.props.cloneUuid=++i.ScoolcodeStage._cloneUuid,t.props.cloneCounter=0,t.cloneId=++this.props.cloneCounter,t.isClone=!0,t.cloneOf=this,t.eventHandlers=this.eventHandlers.map((e=>{const r=new i.EventHandlerAction(e.event,e.parameters,e.actionList);return r.apply(e.event.declaringType instanceof d?t:this.stage,t),r}));for(let r of e.functions){const e=this[r.name].action,n=new i.DefineFunctionAction(r,e.actionList);t[r.name]=function(){return n.execute.apply(n,arguments)},t[r.name].action=n,n.apply(this.stage,t)}for(let r of e.userMethods){const e=this[r.name].action,n=new i.DefineFunctionAction(r,e.actionList);t[r.name]=function(){return n.execute.apply(n,arguments)},t[r.name].action=r,n.apply(this.stage,t)}for(let r of e.fields)t[r.name]=this[r.name];return t.parts=this.parts.map((e=>t[e.name]=e.clone(t))),await this.clones.addAsync(t),t},this.getClone=e=>this.clones.find((t=>t.cloneId==e))||this,this.deleteClone=async e=>{this.stage.deleteClone(e||this)},this.stop=async()=>{this.parts.map((e=>{e.stopManager()}));const e=this.internal.manager.stop();return this.texture&&this.texture.sprite&&this.texture.sprite.stop(),this.props.pointerDown=!1,this.props.hover=!1,e},this.activate=()=>{this.internal.manager.activate()},this.deactivate=e=>{this.internal.manager.deactivate(e)},this.disposed=!1,this.dispose=async()=>{this.disposed||(this.disposed=!0,this.stage.spriteManager.unregisterActor(this),this.eventHandlers.forEach((e=>e.remove())),this.parts.forEach((e=>e.dispose())),await this.internal.manager.stop(),this.stage.internal.manager.remove(this.internal.manager),setTimeout((()=>{delete this.internal,delete this.eventHandlers}),1e3))},this.resetSize=()=>{this.size=100},this.say=(...e)=>{switch(this.props.bubble.shape="say",e.length){case 0:this.props.bubble.value="";break;case 1:this.props.bubble.value=i.Terminal.stringBuilder(e[0]);break;default:this.props.bubble.value=i.Terminal.stringBuilder(e.join(" "))}},this.sayForSeconds=async(e,t)=>{this.say(e),await this.stage.wait(t),this.say("")},this.think=(...e)=>{switch(this.props.bubble.shape="think",e.length){case 0:this.props.bubble.value="";break;case 1:this.props.bubble.value=i.Terminal.stringBuilder(e[0]);break;default:this.props.bubble.value=i.Terminal.stringBuilder(e.join(" "))}},this.thinkForSeconds=async(e,t)=>{this.think(e),await this.stage.wait(t),this.think("")},this.show=()=>{this.props.visible||(this.props.visible=!0,this.sprite&&(this.sprite.visible=!0),this.physics&&this.physics.show())},this.hide=async()=>{this.props.visible&&(this.props.visible=!1,await this.stage.hideActor(this),this.sprite&&(this.sprite.visible=!1),this.physics&&this.physics.hide())},this.distanceTo=(e,t)=>{"undefined"!==typeof t&&(e={x:e,y:t});const[r,n]=this.getDeltasTo(e);return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))},this.distanceToRelative=e=>{const[t,r]=this.getDeltasToRelative(e);return Math.sqrt(Math.pow(t,2)+Math.pow(r,2))},this.glideSecondsTo=async(e,t,r)=>{if(!this.stage.isStageRunning())return void(this.stage.isStageInitializing()&&i.RuntimeEnvironment.error(null,"CALLED_BEFORE_STARTED",null,"glideSecondsTo"));if(e<=0||this.stage.internal.manager.isStoppedOrPaused())return void this.setPosition(t,r);const n=Date.now(),o=this.x,a=this.y,s=1e3*e*(1+i.ExecutionManager.delay/100),l=(t-o)/s,c=(r-a)/s;let p=n;for(;Date.now()-n<s&&this.stage.isStageRunning();){if(this.stage.internal.manager.isStoppedOrPaused()){const{trigger:e,dispose:t}=this.stage.internal.manager.createCancelationTrigger();await e,t();break}const e=Date.now(),t=e-p;p=e,this.setPosition(this.x+l*t,this.y+c*t),await this.stage.wait(i.ExecutionManager.glideDelay)}this.setPosition(t,r)},this.glideSecondsToRelative=async(e,t,r)=>{if(!this.stage.isStageRunning())return void(this.stage.isStageInitializing()&&i.RuntimeEnvironment.error(null,"CALLED_BEFORE_STARTED",null,"glideSecondsToRelative"));if(e<=0||this.stage.internal.manager.isStoppedOrPaused())return void this.setRelativePosition(t,r);const n=Date.now(),o=this.props.relativeTransformedX,a=this.props.relativeTransformedY,s=1e3*e*(1+i.ExecutionManager.delay/100),l=(t-o)/s,c=(r-a)/s;let p=n;for(;Date.now()-n<s&&this.stage.isStageRunning();){if(this.stage.internal.manager.isStoppedOrPaused()){const{trigger:e,dispose:t}=this.stage.internal.manager.createCancelationTrigger();await e,t();break}const e=Date.now(),t=e-p;p=e,this.setRelativePosition(this.props.relativeTransformedX+l*t,this.props.relativeTransformedY+c*t),await this.stage.wait(i.ExecutionManager.glideDelay)}this.setRelativePosition(t,r)},this.glideSecondsToHorizontalVertical=async(e,t,r)=>{await this.glideSecondsTo(e,t,r)},this.glideSecondsToRelativeHorizontalVertical=async(e,t,r)=>{await this.glideSecondsToRelative(e,t,r)},this.move=e=>{if(this.stage.coordinateSystem===i.CoordinateSystemInfo.Instance.polar){const t=this.stage.width/2+Math.sin(this.props.transformedY*s)*this.props.transformedX,r=this.stage.height/2-Math.cos(this.props.transformedY*s)*this.props.transformedX,n=t+Math.sin(this.props.heading*s)*e,o=r-Math.cos(this.props.heading*s)*e,a=(i.ScoolcodeStage.DefaultWidth,i.ScoolcodeStage.DefaultHeight,Math.sqrt(Math.pow(i.ScoolcodeStage.DefaultWidth/2-n,2)+Math.pow(i.ScoolcodeStage.DefaultHeight/2-o,2)));let c;c=0==a?0:(n-i.ScoolcodeStage.DefaultWidth/2>=0?1:-1)*Math.acos((i.ScoolcodeStage.DefaultHeight/2-o)/a)*l,this.setPosition(a,c)}else this.setPosition(this.props.transformedX+Math.cos((this.props.heading*this.stage.unitX-90)*s)*e,this.props.transformedY+Math.sin((this.props.heading*this.stage.unitX-90)*s*this.stage.unitY)*e);return e},this.updateSpriteScaleRaw=()=>{if(this.sprite){let e=Number.isNaN(this.stage.camera.zoom)||Number.isNaN(this.props.zoom)?1:100/this.stage.camera.zoom/this.stage.camera.defaultZoom;const t=this.props.size/100,r=this.sprite.scale.x,n=this.sprite.scale.y,i="camera"===this.anchor?e:this.stage.scale;return this.sprite.scale.x=t/this.props.zoom*this.props.mirrorX*i,this.sprite.scale.y=t/this.props.zoom*i,this.bubble.sprite&&!this.bubble.autoZoom&&(this.bubble.sprite.text.dirty=!0,this.bubble.sprite.render()),r!=this.sprite.scale.x||n!=this.sprite.scale.y}},this.updateSpriteScale=(e=!1,t=!1)=>{this.sprite&&(this.updateSpriteScaleRaw()?(this.props.bubble.onChange("bounds",this.sprite.getBounds()),this.texture&&i.SpriteManager.Default.updateTexture(this,this.texture,"apply")):(e&&this.props.bubble.onChange("bounds",this.sprite.getBounds()),t&&this.texture&&i.SpriteManager.Default.updateTexture(this,this.texture,"apply")))},this.updatePhysicsScale=()=>{if(this.physics){const e="camera"===this.anchor?100/this.stage.camera.zoom/this.stage.camera.defaultZoom:1;this.physics.scale(this.props.size/100*e),this.updatePhysicsPosition()}},this.updatePhysics=()=>{this.updateSpriteScale(!0),this.updatePhysicsScale()},this.enableUpdateBody=e=>{this.physics&&this.physics.enableUpdateBody(e)},this.setInternalAndTransformedPosition=(e,t,r=!0)=>{this.setInternalPosition(e,t,r);let[n,i]=this.stage.camera.coordinateTransformationDeviceToStage(e,t);this.props.transformedX=n,this.props.transformedY=i},this.setPosition=async(e,t,r=!0)=>{const n=this.props.transformedX!=e,i=this.props.transformedY!=t;this.props.transformedX=e,this.props.transformedY=t;let[o,a]=this.stage.camera.coordinateTransformationStageToDevice(e,t),[s,l]=this.stage.camera.coordinateTransformationDeviceToRelative(o,a);"camera"===this.anchor&&([s,l]=this.stage.camera.coordinateTransformationCameraToRelative(s,l)),"stage"===this.anchor||n&&i?(this.props.relativeTransformedX=s,this.props.relativeTransformedY=l,this.props.relativeTransformedInited=!0,this.setInternalPosition(o,a,r)):n?(this.props.relativeTransformedX=s,this.props.relativeTransformedInited=!0,this.setInternalPositionX(o,r)):i&&(this.props.relativeTransformedY=l,this.props.relativeTransformedInited=!0,this.setInternalPositionY(a,r))},this.setRelativePositionFromStagePosition=()=>{let[e,t]=this.stage.camera.coordinateTransformationStageToDevice(this.props.transformedX,this.props.transformedY);[this.props.relativeTransformedX,this.props.relativeTransformedY]=this.stage.camera.coordinateTransformationDeviceToRelative(e,t)},this.setStagePositionFromRelativePosition=()=>{let[e,t]=this.stage.camera.coordinateTransformationRelativeToDevice(this.props.relativeTransformedX,this.props.relativeTransformedY);[this.props.transformedX,this.props.transformedY]=this.stage.camera.coordinateTransformationDeviceToStage(e,t)},this.setSpritePosition=(e,t)=>{this.sprite&&(this.sprite.x=e,this.sprite.y=t)},this.setSpritePositionX=e=>{this.sprite&&(this.sprite.x=e)},this.setSpritePositionY=e=>{this.sprite&&(this.sprite.y=e)},this.setRelativePosition=(e,t)=>{const r=this.props.relativeTransformedX!=e,n=this.props.relativeTransformedY!=t;this.props.relativeTransformedX=e,this.props.relativeTransformedY=t,this.updateRelativeTransformedPosition(r,n),this.updatePositionsCompletely()},this.updateRelativeTransformedPosition=(e,t)=>{this.props.relativeTransformedInited||(this.props.relativeTransformedInited=!0,this.props.relativeTransformedX=0,this.props.relativeTransformedY=0);let[r,n]=this.stage.camera.coordinateTransformationRelativeToDevice(this.props.relativeTransformedX,this.props.relativeTransformedY);const[i,o]=this.stage.camera.coordinateTransformationDeviceToStage(r,n);"stage"===this.anchor?(e&&(this.props.transformedX=i,this.setSpritePositionX(r),this.props.x=r,this.props.bubble.updatePosition()),t&&(this.props.transformedY=o,this.setSpritePositionY(n),this.props.y=n,this.props.bubble.updatePosition())):(e&&(this.props.transformedX=i),t&&(this.props.transformedY=o),this.setSpritePosition(r,n),this.props.x=r,this.props.y=n,this.props.bubble.updatePosition()),this.updatePhysicsPosition(!0)},this.updatePosition=()=>{this.physics&&!this.physics.isStatic?this.updatePositionFromPhysics(this.physics.position.x,this.physics.position.y):"camera"===this.anchor?this.setRelativePosition(this.relativeX,this.relativeY):this.setPosition(this.x,this.y),this.updatePhysicsPosition()},this.updatePositionsCompletely=()=>{"camera"===this.anchor?(this.updateRelativeTransformedPosition(!1,!1),this.setStagePositionFromRelativePosition()):(this.setRelativePositionFromStagePosition(),this.updatePhysicsPosition(!0))},this.setHorizontalVerticalPosition=(e,t,r=!0)=>{this.setPosition(e,t)},this.turnRight=(e=90)=>{switch(i.HeadingInfo.Unit){case"degrees":this.headingDegrees+=e;break;case"minutes":case"quarters":this.headingDegrees+=6*e;break;default:throw new Error("Invalid heading unit: "+i.HeadingInfo.Unit)}return this.headingDegrees},this.turnLeft=(e=90)=>{switch(i.HeadingInfo.Unit){case"degrees":this.headingDegrees-=e;break;case"minutes":case"quarters":this.headingDegrees-=6*e;break;default:throw new Error("Invalid heading unit: "+i.HeadingInfo.Unit)}return this.headingDegrees},this.turnMinutesRight=e=>(this.headingDegrees+=6*e,this.headingDegrees),this.turnMinutesLeft=e=>(this.headingDegrees-=6*e,this.headingDegrees),this.pointTowards=e=>(this.heading=this.directionTo(e),this.heading),this.pointTowardsRelative=e=>(this.heading=this.directionToRelative(e),this.heading),this.pointTowardsPosition=(e,t)=>{const[r,n]=this.stage.camera.coordinateTransformationStageToDevice(+e,+t);return this.heading=this.directionTo({x:r,y:n}),this.heading},this.pointTowardsRelativePosition=(e,t)=>{const[r,n]=this.stage.camera.coordinateTransformationRelativeToDevice(+e,+t);return this.heading=this.directionTo({x:r,y:n}),this.heading},this.goTo=(e,t)=>{"undefined"!==typeof t&&this.setPosition(e,t),e.type&&i.PositionTargetsInfo.cameraPositions.includes(e.type)?this.goToRelative(e):e.props?null!=e.props.transformedX?this.setPosition(e.props.transformedX,e.props.transformedY):this.setPosition(e.props.x,e.props.y):isNaN(e.x)||isNaN(e.y)?i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,this.name+".goTo"):(this.setInternalAndTransformedPosition(e.x,e.y),this.setRelativePositionFromStagePosition(),this.updatePhysicsPosition())},this.goToRelative=e=>{if(e.type){const t=this.stage.camera.getRelativePositionFromPositionType(e.type);t&&this.setRelativePosition(t.x,t.y)}else e.props&&(null!=e.props.relativeTransformedX?this.setRelativePosition(e.props.relativeTransformedX,e.props.relativeTransformedY):null!=e.props.relativeX&&this.setRelativePosition(e.props.relativeX,e.props.relativeY))},this.nextCostume=async()=>{this.textures.length&&(this.props.texture===this.textures.length-1?this.props.texture=0:this.props.texture++,await this.applyCostume(this.getMissingAssetCode(),"nextCostume"),this.events.emit(f.textureChange,this.texture))},this.previousCostume=async()=>{this.textures.length&&(0===this.props.texture?this.props.texture=this.textures.length-1:this.props.texture--,await this.applyCostume(this.getMissingAssetCode(),"previousCostume"),this.events.emit(f.textureChange,this.texture))},this.stampCostume=()=>{this.sprite&&this.sprite.createStamp(this.stage.layers.graphics)},this.clearStamps=()=>{this.textures.map((e=>{var t;(null===(t=null===e||void 0===e?void 0:e.sprite)||void 0===t?void 0:t.clearStamps)&&e.sprite.clearStamps()})),this.sprite&&this.sprite.clearStamps()},this.bounceOffEdge=async()=>{if(this.sprite&&this.physics){let e=!1,t=!1,r=!1,n=!1;const o=this.stage;let{x:a,y:s,width:l,height:c}=this.physics.getShape();const[p,u]=o.camera.coordinateTransformationDeviceToRelative(0,0),[d,h]=o.camera.coordinateTransformationDeviceToRelative(o.width,o.height),f=Math.min(p,d),m=Math.min(u,h),g=Math.max(p,d),y=Math.max(u,h);let v=!1,b=!1,S=!1,T=0,w=0,E=0;const x=l/10,_=c/10;if(a<f&&(w=f-a+x,v=!0,n=!0,(0==this.props.touchCounterLeft||this.props.touchCounterLeft>4)&&(S=!0,b=!0,T=180)),a+l>g&&(w=g-(a+l)-x,v=!0,t=!0,(0==this.props.touchCounterRight||this.props.touchCounterRight>4)&&(S=!0,b=!0,T=0)),s-c<m&&(E=m-(s-c)+_,v=!0,r=!0,(0==this.props.touchCounterBottom||this.props.touchCounterBottom>4)&&(b=!0,T=90)),s>y&&(E=y-s-_,v=!0,e=!0,(0==this.props.touchCounterTop||this.props.touchCounterTop>4)&&(b=!0,T=270)),b&&(this.headingDegrees=2*T-this.props.heading),v){const[e,t]=this.stage.camera.coordinateTransformationCameraToRelative(this.props.relativeTransformedX+w,this.props.relativeTransformedY+E);this.setRelativePosition(e,t)}return this.props.touchCounterLeft=n?this.props.touchCounterLeft+1:0,this.props.touchCounterRight=t?this.props.touchCounterRight+1:0,this.props.touchCounterTop=e?this.props.touchCounterTop+1:0,this.props.touchCounterBottom=r?this.props.touchCounterBottom+1:0,this.physics.isCollides&&this.isShown&&(this.stage.physics.isWallEnabled("top")&&await this.handleTouchingEdge(e,i.EdgeInfo.Instance.top),this.stage.physics.isWallEnabled("bottom")&&await this.handleTouchingEdge(r,i.EdgeInfo.Instance.bottom),this.stage.physics.isWallEnabled("left")&&await this.handleTouchingEdge(n,i.EdgeInfo.Instance.left),this.stage.physics.isWallEnabled("right")&&await this.handleTouchingEdge(t,i.EdgeInfo.Instance.right)),S}return!1},this.handleTouchingEdge=async(e,t)=>{e?(await this.stage.collisions.addAsync({actorA:this,actorB:t}),await m.Type.OnTouching.emit([t],this)):await this.stage.collisions.findAndRemoveAsync((({actorA:e,actorB:r})=>e==this&&r==t))},this.updateSpriteRotation=(e=!0)=>{if(this.sprite)switch(this.rotationStyle){case"leftRight":this.props.mirrorX=0<=this.props.heading&&this.props.heading<180?1:-1,this.sprite.rotation=0;break;case"allAround":this.props.mirrorX=1,this.sprite.rotation=(this.props.heading-90)*s;break;default:this.props.mirrorX=1,this.sprite.rotation=0}e&&this.physics&&(this.physics.setRotation(this.props.mirrorX*(90-this.props.heading)*s,this.rotationStyle),this.updatePhysicsPosition()),this.props.bubble.updatePosition()},this.setHover=(e,t=!0)=>{this.stage.isStageRunning()&&(this.stage._insideSceneMode?e&&!this.props.hover?(this.props.hover=e,m.Type.OnOver.emit([],this)):t||this.props.hover?(this.props.hover=e,m.Type.OnOut.emit([],this)):this.props.hover=e:e?(this.props.hover=e,m.Type.OnOver.emit([],this)):this.props.hover||t?(this.props.hover=e,m.Type.OnOut.emit([],this)):this.props.hover=e)},this.setDown=e=>{this.props.pointerDown=e,e?m.Type.OnDown.emit([],this):m.Type.OnUp.emit([],this)},this.isPointerOver=()=>this.props.hover,this.touching=e=>{if(e===i.EdgeInfo.Instance.horizontal)return!!this.stage.collisions.find((({actorA:e,actorB:t})=>e===this&&("top"===t||"bottom"===t)));if(e===i.EdgeInfo.Instance.vertical)return!!this.stage.collisions.find((({actorA:e,actorB:t})=>e===this&&("left"===t||"right"===t)));if(e===i.EdgeInfo.Instance.any)return!!this.stage.collisions.find((({actorA:e,actorB:t})=>e===this&&"string"===typeof t));if("string"===typeof e){const t=e;if(!(e=this.stage.actors.find((e=>e.name===t)))){for(const e in i.EdgeInfo.Instance)if(e===t)return!!this.stage.collisions.find((({actorA:e,actorB:r})=>e===this&&r===t));i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,`${this.name}.touching("${t}")`)}}return!!this.stage.collisions.find((({actorA:t,actorB:r})=>t===this&&r===e))},this.touchingActorOrClone=e=>{const t="string"===typeof e?e:e.name;return!!this.stage.collisions.find((({actorA:e,actorB:r})=>e===this&&r.name===t))},this.goBackwardBy=e=>{this.sprite&&this.sprite.changeZIndex(-1*e)},this.goForwardBy=e=>{this.sprite&&this.sprite.changeZIndex(e)},this.goAfter=e=>{this.sprite&&e.sprite&&this.sprite.sendAfter(e.sprite)},this.goBefore=e=>{this.sprite&&e.sprite&&this.sprite.sendBefore(e.sprite)},this.goToBack=()=>{this.sprite&&this.sprite.sendToBack()},this.goToFront=()=>{this.sprite&&this.sprite.bringToFront()},this.wait=async e=>{await this.stage.wait(e)},this.defineUserFunction=e=>{e.internal=e.internal||this.metadata&&this.metadata.hidden,this[e.method.name]=function(){return e.execute.apply(e,arguments)},this[e.method.name].action=e,e.apply(this.stage,this)},this.removeUserFunction=e=>{delete this[e.method.name],e.remove()},this.defineEventHandler=e=>{e.internal=e.internal||this.metadata&&this.metadata.hidden,e.apply(e.event.declaringType instanceof d?this:this.stage,this),this.eventHandlers.push(e),this.stage.processMessageEvent(e)},this.removeEventHandler=e=>{e.remove();const t=this.eventHandlers.indexOf(e);-1!==t&&(this.stage.processMessageEvent(e),this.eventHandlers.splice(t,1))},this.validateName=(e,t)=>!(0==e.length||this.getType().getProperty(e)||this.getType().getMethod(e)||!i.NameValidator.validateName(e,t)||void 0!=this[e]),this._uuid=m._uuidCounter++,a(e.name,"You must provide a name for the actor."),a(e.stage,"You must provide a stage for the actor."),this.setName(e.name),this.stage=e.stage,this.cloneId=e.cloneId||0,this.pen=new i.ScoolcodePen(this.props,this.stage),this.setPosition(m.DefaultX,m.DefaultY),!m.Default){m.Default=this;const e=this.getType();m.Default=e.createInstance([{name:this.name,stage:this.stage}])}}readProperty(e){const t=this[e];return t&&t instanceof m&&t.disposed?null:t}grammar(){const e=this.getType();return new i.Actor(e,this.name,this.metadata,...this.textures.map((e=>e.grammar())),...this.sounds.map((e=>e.grammar())),...this.records.map((e=>e.declarationGrammar())),...this.parts.map((e=>e.declarationGrammar())),...this.internal.type.fields.map((e=>e.declarationGrammar(this))),...this.internal.type.functions.map((e=>e.declarationGrammar(this))),...this.internal.type.userMethods.map((e=>e.declarationGrammar(this))),...this.eventHandlers.map((e=>e.grammar())),...this.internal.type.comments.map((e=>this[e.name].grammar())))}ownGrammar(){const e=this.getType();return new i.Actor(e,this.name,this.metadata,...this.textures.map((e=>e.grammar())),...this.sounds.map((e=>e.grammar())),...this.records.map((e=>e.declarationGrammar())),...this.internal.type.fields.filter((e=>!e.internal)).map((e=>e.declarationGrammar(this))),...this.internal.type.functions.map((e=>e.declarationGrammar(this))),...this.eventHandlers.filter((e=>!e.internal)).map((e=>e.grammar())),...this.internal.type.comments.map((e=>this[e.name].grammar())))}blockModel(e){const t=new i.BlockProgram(this,e);return t.children=[...this.eventHandlers.filter((e=>!e.internal)).map((e=>e.block(t))),...this.records.map((e=>e.block(t))),...this.internal.type.functions.map((e=>e.getAction(this).block(t))),...this.internal.type.fields.filter((e=>!e.getVariableAction(this).internal)).map((e=>e.getVariableAction(this).block(t))),...this.internal.type.comments.map((e=>this[e.name].block(t)))],t}get name(){return this._name}setName(e){this._name=e}get clones(){return this._clones}setInternalHeading(e){this.props.heading=e,this.props.rotationAngle=e}get defaultTextureId(){const e=this.textures.findIndex((e=>e.isDefault));return-1===e?0:e}set defaultTextureId(e){this.textures.forEach((e=>e.isDefault=!1)),(this.textures[e]||this.textures[0]).isDefault=!0,this.stage.requestSetup()}get texture(){return this.textures[this.props.texture]||this.textures[0]}set texture(e){if(!(e instanceof i.ScoolcodeTexture))return;const t=this.textures.indexOf(e);this.props.texture!==t&&(this.texture&&this.texture.sprite&&(this.texture.sprite.stop(),this.texture.sprite=null),this.props.texture=t,this.applyCostume("MISSING_COSTUME"),this.updateSpriteScale(!0,!0),this.props.bubble.onChange("bubblePosition",{x:e.bubbleX,y:e.bubbleY}),this.events.emit(f.textureChange,this.texture))}on(e,t){this.events.on(e,t)}off(e,t){this.events.off(e,t)}get bubble(){return this.props.bubble}get costume(){return this.texture}set costume(e){this.texture!==e&&(this.texture=e)}async applyCostume(e,t){return await this.texture.apply(this),this.texture.available?(this.updateSpriteScale(!1,!0),this.updatePhysicsScale(),this.props.bubble.updatePosition(),!0):(i.ScoolcodeStage.warnMissingAsset(e,this.texture,t,t?this.name:void 0),!1)}getMissingAssetCode(){return i.ScoolcodeStage.UseSimplePaths?"MISSING_COSTUME":"INVALID_ARGUMENT"}get isLiveTexture(){return!!this.texture&&this.texture.isLiveTexture}stopLiveCostumes(){if(!this.isLiveTexture)for(const e of this.textures)e&&e.sprite&&e.stop()}getAssetPaths(){return[...this.sounds.map((e=>({name:e.name,path:e.path,kind:"sound",asset:e}))),...this.textures.map((e=>({name:e.name,path:e.path,kind:"costume",asset:e})))]}getMissingAssets(){return[...this.sounds.filter((e=>!e.available)).map((e=>({name:e.name,path:e.path,kind:"sound",asset:e}))),...this.textures.filter((e=>!e.available)).map((e=>({name:e.name,path:e.path,kind:"costume",asset:e})))]}get x(){return this.props.transformedX}get y(){return this.props.transformedY}get relativeX(){return this.props.relativeTransformedInited||this.updateRelativeTransformedPosition(!0,!0),this.props.relativeTransformedX}get relativeY(){return this.props.relativeTransformedInited||this.updateRelativeTransformedPosition(!0,!0),this.props.relativeTransformedY}get horizontalPosition(){return this.props.transformedX}get verticalPosition(){return this.props.transformedY}get internalX(){return this.props.x}get internalY(){return this.props.y}get size(){return this.props.size}get anchor(){return this.props.anchor}get tint(){return this.props.tint.value}set x(e){this.setPosition(e,this.props.transformedY)}set y(e){this.setPosition(this.props.transformedX,e)}set relativeX(e){this.props.relativeTransformedX=e,this.updateRelativeTransformedPosition(!0,!1),this.updatePositionsCompletely()}set relativeY(e){this.props.relativeTransformedY=e,this.updateRelativeTransformedPosition(!1,!0),this.updatePositionsCompletely()}set horizontalPosition(e){this.setPosition(e,this.props.transformedY)}set verticalPosition(e){this.setPosition(this.props.transformedX,e)}set anchor(e){this.props.anchor=e,this.updatePositionAndScaleCompletely()}updateScenePhysics(){this.stage._insideSceneMode&&this.sprite&&this.sprite.getBounds()}set tint(e){this.props.tint.value=e,this.sprite&&(this.sprite.tint=e)}get tintHue(){return this.props.tint.hue}set tintHue(e){this.props.tint.hue=e,this.sprite&&(this.sprite.tint=this.tint)}get tintShade(){return this.props.tint.shade}set tintShade(e){this.props.tint.shade=e,this.sprite&&(this.sprite.tint=this.tint)}resetTint(){this.props.tint.hex="#FFFFFF",this.sprite&&(this.sprite.tint=this.tint)}get headingDegrees(){return this.props.heading}set headingDegrees(e){this.props.rotationAngle=e;let t=e%360;t>180?t=-(360-t):t<=-180&&(t=360-Math.abs(t)),this.props.heading=t,this.updateSpriteRotation(),this.updatePhysics()}set heading(e){switch(i.HeadingInfo.Unit){case"degrees":this.headingDegrees=e;break;case"minutes":case"quarters":this.headingDegrees=6*e;break;default:throw new Error("Invalid heading unit: "+i.HeadingInfo.Unit)}}get rotationAngle(){return this.props.rotationAngle}set rotationAngle(e){this.heading=e}get opacity(){return this.props.opacity}set opacity(e){this.props.opacity=e,this.sprite&&(this.sprite.alpha=e/100)}deleteAllClonesEnforced(){this._clones=new i.SafeArray,this.props.cloneCounter=0}get cloneCount(){return this.clones.length}get cloneUuidAsString(){let e=this.name+" "+this.props.cloneUuid+" "+this.cloneId,t=this;for(;t&&t.cloneOf;)e+=" "+t.cloneOf.cloneId,t=t.cloneOf;return e}getActorByName(e){return this.stage.getActorByName(e)}async resetVariables(){this.props.bubble.value="",this.parts.length&&this.parts.map((e=>e.resetVariables())),this.textures.length&&await this.setCostume(this.defaultTextureId+1,!0);const e=this.internal.manager.sub(!0),t={environment:this.internal,scope:this,manager:e};for(let{name:r}of this.internal.type.fields)this[r]=await this[r+".action"].executor(null)(t);this.internal.manager.remove(e)}get isShown(){return this.props.visible}set size(e){e<1&&(e=1),this.props.size=e,this.enableUpdateBody(!1),this.updateSpriteScale(),this.updatePhysicsScale(),this.enableUpdateBody(!0),this.bubble.updatePosition()}updatePositionAndScaleCompletely(e=!1){this.updatePositionsCompletely(),this.updateSpriteScale(e,e),this.updatePhysicsScale()}get heading(){return h(this.props.heading)}get costumeName(){return this.texture?this.texture.name:""}get costumeId(){return this.texture?this.props.texture+1:0}get costumeWidth(){return this.texture?this.texture.sprite?Math.abs(this.texture.sprite.scale.x)*this.texture.width:this.texture.width:0}set costumeWidth(e){if(!this.texture)return;const t=this.texture.sprite?Math.abs(this.texture.sprite.scale.x)*this.texture.width:this.texture.width;this.size*=e/t}get costumeHeight(){return this.texture?this.texture.sprite?Math.abs(this.texture.sprite.scale.y)*this.texture.height:this.texture.height:0}set costumeHeight(e){if(!this.texture)return;const t=this.texture.sprite?Math.abs(this.texture.sprite.scale.y)*this.texture.height:this.texture.height;this.size*=e/t}updatePhysicsPosition(e=!0){if((e||!this.physics||!this.physics.isCollides&&this.physics.isStatic)&&this.sprite&&this.physics&&this.texture){let e=this.props.relativeTransformedX,r=this.props.relativeTransformedY;try{let{width:t,height:n,boxWidth:i,boxHeight:o}=this.physics.getDimensions(),a="box"!==this.physics.collisionShape&&i||t,s="box"!==this.physics.collisionShape&&o||n;a*=this.stage.scale,s*=this.stage.scale;const l=isNaN(this.physics.massPoint[0])?.5:this.physics.massPoint[0],c=isNaN(this.physics.massPoint[1])?.5:this.physics.massPoint[1];let p=this.texture.centerX,u=this.texture.centerY;if("box"!==this.physics.collisionShape){const e=this.texture&&this.texture.cache&&this.texture.cache.length>1?this.texture.cache[1]:void 0,t=this.sprite._currentFrame||0;e&&e[t]&&e[t].anchorDeltaX&&(.5!=p&&(p+=e[t].anchorDeltaX),.5!=u&&(u+=e[t].anchorDeltaY))}const d=(1==this.props.mirrorX?p:1-p)-(l+this.texture.massX),h=u-(c+this.texture.massY),f=Math.cos(this.sprite.rotation)*d*a-Math.sin(this.sprite.rotation)*h*s,m=Math.sin(this.sprite.rotation)*d*a+Math.cos(this.sprite.rotation)*h*s;"stage"===this.anchor?(e-=f*this.stage.camera.scale*this.size/100,r+=m*this.stage.camera.scale*this.size/100):(e-=f*this.size/100,r+=m*this.size/100,[e,r]=this.stage.camera.coordinateTransformationCollidersToRelative(e,r)),this.physics.setPosition(e,r)}catch(t){}}}updatePositionFromPhysics(e,t){var r,n,i,o;if(this.texture&&this.sprite&&this.physics){const a=this.sprite.width,l=this.sprite.height,c=isNaN(this.physics.massPoint[0])?.5:this.physics.massPoint[0],p=isNaN(this.physics.massPoint[1])?.5:this.physics.massPoint[1],u=(null===(r=this.sprite.texture)||void 0===r?void 0:r.defaultAnchor)?null===(n=this.sprite.texture)||void 0===n?void 0:n.defaultAnchor.x:this.texture.centerX,d=(null===(i=this.sprite.texture)||void 0===i?void 0:i.defaultAnchor)?null===(o=this.sprite.texture)||void 0===o?void 0:o.defaultAnchor.y:this.texture.centerY,h=(1==this.props.mirrorX?u:1-u)-(c+this.texture.massX),f=d-(p+this.texture.massY),m=(this.headingDegrees-90)*s,g=Math.cos(m),y=Math.sin(m),v=g*h*a-y*f*l,b=y*h*a+g*f*l,[S,T]=this.stage.camera.coordinateTransformationRelativeToDevice(e+v,t-b);this.setInternalAndTransformedPosition(S,T,!1),this.setRelativePositionFromStagePosition()}}get rotationStyle(){return this.props.rotationStyle}set rotationStyle(e){var t;"allAround"===e||"leftRight"===e||"none"===e?(this.props.rotationStyle=e,this.updateSpriteRotation(!0),null===(t=this.texture)||void 0===t||t.apply(this)):i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,this.name+".rotationStyle")}toString(){return`[Actor (${this.name}/${this.cloneId})]`}declareRecord(e){this.getType().declareRecord(e),this.records.push(e)}defineRecord(e){const t=this.getType().getMethod(e).returnType;this[t.name]=(...e)=>t.createInstance(e)}}t.ScoolcodeActor=m,m.Type=(d.DefaultImplementation=m,new d("ScoolcodeActor")),m.DefaultX=0,m.DefaultY=0,m.MaxSize=2500,m.MinSize=5,m.instanceFactory=(e,t)=>{a(t[0],"You must provide an internal stage in create a stage.");const r=new m(t[0]);return r.internal.type=e,i.TypeRegistry.register(r.name,e),r},m._uuidCounter=0},function(e,t,r){"use strict";t.a=function(e,t){}},function(e,t,r){"use strict";var n=r(1032);t.a=function(e,t){return t?Object(n.a)(e,t,{clone:!1}):e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(82);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(n.a)(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return B}));var n=r(4),i=r(18),o=r(9);const a={think:{texture:PIXI.Texture.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABaCAQAAADkmzsCAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAAN1wAADdcAcvHpLkAAAAJdnBBZwAAAGQAAABaAMbjRZsAABOySURBVHja5Zt5kF1llcB/5/vufUu/fr2ks6cTOiQhLFkggbAPoriiWIIIKipaKuNW6ow6VllWjdQ4jmgxBU4NuMBoOaXDQFmOEkcoRBAEZA0JIUQICUk6S3e6X3e//d17vzN/3PteOvtCQqdqzq3XXUm/5fzuWb5zzvc94ZhIlrnSx0wm04bii6GOaI0CRQYYYJsOAUqWyUyWqeRppx0veXWNIgV28aoOokepgXeUr2uJyElcxDx8iWjj7bpYAUVijTbKb6QAhEQYFMGIQfBZwVsVJXniTlkp2wip8FeeZ7O6I9fj9WHMlPcxl4pUJcvf6oXey7329Py8tsnWq5dK2ysb2Thl50DtBVkpowiK0Ms1Ls3Z/kt5eughj0+DEXZmdn2t+h7uN4GmGNRHWEV4RMZ5HSAil/BeilIWkQXca39zTt9151+2vPfk9CQsFQZ0Y/nF7S88t+EPpceWbHyw9kt7uqvxwY6x+R3n9J7dd9rsmdM7OlOeabjh2pbB9etf/mPh/nNf/tdwpVjtYrvew8YjQDlqkCzvlXNkSERUVvCZSe5z7/v0R6adRXaPZ9V4jaeiR3b8+aFX7sk+U57eddlpb12x5JzuM8xM8uP8us52ntaVWx64e9tP7nnlZYY1q+16H388bLscJcg03i9zZFiswZzOl3qn/PNXr7rWZg/w7Abr+N/ynzbMnfLW6StkOuYAz6vyR7193QPfvuTX7w22KNqtr+p/UTgslKMA6eY8WYGRqlijdprcMi1783fe9+5DvJUyShupQ777dm4Zu/PmWbd+qtyv6nJa03t46TBQ7OEpb5nBYjlTLpBL5ELpk9CEBouX9h5tH/jmjR++Ug51R4TMYX1YngvTmfMfSG9+cllYkwDDWdLNFhqvF8SwQC6Vy+U8s0DOlC9zpb6ZC8SZgg099du8u675zFduSJlDvc0RiM/Znll+b5B/uk8jCSSgl+WkZYDgoDfqoBDL5BK6JSCUU/X9OjVT7KGHNJEUe0evqp0j/7jwjJ/9cOHUY4gRS5Vvjf7b16b/dmr5huoH3E/ZSlYr+hhPavXIQU6Ry+iTMnXJyBV6/lTvHae869RFM3uyfhANFV/rf+3FwhPpi2+7/t3HHANgJ98dXvfK0LatqwceaX/2xZGfSYk2LetDPKXhkYCskGsoSUWMZExNbr50xTc+dO5b/F4yCBAwyqs82mjIF/0sx0caVCjwCo8W73t81W1L7/9sYx2e6+avehej+4T/fkCu5m4ukmvZJmqMGOOZ77//Azd9ffr8/XyY41hGx/5F2cCdYz+73Xzvn0dfUqcdWtU76d8LZT/B/iJL5Tp2iRoM3nzzzYved+tNM2fv90NeZ4VzWCJM4uL0pHMf7Xj2z+eGdWq0czZrpXwokB65gYJEBoPNev85acq/fPesuW+AwgcTy1IjS+8dXvaME0OAzyk8J+Njxez9AngXTiIjRq36nXbjJVddvGiCMWLNPp56++duPWO2UaumJFPl8j3U3wskok+WUhQjGPGM/1Juxjvferyi+Qili+vm5q/emhIPa8yInMNc2V3u7xOr51EVBIPF91Jrp81bcvJEE7TkfM58x69nZjyxYkTq8m5oFT17gEwlzTyqYkUMHr6XGpkxZ1p+ovVvSTcr5g0tavfUw2JqMltOlWbpsgfIAGdKWlScUYtHSjJucnf2+CfYw5dFbelF9RQ+Vg1S5uzWX/bSspeQpmOR0ozfZk8kDnrJ941k8dUagwlkNhl69gZpR5hKKBKDeKRcts3Ujrx9Po7SSW5KMUcKT40RJCOny9DeICXeJL2iIiaOEJNymUr3rqMYBBw/yZHrKreJL17sXEpzod5jinISISIqWKznFdr+cPmiD38kfyL5lmCsyZCKwx0JZaqCwe0J4ihKWjBY6w3k/vDRD13/hUzPROu+hzgi46XwSUAcvZzEJJ5rupYBzpNeSYkatXihf9+VH7v+6ycYBnRx+vzHz/E8PKwYRMXIQnmOVow4Tpb3oKJGLLbd/GrRxZ/8fCYz0XrvI1n+oXP+p+9bkLFYDMaII27rDMAU4Aoq4kSMWvF3ZuSqT8zonGit9yu9fHlO9UNbs8aqQZyUpbIbZJALZLo0xBi1WN/7y4zFFyyfaI0PKBdw6UV/XpgVLEbEiBPwMeADKxhDjBqx+Cm/MGvB1PaJ1veAYrmwu7ZILAaD8VnISRJgIGC+TBEVEbF4+Joy7Vl/otU9mPTg9YQ+HkbESY6zSFzrDEJUjDEGix9keurby9FEa3sQGYBR42HjRXFUFpCKQSYTihEkLhWDzGmlNZtenWhtDyh1HhqesiHy47ylxkhOThJjgDQRiBgMHp6mpxM88dN68Lo/8vjISv7y+Hk7Gik8LIL4VLHYmeS4WFTUisUnQ5Z27ZwRPtQRzD5TDnOi+gbKw3xn/YJfTRl2NWoEEhLhRHdhLwIWmYbB4EmKFG3kyPvt08r3t22cvNB0TLTm40S5j+9smXnvvG1RhSo1GoSEzhn1sZ9iC2dITcSINT5pMrTRTj6dm1VZ41a2F1NTJf+GjH0OJSXu1Nu2zHu0b3tUpkyZKnUCjZzLqFU7ix0skLpI0hWSJksbbeRM20yXqT7Bvd7ztiyWLBOZk4f4RvjwprPW9uxyRYoUKVOTOoGEOKtl9R4hJFCjiiiKwxESENCg7upd5eUD1dqO/E/aaull3rfl0Psbx0u2s7Zw/mZbdQEBASERTp2o4mmkQ3ibCRkkj6iqOCJCAupUqVChrGn107ZP5wYb21zXxGFAlpRqXWvUqFEnICTEqUMdjrV4IVCjiyi2RkQjwSiRIYWHAadGi+lLJjhQNKRCmTjM40CPcKhTnyBurEbo1UhFiQhpUKNCkWaeTgCD3MSOhSpENVOkRJESFWo0CIhwODSr5RhkFcuox44VqEct6cAEQYmIiCSy+RGdyOS1GVewRVekRJkyNeoaSIhDre5gk3qQ51UtkMKpOAmloQYjogLENoqI1HVl1pwUpl73QYmjlieCjn4pMpZYpEojXgxV23gcsNBAMbJEyhiB1lZBM4cpDlTa3PNdZ+RnTRDGGn7Uv/Dp1BDDFBhrOpeGOFGj91CPi8Z38Zju1Jw6RyShNKhphRKjFBhmiGGGKaRHpr18a3XHhGC8xndLnc92FLREiXIzQjRyLnKd+ihFlXh/5GWUAbmAKgYUUNO0RTzUEox6k/Q19/ikJV73G4gQMcjvuGm0/vTil3WEYUZb9ggkjFy7DuhdqrTmWsIG/W+5Vnc5RUJVUZoXCJYUac0s3bLOfmn+x3Pv4HjuNAyzmhoVxtipm6Mt1crg3A3Tt7gyZSpUqFJvpt6Uit5F3Dm1ylufLRRkGSERqCgq2rRGcxZMaqqz9d/bx9PWzDyMUwxHI47v6x3Bqsaq+vrywIgdnLHt5P72YR2hQIERxnbXWBqV9JetvUS7+w0MW+mXRWSoYZIlBCCZBHv4+OrnZFYwFt5rRlIXHZdk/Cd+3lhR6q3OqEwrTS62F/0xxmhijMY1Fg1CicS9ok+2tkTHNRwKDLJKJjGDMPk3xC0+Fh8PHw9PbCc97vnsW7zcMcfo58Zw+mhnVata1YqWKTLKSAIymtijRkDkXIc+TX/rlft0TnXWsI0zNFn9JLGIxeIlv63alGxOTW47/RhjjPCtaGx47phWqFCiRGyNEQqMMMIoJSpaJZCACN2u/6O51rGO/bSAwhAd0kcAiNDciIuv2D7GiGFt/jKbPoYYg/xTtGFw8S7KlBijyOg4axQSt6pKXQKNcBn9C5vHnU7Zby/rsZ7TyKMiiGCSgI9/C4Koadf1KckvO0YQjmf5VrB9x5IBKTGWIIwmCLE14rRbpyGhi1CjK/UUdh4cxAGhLJUasdp7XgKCiHSGD7Z1ZE5JxseO4JBHjRrcz9NYMvjjyrYya/ixu7OU7184mMRErP5wC2K0VSrW41IxrS/z1DiMAx5dyFLl7yUjzmLFI00m7uSD7pHpwZS2jvYOmaTdhUnr5pzZdb7tZJjVOsjn5MyDYGzldn0izLjQdJqpMkMmiaWiO3VTNFjrHO0byRZdHBVFiskKXqHaelS1Rl0ahBKFrsvdzmt7HOI4SAq9TC6VMTEWT3zSkjVtDywpXjFjcXu+HJYG522bY+gKOrZ2F/Ka8qSLyI6kP+ldzv7iZpSV3BV69QWBr6FWKEtZGqJqo2zQUc9XvYqrUGSMUUYYY4wSZapJ51GjTp06gQSEGmnUqav1F2pwhwdymtwg28RPevlM+j/etvzGT81ZSpYyz3DHsHnqtKp2mhxtSQvmFfz1mYXpD5hl7J4cB2zlYX4fjtTm17pD53DxUps01hGh1rVGhVKCMdJypCp16jRoEMTzkrgnTDtfv8fIXodqDgJyqnxWtkjKiI28nHf3rGk//+FZfa2/ruOL/ac+0pHRdtrIkMbHFy/ytqZ2ZntSC+0cyVFnu25wWwJbm12b1JBQo7ina10RUdJYlykmqXaU0cSxYoiQIGkmHBEqbrrexov7HHM6SIMxiUayuot0snXWe+b1jcfktK6drrOgAXUypEmRUt/4fd7s8pj/V3+VjcRoJuoMFgfpQAMNNFZpN0pz0FGjSpmxJFuNMba7wiUkkkgjdeJwTrPaoXfyonqEhwdicCyniB8fdjIlr7u0ebTcsXstH2F7KTeojgZV0qRjFFIuJX6X193sL51GGroGjcRFQsKky2mCNFoWKSahXh6XnyKJ1KGikTM6lRG9hU0K+56hO0DGVObKm6jEq4enfpCeV38gV1t+qm1DULZzS/35+5esTxSJw7GWOEODhta1rnWtaTVZo2Mlm1cxucZacbF7tSgmZUiDQEOJiJzD+a4Tp3/iF+w6wNHZ/cZIOyWulz5pmGTHJE3WZnd2P3LFSVcs7e1KDTWe3zb28EWrMqIeHh4pfFKkybRs42GSjr+JWktCN5l94Fox0qBGlWoyIam2nMqpwxn1cbqT1aymfJDzvwcI9sXyQRkVa8TrsZ6/K5vKhu1hXrKbpvX3NtrbanOGZlRcXFa2zkmQIpPA7J7AxIrWqbVyUNCKknj8FM/R6uMSbUNCQnXOeS7Na7qadVrkUCL7/ocyTT6GETHGdtub50Vv65gXFaesfvNOkyNrfayKU42a8z7i1iset+4fpJYo2hhnkWb6jVEarSskJBQXuZzu0AdZd/Rn4+fKFylIw4iZZ7664pwffHTxyTLI3QNr73jns9qGj0Fb6jUIceju1ou0pNXfAyRIFrSmPcan4DjgIwJCCTW+NREO7dLH9Hd6qPPXu2WfrJWXTzAmVfFFzMrUtE/euGQFAMunfvKqra/0hso4z2+O9h0SbxKRIqUpvFaMuD3ud2JDcaqKUd3tYBGRRhqJ0wi1rkt/y8M6jw1HB+IT8F7SMiieUWNs2jNe02QGERcrBmHi9c006VRFWn2k1zxg0Vy7aQ6ek/utCqIaj5xUnDpx6lDj1Dlt17T+nOeVI8DYK/065suV7DC+iMWq32ceK7ywNJoyKs/wg8FNv1z+isZlboNqs5RLwrORTPDju1+nRk2rMq7ka2WtGChIHmGyVkQ4dep8nUK//pgNR/xVq3Ex4hPwKZkjZWOMWDz1Sfmp+04euDg9W8tT117Yb6waaJUVyTBZA4mSaUvcFBviWSWCNl3HtWLDoYLDquIw6hBVRC0p9dmuD7EGdxTfGNsj2KfJV9hlrFEjnviaIk3aT3t+kLae8wMPgcTr60kmatDQyETxNDLuJsWoJCNXmiEduw5OVVRAlTR1BE8dFsFpgc08x5ajPh3WipE+NnEZNTFc6O43PfhStHj4gR+k8UILBK3gjdeGOHwDInWiKKKIIDGGYMS14gBFVY36agmoq2MUQ0ABwy4G6NddRwmwD8gm8rKUEWZw3Xk917pq9u6r+xvNBrc1lU98u5E8wriocyrqK7HXiENEsQKGUA2qiqinHoFuYQMbdTvHfuu7BdIlX6Aiefl+qvPLf3fVALen3U1Jc6u4lksFLYSAUCMicc5lNKerKTGJbs2JwRHhoSKqeIBS001sZK2OHnOAvUBy8k265QXJygejO372o0ZYy//GkKRPSXqHBEKC5sKlkXGRtmub/jj5HpTPLJ0teSZRoqEZchQYYovuPA422FPikJTPc4E8Q0ow1szmvvQUe5ItpUnhEx+VcHGxIYE2tyIjcYEa7dEh/Sk7jvabqccWZLbczAsyIu2CUSNGrFptLm3xGp0sbBKQ9M3iVNNq9EkepDLhGLFryd9QlgKd8ZlfUVEkLkTinwaSdSDQMJ664sTleEwfpnQCQEByzGkRuzDxxGr3fpVLKqqG1KlRl7rEm8KROnWeS+k9ulKvOUEwwAMhxwgeCiLJXoJqc9MtIXPqcDiJcJGmXEZ/xCaFOyZa//Egu5d3QVUE4tTf3FbQZL9EnTrRyPk6Q/+dTSeMLVogSpF2hjGEiqjiRETQVo0ag6mqaqBZPVl/yBpt7Z6cIGIBmcwy6SdNJBYX20dxLfdyxC2hWp1BVm/jqYnW+gAgDMnlVKUgeRpY0NiZRFFxopGivua0A6uPc+deM9cTRTyAHfyOy7XCKB2E6sQogFG0gac9GB3iJZ7lNYITEgJacZ6RbzBPXqAoOVKIoA3q+DoHX3/Nc2w/YQGaknSIIU/JbFbgU6JCRUMs01mgL3Ezq7Q00VoehoxrrKys4GpmABEWy6vcw7NH1a1NMEgMM5nZ+ET0s4OIEyzH/n+Q/wOd6oq3+T3GPAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMC0wNi0yMlQyMjo1NTo1NC0wNDowMEfhqaUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTAtMDYtMjJUMjI6NTU6NTQtMDQ6MDA2vBEZAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="),border:{left:43,top:22,right:37,bottom:53},padding:{left:-6,top:-6,right:-6,bottom:-6}},say:{texture:PIXI.Texture.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABVCAYAAAC/xEFcAAAAAXNSR0IArs4c6QAAAAlwSFlzAAABigAAAYoBM5cwWAAAActpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+d3d3Lmlua3NjYXBlLm9yZzwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGMtVWAAAEL5JREFUeAHtnXuIHdUdx2fu3bvv7G42xmhiYhIwPqlSJMZXjVQa0ASUoCA2BdMogiJaRIr9Q6U0iJUKovhHaUgtPmL8o4b6j7VoUIJWFKL4KKixMTXGPHc3+7h778z08/3lnvHu3nv37hPc5AxMzsx5zZzv9/we52zmd8NgfEdItfCRRx4JPvnkE137owoCF154YfLwww8no4vCMIWsoqyi7uiMUfeZO++8M3vrrbcm1157bdGVJUninuBSV3Sqp5lHH3204b333ksuu+yy6IILLki2b98eiCgBI7JK5NQkpiagN998c5bOojKEG7nOle7Vzp2uSs2+XIWTPBXIQ5zDGicTubWpqSm66KKL4v379yfl5IxFTDUQw9WrV2ffeustSUSW85cbNmxYD8uLs9msSAnKJES3/gABzfyenp6+F1988aMvv/xyKxjtevzxx9sPHjwYt7e3R4cPH07y+Xy8cOFCERc71Ua7EdLSUI6mgEY1OTLmrlmzZvvmzZt/fskllwSZTKa8qr+ugcCDDz64ctu2bZsA+ndvvvnmn15//fU2qhYkLfPmzZPGidX0lltuSaTKOERmSko5ISH6L6STWGxfddVVf33ppZd+3tXVJRGUJHlGhOTYRzJnzpx406ZNjWeeeeYfmNwH33333W3g2AaOeZpK6xSRlggyIhwk9SYyhK+R4kAOxRQVGiBDDK6FnHV0EnHkKNMp9eXPKhg4bEgbwEtqffiGG24I7r///t+sWrVq0dlnn900MDDQSn7j4OBgDknJQkoWUkwIaEeRkfLDrJd0tLW1OYJ+dvHFF6uSvAIdpiOV4Y9KBISPDqXY2SCOY3N+rrjiimVk/6S7u7sRotoLhUILqj8lhTLhLc/sRAelDBlpW18sXbqUrCCA1a5czjlUluX/mQACjqDOzs4mmp2BMe8Ezznkt0JIc0tLi8CVuch8++23odZ2JSmxTBMbiY8qcIrhlDHd+2NiCAhcRwotOyGkG0yLnBFlCZISQ1B8/PjxCGOfsMSInZQ4FRWIKVSWEUFnaf7EXsXXFgJlZOi2CwLmkXaS397Q0NBC2jg8PJzDHc5iT8I33ngjxTsjNiUy+MchDOo+4wkRjtNzLF++vLNYLM5FVXWAbztnC/akCYwbhoaG5CRlhL1TW8YMIhNg9aXHbOnvCZkeMtRLR0dHO7h2cdnO2Qq2zZzyxBqam5uNEGHPvR22Dvn0009DiQ6MhbhokpC0gqvo0/EjAAEphNiINu7bySjQQwsS0sSZQ3WZUScvc8455wTCX08Y4XLRODx06FBWvdGJyv0xCQQEn2vW2NjYDAEiRbajiTRHqvWKSQfrkvDIkSNGhgx7akzYhwnxBsLW1lYVeglxiE4iBfQUP607uG8idQvsHNdZRwgucCjs3WNMZbHMD9F1gVQWm2EiKa3gKvp0cgiwUNTuh5EhyaCXLBJDdjbE+wohJly8eHEgD5dd4RPrjg8++CDo7e01EjA0tPN8TA7+qq2ySIidlJoHi4SEmJCQtUjI4tGwFwc6UpWlG/SdZ0JATONRmt3OUcogHVpemGToMTIT5Y8bQYgKpLZIXCWXlrfx1xNAQITokF3RIemQupKqksoa3VUFIaMr+PvJIwD+amxklBv6sXqsR0jqvo3ViS+rjgAkqGBCGNYjpEKkqj/a51ZDwEmIylBVVkX2o1pdl1ePEFfPp9OEAMSMKTGekGkCulo3JZVVrahmniekJjQzU+BV1szgOq5eSzZkRF2vskbA8eO/8SprBjmqZkO8yppBwCfT9VRV1pgu2mRe6FRog+2YNG71VNaYi5hTAdzJjNFtk1Qz6l5lTQbRaWpTzYZMVWVN06v5bsaLQD2VNd5+fL0qCHiVVQWU2ZblJWQGGfM2ZAbBna6uvZc1XUhOop9qNsR7WZMAcrqaVFNZXkKmC91J9FNNQup14416PYSmUF5NQrzKmgKgM9HUq6yZQLVOn6iqmpuLXkLqgDcTxaiqE/8hq8p/yZ2qhNRkeiYGcrL1ORM2xG+/T2GWVPOypiohU3gd37SahNRDxbu99RCapnIkw3qasFHX9woc3nZMExET7aZCQvi8St9ZO9vhiZkootR3bm8JRsMQyRhXTyNq6fNcPm9L+Ki9WNJ/jphxdeYrjUSAj3GA0T4MsdRdizC+Eak62UcQou6uueaamBB1e/jWULeJ03268Ud9BAA9rfTFF18UTzvttCE+zlGewl4luiaQgNXhk7ZEoTXSBlykhPDRpwpivllvIf0XQbiOkupz6gKkGMMix53lD6ZexeHqnWqpcBHwX3/9dbBjx44jK1asGJCkoLJk1dMTYhJCNikKnYILpKTYV7gKcknjAIMevfPOO63PP//8f2+77bbNCxYs+OPtt9+uj9wFuL7Jcg1NlZUeXkGG8mvozBHtKxqeJBmE+MsQwXXw3HPP3YdqivhMsAgeMgMRGFpUOQWf4T6RlHzzzTdBKfSfRQMKdu7caVDwBa7Zj927d3c99dRT/ySQ40Pvv//+r9euXbtcn04LZIGt4/zzz0/0Ka/ueYjl6R93/9VXXwUHDhwIeGDahmKrqPquXtpwFl84TJCEAA0Tv/LKK31Ixv/mz5/fDxkFcFNUvmHGXaCu9JVJCtexMJeUuMO+fyOCgKIKSAwUpaaFjxE7kIpuWGvhc93FW7duvZTocssWLVrUjc5r/fDDD5ft27evi3vZGCNKHUo/yljt2bMnvPHGGxVjsKB76vDsRC8hNnVtaen6ZCDHxgPgRbTKIKEy+hh3P1j2QsZhhvs9Yz3AuV8peBwiPUpZH18+D3ItwooExoxMFymE6dtvv50QVUDWPwZ0xXbK7927t5NoNoUnnnjiP3R+jNm+gFk///rrr1/Gg+nDXDxLqW9kUC988sknY6KpDRA3pci9iSkvpTSdHTQyI3eCm1m/7hEhTh0VCJeRZ3L2C3DG10/ZQOm0MLLkS2qoEsXYkYT6ydVXX60+TqgsF+yXgFoxoTUiJET6bhgp6UcMW2gkgorYmAHUW+6BBx7olF0RmE798AB1GD733HMB3kUfhOSPHTsW6+HkS1SVFkukWCAvrp3UUDRrD4ZmEq+xyD4I7EHGNgBmkpBjSpnoxyFAxBgpNCky8SNhjiaxgMuKyqSwDwEGKCGAmWxCLBAhxQhRY8rFdC+pQjxEuMM/5ZAtkB7SB/EpMcT6DZ599tke1FUfJCp+hNOdcsjtmlQvLIJFluky+jD3mnu6nT0HQzCPSu/PW6eEMMY8eQK/jzo9jEukSFpGEKI2khJhr5CxwtJUliCQlSdYY0xkGqkVhKSQp5NBGjRSsQl11vDZZ59lb7rpJrTYcjUx6aDcVNXnn38e3nfffT3r1q37HjWlYkmEZsMQL6IZM6gX5X6Y1ESW/o0U8mxg3P7gHSjzR34wJlMzvKYRwriktjQ2TUBN5uOcfZTLavdISoSpylH/pjGWLVsmzF0/J7weGocE9s3Akhl3pKQRKVFcpzYaKwpa91lnnZW75557Vr/22msPYUPMMgtA2RwYztxxxx29uHl7tBeGmtOL6aVEhHSo06O6V75TX6a6SgMimX0HY3HLAUmITk1oTbohsJPa6ufaiBE55PWThwIZyJdiIheJJhe9/PLLZlNTCZHIqEO2T+QdFRVig4YW0wk2c8TRCq+88spLL7/8cqrJoYqy2BGxm5Fk4HF9NHfu3IAH8Uxz82yG6GWorxc5zvWAXpR7vbDsibMl3JoeVt+z6mAMbnYbIWAWMVZNuGEwEgbyogbASmMXQUOcss+FEtZxCXsbtxFCI5vxCn8NqMYyjRSPY5jZ3oDNOELZiqeffnqVQFcZHUb4z1lCa/fguu1cunSpoto0KZ8Hy+fWzBARvaS9PM1mB9sGekkX5VlGUAMy/Uk6qw7GZmSAh1biNqG5lhougp2RorGiRaT+h5jXeTAbRouoLAKvGOlIkI50/E5C1FkopnCBtX2iwCjyqkLsQQ71JT24hgViB6lWneHRo0ezqLDvcdn+sXLlSjkDHTxYs18ga1ZITHt5EdOf3KuPfgiTLTG/mzLNJu3v2MAon1UH47P3JtX+lFbdFv4VzJRKdZFdLFCu7SeNuQCmls9CW6HGy6XD+nKEOPc1YZEoUGI6ClmHJBs3bjxOHPgz8MTWs66wsu+++67x3nvv3cuD/4Z7G0DOPMiQJMgo68EST3kVPbzMMc4erqW6pD9TlcV9TB81dz4p/1EfjKt8IjFE9DDE8NLyHiNIYa7ZUWRFLhc30i8liAxpIglA2U9X2FhTQriT2GjlnpSpLgXl18y+a/369UtIC3hajVz/m862QEYTNmQ+ZAh8RWuWupM6khGXmjpGvsiQ62fGjBfOo+KGSSMkzwwZ9+UDo9nsO4DddnLRLBaQHxssckSMre0YkX62wuwMcXrNzS0jIx1/OSFCQQWmuhRHFqnIb9mypRup+RU/TKI9r9zq1av/fvfdd/+ZsHRdGKUWZoFshbwqxfzV+kUS4GyHiOjlZeWPaz0zSP1hrouQEWmFqt0BHIH0hfQSs/VgTNpOD5CEBPC1R2WkKF9rjeuuu07mQGTU/LWdCr8fQEMICNk+bmQPS+Bu5O8jf2H1XWAH+PePPfbYDgBeyMO6AbcNcBX1XwtMSZh0pVxbR4hWqn3Mmn6kaJBZk5d3QXsZvRh9mkDqSUGGJpFW3EpRSYlC9rkdXBluqSeVVZMK5bujghAKyn9hpxuD/ZHiyrIlfxe/HrMbhpeg9zsAWj9UonWKAs5rxR5BhtYYsh/md3Ov1FQVhGh/Z7jkLESaMXph7aO5l5nNqbafyg9HgPJEglKwUDLmeKsSwp5KjgcMn3feeb9gBb6BTn67a9euwVdffXUxYLcwyxWHto0HNFPm1J7WFeWESEVpx3MQkTVDTt0iREQ4Aal34V6WspPiKIFePpYxCSivqOsKQgDaVu14ARmAb3rmmWeGXnjhhTkff/zxXN2LCGa+kcHDFTJbG1DakylQrj9X2uocMgZrkVFaler5E3pZNTjZj5qEIHIu8nITur8ZgnIsElsBXeGy9Wde/UgJtw22bIcA7ehq32pI9oI6Q3hPtndF3VQyPBljTymnblytlCDpeP1FUH41HoMWM4o9y60tdLSt4jwrGXMtFguU5UnhLZ+nrdYjtgAsV1MlkfaS4RAflY653y0vCM/BfGnUT8TM118AZSckCdqf0e6l9qjsRGIG8LwGIaOqzSjZC0/GKBLKb0dLiMCydQipuaQiRKtMJn0RD4kJHmqLoAgx9tsjSERMvn4pxvZvWFsoLWpFWi4ZJXfPk1GOfpXr0YSkVeSOyhsiHnmoJT8E6Bd49OOI2jzMQErY39+vmOUISaz9K3iItPrWjyjaxpnzpjwZKax1LypUVknHB/Kr9ZOh9GC/VKlZz4pafy+2jTIt8qSauLf1BaQVIMP+zoFUpa6tJ6MuByMqyJMafejHJfXfWfRTSMHpp59u5XhM+ltHgt3Qn1u1CIywKzGk2CYa5VJRMT/KG/Nn3gR3OWGbxf4SOPoB/r42AhUSQlXbm9fM1mpTy37y9FfBCCNvtmTJkiVF2RSdlJlLqzpSUdqrKUmFJwNQJnrUtCFSXdgKtx0ve2I/HIY6Ctjh1b6NPatEmO3b6A8tyiypPW/AJ8qGsKvTxv5noupow7FWXUmEyjwRtRAaf35NkMu6sDoIS1nWiUvnAJQKKitUtPAZHgGPgEdgKgj8Hz9lGesb5vB4AAAAAElFTkSuQmCC"),border:{left:27,top:6,right:17,bottom:33},padding:{left:-12,top:5,right:5,bottom:5}}};class s extends PIXI.Container{constructor(e){super(),this.background=a.think.texture,this.padding={left:1,top:1,right:1,bottom:1},this.border={left:43,top:22,right:37,bottom:53},this.scActor=e,this.addChild(this.shape=new PIXI.mesh.NineSlicePlane(this.background,this.border.left,this.border.top,this.border.right,this.border.bottom)),this.addChild(this.text=new PIXI.Text(e.props.bubble.value,{fontFamily:e.bubble.fontFamily,fontSize:e.bubble.fontSize,fill:e.bubble.tint?e.bubble.tint:1973790,align:"left",wordWrap:!0,breakWords:!0,wordWrapWidth:e.bubble.wordWrapWidth})),e.sprite&&(this.x=e.sprite.x,this.y=e.sprite.y),this.value=e.bubble.value,e.bubble.sprite=this}get value(){return this.text.text}set value(e){if(e&&"string"===typeof e){for(;e.includes("\\n");)e=e.replace("\\n","\n");for(;e.includes("\\\\");)e=e.replace("\\\\","\\");for(;e.includes("\\'");)e=e.replace("\\'","'");for(;e.includes('\\"');)e=e.replace('\\"','"')}this.text.text=e,this.visible=""!==e;const t=a[this.scActor.bubble.shape];this.background=t.texture,this.padding=t.padding,this.border=t.border,this.render()}getMirrorXY(){var e,t,r,i;if(" "===this.text.text)return[null!=this.scActor.bubble.mirrorX&&this.scActor.bubble.mirrorX,null!=this.scActor.bubble.mirrorY&&this.scActor.bubble.mirrorY];const o=this.scActor.bubble.autoZoom?this.scale.x:1,a=this.scActor.bubble.autoZoom?this.scale.y:1,s=this.text.width+this.padding.right+this.border.right,l=this.text.height+this.padding.bottom+this.border.bottom,c=(null===(t=null===(e=this.scActor)||void 0===e?void 0:e.stage)||void 0===t?void 0:t.width)?this.scActor.stage.width:n.ScoolcodeStage.DefaultWidth,p=(null===(i=null===(r=this.scActor)||void 0===r?void 0:r.stage)||void 0===i?void 0:i.height)?this.scActor.stage.height:n.ScoolcodeStage.DefaultHeight,u=this.x+s*o-c,d=this.x-s*o,h=this.y-l*a,f=this.y+l*a-p;return[null==this.scActor.bubble.mirrorX?u>0&&-d<u:this.scActor.bubble.mirrorX&&this.x-s*o>0,null==this.scActor.bubble.mirrorY?h<0&&-h>f:this.scActor.bubble.mirrorY]}mirror(){const[e,t]=this.getMirrorXY();this.shape.scale.x=e?-1:1,this.shape.scale.y=t?-1:1,this.text.x=e?this.border.right+this.padding.right:this.border.left+this.padding.left,this.text.y=t?this.border.bottom+this.padding.bottom:this.border.top+this.padding.top,this.shape.width=this.text.x+this.text.width+this.padding.right+this.border.right,this.shape.height=this.text.y+this.text.height+this.padding.bottom+(t?this.border.top:this.border.bottom),this.pivot.x=e?this.shape.width:0,this.pivot.y=t?0:this.shape.height,this.shape.pivot.x=e?this.shape.width:0,this.shape.pivot.y=t?this.shape.height:0}render(){var e,t,r;if(this.visible){this.text.style.fontFamily=this.scActor.bubble.fontFamily,this.text.style.fontSize=this.scActor.bubble.fontSize,this.text.style.fill=this.scActor.bubble.tint,this.text.calculateBounds(),this.shape.texture=this.background,this.shape.leftWidth=this.border.left,this.shape.rightWidth=this.border.right,this.shape.topHeight=this.border.top,this.shape.bottomHeight=this.border.bottom,this.scActor.bubble.backgroundRGB&&void 0!=this.scActor.bubble.backgroundRGB.r&&(this.shape.tintRgb=new Float32Array([this.scActor.bubble.backgroundRGB.r,this.scActor.bubble.backgroundRGB.g,this.scActor.bubble.backgroundRGB.b]));const i=(null===(r=null===(t=null===(e=this.scActor)||void 0===e?void 0:e.stage)||void 0===t?void 0:t.camera)||void 0===r?void 0:r.scale)?this.scActor.stage.camera.scale:1;this.scale.x=n.ScoolcodeStage.DefaultWidth/640/i,this.scale.y=n.ScoolcodeStage.DefaultHeight/360/i,this.mirror()}}}var l;!function(e){e.frameChange="frameChange"}(l||(l={}));class c extends PIXI.extras.AnimatedSprite{constructor(e){super([PIXI.Texture.EMPTY],!0),this.scActor=e,e.sprite=this,this.x=e.internalX,this.y=e.internalY,this.tint=e.tint,this.alpha=e.opacity/100,this.width=0,this.height=0,this.anchor.x=.5,this.anchor.y=.5,this.interactive=!0,this.visible=e.props.visible,e.updateSpriteRotation(),this.bubble=new s(e),this._currentFrame=0,this.on("click",(()=>{n.ScoolcodeActor.Type.OnClick.emit([],this.scActor)})),this.on("tap",(()=>{n.ScoolcodeActor.Type.OnClick.emit([],this.scActor)})),this.on("mouseover",(e=>{if(e.data.global.x===+e.data.global.x&&e.data.global.y===+e.data.global.y){const e=this.scActor.stage;e._insideSceneMode||e.getScenes().length?this.scActor.stage.setHoverExclusive(this.scActor):this.scActor.setHover(!0)}})),this.on("mouseout",(e=>{e.data.global.x===+e.data.global.x&&e.data.global.y===+e.data.global.y&&this.scActor.setHover(!1)})),this.on("touchstart",(()=>{this.scActor.setHover(!0),this.scActor.setDown(!0)})),this.on("touchend",(()=>{this.scActor.setHover(!1),this.scActor.setDown(!1)})),this.on("pointerdown",(()=>{this.scActor.setDown(!0)})),this.on("pointerup",(()=>{this.scActor.setDown(!1)})),this.on("pointerupoutside",(()=>{this.scActor.setDown(!1)})),this.onFrameChange=e=>{if(!(this.scActor&&this.scActor.internal&&this.scActor.internal.manager&&0==this.scActor.internal.manager.running)&&e>=0&&e<this.textures.length){this._currentFrame=e;const t=this.textures[e];if(t instanceof i.Texture){const r=t.defaultAnchor;if(this.anchor.x=r.x,this.anchor.y=r.y,this.scActor.texture){this.scActor.texture.setCenterX(r.x),this.scActor.texture.setCenterY(r.y),this.scActor.texture.width=t.width,this.scActor.texture.height=t.height;const i=Object.assign(Object.assign({},this.textures[e]),{name:this.scActor.texture.name});!this.scActor.stage.isStageNotRunning()&&this.scActor.texture.isLiveTexture&&n.SpriteManager.Default.updateTexture(this.scActor,i,"apply"),this.emit("frameChange",this.textures[e])}}}}}setTextures(e,t=!1){const r=this.currentFrame,n=this._currentTime;this.textures=e,t&&(this.gotoAndPlay(r),this._currentTime=n)}setAnimationSpeed(e){this.animationSpeed=e/100}getStamps(){return c.stamps.get(this)}static clearStamps(){this.stamps.forEach((e=>{for(let t=e.length-1;t>=0;t--)e[t].destroy(),e[t]=null;e=[]})),this.stamps.clear()}clearStamps(){c.clearStamps()}static registerStamp(e,t){this.stamps.has(e)||this.stamps.set(e,new Array),this.stamps.get(e).push(t)}createStamp(e){const t=new PIXI.Sprite(this.texture);c.registerStamp(this,t),t.anchor.x=this.anchor.x,t.anchor.y=this.anchor.y,t.position.x=this.position.x,t.position.y=this.position.y;const r=this.scActor.size/100/this.scActor.props.zoom*this.scActor.stage.scale;t.scale.x=r*this.scActor.props.mirrorX,t.scale.y=r,t.rotation=this.rotation,t.tint=this.tint,t.alpha=this.alpha,t.cacheAsBitmap=!0,e.addChild(t)}setZIndex(e){var t;if(!this.parent)return void console.error(`Sprite has no parent! ${(null===(t=null===this||void 0===this?void 0:this.scActor)||void 0===t?void 0:t.name)?this.scActor.name:""}`);const r=this.parent;r.removeChild(this),e>=r.children.length?r.addChild(this):r.addChildAt(this,e)}changeZIndex(e){var t;if(0===e)return;if(!this.parent)return void console.error(`Sprite has no parent! ${(null===(t=null===this||void 0===this?void 0:this.scActor)||void 0===t?void 0:t.name)?this.scActor.name:""}`);const r=Math.max(0,this.parent.getChildIndex(this)+e);this.setZIndex(r)}sendBefore(e){var t;if(!this.parent)return void console.error(`Sprite has no parent! ${(null===(t=null===this||void 0===this?void 0:this.scActor)||void 0===t?void 0:t.name)?this.scActor.name:""}`);const r=this.parent.getChildIndex(e)+1;this.setZIndex(r)}sendAfter(e){var t;if(!this.parent)return void console.error(`Sprite has no parent! ${(null===(t=null===this||void 0===this?void 0:this.scActor)||void 0===t?void 0:t.name)?this.scActor.name:""}`);let r=this.parent.getChildIndex(e);r>this.parent.getChildIndex(this)&&r--,this.setZIndex(r)}sendToBack(){var e;if(!this.parent)return void console.error(`Sprite has no parent! ${(null===(e=null===this||void 0===this?void 0:this.scActor)||void 0===e?void 0:e.name)?this.scActor.name:""}`);const t=this.parent;t.removeChild(this),t.addChildAt(this,0)}bringToFront(){var e;if(!this.parent)return void console.error(`Sprite has no parent! ${(null===(e=null===this||void 0===this?void 0:this.scActor)||void 0===e?void 0:e.name)?this.scActor.name:""}`);const t=this.parent;t.removeChild(this),t.addChild(this)}}c.stamps=new Map;class p extends i.Graphics{clear(){super.clear(),c.clearStamps();let e=this.removeChildren();for(let t=e.length-1;t>=0;t--)e[t].destroy(),e[t]=null;return e=[],this}}var u=r(42),d=r.n(u),h=r(71);const f=e=>!(!e||"string"!==typeof e)&&(e.startsWith("gallery:")||e.startsWith("user:")),m=(e,t=!0,r)=>f(e)?`${h.runtimeEnv.REACT_APP_API_URL}/assets/by-resource-url/${e}`+(t?"?redirect=data"+(r?"?variant="+r:""):""):e+(r?"?variant="+r:""),g=r(991)||r(992);class y{constructor(e){this.textureName=e}}class v{static async clearSceneCache(){for(let e in v.cache)if(v.cache.hasOwnProperty(e)){const t=v.cache[e];t.universe&&(await t.universe.end(),await t.universe.clear(),t.universe.releaseContext(),delete t.universe,delete v.cache[e])}}static loadTexture(e){const t=this;return new Promise(((r,n)=>{let o=i.Texture.fromImage(e,!0);!function n(){if(1!==o.width||1!==o.height){const n=t.loadInProgress.findIndex((t=>t.textureName==e));if(n>0){const e=t.loadInProgress[n];e.image=o,t.loadInProgress.splice(n,1),r(e)}else{const t=new y(e);t.image=o,r(t)}}else(null===o||void 0===o?void 0:o.baseTexture)&&o.baseTexture.isLoading?setTimeout(n,100):r(null)}()}))}static getCachedMetaDataSync(e){const t=v.metaCache.get(`${e}#metadata`);if(t)return t}static async prepareBackdrop(e,t=!1){const r=async()=>{const t="string"===typeof g?g:g.default,r=await this.loadTexture(t);if(r&&r.image){const t=r.image;return t.isDefault=!0,e.cache=t,e.available=!1,t}return null};if(e.solidColor){const t=new PIXI.Graphics;t.beginFill(e.solidColor),t.drawRect(0,0,1281,721),t.endFill();const r=t.generateCanvasTexture();return e.cache=r,r}if(t)return r();try{const t=await this.loadTexture(m(e.path));return t&&t.image?(t.image.width>1&&(e.cache=t.image),t.image):r()}catch(n){return r()}}static reset(e){e.removeChildren()}static async applyBackdrop(e,t){e.cache&&1!==e.cache.width||await v.prepare(e,!1);const r=e.cache;if(Array.isArray(r)){const n=new PIXI.extras.AnimatedSprite(r[0],!0);return n.x=0,n.y=0,n.width=t._width,n.height=t._height,n.animationSpeed=r[1],e.stopped||n.gotoAndPlay(0),e.sprite=n,t.addChild(n),!0}if(r){const e=new PIXI.extras.TilingSprite(r,t._width,t._height);return e.x=0,e.y=0,r.isDefault||r.width>2*n.ScoolcodeStage.DefaultWidth?(e.tileScale.x=n.ScoolcodeStage.DefaultWidth/r.width,e.tileScale.y=n.ScoolcodeStage.DefaultHeight/r.height):(e.tileScale.x=1===v.scale?.5:v.scale/2,e.tileScale.y=1===v.scale?.5:v.scale/2),v.reset(t),t.addChild(e),!r.isDefault}return!1}static async prepareLiveBackdrop(e,t){const r=[];for(let{costume:o}of t.costumes){const{data:e}=(await d.a.get(`${n.runtimeEnv.REACT_APP_API_URL}/assets/${o}`)).data,a=i.Texture.fromImage(m(e),!0);a.kind=t.kind,r.push(a)}return e.cache=[r,t.speed/100,t],e.isLiveTexture=!0,e.cache}static async prepareParallax(e){const t=e.cache=[],r=async()=>{const e=new Image,r=new i.Texture(new i.BaseTexture(e));r&&(r.isDefault=!0,t.push(r))};for(let{path:i}of e.layers){try{if((await d.a.get(m(i,!1))).data.url){const e=await this.loadTexture(m(i));if(e&&e.image&&e.image.width>1){t.push(e.image);continue}}}catch(n){}r()}return t}static async applyParallax(e,t){let r=e.cache;r||(r=await v.prepare(e)),v.reset(t);let n=0;for(let i of r){const r=new PIXI.extras.TilingSprite(i,t._width,t._height);r.x=0,r.y=0,r.tileScale.x=t._width/1920,r.tileScale.y=t._height/1080,r.tilePosition.x=0,r.tilePosition.y=0,r.interactive=!0;const o=e.layers[n++];o&&(o.position=r.tilePosition),t.addChild(r)}}static async prepareScene(e){const t=e.cache={};return t.universe=new B({},!1),t.universe.releaseContext(),await t.universe.update(e.stage),t.universe.run(),j.getInstance().addUniverse(t.universe),t.universe.texture=e,t}static async applyScene(e,t,r){e.cache&&e.cache.universe||await v.prepare(e,!1);const{universe:n}=e.cache;"back"===r?B.Default.applySecondary(n):B.Default.applyFront(n),j.getInstance().enableUniverse(n),v.reset(t),t.addChild(n.stage)}static async unapplyScene(e,t,r){if(!e.cache||!e.cache.universe)return;const{universe:n}=e.cache;v.reset(t),"back"===r?B.Default.applySecondary():B.Default.applyFront(),j.getInstance().disableUniverse(n)}static async apply(e,t,r){if(e&&t)return e instanceof n.ScoolcodeParallax?await v.applyParallax(e,t):e instanceof n.ScoolcodeScene?await v.applyScene(e,t,r):await v.applyBackdrop(e,t)}static async unapply(e,t,r){e&&t&&e instanceof n.ScoolcodeScene&&await v.unapplyScene(e,t,r)}static async prepare(e,t=!0){const r=e instanceof n.ScoolcodeScene?e.path+"/"+e.name:e.path||"local/"+e.name,i=v.cache[r];if(t&&i){const t=()=>{if(e instanceof n.ScoolcodeParallax&&e.layers.length==i.length){for(let t=0;t<i.length;t++){let r=!1;for(const n of i[t].textureCacheIds)if(n.includes("/"+e.layers[t].path+"?")){r=!0;break}if(!r)return!1}return!0}return!1};if(e instanceof n.ScoolcodeParallax||!Array.isArray(i)){if(e instanceof n.ScoolcodeParallax&&!Array.isArray(i));else if(!(e instanceof n.ScoolcodeParallax&&e.layers.length!=i.length)&&t())return e.cache=i}else;}if(e instanceof n.ScoolcodeParallax)return v.cache[r]=await v.prepareParallax(e);if(e instanceof n.ScoolcodeScene)return v.cache[r]=await v.prepareScene(e);if(f(e.path)){let t;try{t=(await d.a.get(m(e.path,!1))).data.url}catch(o){const t=await v.prepareBackdrop(e,!0);return v.cache[r]=t}const n=v.metaCache.get(`${e.path}#metadata`),i=n||(await d.a.get(t)).data;if(n||v.metaCache.set(`${e.path}#metadata`,i),e.kind=i.kind,"costume"===i.kind||"backdrop"===i.kind){const t=await v.prepareBackdrop(e);return v.cache[r]=t}if("live-costume"===i.kind||"live-backdrop"===i.kind)return v.cache[r]=await v.prepareLiveBackdrop(e,i);{console.warn("Asset type not supported: "+e.path),e.kind="backdrop";const t=await v.prepareBackdrop(e,!0);return v.cache[r]=t}}{const t=await v.prepareBackdrop(e);return v.cache[r]=t,t}}}v.metaCache=new Map,v.cache={},v.scale=1,v.loadInProgress=new Array;const b=r(993)||r(994),S=[64,128,256,512];class T{constructor(e,t=null){this.textureName=e,this.actors=new Array,t&&this.actors.push(t)}}class w{static async applyAndGetPhysics(e,t,r,i){if(!t)return null;if(t instanceof n.ScoolcodeCostume)return w.applyCostume(e,t,r,i);const o=t,a=1/(o.isDefault?this.getDefaultScaleMultiplier(o):await w.getVariantScaleMultiplier(e,t.path,o.baseTexture.realWidth,o.baseTexture.realHeight));e.props.zoom=a,e.updateSpriteScaleRaw()}static async applyCostume(e,t,r,n){var i;if(!e.sprite)return;const o=e.sprite;try{await w.prepare(e,!1,t,r,n);let a=t.cache?t.cache[0]:void 0;if(!a||a&&void 0==a.length)return;if(e.texture&&e.texture.path!==t.path)return;const s=o.scTexture;o.scTexture=t,o.setTextures(a,s&&s.path===r),s&&s.path===r?(o.anchor.x=s.centerX,o.anchor.y=s.centerY):a&&a.length>0&&a[0].defaultAnchor?(o.anchor.x=o._texture.isDefault?.5:a[0].defaultAnchor.x,o.anchor.y=o._texture.isDefault?.5:a[0].defaultAnchor.y):(o.anchor.x=t.centerX,o.anchor.y=t.centerY),!o.playing&&t.stopped&&(o._currentFrame=0,o.gotoAndStop(0));const l=-1==o._currentFrame?0:o._currentFrame,c=1/(o._texture.isDefault?this.getDefaultScaleMultiplier(o._texture):await this.getVariantScaleMultiplier(e,(null===(i=null===o||void 0===o?void 0:o._texture)||void 0===i?void 0:i.path)?o._texture.path:r,o._texture.width,o._texture.height));e.props.zoom=c,e.updateSpriteScale(!1,!1),t.sprite=o,t.isLiveTexture&&(s&&s.path==o.scTexture.path||o.setAnimationSpeed(t.speed),o.playing||t.stopped||o.gotoAndPlay(l))}catch(a){console.error(a)}}static async prepare(e,t,r,o,a){const s=async()=>{console.warn("Asset not found: "+o);const t="string"===typeof b?b:b.default,n=await this.loadTexture(t,e);if(n&&n.image){const e=n.image;e.isDefault=!0,e.centerX=.5,e.centerY=.5,e.bubbleX=.5,e.bubbleY=.5,e.massX=.5,e.massY=.5,e.defaultAnchor=new i.Point(.5,.5),r.cache=[[n.image],null,null],r.available=!1}return[]};if(!1===r.available)return r.cache||await s(),r instanceof n.ScoolcodeCostume&&(r.setCenterX(.5),r.setCenterY(.5)),[];let l;try{l=await w.getOrLoadCachedMetaData(o)}catch(u){return await s()}const{metadata:c,foundInCache:p}=l;if(c){if(!["costume","live-costume"].includes(c.kind))return await s();p||w.metaCache.set(`${o}#metadata`,c),r instanceof n.ScoolcodeCostume?(r.setCenterX(c.centerX),r.setCenterY(c.centerY)):(r.centerX=c.centerX,r.centerY=c.centerY),r.bubbleX=c.bubbleX,r.bubbleY=c.bubbleY,r.massX=c.massX||0,r.massY=c.massY||0;const i=await w.prepareLiveMetaData(c,r);i||(r.kind=c.kind);const l=e?this.getZoom(e,a):a;if("costume"!==r.kind&&"backdrop"!==r.kind){if("live-costume"===r.kind||"live-backdrop"===r.kind){return await w.prepareLiveCostume(e,t,r,c,l,a,i.framePathList,i.frameMetaDataList)}return r.cache=[null,null,null],console.warn("Asset type not supported: "+r.path),[]}try{return await w.prepareCostume(e,t,r,a,c,l)}catch(d){return await s()}}else try{return w.prepareCostume(e,t,r,a,c)}catch(h){return console.warn("Asset not found: "+r.path),[]}}static async prepareCostume(e,t,r,n,i=null,o=1){var a,s;let l=(null===(s=null===(a=null===r||void 0===r?void 0:r.sprite)||void 0===a?void 0:a._texture)||void 0===s?void 0:s.path)?r.sprite._texture.path:r.path,c=await this.getShape(l,i);if(!c)throw new Error(`No shape: ${l}`);let p=this.nearestVariant(c.width*o,c.height*o);const u=await this.prepareFrame(e,t,r,r.path,p,n,i);return r.isLiveTexture||(r.cache=[[u],[c],i]),[c]}static async prepareLiveCostume(e,t,r,n,i,o,a,s){const{costume:l}=n.costumes[0],c=a?a[0]:await this.getLiveTexturePath(l),p=[],u=[],d=s||[];for(let f=0;f<n.costumes.length;f++){const{costume:l}=n.costumes[f],h=a?a[f]:await this.getLiveTexturePath(l),m=s?s[f]:await this.getCachedMetaDataById(l,h),g=await this.getShape(h,m);g?u.push(g):console.warn("Polygon shape not found: "+c+" "+f);const y=this.nearestVariant(g.width*i,g.height*i),v=await this.prepareFrame(e,t,r,h,y,o,m);p.push(v),s||d.push(m)}r.isLiveTexture=!0,r.speed||(r.speed=n.speed);const h=r.cache?r.cache[0].length:0;return 1==p.length&&console.log("gotcha "+h),r.cache=[p,u,d],u}static async prepareFrame(e,t,r,n,o,a,s){const l=this.getScaledPath(o,n),c=this.getBiggestDownloaded(n);if(c&&c.scale>=o)return c.texture;if(this.variantCache.has(l))return this.variantCache.get(l);{let c,p,u=m(n,!0,o.toString()),d=this.getClosestDownloaded(n,o);if(d)if(d.variant<o){const p=this.loadInProgress.findIndex((e=>e.textureName==u));p<0?(this.loadTexture(u,e).then((e=>{e.image.path=n,e.image.variant=o,e.image.defaultAnchor=s?new i.Point(s.centerX,s.centerY):new i.Point(.5,.5),this.variantCache.set(l,e.image),t||e.actors.map((t=>{t.texture&&t.texture.sprite&&this.updateActorSprites(t,r,n,o,a,e)})),c=e.image})),c=d.image):(e&&-1==this.loadInProgress[p].actors.findIndex((t=>t._uuid===e._uuid))&&this.loadInProgress[p].actors.push(e),c=d.image)}else c=d.image;else p=await this.loadTexture(u,e),p.image.path=n,p.image.variant=o,p.image.defaultAnchor=s?new i.Point(s.centerX,s.centerY):new i.Point(.5,.5),this.variantCache.set(l,p.image),c=p.image;if(!c)throw new Error(`No image: ${u}`);return c}}static async updateActorSprites(e,t,r,n,o,a){var s,l;if(!this.updateTextureCache(t,a))return;(null===(s=null===t||void 0===t?void 0:t.sprite)||void 0===s?void 0:s.scActor)&&e.name===t.sprite.scActor.name&&e.cloneId===t.sprite.scActor.cloneId&&(t.sprite.alpha=e.opacity/100,e.texture&&(t.sprite.anchor.x=e.texture.centerX,t.sprite.anchor.y=e.texture.centerY)),this.applyCostume(e,t,r,o).then((()=>{e.updateSpriteScale(!0,!0)}));for(const i of e.clones)i&&this.applyCostume(i,i.texture,r,o).then((()=>{i.updateSpriteScale(!0,!0)}));if(!t||!t.sprite)return;const c=t.sprite.getStamps();if(c)for(const p of c){const t=p._texture.path,r=await this.loadCurrent(n,t);(null===(l=p.texture)||void 0===l?void 0:l.defaultAnchor)&&(r.defaultAnchor=new i.Point(p.texture.defaultAnchor.x,p.texture.defaultAnchor.y));const o={w:p.texture.width,h:p.texture.height},a={w:r.width,h:r.height};let s=1;s=o.w>=o.h?o.w/a.w:o.h/a.h,p.cacheAsBitmap=!1,p.texture=r,p.alpha=e.opacity/100,p.scale.x*=s,p.scale.y*=s,p.cacheAsBitmap=!0}}static async updateTextureVariant(e,t,r){for(const i of[...e.actors,...e.clones])i.texture&&i.texture.path===t.path&&i.texture.variant<t.variant&&r(i);const n=e.getScenes();for(const i of n)w.updateTextureVariant(i.stage,t,r)}static async loadCurrent(e,t){const r=this.getScaledPath(e,t),n=this.getBiggestDownloaded(t);if(n&&n.scale>=e)return n.texture;if(this.variantCache.has(r))return this.variantCache.get(r);{let n=m(t,!0,e.toString()),i=await this.loadTexture(n);return i.image.path=t,this.variantCache.set(r,i.image),i.image}}static getBiggestDownloaded(e){for(let t=S.length-1;t>=0;t--){const r=this.getScaledPath(S[t],e);if(this.variantCache.has(r))return{texture:this.variantCache.get(r),scale:S[t]}}}static getClosestDownloaded(e,t){let r,n;for(let i=0;i<S.length&&!(S[i]>t);i++){const t=this.getScaledPath(S[i],e);this.variantCache.has(t)&&(r=this.variantCache.get(t),n=S[i])}return r&&n?{image:r,variant:n}:void 0}static loadTexture(e,t=null){t&&this.loadInProgress.push(new T(e,t));const r=this;return new Promise(((t,n)=>{let o=i.Texture.fromImage(e,!0);!function n(){if(1!==o.width||1!==o.height){const n=r.loadInProgress.findIndex((t=>t.textureName==e));if(n>0){const e=r.loadInProgress[n];e.image=o,r.loadInProgress.splice(n,1),t(e)}else{const r=new T(e);r.image=o,t(r)}}else if((null===o||void 0===o?void 0:o.baseTexture)&&o.baseTexture.isLoading)setTimeout(n,100);else{const r=new T(e);r.image=o,t(r)}}()}))}static updateTextureCache(e,t){const r=e.cache;if(!r)return!1;const n=t.image.path,i=t.image.variant;let o=0;for(let a=0;a<r[0].length;a++)r[0][a].path===n&&(r[0][a]=t.image),r[0][a].variant==i&&o++;return o==r[0].length&&e.variant!=i&&(e.variant=i,e.sprite&&(e.sprite.texture=t.image),!0)}static getDimensions(e){if(!Array.isArray(e))return;let t,r,n,i;for(const o of e)(void 0==t||t>o[0])&&(t=o[0]),(void 0==r||r<o[0])&&(r=o[0]),(void 0==n||n>o[1])&&(n=o[1]),(void 0==i||i<o[1])&&(i=o[1]);return void 0!=t&&void 0!=r&&void 0!=n&&void 0!=i?{width:r-t,height:i-n}:{width:void 0,height:void 0}}static async getShape(e,t){let r;const n=this.getShapePath(e);if(this.shapeCache.has(n))return this.shapeCache.get(n);{let i=m(e,!0,"collision-shape");if(r=(await d.a.get(i)).data,r.fullWidth=r.width,r.fullHeight=r.height,!r)throw new Error(`No shape: ${i}`);if(!r.width||!r.height){console.error("width and height properties missing for "+e);const t=this.getDimensions(r);(null===t||void 0===t?void 0:t.width)&&(r.width=t.width),(null===t||void 0===t?void 0:t.height)&&(r.height=t.height)}let o=1;t&&(null===t||void 0===t?void 0:t.scale)&&(o=t.scale/100,r.scale=o),r.fullWidth=r.fullWidth*o,r.fullHeight=r.fullHeight*o,r.boxWidth=r.width*o,r.boxHeight=r.height*o;let a=r.width,s=0,l=r.height,c=0;for(const e of r.polygon){const t=e[0]*o/r.ratio,n=e[1]*o/r.ratio;t>s&&(s=t),t<a&&(a=t),n>c&&(c=n),n<l&&(l=n),1==o&&1==r.ratio||(e[0]=t,e[1]=n)}for(const e of r.polygon)e[0]-=a,e[1]-=l;const p=s-a+1,u=c-l+1;1!=o||1!=r.ratio?(r.width=p,r.height=u,r.boxRateX=p/r.boxWidth,r.boxRateY=u/r.boxHeight):(r.boxRateX=1,r.boxRateY=1),r.boxWidth=p,r.boxHeight=u;const h=(r.width-p)/2/r.width,f=(r.height-u)/2/r.height,g=t?Math.sign(.5-t.centerX):1,y=t?Math.sign(.5-t.centerY):1;return r.anchorDeltaX=Math.abs(h)>.02?h*g:0,r.anchorDeltaY=Math.abs(f)>.02?f*y:0,this.shapeCache.set(n,r),r}}static async getVariantScaleMultiplier(e,t,r,n){try{const e=await this.getShape(t);if(!e.width||!e.height)return console.error("width and height properties missing for "+t),1;const i={width:e.width,height:e.height},o={width:r,height:n},a=e.boxRateX||1,s=e.boxRateY||1;let l=i.width/a/o.width;return o.height>o.width&&(l=i.height/s/o.height),l}catch(i){return 1}}static getDefaultScaleMultiplier(e){const t=100,r=100,n=e.width,i=e.height;let o=t/n;return i>n&&(o=r/i),o}static nearestVariant(e,t,r=!1){const n=Math.max(e,t);for(let i=0;i<S.length;i++)if(n<S[i])return r&&i>0?S[i-1]:S[i];return S[S.length-1]}static getShapePath(e){return`@shape:${e}`}static getScaledPath(e,t){return`@variant:${e}:${t}`}static getZoom(e,t){return e.props.size/100*t}static async prepareLiveMetaData(e,t){const r=[],n=[];if("live-costume"!==e.kind)return;const i=e.costumes;if(i)for(let o=0;o<i.length;o++){const{costume:e}=i[o],a=await this.getLiveTexturePath(e),s=await this.getCachedMetaDataById(e,a),l=t.path||t.resourceURI;if(l&&l.endsWith(s.name))return t.kind="costume",void(t.isLiveTexture=!1);r.push(a),n.push(s)}return t.kind="live-costume",t.isLiveTexture=!0,{framePathList:r,frameMetaDataList:n}}static async getMetaByURL(e){const t=(await d.a.get(m(e,!1))).data;return(await d.a.get(t.url)).data}static getCachedMetaDataSync(e){const t=w.metaCache.get(`${e}#metadata`);if(t)return t}static async getCachedMetaData(e){return w.metaCache.get(`${e}#metadata`)}static async getCachedMetaDataById(e,t){let r=w.metaCache.get(`${t}#metadata`);if(r)return r;const i=`${e}#metadata`,o=`${n.runtimeEnv.REACT_APP_API_URL}/assets/${i}`;return r=(await d.a.get(o)).data,r&&w.metaCache.set(`${t}#metadata`,r),r}static async getOrLoadCachedMetaData(e){const t=await w.getCachedMetaData(e);let r=t;return r&&"actor"!==r.kind||(r=f(e)?await this.getMetaByURL(e):await d.a.get(m(e,!1))),{metadata:r,foundInCache:!!t}}static async getLiveTexturePath(e){const t=`${n.runtimeEnv.REACT_APP_API_URL}/assets/${e}/data`;if(this.liveCostumeCache.has(t))return this.liveCostumeCache.get(t).texture;const r=(await d.a.get(t)).data;return this.liveCostumeCache.set(t,r),r.texture}}w.metaCache=new Map,w.variantCache=new Map,w.shapeCache=new Map,w.liveCostumeCache=new Map,w.loadInProgress=new Array;class E{constructor(){this.preload=(e,t)=>this.cache[t]?(e.buffer=this.cache[t],e.counter=0,Promise.resolve()):new Promise(((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{this.context.decodeAudioData(i.response,(n=>{e.buffer=this.cache[t]=n,e.counter=0,r()}),(r=>{delete this.cache[t],e.available=!1,console.log("Unable to decode sound: "+t),n()}))},i.send()})),this.sources=new n.SafeArray,this.cache={},this.stopAllSounds=()=>{this.sources.forEach((e=>{e.stop()}))},this.stopSound=e=>{const t=this.sources.find((t=>t.id==e));t&&t.stop()},this.toggleMuteAllSounds=async()=>{this.muted?(this.gainNode.gain.setValueAtTime(1,this.context.currentTime),this.muted=!1):(this.gainNode.gain.setValueAtTime(0,this.context.currentTime),this.muted=!0)},this.play=(e,t)=>new Promise(((r,i)=>{try{if(this.sources.length>10)return n.Terminal.write("WARNING: Too many concurrent sounds played."),void r();const o=t.buffer;if(o){const e=this.context.createBufferSource();e.buffer=o,e.connect(this.gainNode),this.gainNode.connect(this.context.destination),e.onended=()=>{this.sources.removeAsync(e),r()},this.sources.addAsync(e),t.id=++E.soundIdCounter,e.id=t.id,e.start(0)}else e.available=!1,i()}catch(o){console.log("Unable to play sound: "+e.path)}}));try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.context=new window.AudioContext,this.gainNode=this.context.createGain(),this.muted=!1}catch(e){throw new Error("Web Audio API is not supported in this browser")}}}E.soundIdCounter=0;class x extends o.Body{constructor(e,t={direction:"",bodyOptions:{}}){super(Object.assign(Object.assign({},t.bodyOptions),{fixedRotation:!0,mass:0})),this.position=(null===t||void 0===t?void 0:t.bodyOptions).position?t.bodyOptions.position:o.vec2.fromValues(0,0),this.physics=e,this.direction=t.direction}updateAABB(){for(var e=new o.AABB,t=o.vec2.create(),r=this.shapes,n=r.length,i=t,a=this.angle,s=0;s!==n;s++){var l=r[s],c=l.angle+a;l instanceof o.Convex&&(0===l.vertices.length||isNaN(l.vertices[0][0]))||((isNaN(l.position[0])||isNaN(l.position[1]))&&(l.position=o.vec2.create()),o.vec2.rotate(i,l.position,a),o.vec2.add(i,i,this.position),l.computeAABB(e,i,c),0===s?this.aabb.copy(e):this.aabb.extend(e))}this.aabbNeedsUpdate=!1}getAABB(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb}adjustCenterOfMass(){var e=o.vec2.fromValues(0,0),t=o.vec2.fromValues(0,0),r=o.vec2.fromValues(0,0),n=0;o.vec2.set(t,0,0);for(var i=0;i!==this.shapes.length;i++){const r=this.shapes[i];if(!(r instanceof o.Convex)||0!==r.vertices.length&&!isNaN(r.vertices[0][0])){(isNaN(r.position[0])||isNaN(r.position[1]))&&(r.position=o.vec2.create());var a=this.shapes[i];o.vec2.scale(e,a.position,a.area),o.vec2.add(t,t,e),n+=a.area}}o.vec2.scale(r,t,1/n);for(i=0;i!==this.shapes.length;i++){const e=this.shapes[i];if(!(e instanceof o.Convex)||0!==e.vertices.length&&!isNaN(e.vertices[0][0])){(isNaN(e.position[0])||isNaN(e.position[1]))&&(e.position=o.vec2.create());a=this.shapes[i];o.vec2.sub(a.position,a.position,r)}}o.vec2.add(this.position,this.position,r);for(i=0;this.concavePath&&i<this.concavePath.length;i++)o.vec2.sub(this.concavePath[i],this.concavePath[i],r);this.updateMassProperties(),this.updateBoundingRadius()}}class _{constructor(e,t){if(this._name="",this._width=100,this._height=100,this._boxWidth=void 0,this._boxHeight=void 0,this._boxRateX=1,this._boxRateY=1,this._fullWidth=void 0,this._fullHeight=void 0,this.shapeStyle="box",this._textureKey="",this._polygon=[],this._scale=1,this._ratio=1,this._isSensor=!0,this._isCollides=!1,this._isStatic=!0,this._updateBodyEnabled=!1,this.massPoint=[.5,.5],this.enableUpdateBody=e=>{this._updateBodyEnabled=e,e&&this.updateBody()},this.world=e,this.program=t,this.body=new x(this),this.body._name=t.cloneUuidAsString,this.fixedRotation="allAround"!==t.rotationStyle,this.body.angle=(90-t.props.heading)*(Math.PI/180),t.texture){const e=new o.Box({width:100,height:100});this.body.addShape(e)}this.isCollides=!0}get polygon(){return this._polygon}get velocityX(){return this.body.velocity[0]}get velocityY(){return this.body.velocity[1]}get speed(){const{velocity:[e,t]}=this.body;return Math.sqrt(e**2+t**2)}get speedAngle(){const{velocity:[e,t]}=this.body;return Math.atan2(t,e)*(180/Math.PI)}get position(){const{position:[e,t]}=this.body;return{x:e,y:t}}get angle(){return this.body.angle}set angle(e){this.body.angle=e}get damping(){return this.body.damping}set damping(e){e=Math.min(1,e),e=Math.max(0,e),this.body.damping=e,this.body.angularDamping=e}get isStatic(){return this._isStatic}set isStatic(e){e?(this.body.type=o.Body.STATIC,this.body.mass=0,this.body.velocity=[0,0],this.body.angularVelocity=0,this.body.setZeroForce()):(this.body.mass=1,this.body.type=o.Body.DYNAMIC),this.body.updateMassProperties(),this._isStatic=e}get isSensor(){return this._isSensor}set isSensor(e){this._isSensor=e,this.updateBody()}get isCollides(){return this._isCollides}set isCollides(e){this._isCollides=e,this.updateBody()}get collisionShape(){return this.shapeStyle}set collisionShape(e){switch(e){case"box":case"circle":case"polygon":this.shapeStyle=e,this.updateCollisionShape(),this.program.updatePhysicsPosition()}}set fixedRotation(e){"number"===typeof this.body.fixedRotation?this.body.fixedRotation=e?1:0:this.body.fixedRotation=e}async scaleShape(e,t=1){const r=await w.getShape(e),n=new Array;for(const a of r.polygon){const e=new Array;e.push(a[0]*t),e.push(a[1]*t),n.push(e)}const i="box"!==this.shapeStyle&&r.boxWidth?r.boxWidth:r.width,o="box"!==this.shapeStyle&&r.boxHeight?r.boxHeight:r.height;return{ratio:r.ratio,height:o*t,width:i*t,polygon:n}}async createBody(e,t){this.world.shapes[e]=this.world.shapes[e]||await w.getShape(t),this.apply(e),this.program.sprite&&(this.program.sprite.scale.x=this.program.props.mirrorX*this.program.stage.scale),this._scale=B.scale}apply(e){this._textureKey=e;const t=this.world.getShape(e);this.body.shapes=[];const{ratio:r,polygon:n,width:i,height:o,boxWidth:a,boxHeight:s,boxRateX:l,boxRateY:c,fullWidth:p,fullHeight:u}=t;this._width=i,this._height=o,this._boxWidth=a,this._boxHeight=s,this._boxRateX=l,this._boxRateY=c,this._ratio=r,this._polygon=n,this._fullWidth=p,this._fullHeight=u,this.updateCollisionShape(),this.program.updatePhysicsPosition()}applyFromCache(e,t){this._textureKey=e,!this.world.shapes[e]&&t&&(this.world.shapes[e]={polygon:t.polygon,width:t.width,height:t.height,boxWidth:t.boxWidth,boxHeight:t.boxHeight,boxRateX:t.boxRateX,boxRateY:t.boxRateY,scale:t.scale?t.scale:1,ratio:t.ratio,fullWidth:t.fullWidth,fullHeight:t.fullHeight}),this.apply(e)}remove(e){this.world.removeBody(this.body)}clone(e){const t=e;this.angle=t.angle,this.body.angularVelocity=t.body.angularVelocity,this.body.velocity[0]=t.body.velocity[0],this.body.velocity[1]=t.body.velocity[1],this.enableUpdateBody(!1),this.collisionShape=t.collisionShape,this.isStatic=t.isStatic,this.isCollides=t.isCollides,this.isSensor=t.isSensor,this.damping=t.damping,this.enableUpdateBody(!0)}getShape(){const{upperBound:e,lowerBound:t}=this.body.getAABB(),r=t[0],n=e[1];return{x:r,y:n,width:e[0]-r,height:n-t[1]}}set position({x:e,y:t}){this.body.position=[e,t]}getDimensions(){const{width:e,height:t,boxWidth:r,boxHeight:n,fullWidth:i,fullHeight:o}=this.world.getShape(this._textureKey);return{width:e,height:t,boxWidth:r,boxHeight:n,fullWidth:i,fullHeight:o}}fromPolygon(e,t,r){if(e.fromPolygon(t),0==e.shapes.length){t=[];for(let e=this._polygon.length-1;e>=0;e--)t.push(r(this._polygon[e]));e.fromPolygon(t,{skipSimpleCheck:!1,removeCollinearPoints:.1})}e.shapes=e.shapes.filter((e=>{if(!(e instanceof o.Convex))return!0;const t=e.vertices;for(let r=0;r<t.length;r++)if(isNaN(t[r][0])||isNaN(t[r][1]))return!1;return!0}));for(const n of e.shapes)(isNaN(n.position[0])||isNaN(n.position[1]))&&(n.position=o.vec2.create())}calculateMassPoint(){const e=new x(this);if("polygon"===this.shapeStyle&&this._polygon){const t=e=>{const t=o.vec2.create();t[0]=e[0]*this.program.props.mirrorX,t[1]=e[1];const r=o.vec2.scale(o.vec2.create(),t,this._scale/this._ratio);return[r[0],r[1]]};let r=this._polygon.map((e=>t(e)));r.length>0&&this.fromPolygon(e,r,t)}else if("tightBox"===this.shapeStyle||"polygon"===this.shapeStyle&&!this._polygon){const t=this.getDimensions(),r=t.boxWidth?t.boxWidth:t.width,n=t.boxHeight?t.boxHeight:t.height;e.addShape(new o.Box({width:r,height:n}))}else if("box"===this.shapeStyle){const t=this.getDimensions();e.addShape(new o.Box({width:t.fullWidth,height:t.fullHeight}))}else{if("circle"!==this.shapeStyle)throw new Error(this.shapeStyle);{const{width:t,height:r}=this.getDimensions();e.addShape(new o.Circle({radius:Math.min(t,r)/2}))}}e.position=o.vec2.create();const{upperBound:t,lowerBound:r}=e.getAABB(),n=r[0],i=t[1],a=t[0]-n,s=i-r[1];0==a||0==s||isNaN(n)||isNaN(i)?this.massPoint=[.5,.5]:this.massPoint=[Math.abs(n)/a,i/s]}applyPolygon(){if("polygon"!==this.shapeStyle||!this._polygon||0==this._polygon.length||!this.program.texture||!this.program.texture.sprite)return;const e=this.program.texture.sprite,t=this.program.texture.centerX,r=this.program.texture.centerY;let n=e.texture.width/e.width/this.program.stage.camera.scale;const a=[];for(const i of this._polygon){const e=o.vec2.create();e[0]=i[0]-this._width*t,e[1]=i[1]-this._height*(1-r),e[0]=e[0]*n*this._scale,e[1]=-e[1]*n*this._scale,a.push(...e)}this.program.texture.sprite.hitArea=new i.Polygon(a);const s=1==this.program.props.mirrorX?t:1-t,l=e=>{const t=o.vec2.create();return t[0]=e[0]-this._width*s,t[1]=e[1]-this._height*(1-r),t[0]=t[0]*this.program.props.mirrorX*this._scale,t[1]=t[1]*this._scale,[t[0],t[1]]},c=this._polygon.map((e=>l(e)));this.fromPolygon(this.body,c,l)}setHitAreaFromCircle(){if("circle"!==this.shapeStyle||!this.program.texture||!this.program.texture.sprite)return;const e=this.program.texture.sprite,t=e.texture.width/e.width/this.program.stage.camera.scale,r=(this._boxWidth||this._width)*t,n=(this._boxHeight||this._height)*t,o=Math.min(r/2,n/2),a=this._width*t,s=this._height*t,l=isNaN(this.massPoint[0])?.5:this.massPoint[0],c=isNaN(this.massPoint[1])?.5:this.massPoint[1],p=this.program.texture.centerX-(l+this.program.texture.massX)+(this._boxWidth?(this._width-this._boxWidth)/this._width/2:0),u=this.program.texture.centerY-(c+this.program.texture.massY)+(this._boxHeight?(this._height-this._boxHeight)/this._height/2:0);this.program.texture.sprite.hitArea=new i.Circle(-p*a*this._scale,-u*s*this._scale,o*this._scale)}setHitAreaFromBox(){if("box"!==this.shapeStyle&&"tightBox"!==this.shapeStyle||!this.program.texture||!this.program.texture.sprite)return;const e=this.program.texture.sprite,t=e.texture.width/e.width/this.program.stage.camera.scale,r="box"===this.shapeStyle&&this._fullWidth||this._width,n="box"===this.shapeStyle&&this._fullHeight||this._height,a=r,s=n;let l=-r*this.program.texture.centerX,c=-n*this.program.texture.centerY;l=l*t*this._scale,c=c*t*this._scale,this.program.texture.sprite.hitArea=new i.Rectangle(l,c,a*t*this._scale,s*t*this._scale),this.body.shapes=[],this.body.addShape(new o.Box({width:a*this._scale,height:s*this._scale}))}updateCollisionShape(){if(this.program.texture){if(this.calculateMassPoint(),"polygon"===this.shapeStyle&&this._polygon)this._polygon.length>0&&this.applyPolygon();else if("box"===this.shapeStyle||"tightBox"===this.shapeStyle||"polygon"===this.shapeStyle&&!this._polygon)this.setHitAreaFromBox();else{if("circle"!==this.shapeStyle)throw new Error(this.shapeStyle);{this.body.shapes=[];const{width:e,height:t}=this.getDimensions();this.body.addShape(new o.Circle({radius:Math.min(e,t)/2*this._scale})),this.setHitAreaFromCircle()}}this.updateBody()}}scale(e){const t=this.program.stage.camera.props.size/100,r=e*B.scale*t;this._scale!==r&&(this._scale=r,this.updateCollisionShape())}setPosition(e,t){this.position={x:e,y:t}}show(){this.updateBody()}hide(){this.updateBody()}updateBody(){this._updateBodyEnabled&&(this.program.props.visible?this.isCollides?(this.world.removeBody(this.body),this.world.addBody(this.body),this.body.shapes.map((e=>{e.sensor=!1}))):(this.world.removeBody(this.body),this.world.addBody(this.body),this.body.shapes.map((e=>{e.sensor=!0}))):(this.world.removeBody(this.body),this.isSensor&&this.body.shapes.map((e=>{e.sensor=!0}))))}setRotation(e,t){"allAround"===t?(this.angle=e,this.fixedRotation=!1):(this.angle=0,this.fixedRotation=!0),this.updateCollisionShape()}setVelocity(e,t){if(!this.isStatic){const r=(90-t)*(Math.PI/180);this.body.velocity=[e*Math.cos(r),e*Math.sin(r)]}}applyForce(e,t){if(!this.isStatic){const r=(90-t)*(Math.PI/180);this.body.applyForce([e*Math.cos(r),e*Math.sin(r)])}}setAngularVelocity(e){this.isStatic||(this.body.angularVelocity=e)}get verticalGravity(){return this.program.stage.physics.verticalGravity}set verticalGravity(e){this.program.stage.physics.verticalGravity=e}get horizontalGravity(){return this.program.stage.physics.horizontalGravity}set horizontalGravity(e){this.program.stage.physics.horizontalGravity=e}enableWall(e){this.program.stage.physics.enableWall(e)}disableWall(e){this.program.stage.physics.disableWall(e)}isWallEnabled(e){return this.program.stage.physics.isWallEnabled(e)}set mass(e){this.body&&(this.body.mass=e,this.body.updateMassProperties())}get mass(){return this.body?this.body.mass:0}}class k{constructor(e,t){this.wallMaterial=new o.Material(-1),this.isCollides=!0,this.isSensor=!0,this.createContactMaterial=e=>{const t=new o.ContactMaterial(e,this.wallMaterial,{restitution:1});this.world.addContactMaterial(t)},this.program=e,this.world=t,this.initWalls()}update(){this.bodies.map((e=>this.world.removeBody(e))),this.initWalls()}initWalls(){const e=this.program,[t,r]=e.camera.coordinateTransformationDeviceToRelative(0,0),[n,i]=e.camera.coordinateTransformationDeviceToRelative(e.width,e.height),a=(e,t)=>{let r=!1;e&&e.shapes.map((e=>{r=e.sensor})),e=t;const n=new o.Plane;return n.sensor=r,e.addShape(n),this.world.addBody(e),e};this.topWall=a(this.topWall,new x(this,{direction:"top",bodyOptions:{position:[0,r],angle:Math.PI}})),this.rightWall=a(this.rightWall,new x(this,{direction:"right",bodyOptions:{position:[n,0],angle:.5*Math.PI}})),this.bottomWall=a(this.bottomWall,new x(this,{direction:"bottom",bodyOptions:{position:[0,i]}})),this.leftWall=a(this.leftWall,new x(this,{direction:"left",bodyOptions:{position:[t,0],angle:.5*-Math.PI}}))}get bodies(){return[this.topWall,this.rightWall,this.bottomWall,this.leftWall]}get verticalGravity(){return-this.world.gravity[1]}set verticalGravity(e){this.world.gravity=[this.world.gravity[0],-e]}get horizontalGravity(){return this.world.gravity[0]}set horizontalGravity(e){this.world.gravity=[e,this.world.gravity[1]]}getWalls(e){const t=this,r={top:[t.topWall],bottom:[t.bottomWall],right:[t.rightWall],left:[t.leftWall],any:[t.topWall,t.bottomWall,t.rightWall,t.leftWall],all:[t.topWall,t.bottomWall,t.rightWall,t.leftWall],vertical:[t.rightWall,t.leftWall],horizontal:[t.topWall,t.bottomWall]};return e in r?r[e]:{shapes:[]}}enableWall(e){this.getWalls(e).map((e=>{e.shapes.map((e=>{e.sensor=!1}))}))}disableWall(e){this.getWalls(e).map((e=>{e.shapes.map((e=>{e.sensor=!0}))}))}isWallEnabled(e){return this.getWalls(e).every((e=>e.shapes.every((e=>!e.sensor))))}}class O extends o.World{constructor(){super(...arguments),this.shapes={},this.removeBody=e=>{for(let t=this.bodies.length-1;t>=0;t--)this.bodies[t]._name===e._name&&super.removeBody(this.bodies[t])}}getShape(e){return this.shapes[e]?this.shapes[e]:{polygon:[[0,0],[0,100],[100,100],[100,0]],width:100,height:100,scale:1,ratio:1,boxRateX:1,boxRateY:1}}clear(){const e=this._listeners;e&&(e.addBody=[],e.removeBody=[]),this.bodies.map((e=>{e.shapes&&e.shapes.length&&(e.shapes=[])})),this.bodies&&this.bodies.length&&(this.bodies=[]),super.clear()}}class A{constructor(e){this.render=e=>{this.preRender();const t={box:e=>this.drawBoundingBox(e),circle:e=>this.drawBoundingEllipse(e),polygon:e=>this.drawConcave(e),tightBox:e=>this.drawBoundingBox(e)};e.map((e=>{if(!(e instanceof x)||!(e.physics instanceof _))return;return(t[e.physics.shapeStyle]||t.box)(e)})),this.postRender()},e?this.canvas=e:e=document.createElement("canvas")}preRender(){const e=this.canvas.getContext("2d");e&&(e.save(),e.scale(this.canvas.width/B.width,this.canvas.height/B.height),e.translate(B.width/2,B.height/2),e.scale(1,-1),e.fillStyle="#fff",e.globalAlpha=.5,e.clearRect(-B.width/2,-B.height/2,B.width,B.height),e.fillRect(-B.width/2,-B.height/2,B.width,B.height))}postRender(){const e=this.canvas.getContext("2d");e&&e.restore()}drawConcave({position:[e,t],angle:r,concavePath:n,physics:{program:i}}){const a=this.canvas.getContext("2d");if(!n||!a)return;const[s,...l]=n,c=o.vec2.clone(s);o.vec2.rotate(c,s,r);const[p,u]=c;a.strokeStyle="#000",a.fillStyle="#555",a.lineWidth=1,a.beginPath(),a.moveTo(e+p,t+u),l.map((n=>{const i=o.vec2.clone(n);o.vec2.rotate(i,n,r),a.lineTo(e+i[0],t+i[1])})),a.closePath(),a.fill(),a.stroke()}drawBoundingBox({shapes:e,position:[t,r],angle:n,physics:i}){const a=this.canvas.getContext("2d"),s=e[0];a&&s instanceof o.Box&&(a.save(),a.translate(t,r),a.rotate(n),a.fillStyle="#43a6ea",a.fillRect(-s.width/2,-s.height/2,s.width,s.height),a.restore())}drawBoundingEllipse({shapes:e,position:[t,r],angle:n,physics:i}){const a=this.canvas.getContext("2d"),s=e[0];if(!a||!(s instanceof o.Circle)||!(i instanceof _))return;const{program:{costume:{}}}=i;a.save(),a.translate(t,r),a.rotate(n),a.fillStyle="#43a6ea",a.strokeStyle="#43a6ea",a.beginPath(),a.ellipse(0,0,s.radius,s.radius,0,0,2*Math.PI),a.fill(),a.restore()}apply(e){this.canvas=e,this.ctx=this.canvas.getContext("2d")}}i.utils.skipHello();const C="top",M="right",P="bottom",R="left";function I(e){0}class B extends i.Application{constructor(e={},t=!0){super(Object.assign({width:B.width,height:B.height,sceneWidth:B.sceneWidth,sceneHeight:B.sceneHeight,backgroundColor:16777215,autoStart:!1},e)),this.defaultGraphics=new p,this.showPreview=!1,this.physicsEngine=new O({gravity:[0,0]}),this.basicBackdrop=new i.Container,this.backdrop=new i.Container,this.frontdrop=new i.Container,this.scene=new i.Container,this.bubbles=new i.Container,this.primary=!0,this.renderEnabled=!0,this.captureScreenshot=()=>{const e=PIXI.RenderTexture.create(this.renderer.width,this.renderer.height);this.renderer.render(this.stage,e);return this.renderer.extract.canvas(e).toDataURL("image/jpeg")},this.captureBubble=(e,t,r,o,a,l,c)=>{const p=new i.Container,u=o||n.ScoolcodeStage.DefaultWidth,d=a||n.ScoolcodeStage.DefaultHeight,h=l||0,f=c||d,m={bubble:null,props:{x:l||h,y:c||f,bubble:null},stage:{width:u,height:d,camera:{scale:1}},sprite:{x:l||h,y:c||f}},g=new n.ScoolcodeBubble;g.fontSize=t,g.wordWrapWidth=r||u-2*h,g.value=e,g.mirrorY=!1,m.bubble=g,m.props.bubble=g;const y=new s(m);y.render(),o||a||(y.x=0,y.y=y.height),p.worldAlpha=0,p.addChild(y);const v=PIXI.RenderTexture.create(o||y.width,a||y.height),b=this.renderer.transparent;this.renderer.transparent=!0,this.renderer.options.transparent=!0,this.renderer.render(p,v),this.renderer.transparent=b,this.renderer.options.transparent=b,p.removeChildren();return this.renderer.extract.canvas(v).toDataURL("image/png")},this.loadAsset=async(e,t)=>{if(t instanceof n.ScoolcodeCostume){if(e.physics||(e.physics=new _(this.physicsEngine,e)),e instanceof n.ScoolcodeActor&&(await w.prepare(e,!0,t,t.path,this.calculateRenderSize()),t.cache&&t.cache.length>1)){const r=t.cache[1];if(r)for(const n in r){const i=this.getTextureKey(e,t,+n);this.physicsEngine.shapes[i]||(this.physicsEngine.shapes[i]=r[n])}}try{for(const r of t.cache[0]){const n=e.physics;await n.createBody(`${e.name}:${t.name}`,r.path)}}catch(r){console.warn(r.message)}}else if(t instanceof n.ScoolcodeBackdrop||t instanceof n.ScoolcodeParallax)await v.prepare(t);else if(t instanceof n.ScoolcodeSound)try{await B.prepareSound(t)}catch(i){t.available=!1}},this.moveActors=()=>{if(this.scStage&&this.scStage.internal&&this.scStage.internal.manager&&this.scStage.internal.manager.isRunning()&&!this.scStage.internal.manager.isPaused()&&!this.scStage.isStageNotRunning())for(let e of[...this.scStage.actors,...this.scStage.clones]){if(!e.physics||!e.sprite||e.physics.isStatic)continue;const{angle:t,position:{x:r,y:n}}=e.physics;e.updateSpriteRotation(!1),e.setInternalHeading((Math.PI/2-t)*(180/Math.PI)),e.updatePositionFromPhysics(r,n)}},this.end=async()=>{this.physicsEngine.bodies.map((e=>{e.setZeroForce(),e.velocity=[0,0],e.angularVelocity=0})),this.physicsEngine.clear(),await this.updateScene()},this.prepareActorAssets=async e=>{const t=new _(this.physicsEngine,e);e.textures.length>0&&await Promise.all(e.textures.map((async r=>{try{if(await w.prepare(e,!1,r,r.path,this.calculateRenderSize()),r==e.texture)for(const n of r.cache[0])n.isDefault&&(e.texture.available=!1),await t.createBody(`${e.name}:${r.name}`,n.path)}catch(n){r.available=!1,console.warn(n.message)}}))),await Promise.all(e.sounds.map((async e=>{try{if(await B.prepareSound(e),e.buffer)return Promise.resolve()}catch(t){e.available=!1}}))),e.physics=t,e.sprite=new c(e),e.updateSprite=this.updateActorSprite,e.handleCollisionStart=L,e.handleCollisionEnd=F,e.pen.graphics=this.defaultGraphics},this.run=async()=>{if(this.physicsEngine.defaultContactMaterial.restitution=1,this.physicsEngine.defaultContactMaterial.friction=0,n.ExecutionManager.delay>0&&await n.Timer.Default.delay(n.ExecutionManager.delay),this.physicsEngine.step(1/16),n.SpriteManager.Default.onLoop(),this.moveActors(),this.renderEnabled&&this.primary&&this.render(),B.Default.showPreview&&this.primary){const e=[];this.secondaryUniverse&&this.secondaryUniverse.visibleAsScene()&&e.push(...this.secondaryUniverse.physicsEngine.bodies),e.push(...this.physicsEngine.bodies),this.frontUniverse&&this.frontUniverse.visibleAsScene()&&e.push(...this.frontUniverse.physicsEngine.bodies),this.previewManager.render(e)}if(this.afterRender(),!this.primary)for(const e of[...this.scStage.actors,...this.scStage.clones])e.updateScenePhysics()},this.afterRender=()=>{},this.cleanupRequested=!1,this.watchGeolocation=()=>{this.geoWatchID=navigator.geolocation.watchPosition((e=>{this.scStage&&(this.scStage.spriteManager.sensorData.position.latitude=e.coords.latitude,this.scStage.spriteManager.sensorData.position.longitude=e.coords.longitude)}))},this.handleUnregisterActor=e=>{I((e.name,e._uuid,e.stage._uuid));const t=e.sprite,r=e.physics;t&&(e.texture&&e.texture.isLiveTexture&&t.stop(),this.scene.removeChild(t),this.bubbles.removeChild(t.bubble)),r&&this.physicsEngine.removeBody(r.body)},this.updateScene=async()=>{I(this.scStage._uuid),this.bubbles.removeChildren(),this.scene.removeChildren(),this.physicsEngine.clear(),this.scStage&&this.scStage.physics&&this.scStage.physics.bodies.map((e=>this.physicsEngine.addBody(e)));const e=async e=>{let{sprite:t,physics:r}=e;if(t&&r||(t=e.sprite,r=e.physics),t&&(this.scene.addChild(t),this.bubbles.addChild(t.bubble)),r&&e.props.visible){const{body:t}=r;this.physicsEngine.removeBody(t),t._name=e.cloneUuidAsString,this.physicsEngine.addBody(t)}else if(r&&!e.props.visible){const{body:e}=r;this.physicsEngine.removeBody(e)}};this.scStage&&(this.scStage.collisions=new n.SafeArray,await Promise.all([...this.scStage.actors,...this.scStage.clones].map((t=>e(t)))))},this.updateStageTexture=async(e,t,r,n)=>await D(this.physicsEngine,e,t,r,n),this.updateActorTexture=async(e,t,r)=>{"apply"===r?(e.isLiveTexture&&e.updatePhysicsPosition(!0),await this.updateActorSprite(this.physicsEngine,e,t),this.primary&&this.scStage&&w.updateTextureVariant(this.scStage,t,(async e=>{this.updateActorSprite(null,e,t)}))):console.error("Unsupported actor texture update mode: "+r)},this.handleActorRegistration=async(e,t=!0)=>{if(I((e.name,e._uuid,e.stage._uuid)),e.sprite&&e.physics)return e.physics.world=this.physicsEngine,void(e.pen.graphics=this.defaultGraphics);await this.prepareActorAssets(e),await Promise.all(e.clones.map(this.prepareActorAssets)),t&&(await e.updateSprite(this.physicsEngine,e,e.texture),e.isClone?(e.cloneOf&&(e.size=e.cloneOf.size),this.scene.removeChild(e.sprite),this.bubbles.removeChild(e.sprite.bubble),this.physicsEngine.removeBody(e.physics.body),this.scene.addChild(e.sprite),this.bubbles.addChild(e.sprite.bubble),e.props.visible?(this.physicsEngine.removeBody(e.physics.body),this.physicsEngine.addBody(e.physics.body)):e.props.visible||this.physicsEngine.removeBody(e.physics.body)):await this.updateScene())},this.clearGeolocation=()=>{navigator.geolocation.clearWatch(this.geoWatchID)},this.handleDeviceMotion=e=>{this.scStage&&(e instanceof DeviceOrientationEvent?(this.scStage.spriteManager.sensorData.rotation.alpha=e.alpha||0,this.scStage.spriteManager.sensorData.rotation.beta=e.beta||0,this.scStage.spriteManager.sensorData.rotation.gamma=e.gamma||0):(e.rotationRate&&(this.scStage.spriteManager.sensorData.rotation.alpha=e.rotationRate.alpha||0,this.scStage.spriteManager.sensorData.rotation.beta=e.rotationRate.beta||0,this.scStage.spriteManager.sensorData.rotation.gamma=e.rotationRate.gamma||0),e.acceleration?(this.scStage.spriteManager.sensorData.acceleration.x=e.acceleration.x||0,this.scStage.spriteManager.sensorData.acceleration.y=e.acceleration.y||0,this.scStage.spriteManager.sensorData.acceleration.z=e.acceleration.z||0):e.accelerationIncludingGravity&&(this.scStage.spriteManager.sensorData.acceleration.x=e.accelerationIncludingGravity.x||0,this.scStage.spriteManager.sensorData.acceleration.y=e.accelerationIncludingGravity.y||0,this.scStage.spriteManager.sensorData.acceleration.z=e.accelerationIncludingGravity.z||0)))},this.handleCollisionStart=({bodyA:e,bodyB:t})=>{const{physics:{program:r},direction:i}=e,{physics:{program:o},direction:a}=t;r instanceof n.ScoolcodeStage&&i&&!r.physics.isWallEnabled(i)||o instanceof n.ScoolcodeStage&&a&&!o.physics.isWallEnabled(a)||(r&&r instanceof n.ScoolcodeActor&&L(this.scStage,r,o,a||o),o&&o instanceof n.ScoolcodeActor&&L(this.scStage,o,r,i||r))},this.handleCollisionEnd=({bodyA:e,bodyB:t})=>{const{physics:{program:r},direction:i}=e,{physics:{program:o},direction:a}=t;r&&r instanceof n.ScoolcodeActor&&F(this.scStage,r,o,a||o),o&&o instanceof n.ScoolcodeActor&&F(this.scStage,o,r,i||r)},this.getTextureKey=(e,t,r)=>{const n=t.name?t.name:t.path;return"costume"===t.kind||-1==r?`${e.name}:${n}`:`${e.name}:${n}:${r}`},this.updateActorSprite=async(e,t,r={path:"",name:""})=>{if(!t.texture||r&&r.name&&r.path&&""===r.name&&""===r.path)return void(e&&t.physics&&t.physics.body&&e.removeBody(t.physics.body));if(t.disposed)return;let n,i;if(e&&!t.physics&&(t.physics=new _(e,t)),t.sprite&&t.sprite.textures){const e=t.sprite._currentFrame;n=this.getTextureKey(t,r,e),i=t.texture&&t.texture.cache&&t.texture.cache.length>1&&t.texture.cache[1]&&t.texture.cache[1].length>e?t.texture.cache[1][e]:void 0}else n=this.getTextureKey(t,r,-1);t.physics.applyFromCache(n,i),await w.applyAndGetPhysics(t,r,r.path,this.calculateRenderSize())},t&&(window.Universe=this),o.Broadphase.canCollide=()=>!0,this.primary=t,this.initPixi(),this.initEvents(),this.previewManager=t?new A:new A(B.Default.previewManager.canvas)}releaseContext(){let e=this.renderer instanceof i.WebGLRenderer?this.renderer.gl:null;if(e){var t=e.getExtension("WEBGL_lose_context");t&&t.loseContext(),e=null}}static get Default(){return B._Default||(B._Default=new B)}static prepareSound(e){if(e.path&&e.available)try{return B.audioManager.preload(e,m(e.path))}catch(t){return e.available=!1,null}return null}stopAllSounds(){B.audioManager.stopAllSounds()}stopSound(e){B.audioManager.stopSound(e)}async toggleMuteAllSounds(e){await B.audioManager.toggleMuteAllSounds(),e&&(e.soundsMuted=B.audioManager.muted)}playSound(e,t){try{return B.audioManager.play(e,t)}catch(r){return Promise.resolve()}}dispatchSavedEvent(){if(this.secondaryUniverse&&this.savedEvent){const e=(e=>new e.constructor(e.type,e))(this.savedEvent);this.secondaryUniverse.view.dispatchEvent(e),this.savedEvent=null}if(this.frontUniverse&&this.savedEvent){const e=(e=>new e.constructor(e.type,e))(this.savedEvent);this.frontUniverse.view.dispatchEvent(e),this.savedEvent=null}}async apply(e,t,r={}){r.dimensions&&this.resize(r.dimensions.width,r.dimensions.height),this.frontUniverse&&this.element.appendChild(this.frontUniverse.view),this.element=e,this.secondaryUniverse&&(this.element.appendChild(this.secondaryUniverse.view),this.dispatchSavedEvent()),e.appendChild(this.view),r.matterElement&&this.previewManager.apply(r.matterElement),await this.update(t)}applySecondary(e){this.secondaryUniverse=e,e&&(e.view.id="back",e.view.style.opacity="1",e.resize(this.screen.width,this.screen.height),this.element&&this.dispatchSavedEvent())}applyFront(e){this.frontUniverse=e,e&&(e.view.id="front",e.view.style.opacity="1",e.resize(this.screen.width,this.screen.height),this.dispatchSavedEvent())}visibleAsScene(){return this.scStage&&this.scStage._visibleAsScene}initEvents(){this.physicsEngine.on("beginContact",this.handleCollisionStart,this.physicsEngine),this.physicsEngine.on("endContact",this.handleCollisionEnd,this.physicsEngine)}resize(e,t){try{this.secondaryUniverse&&this.secondaryUniverse.resize(e,t),this.frontUniverse&&this.frontUniverse.resize(e,t),this.primary&&(this.renderer.resize(e,t),B.primaryScreenWidth=this.screen.width,B.primaryScreenHeight=this.screen.height),this.stage.width=this.screen.width,this.stage.height=this.screen.height,this.stage.scale.set(this.screen.width/B.width,this.screen.height/B.height)}catch(r){setTimeout((()=>this.resize(e,t)),100)}}requestCleanup(){this.scStage&&!this.scStage._insideSceneMode&&(this.cleanupRequested=!0)}async update(e){e?((this.scStage&&this.scStage._uuid===e._uuid||e._insideSceneMode)&&!this.cleanupRequested||(this.cleanupRequested=!1,I(),j.getInstance().resetUniverseList(),await v.clearSceneCache()),this.scStage&&e?I((this.scStage._uuid,e._uuid)):I(e._uuid),this.scStage=e,v.scale=e.scale,this.primary&&(n.SpriteManager.Default.stage=e),this.moveCameraTo(0,0),this.scaleCameraTo(1),e.camera.device={moveTo:(e,t)=>this.moveCameraTo(e,t),setScale:e=>this.scaleCameraTo(e),setVirtualStageSize:(e,t)=>{this.scStage.texture||this.backdrop.removeChildren(),this.defaultGraphics.width=B.sceneWidth=e,this.defaultGraphics.height=B.sceneHeight=t;const r=this.backdrop.children[0];r&&(r.width=e,r.height=t),this.scStage.physics&&this.scStage.physics.update()}},B.sceneWidth=this.scStage.width,B.sceneHeight=this.scStage.height,B.width=n.ScoolcodeStage.DefaultWidth,B.height=n.ScoolcodeStage.DefaultHeight,B.scale=this.scStage.scale,this.clear(),this.defaultGraphics.clear(),this.primary&&(this.basicBackdrop.width=B.sceneWidth,this.basicBackdrop.height=B.sceneHeight,this.basicBackdrop.scale.set(B.scale,B.scale)),this.stage.width=this.screen.width,this.stage.height=this.screen.height,this.stage.scale.set(this.screen.width/B.width,this.screen.height/B.height),this.backdrop.scale.set(B.scale,B.scale),this.frontdrop.scale.set(B.scale,B.scale),this.defaultGraphics.width=this.backdrop.width=this.frontdrop.width=B.sceneWidth,this.defaultGraphics.height=this.backdrop.height=this.frontdrop.height=B.sceneHeight,this.scStage.layers.graphics=this.defaultGraphics,this.scStage.sprite=this.backdrop,this.scStage.frontdrop=this.primary?this.frontdrop:B.Default.frontdrop,this.scStage.updateSprite=D,this.scStage.handleCollisionStart=()=>{},this.scStage.handleCollisionEnd=()=>{},this.scStage.physics=new k(e,this.physicsEngine),await Promise.all(this.scStage.textures.map((e=>v.prepare(e)))),await Promise.all(this.scStage.sounds.map((async e=>{try{if(await B.prepareSound(e),e.buffer)return Promise.resolve()}catch(t){e.available=!1}}))).then(),await this.scStage.updateSprite({},this.scStage,this.scStage.texture||this.primary?this.scStage.texture:n.ScoolcodeStage.defaultTexture,"apply","back"),await Promise.all(this.scStage.actors.map((e=>this.handleActorRegistration(e,!1)))).then((()=>(this.scStage.actors.map((e=>e.setPosition(e.x,e.y))),this.updateScene()))),this.scStage.spriteManager.on("register",this.handleActorRegistration),this.scStage.spriteManager.on("unregister",this.handleUnregisterActor),this.primary&&(n.SpriteManager.Default.on("enable-geo",this.watchGeolocation),n.SpriteManager.Default.on("disable-geo",this.clearGeolocation))):this.clear()}clear(){if(I(),this.scStage)for(const e of this.scStage.actors)this.scStage.spriteManager.unregisterActor(e);this.backdrop.removeChildren(),this.frontdrop.removeChildren(),this.scene.removeChildren(),this.physicsEngine.clear(),this.physicsEngine.gravity[0]=0,this.physicsEngine.gravity[1]=0,this.clearGeolocation(),this.scStage&&(this.scStage.spriteManager.off("register",this.handleActorRegistration),this.scStage.spriteManager.off("unregister",this.handleUnregisterActor),this.scStage.spriteManager.off("enable-geo",this.watchGeolocation),this.scStage.spriteManager.off("disable-geo",this.clearGeolocation))}reset(){const e=this;this.scStage&&this.scStage.clones.map((t=>e.handleUnregisterActor(t)))}scaleCameraTo(e){this.primary&&this.basicBackdrop.scale.set(e,e),this.backdrop.scale.set(e,e),this.scene.scale.set(e,e),this.bubbles.scale.set(e,e),this.defaultGraphics.scale.set(e,e)}moveCameraTo(e,t){e=-e,t=-t,this.bubbles.x=this.scene.x=this.defaultGraphics.x=this.backdrop.x=e,this.bubbles.y=this.scene.y=this.defaultGraphics.y=this.backdrop.y=t,this.globalPointerPosition&&this.updatePointer(this.globalPointerPosition)}updatePointer(e){if(e.x!==+e.x||e.y!==+e.y)return;this.globalPointerPosition=e;const t=B.width/B.primaryScreenWidth,r=B.height/B.primaryScreenHeight;this.primary&&(this.scStage.setPointerPosition({x:e.x*t,y:e.y*r}),this.secondaryUniverse&&this.secondaryUniverse.scStage.setPointerPosition({x:e.x*t,y:e.y*r}),this.frontUniverse&&this.frontUniverse.scStage.setPointerPosition({x:e.x*t,y:e.y*r}))}initPixi(){this.view.style.position="absolute",this.defaultGraphics.x=0,this.defaultGraphics.y=0,this.defaultGraphics.scale.set(1,1),this.defaultGraphics.width=B.sceneWidth,this.defaultGraphics.height=B.sceneHeight,this.backdrop.x=0,this.backdrop.y=0,this.backdrop.width=B.sceneWidth,this.backdrop.height=B.sceneHeight,this.backdrop.scale.set(1,1),this.frontdrop.x=0,this.frontdrop.y=0,this.frontdrop.width=B.sceneWidth,this.frontdrop.height=B.sceneHeight,this.frontdrop.scale.set(1,1),this.frontdrop.interactive=!0,this.backdrop.interactive=!0,this.scene.interactive=!0,this.stage.interactive=!0;const e=(e,t)=>{this.secondaryUniverse&&this.secondaryUniverse.scStage.setHoverExclusive(null),this.frontUniverse&&this.frontUniverse.scStage.setHoverExclusive(null)};if(this.primary){this.basicBackdrop.x=0,this.basicBackdrop.y=0,this.basicBackdrop.scale.set(1,1),this.basicBackdrop.interactive=!0;const t=new PIXI.Sprite(PIXI.Texture.WHITE);t.hitArea=new PIXI.Rectangle(0,0,B.sceneWidth,B.sceneHeight),this.stage.addChild(this.basicBackdrop),this.basicBackdrop.addChild(t),this.basicBackdrop.on("mouseover",(t=>{e()}))}this.stage.addChild(this.backdrop),this.primary?(this.secondaryUniverse&&this.backdrop.on("mouseover",(t=>{e()})),this.scene.on("mouseover",(t=>{e()})),this.defaultGraphics.worldAlpha=1):(this.backdrop.on("mouseover",(e=>{this.scStage.setHoverExclusive(null)})),this.defaultGraphics.worldAlpha=0),this.stage.addChild(this.defaultGraphics),this.stage.addChild(this.scene),this.stage.addChild(this.bubbles),this.stage.addChild(this.frontdrop),this.stage.on("mousedown",(e=>{this.updatePointer(e.data.global),this.scStage.pointer.pointerDown=!0})),this.stage.on("mousemove",(e=>{this.updatePointer(e.data.global)})),this.stage.on("mouseup",(e=>{this.updatePointer(e.data.global),this.scStage.pointer.pointerDown=!1})),this.stage.on("mouseupoutside",(()=>this.scStage.pointer.pointerDown=!1)),this.stage.on("touchstart",(e=>{if(this.scStage){const t=B.width/B.primaryScreenWidth,r=B.height/B.primaryScreenHeight;this.scStage.spriteManager.sensorData.touchPoints[e.data.identifier]={x:e.data.global.x*t-this.backdrop.x,y:e.data.global.y*r-this.backdrop.y},n.ScoolcodeStage.Type.OnTouchDown.emit([e.data.identifier],this.scStage)}this.updatePointer(e.data.global),this.scStage.pointer.pointerDown=!0})),this.stage.on("touchmove",(async e=>{if(this.scStage){const t=B.width/B.primaryScreenWidth,r=B.height/B.primaryScreenHeight;this.scStage.spriteManager.sensorData.touchPoints[e.data.identifier]={x:e.data.global.x*t-this.backdrop.x,y:e.data.global.y*r-this.backdrop.y},n.ScoolcodeStage.Type.OnTouchMove.emit([e.data.identifier],this.scStage)}this.updatePointer(e.data.global)})),this.stage.on("touchend",(e=>{this.scStage&&(delete this.scStage.spriteManager.sensorData.touchPoints[e.data.identifier],n.ScoolcodeStage.Type.OnTouchUp.emit([e.data.identifier],this.scStage)),this.scStage.pointer.pointerDown=!1})),this.stage.on("touchendoutside",(e=>{this.scStage&&(delete this.scStage.spriteManager.sensorData.touchPoints[e.data.identifier],n.ScoolcodeStage.Type.OnTouchUp.emit([e.data.identifier],this.scStage)),this.scStage.pointer.pointerDown=!1})),this.primary&&(window.ondevicemotion=this.handleDeviceMotion,window.ondeviceorientation=this.handleDeviceMotion,this.renderer.on("prerender",(()=>{this.secondaryUniverse&&this.secondaryUniverse.stage.scale.set(1,1)})))}calculateRenderSize(){let e=n.ScoolcodeStage.DefaultRenderRatio;if(this.scStage){let t=this.scStage.camera.zoom?this.scStage.camera.zoom/100:1;e=this.scStage.renderedWidth/this.scStage.width*t}return e}}B.audioManager=new E,B.directions={[C]:n.EdgeInfo.Instance.top,[M]:n.EdgeInfo.Instance.right,[P]:n.EdgeInfo.Instance.bottom,[R]:n.EdgeInfo.Instance.left},B.width=640,B.height=360,B.sceneWidth=640,B.sceneHeight=360,B.primaryScreenWidth=640,B.primaryScreenHeight=360,B.scale=1;const D=async(e,t,r,n,i)=>{r&&(r.stopped=t.isStagePaused());const o="back"===i?t.sprite:t.frontdrop;return"apply"===n?v.apply(r,o,i):"unapply"===n?v.unapply(r,o,i):void console.error("Unknown texture update mode: "+n)},L=async(e,t,r,i)=>{const o=r instanceof n.ScoolcodeStage?B.directions[i]:r;t.physics&&t.physics.isSensor&&t.props.visible&&(r instanceof n.ScoolcodeActor&&!(r.physics&&r.physics.isSensor&&r.props.visible)||(await e.collisions.addAsync({actorA:t,actorB:o}),n.ScoolcodeActor.Type.OnTouching.emit([o],t)))},F=async(e,t,r,i)=>{const o=r instanceof n.ScoolcodeStage?B.directions[i]:r;await e.collisions.findAndRemoveAsync((({actorA:e,actorB:r})=>e==t&&r==o))};class N{constructor(e,t){this.handleTextureEvent=async(e,t,r,i)=>{const{updateActorTexture:o,updateStageTexture:a}=this.eventHandler;return e instanceof n.ScoolcodeStage?a(e,t,r,i):o(e,t,r)},this.eventHandler=t;const{loadAsset:r,playSound:i,stopAllSounds:o,stopSound:a,toggleMuteAllSounds:s}=this.eventHandler;e.on("asset",r),e.on("stopAllSounds",o),e.on("stopSound",a),e.on("toggleMuteAllSounds",s),e.on("sound",i),e.on("texture",this.handleTextureEvent)}}class j{constructor(){this.universes=[B.Default],this.update=async()=>Promise.all([...this.universes.map((e=>e.run()))]),this.stop=()=>this.universes.map((e=>e.end())),this.reset=()=>this.universes.map((e=>e.reset())),this.cleanup=()=>this.universes.map((e=>e.requestCleanup())),this.eventManager=new N(n.SpriteManager.Default,B.Default)}addUniverse(e){-1===this.universes.indexOf(e)&&this.universes.push(e)}enableUniverse(e){e.renderEnabled=!0}disableUniverse(e){e.renderEnabled=!1}removeUniverse(e){const t=this.universes.indexOf(e);-1!==t&&this.universes.splice(t,1)}resetUniverseList(){this.universes=[B.Default]}static getInstance(){return j.instance}}j.instance=new j;t.b=j},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(77)),o=u(r(244)),a=u(r(245)),s=u(r(70)),l=r(30),c=r(23),p=u(r(29));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(r,n,i,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));if(c.noFrame=!1,n||(c.noFrame=!0,n=new l.Rectangle(0,0,1,1)),r instanceof t&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=o,c.valid=!1,c.requiresUpdate=!1,c._uvs=null,c.orig=i||n,c._rotate=Number(a||0),!0===a)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(c.noFrame&&(n=new l.Rectangle(0,0,r.width,r.height),r.on("update",c.onBaseTextureUpdated,c)),c.frame=n):r.once("loaded",c.onBaseTextureLoaded,c),c.defaultAnchor=s?new l.Point(s.x,s.y):new l.Point(0,0),c._updateID=0,c.transform=null,c.textureCacheIds=[],c}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.update=function(){this.baseTexture.update()},t.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.noFrame?this.frame=new l.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},t.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},t.prototype.destroy=function(e){this.baseTexture&&(e&&(c.TextureCache[this.baseTexture.imageUrl]&&t.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},t.prototype._updateUvs=function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.fromImage=function(e,r,n,o){var a=c.TextureCache[e];return a||(a=new t(i.default.fromImage(e,r,n,o)),t.addToCache(a,e)),a},t.fromFrame=function(e){var t=c.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},t.fromCanvas=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new t(i.default.fromCanvas(e,r,n))},t.fromVideo=function(e,r,n,i){return"string"===typeof e?t.fromVideoUrl(e,r,n,i):new t(o.default.fromVideo(e,r,i))},t.fromVideoUrl=function(e,r,n,i){return new t(o.default.fromUrl(e,r,n,i))},t.from=function(e){if("string"===typeof e){var r=c.TextureCache[e];return r||(null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?t.fromVideoUrl(e):t.fromImage(e))}return e instanceof HTMLImageElement?new t(i.default.from(e)):e instanceof HTMLCanvasElement?t.fromCanvas(e,p.default.SCALE_MODE,"HTMLCanvasElement"):e instanceof HTMLVideoElement?t.fromVideo(e):e instanceof i.default?new t(e):e},t.fromLoader=function(e,r,n){var o=new i.default(e,void 0,(0,c.getResolutionOfUrl)(r)),a=new t(o);return o.imageUrl=r,n||(n=r),i.default.addToCache(a.baseTexture,n),t.addToCache(a,n),n!==r&&(i.default.addToCache(a.baseTexture,r),t.addToCache(a,r)),a},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),c.TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),c.TextureCache[t]=e)},t.removeFromCache=function(e){if("string"===typeof e){var t=c.TextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete c.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)c.TextureCache[e.textureCacheIds[n]]===e&&delete c.TextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},n(t,[{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,n=e.width,i=e.height,o=t+n>this.baseTexture.width,a=r+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+t+" + "+n+" = "+(t+n)+" > "+this.baseTexture.width,c="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+c)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),t}(s.default);function h(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}t.default=d,d.EMPTY=new d(new i.default),h(d.EMPTY),h(d.EMPTY.baseTexture),d.WHITE=function(){var e=document.createElement("canvas");e.width=10,e.height=10;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,10,10),new d(new i.default(e))}(),h(d.WHITE),h(d.WHITE.baseTexture)},function(e,t,r){var n=r(11),i=r(280),o=r(93),a=r(160),s=r(114),l=r(113),c=r(115);function p(e){e=e||{},c.call(this),this.id=e.id||++p._idCounter,this.world=null,this.shapes=[],this.mass=e.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!e.fixedRotation,this.fixedX=!!e.fixedX,this.fixedY=!!e.fixedY,this.massMultiplier=n.create(),this.position=n.fromValues(0,0),e.position&&n.copy(this.position,e.position),this.interpolatedPosition=n.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=n.fromValues(0,0),this.previousAngle=0,this.velocity=n.fromValues(0,0),e.velocity&&n.copy(this.velocity,e.velocity),this.vlambda=n.fromValues(0,0),this.wlambda=0,this.angle=e.angle||0,this.angularVelocity=e.angularVelocity||0,this.force=n.create(),e.force&&n.copy(this.force,e.force),this.angularForce=e.angularForce||0,this.damping="number"===typeof e.damping?e.damping:.1,this.angularDamping="number"===typeof e.angularDamping?e.angularDamping:.1,this.type=p.STATIC,"undefined"!==typeof e.type?this.type=e.type:e.mass?this.type=p.DYNAMIC:this.type=p.STATIC,this.boundingRadius=0,this.aabb=new l,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===e.allowSleep||e.allowSleep,this.wantsToSleep=!1,this.sleepState=p.AWAKE,this.sleepSpeedLimit=void 0!==e.sleepSpeedLimit?e.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==e.sleepTimeLimit?e.sleepTimeLimit:1,this.gravityScale=void 0!==e.gravityScale?e.gravityScale:1,this.collisionResponse=void 0===e.collisionResponse||e.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==e.ccdSpeedThreshold?e.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==e.ccdIterations?e.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}e.exports=p,p.prototype=new c,p.prototype.constructor=p,p._idCounter=0,p.prototype.updateSolveMassProperties=function(){this.sleepState===p.SLEEPING||this.type===p.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},p.prototype.setDensity=function(e){var t=this.getArea();this.mass=t*e,this.updateMassProperties()},p.prototype.getArea=function(){for(var e=0,t=0;t<this.shapes.length;t++)e+=this.shapes[t].area;return e},p.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var u=new l,d=n.create();p.prototype.updateAABB=function(){for(var e=this.shapes,t=e.length,r=d,i=this.angle,o=0;o!==t;o++){var a=e[o],s=a.angle+i;n.rotate(r,a.position,i),n.add(r,r,this.position),a.computeAABB(u,r,s),0===o?this.aabb.copy(u):this.aabb.extend(u)}this.aabbNeedsUpdate=!1},p.prototype.updateBoundingRadius=function(){for(var e=this.shapes,t=e.length,r=0,i=0;i!==t;i++){var o=e[i],a=n.length(o.position),s=o.boundingRadius;a+s>r&&(r=a+s)}this.boundingRadius=r},p.prototype.addShape=function(e,t,r){if(e.body)throw new Error("A shape can only be added to one body.");e.body=this,t?n.copy(e.position,t):n.set(e.position,0,0),e.angle=r||0,this.shapes.push(e),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},p.prototype.removeShape=function(e){var t=this.shapes.indexOf(e);return-1!==t&&(this.shapes.splice(t,1),this.aabbNeedsUpdate=!0,e.body=null,!0)},p.prototype.updateMassProperties=function(){if(this.type===p.STATIC||this.type===p.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var e=this.shapes,t=e.length,r=this.mass/t,i=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var o=0;o<t;o++){var a=e[o],s=n.squaredLength(a.position);i+=a.computeMomentOfInertia(r)+r*s}this.inertia=i,this.invInertia=i>0?1/i:0}this.invMass=1/this.mass,n.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}};n.create();p.prototype.applyForce=function(e,t){if(n.add(this.force,this.force,e),t){var r=n.crossLength(t,e);this.angularForce+=r}};var h=n.create(),f=n.create(),m=n.create();p.prototype.applyForceLocal=function(e,t){t=t||m;var r=h,n=f;this.vectorToWorldFrame(r,e),this.vectorToWorldFrame(n,t),this.applyForce(r,n)};var g=n.create();p.prototype.applyImpulse=function(e,t){if(this.type===p.DYNAMIC){var r=g;if(n.scale(r,e,this.invMass),n.multiply(r,this.massMultiplier,r),n.add(this.velocity,r,this.velocity),t){var i=n.crossLength(t,e);i*=this.invInertia,this.angularVelocity+=i}}};var y=n.create(),v=n.create(),b=n.create();p.prototype.applyImpulseLocal=function(e,t){t=t||b;var r=y,n=v;this.vectorToWorldFrame(r,e),this.vectorToWorldFrame(n,t),this.applyImpulse(r,n)},p.prototype.toLocalFrame=function(e,t){n.toLocalFrame(e,t,this.position,this.angle)},p.prototype.toWorldFrame=function(e,t){n.toGlobalFrame(e,t,this.position,this.angle)},p.prototype.vectorToLocalFrame=function(e,t){n.vectorToLocalFrame(e,t,this.angle)},p.prototype.vectorToWorldFrame=function(e,t){n.vectorToGlobalFrame(e,t,this.angle)},p.prototype.fromPolygon=function(e,t){t=t||{};for(var r=this.shapes.length;r>=0;--r)this.removeShape(this.shapes[r]);var a,s=new i.Polygon;if(s.vertices=e,s.makeCCW(),"number"===typeof t.removeCollinearPoints&&s.removeCollinearPoints(t.removeCollinearPoints),"undefined"===typeof t.skipSimpleCheck&&!s.isSimple())return!1;this.concavePath=s.vertices.slice(0);for(r=0;r<this.concavePath.length;r++){var l=[0,0];n.copy(l,this.concavePath[r]),this.concavePath[r]=l}a=t.optimalDecomp?s.decomp():s.quickDecomp();var c=n.create();for(r=0;r!==a.length;r++){for(var p=new o({vertices:a[r].vertices}),u=0;u!==p.vertices.length;u++){l=p.vertices[u];n.sub(l,l,p.centerOfMass)}n.scale(c,p.centerOfMass,1),p.updateTriangles(),p.updateCenterOfMass(),p.updateBoundingRadius(),this.addShape(p,c)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0};n.fromValues(0,0);var S=n.fromValues(0,0),T=n.fromValues(0,0),w=n.fromValues(0,0);p.prototype.adjustCenterOfMass=function(){var e=S,t=T,r=w,i=0;n.set(t,0,0);for(var o=0;o!==this.shapes.length;o++){var a=this.shapes[o];n.scale(e,a.position,a.area),n.add(t,t,e),i+=a.area}n.scale(r,t,1/i);for(o=0;o!==this.shapes.length;o++){a=this.shapes[o];n.sub(a.position,a.position,r)}n.add(this.position,this.position,r);for(o=0;this.concavePath&&o<this.concavePath.length;o++)n.sub(this.concavePath[o],this.concavePath[o],r);this.updateMassProperties(),this.updateBoundingRadius()},p.prototype.setZeroForce=function(){n.set(this.force,0,0),this.angularForce=0},p.prototype.resetConstraintVelocity=function(){var e=this.vlambda;n.set(e,0,0),this.wlambda=0},p.prototype.addConstraintVelocity=function(){var e=this,t=e.velocity;n.add(t,t,e.vlambda),e.angularVelocity+=e.wlambda},p.prototype.applyDamping=function(e){if(this.type===p.DYNAMIC){var t=this.velocity;n.scale(t,t,Math.pow(1-this.damping,e)),this.angularVelocity*=Math.pow(1-this.angularDamping,e)}},p.prototype.wakeUp=function(){var e=this.sleepState;this.sleepState=p.AWAKE,this.idleTime=0,e!==p.AWAKE&&this.emit(p.wakeUpEvent)},p.prototype.sleep=function(){this.sleepState=p.SLEEPING,this.angularVelocity=0,this.angularForce=0,n.set(this.velocity,0,0),n.set(this.force,0,0),this.emit(p.sleepEvent)},p.prototype.sleepTick=function(e,t,r){if(this.allowSleep&&this.type!==p.SLEEPING){this.wantsToSleep=!1;this.sleepState;n.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)>=Math.pow(this.sleepSpeedLimit,2)?(this.idleTime=0,this.sleepState=p.AWAKE):(this.idleTime+=r,this.sleepState=p.SLEEPY),this.idleTime>this.sleepTimeLimit&&(t?this.wantsToSleep=!0:this.sleep())}},p.prototype.overlaps=function(e){return this.world.overlapKeeper.bodiesAreOverlapping(this,e)};var E=n.create(),x=n.create();p.prototype.integrate=function(e){var t=this.invMass,r=this.force,i=this.position,o=this.velocity;n.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*e),n.scale(E,r,e*t),n.multiply(E,this.massMultiplier,E),n.add(o,E,o),this.integrateToTimeOfImpact(e)||(n.scale(x,o,e),n.add(i,i,x),this.fixedRotation||(this.angle+=this.angularVelocity*e)),this.aabbNeedsUpdate=!0};var _=new a,k=new s({mode:s.ALL}),O=n.create(),A=n.create(),C=n.create(),M=n.create();p.prototype.integrateToTimeOfImpact=function(e){if(this.ccdSpeedThreshold<0||n.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;n.normalize(O,this.velocity),n.scale(A,this.velocity,e),n.add(A,A,this.position),n.sub(C,A,this.position);var t,r=this.angularVelocity*e,i=n.length(C),o=1,a=this;if(_.reset(),k.callback=function(e){e.body!==a&&(t=e.body,e.getHitPoint(A,k),n.sub(C,A,a.position),o=n.length(C)/i,e.stop())},n.copy(k.from,this.position),n.copy(k.to,A),k.update(),this.world.raycast(_,k),!t)return!1;var s=this.angle;n.copy(M,this.position);for(var l=0,c=0,p=0,u=o;u>=c&&l<this.ccdIterations;){l++,p=(u-c)/2,n.scale(x,C,o),n.add(this.position,M,x),this.angle=s+r*o,this.updateAABB(),this.aabb.overlaps(t.aabb)&&this.world.narrowphase.bodiesOverlap(this,t)?c=p:u=p}return o=p,n.copy(this.position,M),this.angle=s,n.scale(x,C,o),n.add(this.position,this.position,x),this.fixedRotation||(this.angle+=r*o),!0},p.prototype.getVelocityAtPoint=function(e,t){return n.crossVZ(e,t,this.angularVelocity),n.subtract(e,this.velocity,e),e},p.sleepyEvent={type:"sleepy"},p.sleepEvent={type:"sleep"},p.wakeUpEvent={type:"wakeup"},p.DYNAMIC=1,p.STATIC=2,p.KINEMATIC=4,p.AWAKE=0,p.SLEEPY=1,p.SLEEPING=2},function(e,t,r){e.exports=i;var n=r(27);function i(e,t,r,i){this.type=r,i=n.defaults(i,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=e,this.bodyB=t,this.collideConnected=i.collideConnected,i.wakeUpBodies&&(e&&e.wakeUp(),t&&t.wakeUp())}i.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},i.DISTANCE=1,i.GEAR=2,i.LOCK=3,i.PRISMATIC=4,i.REVOLUTE=5,i.prototype.setStiffness=function(e){for(var t=this.equations,r=0;r!==t.length;r++){var n=t[r];n.stiffness=e,n.needsUpdate=!0}},i.prototype.setRelaxation=function(e){for(var t=this.equations,r=0;r!==t.length;r++){var n=t[r];n.relaxation=e,n.needsUpdate=!0}}},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,"a",(function(){return n}))},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isActorMethodOrProperty=t.isStageMethodOrProperty=t.removeRegexpSpecialChars=t.getPropertyDescriptor=t.normaliseName=t.process=t.canProcess=t.validators=t.validateName=t.constants=void 0;const n=r(4),i="case,catch,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,let,void,while,with,class,enum,export,extends,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElemenmarmintt,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan,boolean,string,function,vector,vector3i,vector3d,number,Boolean,String,Function,Vector,Vector3i,Vector3d,Number",o=new RegExp("^(?!(?:do|if|in|for|let|new|try|let|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$"),a=/^([^\[\]]+)(?:\s*\[\s*(["']?)\s*(.*)?\s*\2\s*\])?$/,s=/^[0-9]+$/;let l={enableScope:!0,enableBrackets:!1,allowUpperCase:!0,allowLowerCase:!0,validateChars:!1,invalidLet:!0,actorProps:!0,stageProps:!0,spaceAllowed:!1,stage:void 0,scope:void 0,allowAssignment:!1},c=Object.keys(l),p={isValid:u};function u(e,r){let n,p,u,d,h,g,y;if(r&&"Object"===r.constructor.name)for(y={},p=0,u=c.length;p<u;++p)d=c[p],y[d]=d in r?r[d]:l[d];else y=l;if(y.validateChars&&!t.validators.validateChars(e))return!1;if([...t.constants.keywords,...t.constants.nonTerminalKeywords,...t.constants.booleanLiterals,...t.constants.reservedWords,...t.constants.literalKeywords,...i.split(","),...t.constants.typeKeywords,...t.constants.operators,...t.constants.stageKeywords].includes(e))return!1;if(y.stageProps&&f(e,y.stage,y.allowAssignment))return!1;if(y.actorProps&&m(e,y.scope))return!1;function v(e){return!o.test(e)||!y.allowLowerCase&&e.toLocaleUpperCase()!=e||!y.allowUpperCase&&e.toLocaleLowerCase()!=e}if("string"===typeof e){for(n=y.enableScope?e.split("."):[e],p=0,u=n.length;p<u;++p)if(d=n[p],y.spaceAllowed&&(d=d.replace(/\s/g,"_")),y.enableBrackets){if(h=d.match(a),!h||y.invalidLet&&v(h[1].trim())||!h[2]&&h[3]&&!s.test(g=h[3].trim())&&y.invalidLet&&v(g))return!1}else if(y.invalidLet&&v(d))return!1;return!0}return!1}function d(e){return n.ExecutionManager.Default.bloxMode?e:e.replace(/(\s)|(-)/g,"_")}function h(e,t){if(e)return Object.getOwnPropertyDescriptor(e,t)||h(Object.getPrototypeOf(e),t)}t.constants={stageKeywords:["stage","actor","for","in","range","and","or","not","is","del","pass","def","import","if","self","else","ref","return","while","True","False","when","def","part","from","started","clicked","pointerOver","pointerOut","pointerDown","pointerUp","cloned","touched","never","setup","keyPressed","signalReceived","dataReceived","sceneChanged","touchDown","touchMove","touchUp","shown","hidden"],operators:["=",">","<","!","==","<=",">=","!=","and","or","+","-","*","/","//","%","+=","-=","*=","/=","**"],typeKeywords:["costume","backdrop","parallax","layer","tilemap","scene","sound","default","use","int","float","number","str","list","dict","tuple","bool","boolean","Callable","monitor","record"],keywords:["when","actor","import","stage","self","asm","else","for","def","if","in","return","del","break","continue","pass","while","is","and","or","del","not","elif","ref","use","part","def","layer"],codeSequenceKeywords:["when","def","part"],nonTerminalKeywords:["del","pass","continue","break","return"],literalKeywords:["False","None","True"],booleanLiterals:["False","True"],reservedWords:["abstract","byte","double","enum","export","extends","final","float","goto","implements","interface","long","native","package","short","super","synchronized","throws","transient","volatile","with","case","catch","finally","instanceof","new","switch","typeof","void","debugger","const","await","except","raise","class","lambda","as","nonlocal","assert","global","with","async","yield"],startCharacters:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xc1\xc9\xcd\xd3\xda\xdd\xe1\xe9\xed\xf3\xfa\xfd\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc3\xd1\xd5\xe3\xf1\xf5\xc4\xcb\xcf\xd6\xdc\xe4\xeb\xef\xf6\xfc\xe7\xc7\xdf\xd8\xf8\xc5\xe5\xc6\xe6\xde\xfe\xd0\xf0\u0151\u0171\u0150\u0170\u016f\xfd\u017e\u010d\u010f\u011b\u0148\u0159\u0161\u0165\u0104\u0141\u013d\u015a\u0160\u015e\u0164\u0179\u017d\u017b\u0105\u0142\u013e\u015b\u0161\u015f\u0165\u017a\u017e\u017c\u0154\u0102\u0106\u0139\xc7\u010c\u0118\u011a\xce\u010e\u0143\u0147\xd4\u0158\u016e\xdd\u0162\u0155\u0103\u0110\u0107\xe7\u010d\u0119\xee\u010f\u0111\u0144\u0148\u0159\u016f\xfd\u0163\u011b\u0218\u021a\u0219\u021b\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u0458\u0452\u0459\u045a\u045b\u045f\u0408\u0402\u0409\u040a\u040b\u040f\u04e9\u04af\u04e8\u04ae\u1ee4\u1eea\u1eec\u1eee\u1ee8\u1ef0\u1ef2\u1ef6\u1ef8\u1ef4\u1ea2\u1ea0\u1eb6\u1eac\u1eba\u1ebc\u1eb8\u1ec6\u1ec8\u0128\u1eca\u1ece\u1ecc\u1ed8\u1edc\u1ede\u1ee0\u1eda\u1ee2\u1ee6\u0168\u01a0\u01af\u01a1\u01b0\u1eb0\u1ea3\u1ea1\u1eb2\u1eb1\u1eb3\u1eb5\u1eaf\u1eb4\u1eae\u1ea6\u1ea8\u1eaa\u1ea4\u1ec0\u1eb7\u1ea7\u1ea9\u1eab\u1ea5\u1ead\u1ec2\u1ebb\u1ebd\u1eb9\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7\u1ec9\u1ec4\u1ebe\u1ed2\u0129\u1ecb\u1ed4\u1ecf\u1ecd\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u1edd\u1edf\u1ee1\u1edb\u1ee3\u1ed6\u1ee7\u0169\u1ee5\u1eeb\u1eed\u1eef\u1ee9\u1ef1\u1ef3\u1ef7\u1ef9\u1ef5\u1ed0I\u0131\u0130\u011e\u011f",partCharacters:"_\u203f\u2040\u2054\ufe33\ufe34\ufe4d\ufe4e\ufe4f\uff3f\u200c\u200d",digits:"0123456789",lineTerminators:"\n\r\u2028\u2029",attributeMarker:"@",dotCharacter:"."},Object.defineProperties(p,{enableScope:{enumerable:!0,configurable:!1,get:function(){return l.enableScope},set:function(e){l.enableScope=e}},enableBrackets:{enumerable:!0,configurable:!1,get:function(){return l.enableBrackets},set:function(e){l.enableBrackets=e}},allowUpperCase:{enumerable:!0,configurable:!1,get:function(){return l.allowUpperCase},set:function(e){l.allowUpperCase=e}},allowLowerCase:{enumerable:!0,configurable:!1,get:function(){return l.allowLowerCase},set:function(e){l.allowLowerCase=e}}}),t.validateName=u,t.constants.partCharacters=t.constants.startCharacters+t.constants.digits+t.constants.partCharacters,t.validators={isStart:e=>-1!==t.constants.startCharacters.indexOf(e),isPart:e=>-1!==t.constants.partCharacters.indexOf(e),isKeyword:e=>(!e.lastToken||"."!==e.lastToken.type)&&-1!==t.constants.keywords.indexOf(e.tokenValue),isStageKeyword:e=>-1!==t.constants.stageKeywords.indexOf(e),isTypeKeyword:e=>-1!==t.constants.typeKeywords.indexOf(e),isNonTerminalKeyword:e=>-1!==t.constants.nonTerminalKeywords.indexOf(e),isLiteralKeyword:e=>-1!==t.constants.literalKeywords.indexOf(e),isReservedWord:e=>-1!==t.constants.reservedWords.indexOf(e),isBoolean:e=>-1!==t.constants.booleanLiterals.indexOf(e),validateChars(e){for(const r of e)if(!t.validators.isPart(r))return!1;return!0},validateCharsWithSpace(e){for(const r of e)if(" "!==r&&!t.validators.isPart(r))return!1;return!0},isInvalidNumber:e=>"string"===typeof e?!e.match(/^\s*-?\d+(\.\d+)?\s*$/):void 0==e||null==e||!("number"===typeof e&&!Number.isNaN(e))},t.canProcess=function(e){return t.validators.isStart(e.char)||e.char==t.constants.attributeMarker},t.process=function(e){let r=!1;e.char==t.constants.attributeMarker&&(r=!0,e.skip(),e.next());do{e.add(),e.next()}while(e.char&&t.validators.isPart(e.char));if(r)e.token("attribute"),e.nonTerminalMode();else if(t.validators.isKeyword(e)){e.tokenValue;e.token("keyword")}else t.validators.isLiteralKeyword(e.tokenValue)?t.validators.isBoolean(e.tokenValue)?e.token("literal","boolean"):e.token("literal",e.tokenValue):t.validators.isReservedWord(e.tokenValue)?e.error("RESERVED_WORD",e.tokenValue):e.token("identifier")},t.normaliseName=d,t.getPropertyDescriptor=h;function f(e,t,r=!1){const i=d(e),o=h(t||n.ScoolcodeStage.Default?t||n.ScoolcodeStage.Default:n.ScoolcodeStage.prototype,i);if(void 0!==o&&(!r||!o.set))return!0;if(!t){for(const e of n.ScoolcodeStage.Type.properties)if(e.name===i&&(!r||!(e.valueType instanceof n.ScoolcodeEnumInfoBase)&&!o.set))return!0;for(const e of n.ScoolcodeStage.Type.methods)if(e.name===i)return!0}return!(!t||void 0===t[e])}function m(e,t,r=!1){const i=d(e);let o=n.ScoolcodeActor.Default?n.ScoolcodeActor.Default:n.ScoolcodeActor.prototype;t&&"ScoolcodeActor"===t.constructor.name&&(o=t);const a=h(o,i);if(void 0!==a&&(!r||!a.set))return!0;for(const s of n.ScoolcodeActor.Type.properties)if(s.name===i&&(!r||!(s.valueType instanceof n.ScoolcodeEnumInfoBase)&&!a.set))return!0;for(const s of n.ScoolcodeActor.Type.methods)if(s.name===i)return!0;return!1}t.removeRegexpSpecialChars=e=>{if(e){let t="";for(const r of e)"?*\\()+[]{}$^.".includes(r)||(t+=r);return t}return null},t.isStageMethodOrProperty=f,t.isActorMethodOrProperty=m},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e,t){var r=i?i+e:e,n=this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,a=n.length,s=new Array(a);o<a;o++)s[o]=n[o].fn;return s},s.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,c,p=this._events[s],u=arguments.length;if(p.fn){switch(p.once&&this.removeListener(e,p.fn,void 0,!0),u){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,t),!0;case 3:return p.fn.call(p.context,t,r),!0;case 4:return p.fn.call(p.context,t,r,n),!0;case 5:return p.fn.call(p.context,t,r,n,o),!0;case 6:return p.fn.call(p.context,t,r,n,o,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];p.fn.apply(p.context,l)}else{var d,h=p.length;for(c=0;c<h;c++)switch(p[c].once&&this.removeListener(e,p[c].fn,void 0,!0),u){case 1:p[c].fn.call(p[c].context);break;case 2:p[c].fn.call(p[c].context,t);break;case 3:p[c].fn.call(p[c].context,t,r);break;case 4:p[c].fn.call(p[c].context,t,r,n);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];p[c].fn.apply(p[c].context,l)}}return!0},s.prototype.on=function(e,t,r){var n=new a(t,r||this),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},s.prototype.once=function(e,t,r){var n=new a(t,r||this,!0),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},s.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return 0===--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||(0===--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var l=0,c=[],p=s.length;l<p;l++)(s[l].fn!==t||n&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new o:delete this._events[a]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,e.exports=s},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(191),t),i(r(663),t),i(r(668),t),i(r(716),t),i(r(724),t),i(r(199),t)},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r(0),i=n.createContext();function o(){return n.useContext(i)}t.a=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(119)),n(r(995)),n(r(996)),n(r(997)),n(r(1001));const i=r(95);t.tags={SHARED:i.SHARED,CLIENT:i.CLIENT}},,,function(e,t,r){"use strict";t.__esModule=!0;var n=r(23),i=l(r(29)),o=l(r(70)),a=l(r(242)),s=l(r(154));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return s.uid=(0,n.uid)(),s.touched=0,s.resolution=a||i.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=i.default.MIPMAP_TEXTURES,s.wrapMode=i.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],r&&s.loadSource(r),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},t.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=s.default.isPow2(this.realWidth)&&s.default.isPow2(this.realHeight)},t.prototype.loadSource=function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!e.getContext){this.isLoading=!0;var n=this;if(e.onload=function(){n._updateImageType(),e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},e.onerror=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this)}}},t.prototype._updateImageType=function(){if(this.imageUrl){var e=(0,n.decomposeDataUri)(this.imageUrl),t=void 0;if(e&&"image"===e.mediaType){var r=e.subType.split("+")[0];if(!(t=(0,n.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(t=(0,n.getUrlFileExtension)(this.imageUrl))||(t="png");this.imageType=t}},t.prototype._loadSvgSource=function(){if("svg"===this.imageType){var e=(0,n.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},t.prototype._loadSvgSourceUsingDataUri=function(e){var t=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},t.prototype._loadSvgSourceUsingXhr=function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit("error",e)},t.open("GET",this.imageUrl,!0),t.send()},t.prototype._loadSvgSourceUsingString=function(e){var r=(0,n.getSvgSize)(e),i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var a=document.createElement("canvas");a.width=this.realWidth,a.height=this.realHeight,a._pixiId="canvas_"+(0,n.uid)(),a.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,t.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},t.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},t.prototype.destroy=function(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},t.fromImage=function(e,r,i,o){var s=n.BaseTextureCache[e];if(!s){var l=new Image;void 0===r&&0!==e.indexOf("data:")?l.crossOrigin=(0,a.default)(e):r&&(l.crossOrigin="string"===typeof r?r:"anonymous"),(s=new t(l,i)).imageUrl=e,o&&(s.sourceScale=o),s.resolution=(0,n.getResolutionOfUrl)(e),l.src=e,t.addToCache(s,e)}return s},t.fromCanvas=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";e._pixiId||(e._pixiId=i+"_"+(0,n.uid)());var o=n.BaseTextureCache[e._pixiId];return o||(o=new t(e,r),t.addToCache(o,e._pixiId)),o},t.from=function(e,r,i){if("string"===typeof e)return t.fromImage(e,void 0,r,i);if(e instanceof HTMLImageElement){var o=e.src,a=n.BaseTextureCache[o];return a||((a=new t(e,r)).imageUrl=o,i&&(a.sourceScale=i),a.resolution=(0,n.getResolutionOfUrl)(o),t.addToCache(a,o)),a}return e instanceof HTMLCanvasElement?t.fromCanvas(e,r):e},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),n.BaseTextureCache[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),n.BaseTextureCache[t]=e)},t.removeFromCache=function(e){if("string"===typeof e){var t=n.BaseTextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete n.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)delete n.BaseTextureCache[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null},t}(o.default);t.default=c},function(e,t){function r(e){e=e||{},this.objects=[],void 0!==e.size&&this.resize(e.size)}e.exports=r,r.prototype.resize=function(e){for(var t=this.objects;t.length>e;)t.pop();for(;t.length<e;)t.push(this.create());return this},r.prototype.get=function(){var e=this.objects;return e.length?e.pop():this.create()},r.prototype.release=function(e){return this.destroy(e),this.objects.push(e),this}},function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){var n,i=r(1014),o=r(317),a=r(1016),s=r(1017),l=r(1018);"undefined"!==typeof ArrayBuffer&&(n=r(1019));var c="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),p="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),u=c||p;t.protocol=3;var d=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=i(d),f={type:"error",data:"parser error"},m=r(1020);function g(e,t,r){for(var n=new Array(e.length),i=s(e.length,r),o=function(e,r,i){t(r,(function(t,r){n[e]=r,i(t,n)}))},a=0;a<e.length;a++)o(a,e[a],i)}t.encodePacket=function(e,r,n,i){"function"===typeof r&&(i=r,r=!1),"function"===typeof n&&(i=n,n=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=d[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return n(a.buffer)}(e,r,i);if("undefined"!==typeof m&&o instanceof m)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);if(u)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},r,!0,n)},i.readAsArrayBuffer(e.data)}(e,r,n);var i=new Uint8Array(1);i[0]=d[e.type];var o=new m([i.buffer,e.data]);return n(o)}(e,r,i);if(o&&o.base64)return function(e,r){var n="b"+t.packets[e.type]+e.data.data;return r(n)}(e,i);var a=d[e.type];return void 0!==e.data&&(a+=n?l.encode(String(e.data),{strict:!1}):String(e.data)),i(""+a)},t.encodeBase64Packet=function(e,r){var n,i="b"+t.packets[e.type];if("undefined"!==typeof m&&e.data instanceof m){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(c){for(var a=new Uint8Array(e.data),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a[l];n=String.fromCharCode.apply(null,s)}return i+=btoa(n),r(i)},t.decodePacket=function(e,r,n){if(void 0===e)return f;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),r);if(n&&!1===(e=function(e){try{e=l.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var i=e.charAt(0);return Number(i)==i&&h[i]?e.length>1?{type:h[i],data:e.substring(1)}:{type:h[i]}:f}i=new Uint8Array(e)[0];var o=a(e,1);return m&&"blob"===r&&(o=new m([o])),{type:h[i],data:o}},t.decodeBase64Packet=function(e,t){var r=h[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=n.decode(e.substr(1));return"blob"===t&&m&&(i=new m([i])),{type:r,data:i}},t.encodePayload=function(e,r,n){"function"===typeof r&&(n=r,r=null);var i=o(e);if(r&&i)return m&&!u?t.encodePayloadAsBlob(e,n):t.encodePayloadAsArrayBuffer(e,n);if(!e.length)return n("0:");g(e,(function(e,n){t.encodePacket(e,!!i&&r,!1,(function(e){n(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return n(t.join(""))}))},t.decodePayload=function(e,r,n){if("string"!==typeof e)return t.decodePayloadAsBinary(e,r,n);var i;if("function"===typeof r&&(n=r,r=null),""===e)return n(f,0,1);for(var o,a,s="",l=0,c=e.length;l<c;l++){var p=e.charAt(l);if(":"===p){if(""===s||s!=(o=Number(s)))return n(f,0,1);if(s!=(a=e.substr(l+1,o)).length)return n(f,0,1);if(a.length){if(i=t.decodePacket(a,r,!1),f.type===i.type&&f.data===i.data)return n(f,0,1);if(!1===n(i,l+o,c))return}l+=o,s=""}else s+=p}return""!==s?n(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));g(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){return r(null,e)}))}),(function(e,t){var n=t.reduce((function(e,t){var r;return e+(r="string"===typeof t?t.length:t.byteLength).toString().length+r+2}),0),i=new Uint8Array(n),o=0;return t.forEach((function(e){var t="string"===typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);r=n.buffer}i[o++]=t?0:1;var s=r.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(n=new Uint8Array(r),a=0;a<n.length;a++)i[o++]=n[a]})),r(i.buffer)}))},t.encodePayloadAsBlob=function(e,r){g(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);e=n.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,m){var s=new m([t.buffer,a.buffer,e]);r(null,s)}}))}),(function(e,t){return r(new m(t))}))},t.decodePayloadAsBinary=function(e,r,n){"function"===typeof r&&(n=r,r=null);for(var i=e,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),l=0===s[0],c="",p=1;255!==s[p];p++){if(c.length>310)return n(f,0,1);c+=s[p]}i=a(i,2+c.length),c=parseInt(c);var u=a(i,0,c);if(l)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(m){var d=new Uint8Array(u);u="";for(p=0;p<d.length;p++)u+=String.fromCharCode(d[p])}o.push(u),i=a(i,c)}var h=o.length;o.forEach((function(e,i){n(t.decodePacket(e,r,!0),i,h)}))}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FilesetResolver_1})),__webpack_require__.d(__webpack_exports__,"b",(function(){return GestureRecognizer_1})),__webpack_require__.d(__webpack_exports__,"c",(function(){return PoseLandmarker_1}));var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vision={},fileset_resolver={};let supportsSimd;Object.defineProperty(fileset_resolver,"__esModule",{value:!0}),fileset_resolver.FilesetResolver=void 0;const WASM_SIMD_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function isSimdSupported(){if(void 0===supportsSimd)try{await WebAssembly.instantiate(WASM_SIMD_CHECK),supportsSimd=!0}catch(e){supportsSimd=!1}return supportsSimd}async function createFileset(e,t=""){const r=await isSimdSupported()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${t}/${e}_${r}.js`,wasmBinaryPath:`${t}/${e}_${r}.wasm`}}class FilesetResolver$1{static isSimdSupported(){return isSimdSupported()}static forAudioTasks(e){return createFileset("audio",e)}static forTextTasks(e){return createFileset("text",e)}static forVisionTasks(e){return createFileset("vision",e)}}fileset_resolver.FilesetResolver=FilesetResolver$1;var drawing_utils={};Object.defineProperty(drawing_utils,"__esModule",{value:!0}),drawing_utils.DrawingUtils=void 0;const DEFAULT_OPTIONS={color:"white",lineWidth:4,radius:6};function addDefaultOptions(e){return e=e||{},Object.assign(Object.assign(Object.assign({},DEFAULT_OPTIONS),{fillColor:e.color}),e)}function resolve(e,t){return e instanceof Function?e(t):e}class DrawingUtils$1{constructor(e){this.ctx=e}static clamp(e,t,r){const n=Math.min(t,r),i=Math.max(t,r);return Math.max(n,Math.min(i,e))}static lerp(e,t,r,n,i){const o=n*(1-(e-t)/(r-t))+i*(1-(r-e)/(r-t));return DrawingUtils$1.clamp(o,n,i)}drawLandmarks(e,t){if(!e)return;const r=this.ctx,n=addDefaultOptions(t);r.save();const i=r.canvas;let o=0;for(const a of e){r.fillStyle=resolve(n.fillColor,{index:o,from:a}),r.strokeStyle=resolve(n.color,{index:o,from:a}),r.lineWidth=resolve(n.lineWidth,{index:o,from:a});const e=new Path2D;e.arc(a.x*i.width,a.y*i.height,resolve(n.radius,{index:o,from:a}),0,2*Math.PI),r.fill(e),r.stroke(e),++o}r.restore()}drawConnectors(e,t,r){if(!e||!t)return;const n=this.ctx,i=addDefaultOptions(r);n.save();const o=n.canvas;let a=0;for(const s of t){n.beginPath();const t=e[s.start],r=e[s.end];t&&r&&(n.strokeStyle=resolve(i.color,{index:a,from:t,to:r}),n.lineWidth=resolve(i.lineWidth,{index:a,from:t,to:r}),n.moveTo(t.x*o.width,t.y*o.height),n.lineTo(r.x*o.width,r.y*o.height)),++a,n.stroke()}n.restore()}drawBoundingBox(e,t){const r=this.ctx,n=addDefaultOptions(t);r.save(),r.beginPath(),r.lineWidth=resolve(n.lineWidth,{}),r.strokeStyle=resolve(n.color,{}),r.fillStyle=resolve(n.fillColor,{}),r.moveTo(e.originX,e.originY),r.lineTo(e.originX+e.width,e.originY),r.lineTo(e.originX+e.width,e.originY+e.height),r.lineTo(e.originX,e.originY+e.height),r.lineTo(e.originX,e.originY),r.stroke(),r.fill(),r.restore()}}drawing_utils.DrawingUtils=DrawingUtils$1;var image={},image_shader_context={};Object.defineProperty(image_shader_context,"__esModule",{value:!0}),image_shader_context.MPImageShaderContext=image_shader_context.assertNotNull=void 0;const VERTEX_SHADER="\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",FRAGMENT_SHADER="\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D inputTexture;\n   void main() {\n     gl_FragColor = texture2D(inputTexture, vTex);\n   }\n ";function assertNotNull(e,t){if(null===e)throw new Error(`Unable to obtain required WebGL resource: ${t}`);return e}image_shader_context.assertNotNull=assertNotNull;class MPImageShaderBuffers{constructor(e,t,r,n){this.gl=e,this.vertexArrayObject=t,this.vertexBuffer=r,this.textureBuffer=n}bind(){this.gl.bindVertexArray(this.vertexArrayObject)}unbind(){this.gl.bindVertexArray(null)}close(){this.gl.deleteVertexArray(this.vertexArrayObject),this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.textureBuffer)}}class MPImageShaderContext{compileShader(e,t){const r=this.gl,n=assertNotNull(r.createShader(t),"Failed to create WebGL shader");if(r.shaderSource(n,e),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS)){const e=r.getShaderInfoLog(n);throw new Error(`Could not compile WebGL shader: ${e}`)}return r.attachShader(this.program,n),n}setupShaders(){const e=this.gl;if(this.program=assertNotNull(e.createProgram(),"Failed to create WebGL program"),this.vertexShader=this.compileShader(VERTEX_SHADER,e.VERTEX_SHADER),this.fragmentShader=this.compileShader(FRAGMENT_SHADER,e.FRAGMENT_SHADER),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS)){const t=e.getProgramInfoLog(this.program);throw new Error(`Error during program linking: ${t}`)}this.aVertex=e.getAttribLocation(this.program,"aVertex"),this.aTex=e.getAttribLocation(this.program,"aTex")}createBuffers(e){const t=this.gl,r=assertNotNull(t.createVertexArray(),"Failed to create vertex array");t.bindVertexArray(r);const n=assertNotNull(t.createBuffer(),"Failed to create buffer");t.bindBuffer(t.ARRAY_BUFFER,n),t.enableVertexAttribArray(this.aVertex),t.vertexAttribPointer(this.aVertex,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),t.STATIC_DRAW);const i=assertNotNull(t.createBuffer(),"Failed to create buffer");t.bindBuffer(t.ARRAY_BUFFER,i),t.enableVertexAttribArray(this.aTex),t.vertexAttribPointer(this.aTex,2,t.FLOAT,!1,0,0);const o=e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0];return t.bufferData(t.ARRAY_BUFFER,new Float32Array(o),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindVertexArray(null),new MPImageShaderBuffers(t,r,n,i)}getShaderBuffers(e){return e?(this.shaderBuffersFlipVertically||(this.shaderBuffersFlipVertically=this.createBuffers(!0)),this.shaderBuffersFlipVertically):(this.shaderBuffersPassthrough||(this.shaderBuffersPassthrough=this.createBuffers(!1)),this.shaderBuffersPassthrough)}maybeInitGL(e){if(this.gl){if(e!==this.gl)throw new Error("Cannot change GL context once initialized")}else this.gl=e}run(e,t,r){this.maybeInitGL(e),this.program||this.setupShaders();const n=this.getShaderBuffers(t);e.useProgram(this.program),n.bind();const i=r();return n.unbind(),i}bindFramebuffer(e,t){this.maybeInitGL(e),this.framebuffer||(this.framebuffer=assertNotNull(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}unbindFramebuffer(){var e;null===(e=this.gl)||void 0===e||e.bindFramebuffer(this.gl.FRAMEBUFFER,null)}close(){if(this.program){const e=this.gl;e.deleteProgram(this.program),e.deleteShader(this.vertexShader),e.deleteShader(this.fragmentShader)}this.framebuffer&&this.gl.deleteFramebuffer(this.framebuffer),this.shaderBuffersPassthrough&&this.shaderBuffersPassthrough.close(),this.shaderBuffersFlipVertically&&this.shaderBuffersFlipVertically.close()}}image_shader_context.MPImageShaderContext=MPImageShaderContext,Object.defineProperty(image,"__esModule",{value:!0}),image.MPImage=void 0;const image_shader_context_1$2=image_shader_context,INSTANCE_COUNT_WARNING_THRESHOLD$1=250;var MPImageType,e;e=MPImageType||(MPImageType={}),e[e.IMAGE_DATA=0]="IMAGE_DATA",e[e.IMAGE_BITMAP=1]="IMAGE_BITMAP",e[e.WEBGL_TEXTURE=2]="WEBGL_TEXTURE";class MPImage$1{constructor(e,t,r,n,i,o,a){this.containers=e,this.ownsImageBitmap=t,this.ownsWebGLTexture=r,this.canvas=n,this.shaderContext=i,this.width=o,this.height=a,(this.ownsImageBitmap||this.ownsWebGLTexture)&&(--MPImage$1.instancesBeforeWarning,0===MPImage$1.instancesBeforeWarning&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources."))}hasImageData(){return!!this.getContainer(MPImageType.IMAGE_DATA)}hasImageBitmap(){return!!this.getContainer(MPImageType.IMAGE_BITMAP)}hasWebGLTexture(){return!!this.getContainer(MPImageType.WEBGL_TEXTURE)}getAsImageData(){return this.convertToImageData()}getAsImageBitmap(){return this.convertToImageBitmap()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getContainer(e){switch(e){case MPImageType.IMAGE_DATA:return this.containers.find((e=>e instanceof ImageData));case MPImageType.IMAGE_BITMAP:return this.containers.find((e=>"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap));case MPImageType.WEBGL_TEXTURE:return this.containers.find((e=>"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture));default:throw new Error(`Type is not supported: ${e}`)}}clone(){const e=[];for(const t of this.containers){let r;if(t instanceof ImageData)r=new ImageData(t.data,this.width,this.height);else if(t instanceof WebGLTexture){const e=this.getGL(),t=this.getShaderContext();e.activeTexture(e.TEXTURE1),r=(0,image_shader_context_1$2.assertNotNull)(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,r),this.configureTextureParams(),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null),t.bindFramebuffer(e,r),t.run(e,!1,(()=>{this.bindTexture(),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),this.unbindTexture()})),t.unbindFramebuffer(),this.unbindTexture()}else{if(!(t instanceof ImageBitmap))throw new Error(`Type is not supported: ${t}`);this.convertToWebGLTexture(),this.bindTexture(),r=this.copyTextureToBitmap(),this.unbindTexture()}e.push(r)}return new MPImage$1(e,this.hasImageBitmap(),this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getOffscreenCanvas(){if(!(this.canvas instanceof OffscreenCanvas))throw new Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return this.canvas}getGL(){if(!this.canvas)throw new Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$2.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$2.MPImageShaderContext),this.shaderContext}convertToImageBitmap(){let e=this.getContainer(MPImageType.IMAGE_BITMAP);return e||(this.convertToWebGLTexture(),e=this.convertWebGLTextureToImageBitmap(),this.containers.push(e),this.ownsImageBitmap=!0),e}convertToImageData(){let e=this.getContainer(MPImageType.IMAGE_DATA);if(!e){const t=this.getGL(),r=this.getShaderContext(),n=new Uint8Array(this.width*this.height*4),i=this.convertToWebGLTexture();r.bindFramebuffer(t,i),t.readPixels(0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,n),r.unbindFramebuffer(),e=new ImageData(new Uint8ClampedArray(n.buffer),this.width,this.height),this.containers.push(e)}return e}convertToWebGLTexture(){let e=this.getContainer(MPImageType.WEBGL_TEXTURE);if(!e){const t=this.getGL();e=this.bindTexture();const r=this.getContainer(MPImageType.IMAGE_BITMAP)||this.convertToImageData();t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),this.unbindTexture()}return e}configureTextureParams(){const e=this.getGL();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)}bindTexture(){const e=this.getGL();e.viewport(0,0,this.width,this.height),e.activeTexture(e.TEXTURE0);let t=this.getContainer(MPImageType.WEBGL_TEXTURE);return t?e.bindTexture(e.TEXTURE_2D,t):(t=(0,image_shader_context_1$2.assertNotNull)(e.createTexture(),"Failed to create texture"),this.containers.push(t),this.ownsWebGLTexture=!0,e.bindTexture(e.TEXTURE_2D,t),this.configureTextureParams()),t}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}copyTextureToBitmap(){const e=this.getGL();return this.getShaderContext().run(e,!0,(()=>this.runWithResizedCanvas((()=>(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),this.getOffscreenCanvas().transferToImageBitmap())))))}convertWebGLTextureToImageBitmap(){this.bindTexture();const e=this.copyTextureToBitmap();return this.unbindTexture(),e}runWithResizedCanvas(e){const t=this.canvas;if(t.width===this.width&&t.height===this.height)return e();const r=t.width,n=t.height;t.width=this.width,t.height=this.height;const i=e();return t.width=r,t.height=n,i}close(){this.ownsImageBitmap&&this.getContainer(MPImageType.IMAGE_BITMAP).close(),this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPImageType.WEBGL_TEXTURE)),MPImage$1.instancesBeforeWarning=-1}}image.MPImage=MPImage$1,MPImage$1.instancesBeforeWarning=INSTANCE_COUNT_WARNING_THRESHOLD$1;var mask={},platform_utils={};function isWebKit(e=navigator){const t=e.userAgent;return t.includes("Safari")&&!t.includes("Chrome")}function isIOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}Object.defineProperty(platform_utils,"__esModule",{value:!0}),platform_utils.isIOS=platform_utils.isWebKit=void 0,platform_utils.isWebKit=isWebKit,platform_utils.isIOS=isIOS,Object.defineProperty(mask,"__esModule",{value:!0}),mask.MPMask=void 0;const image_shader_context_1$1=image_shader_context,platform_utils_1$1=platform_utils,INSTANCE_COUNT_WARNING_THRESHOLD=250;var MPMaskType;!function(e){e[e.UINT8_ARRAY=0]="UINT8_ARRAY",e[e.FLOAT32_ARRAY=1]="FLOAT32_ARRAY",e[e.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"}(MPMaskType||(MPMaskType={}));class MPMask$1{constructor(e,t,r,n,i,o){this.containers=e,this.ownsWebGLTexture=t,this.canvas=r,this.shaderContext=n,this.width=i,this.height=o,this.ownsWebGLTexture&&(--MPMask$1.instancesBeforeWarning,0===MPMask$1.instancesBeforeWarning&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources."))}hasUint8Array(){return!!this.getContainer(MPMaskType.UINT8_ARRAY)}hasFloat32Array(){return!!this.getContainer(MPMaskType.FLOAT32_ARRAY)}hasWebGLTexture(){return!!this.getContainer(MPMaskType.WEBGL_TEXTURE)}getAsUint8Array(){return this.convertToUint8Array()}getAsFloat32Array(){return this.convertToFloat32Array()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getTexImage2DFormat(){const e=this.getGL();if(!MPMask$1.texImage2DFormat)if(e.getExtension("EXT_color_buffer_float")&&e.getExtension("OES_texture_float_linear")&&e.getExtension("EXT_float_blend"))MPMask$1.texImage2DFormat=e.R32F;else{if(!e.getExtension("EXT_color_buffer_half_float"))throw new Error("GPU does not fully support 4-channel float32 or float16 formats");MPMask$1.texImage2DFormat=e.R16F}return MPMask$1.texImage2DFormat}getContainer(e){switch(e){case MPMaskType.UINT8_ARRAY:return this.containers.find((e=>e instanceof Uint8Array));case MPMaskType.FLOAT32_ARRAY:return this.containers.find((e=>e instanceof Float32Array));case MPMaskType.WEBGL_TEXTURE:return this.containers.find((e=>"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture));default:throw new Error(`Type is not supported: ${e}`)}}clone(){const e=[];for(const t of this.containers){let r;if(t instanceof Uint8Array)r=new Uint8Array(t);else if(t instanceof Float32Array)r=new Float32Array(t);else{if(!(t instanceof WebGLTexture))throw new Error(`Type is not supported: ${t}`);{const e=this.getGL(),t=this.getShaderContext();e.activeTexture(e.TEXTURE1),r=(0,image_shader_context_1$1.assertNotNull)(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,r),this.configureTextureParams();const n=this.getTexImage2DFormat();e.texImage2D(e.TEXTURE_2D,0,n,this.width,this.height,0,e.RED,e.FLOAT,null),e.bindTexture(e.TEXTURE_2D,null),t.bindFramebuffer(e,r),t.run(e,!1,(()=>{this.bindTexture(),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),this.unbindTexture()})),t.unbindFramebuffer(),this.unbindTexture()}}e.push(r)}return new MPMask$1(e,this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getGL(){if(!this.canvas)throw new Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$1.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$1.MPImageShaderContext),this.shaderContext}convertToFloat32Array(){let e=this.getContainer(MPMaskType.FLOAT32_ARRAY);if(!e){const t=this.getContainer(MPMaskType.UINT8_ARRAY);if(t)e=new Float32Array(t).map((e=>e/255));else{e=new Float32Array(this.width*this.height);const t=this.getGL(),r=this.getShaderContext(),n=this.convertToWebGLTexture();if(r.bindFramebuffer(t,n),(0,platform_utils_1$1.isIOS)()){const r=new Float32Array(this.width*this.height*4);t.readPixels(0,0,this.width,this.height,t.RGBA,t.FLOAT,r);for(let t=0,n=0;t<e.length;++t,n+=4)e[t]=r[n]}else t.readPixels(0,0,this.width,this.height,t.RED,t.FLOAT,e)}this.containers.push(e)}return e}convertToUint8Array(){let e=this.getContainer(MPMaskType.UINT8_ARRAY);if(!e){const t=this.convertToFloat32Array();e=new Uint8Array(t.map((e=>255*e))),this.containers.push(e)}return e}convertToWebGLTexture(){let e=this.getContainer(MPMaskType.WEBGL_TEXTURE);if(!e){const t=this.getGL();e=this.bindTexture();const r=this.convertToFloat32Array(),n=this.getTexImage2DFormat();t.texImage2D(t.TEXTURE_2D,0,n,this.width,this.height,0,t.RED,t.FLOAT,r),this.unbindTexture()}return e}configureTextureParams(){const e=this.getGL();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}bindTexture(){const e=this.getGL();e.viewport(0,0,this.width,this.height),e.activeTexture(e.TEXTURE0);let t=this.getContainer(MPMaskType.WEBGL_TEXTURE);return t?e.bindTexture(e.TEXTURE_2D,t):(t=(0,image_shader_context_1$1.assertNotNull)(e.createTexture(),"Failed to create texture"),this.containers.push(t),this.ownsWebGLTexture=!0,e.bindTexture(e.TEXTURE_2D,t),this.configureTextureParams()),t}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}close(){this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPMaskType.WEBGL_TEXTURE)),MPMask$1.instancesBeforeWarning=-1}}mask.MPMask=MPMask$1,MPMask$1.instancesBeforeWarning=INSTANCE_COUNT_WARNING_THRESHOLD;var face_detector={},calculator_pb={},googleProtobuf={};(function(exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var o=e[i];if(t.call(r,o,i,e))return{i:i,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==commonjsGlobal&&null!=commonjsGlobal?commonjsGlobal:e},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var i=e[n];i in r||(r[i]={}),r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,i=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var o=0;o<i&&t<n;)if(r[t++]!=e[o++])return!1;return o>=i}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t},goog.define=function(e,t){return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if("string"!=typeof e||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&"function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(null==(t=t[e[r]]))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,n){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if("string"!=typeof e)throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if("string"!=typeof n||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var i=n.transpile;if(!i){var o=goog.basePath+goog.TRANSPILER,a=goog.loadFileSync_(o);if(a){if(function(){(0,eval)(a+"\n//# sourceURL="+o)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=(n=goog.global.$jscomp).transpile}}return i||(i=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),i(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},e=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,r=goog.global.trustedTypes||goog.global.TrustedTypes;if(!r||!r.createPolicy)return t;try{t=r.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n,i={};for(n in e)t.call(r,e[n],n,e)&&(i[n]=e[n]);return i},goog.object.map=function(e,t,r){var n,i={};for(n in e)i[n]=t.call(r,e[n],n,e);return i},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),n=r?t:arguments;for(r=r?0:1;r<n.length;r++){if(null==e)return;e=e[n[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var o=0;o<goog.object.PROTOTYPE_FIELDS_.length;o++)r=goog.object.PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++)n[i[o]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var o=n}else e&&(i+=": "+e,o=t);throw Error(""+i,o||[])},jspb.asserts.assert=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];return e||jspb.asserts.doAssertFailure("",null,t,n),e},jspb.asserts.assertString=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];return"string"!=typeof e&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(e),e],t,n),e},jspb.asserts.assertArray=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];return Array.isArray(e)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(e),e],t,n),e},jspb.asserts.fail=function(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];throw Error("Failure"+(e?": "+e:""),r)},jspb.asserts.assertInstanceof=function(e,t,r,n){for(var i=[],o=3;o<arguments.length;++o)i[o-3]=arguments[o];return e instanceof t||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(t),jspb.asserts.getType(e)],r,i),e},jspb.asserts.getType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",n=(e=e.split("%s")).length-1,i=0;i<n;i++)r+=e[i]+(i<t.length?t[i]:"%s");return r+e[n]},goog.asserts.doAssertFailure_=function(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var o=n}else e&&(i+=": "+e,o=t);e=new goog.asserts.AssertionError(""+i,o||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"number"!=typeof e&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"string"!=typeof e&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"boolean"!=typeof e&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,r);for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.lastIndexOf(t,r);for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var n=e.length,i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&t.call(r,i[o],o,e)},goog.array.forEachRight=function(e,t,r){var n=e.length,i="string"==typeof e?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(r,i[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=[],o=0,a="string"==typeof e?e.split(""):e,s=0;s<n;s++)if(s in a){var l=a[s];t.call(r,l,s,e)&&(i[o++]=l)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=Array(n),o="string"==typeof e?e.split(""):e,a=0;a<n;a++)a in o&&(i[a]=t.call(r,o[a],a,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEach(e,(function(r,o){i=t.call(n,i,r,o,e)})),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEachRight(e,(function(r,o){i=t.call(n,i,r,o,e)})),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var n=e.length,i="string"==typeof e?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(r,i[o],o,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var n=e.length,i="string"==typeof e?e.split(""):e,o=0;o<n;o++)if(o in i&&!t.call(r,i[o],o,e))return!1;return!0},goog.array.count=function(e,t,r){var n=0;return goog.array.forEach(e,(function(e,i,o){t.call(r,e,i,o)&&++n}),r),n},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:"string"==typeof e?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var n=e.length,i="string"==typeof e?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(r,i[o],o,e))return o;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:"string"==typeof e?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var n=e.length,i="string"==typeof e?e.split(""):e;for(--n;0<=n;n--)if(n in i&&t.call(r,i[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var n;2==arguments.length||0>(n=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var n=0;return goog.array.forEachRight(e,(function(i,o){t.call(r,i,o,e)&&goog.array.removeAt(e,o)&&n++})),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var i=e.length||0,o=n.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=n[a]}else e.push(n)}},goog.array.splice=function(e,t,r,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||n,n={};for(var i=0,o=0;o<e.length;){var a=e[o++],s=r(a);Object.prototype.hasOwnProperty.call(n,s)||(n[s]=!0,t[i++]=a)}t.length=i},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,n,i){for(var o,a=0,s=e.length;a<s;){var l=a+(s-a>>>1),c=r?t.call(i,e[l],l,e):t(n,e[l]);0<c?a=l+1:(s=l,o=!c)}return o?a:-a-1},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]={index:n,value:e[n]};var i=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return i(e.value,t.value)||e.index-t.index})),n=0;n<e.length;n++)e[n]=r[n].value},goog.array.sortByKey=function(e,t,r){var n=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return n(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var i=t(e[n-1],e[n]);if(0<i||0==i&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;r=r||goog.array.defaultCompareEquality;for(var i=0;i<n;i++)if(!r(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var o=r(e[i],t[i]);if(0!=o)return o}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var n={},i=0;i<e.length;i++){var o=e[i],a=t.call(r,o,i,e);void 0!==a&&(n[a]||(n[a]=[])).push(o)}return n},goog.array.toObject=function(e,t,r){var n={};return goog.array.forEach(e,(function(i,o){n[t.call(r,i,o,e)]=i})),n},goog.array.range=function(e,t,r){var n=[],i=0,o=e;if(void 0!==t&&(i=e,o=t),0>(r=r||1)*(o-i))return[];if(0<r)for(e=i;e<o;e+=r)n.push(e);else for(e=i;e>o;e+=r)n.push(e);return n},goog.array.repeat=function(e,t){for(var r=[],n=0;n<t;n++)r[n]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(Array.isArray(n))for(var i=0;i<n.length;i+=8192){var o=goog.array.slice(n,i,i+8192);o=goog.array.flatten.apply(null,o);for(var a=0;a<o.length;a++)t.push(o[a])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o][n]);t.push(i)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);255<i&&(t[r++]=255&i,i>>=8),t[r++]=i}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t[r++]=i:(2048>i?t[r++]=i>>6|192:(55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,n=0;r<e.length;){var i=e[r++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=e[r++];var a=e[r++];i=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&e[r++])-65536,t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else o=e[r++],a=e[r++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],n=0;n<e.length;n++)r.push(e[n]^t[n]);return r},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,n=r.length;return function(){var e;n&&(e=r[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,n=0;n<r;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var n=0;return function(i){goog.global.clearTimeout(n);var o=arguments;n=goog.global.setTimeout((function(){e.apply(r,o)}),t)}},goog.functions.throttle=function(e,t,r){var n=0,i=!1,o=[],a=function(){n=0,i&&(i=!1,s())},s=function(){n=goog.global.setTimeout(a,t),e.apply(r,o)};return function(e){o=arguments,n?i=!0:s()}},goog.functions.rateLimit=function(e,t,r){var n=0,i=function(){n=0};return function(o){n||(n=goog.global.setTimeout(i,t),e.apply(r,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(e){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(e){},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return void 0!==goog.global.URL&&void 0!==goog.global.URL.createObjectURL?goog.global.URL:void 0!==goog.global.webkitURL&&void 0!==goog.global.webkitURL.createObjectURL?goog.global.webkitURL:void 0!==goog.global.createObjectURL?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.fs.blob={},goog.fs.blob.getBlob=function(e){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==t){t=new t;for(var r=0;r<arguments.length;r++)t.append(arguments[r]);return t.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(e,t,r){var n=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==n){n=new n;for(var i=0;i<e.length;i++)n.append(e[i],r);return n.getBlob(t)}if(void 0!==goog.global.Blob)return n={},t&&(n.type=t),r&&(n.endings=r),new Blob(e,n);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"\u202a",RLE:"\u202b",PDF:"\u202c",LRM:"\u200e",RLM:"\u200f"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0900-\u1fff\u200e\u2c00-\ud801\ud804-\ud839\ud83c-\udbff\uf900-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",goog.i18n.bidi.rtlChars_="\u0591-\u06ef\u06fa-\u08ff\u200f\ud802-\ud803\ud83a-\ud83b\ufb1d-\ufdff\ufe70-\ufefc",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05f3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,n=0,i=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var o=e[t];goog.i18n.bidi.startsWithRtl(o)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(o)?i=!0:goog.i18n.bidi.hasAnyLtr(o)?n++:goog.i18n.bidi.hasNumeralsRe_.test(o)&&(i=!0)}return 0==n?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(e,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),n=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,n){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.fromSafeScript=function(e){return e=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(e)],"text/javascript"),e=goog.fs.url.createObjectUrl(e),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){return e=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if("string"==typeof r)return r?e+encodeURIComponent(r):"";for(var n in r){var i=r[n];i=Array.isArray(i)?i:[i];for(var o=0;o<i.length;o++){var a=i[o];null!=a&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(a)))}}return t},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),i=0;0==r&&i<n;i++){var o=e[i]||"",a=t[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;r=0==o[1].length?0:parseInt(o[1],10);var s=0==a[1].length?0:parseInt(a[1],10);r=goog.string.internal.compareElements_(r,s)||goog.string.internal.compareElements_(0==o[2].length,0==a[2].length)||goog.string.internal.compareElements_(o[2],a[2]),o=o[3],a=a[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.html.SafeUrl=function(e,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=e===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SafeUrl.isSafeMimeType(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromMediaSource=function(e){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),e=e instanceof MediaSource?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SafeUrl.isSafeMimeType(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(r+=t+":"+(n=Array.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var i=e.charAt(n);"'"==i&&r?t=!t:'"'==i&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var i=e.charAt(n);if("]"==i){if(t)return!1;t=!0}else if("["==i){if(!t)return!1;t=!1}else if(!t&&!r.test(i))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,n){var i="";return r=r.replace(/^(['"])(.*)\1$/,(function(e,t,r){return i=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+i+e+i+n}))},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){Array.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],n=0;n<e.length;n++){var i=e[n];if(t[i])r.push(t[i]);else if(goog.object.contains(t,i)&&r.pop()!=i)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){Array.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=r.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS","HeadlessChrome"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(e){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("\x3c!--"+goog.string.internal.htmlEscape(e)+"--\x3e",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+e+">.":"");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+e+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(e,t,r,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var i={};return i.src=e||null,i.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(i,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var i={};return i.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,i.srcdoc=t||null,i.sandbox="",e=goog.html.SafeHtml.combineAttributes(i,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var n=r.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+n+'" attribute':"")}for(r="",e=goog.array.concat(e),n=0;n<e.length;n++)r+=goog.html.SafeScript.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)r+=goog.html.SafeStyleSheet.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase()){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");r=goog.html.SafeHtml.getStyleValue_(r)}else{if(/^on/i.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.':"");if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if("string"!=typeof r)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.':"");r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert("string"==typeof r||"number"==typeof r,"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e:"");return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,n){return(t=goog.html.SafeHtml.create(t,r,n)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),n=[],i=function(e){Array.isArray(e)?goog.array.forEach(e,i):(e=goog.html.SafeHtml.htmlEscape(e),n.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var n=null,i="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return null==r?r=[]:Array.isArray(r)||(r=[r]),goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),i+=">"):(n=goog.html.SafeHtml.concat(r),i+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+n+'".':"");var i=t[n];null!=i&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,i))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var n,i={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=t[n];if(r)for(n in r){var o=n.toLowerCase();if(o in e)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+o+'" attribute, got "'+n+'" with value "'+r[n]+'"':"");o in t&&delete i[o],i[n]=r[n]}return i},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.replaceLocation=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.openInWindow=function(e,t,r,n,i){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t=t||goog.global,r=r instanceof goog.string.Const?goog.string.Const.unwrap(r):r||"",t.open(goog.html.SafeUrl.unwrap(e),r,n,i)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xa0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<r.length;)n+=r.shift()+i.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||"\x80"<=e&&"\ufffd">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(r),i=t.toLowerCase().match(r),o=Math.min(n.length,i.length),a=0;a<o;a++){r=n[a];var s=i[a];if(r!=s)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(s,10),!isNaN(t)&&e-t)?e-t:r<s?-1:1}return n.length!=i.length?n.length-i.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var i=r[e];return i||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(i=String.fromCharCode(t))),i||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),i=n.firstChild.nodeValue.slice(0,-1)),r[e]=i)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var i=1==r?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var i=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(i)}else e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(i));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),i=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<i&&127>i?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=void 0!==r?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t="string"==typeof t?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),"string"==typeof e?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,n=0;n<t.length;n++)if(""!=t[n]){var i=e.lastIndexOf(t[n]);i>r&&(r=i)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)r[i]=i;for(i=0;i<e.length;i++){n[0]=i+1;for(var o=0;o<t.length;o++)n[o+1]=Math.min(n[o]+1,r[o+1]+1,r[o]+Number(e[i]!=t[o]));for(o=0;o<r.length;o++)r[o]=n[o]}return n[t.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()||parseInt(goog.userAgent.VERSION,10)||void 0}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],n=0;n<e.length;n+=3){var i=e[n],o=n+1<e.length,a=o?e[n+1]:0,s=n+2<e.length,l=s?e[n+2]:0,c=i>>2;i=(3&i)<<4|a>>4,a=(15&a)<<2|l>>6,l&=63,s||(l=64,o||(a=64)),r.push(t[c],t[i],t[a]||"",t[l]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=String.fromCharCode(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){r.push(e)})),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var n=new Uint8Array(r),i=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){n[i++]=e})),n.subarray(0,i)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=goog.crypt.base64.charToByteMap_[r];if(null!=i)return i;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var n=0;;){var i=r(-1),o=r(0),a=r(64),s=r(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var i=0;i<n.length;i++){var o=n[i],a=goog.crypt.base64.charToByteMap_[o];void 0===a?goog.crypt.base64.charToByteMap_[o]=i:goog.asserts.assert(a===i)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),16777216<=(e=Math.round(e*jspb.BinaryConstants.TWO_TO_23))&&++r,jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|8388607&e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var n=0;if(2<=(r=e))for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;e=(r=e*Math.pow(2,-n))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=e.charCodeAt(4),a=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(n<<16)+(i<<24)>>>0,jspb.utils.split64High=o+(a<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?r*Math.pow(2,-1074)*e:r*Math.pow(2,n-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var n=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*n+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=jspb.utils.hash64ToDecimalString(e[n],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}jspb.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(n>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&n)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),jspb.asserts.assert(18==e.length),jspb.asserts.assert("0"==e[0]),jspb.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),i=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*n+i)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var n=0,i=t;i<r;i++)n+=e[i]>>7;return r-t-n},jspb.utils.countVarintFields=function(e,t,r,n){var i=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==n;)for(i++;;){var o=e[t++];if(0==(128&o))break}else for(;t<r;){for(o=n;128<o;){if(e[t]!=(127&o|128))return i;t++,o>>=7}if(e[t++]!=o)break;for(i++;0!=(128&(o=e[t++])););}return i},jspb.utils.countFixedFields_=function(e,t,r,n,i){var o=0;if(128>n)for(;t<r&&e[t++]==n;)o++,t+=i;else for(;t<r;){for(var a=n;128<a;){if(e[t++]!=(127&a|128))return o;a>>=7}if(e[t++]!=a)break;o++,t+=i}return o},jspb.utils.countFixed32Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,n){var i=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var o=n;128<o;){if(e[t++]!=(127&o|128))return i;o>>=7}if(e[t++]!=o)break;i++;for(var a=0,s=1;a+=(127&(o=e[t++]))*s,s*=128,0!=(128&o););t+=a}return i},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):e instanceof Uint8Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,n=0,i=0;4>i&&128<=t;i++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*i;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,n|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)n|=(127&(t=this.bytes_[this.cursor_++]))<<7*i+3;if(128>t)return e(r>>>0,n>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,i=0,o=r+7;o>=r;o--)n=n<<8|t[o],i=i<<8|t[o+4];return e(n,i)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var n=[],i="";r<e;){var o=t[r++];if(128>o)n.push(o);else{if(192>o)continue;if(224>o){var a=t[r++];n.push((31&o)<<6|63&a)}else if(240>o){a=t[r++];var s=t[r++];n.push((15&o)<<12|(63&a)<<6|63&s)}else 248>o&&(o=(7&o)<<18|(63&(a=t[r++]))<<12|(63&(s=t[r++]))<<6|63&t[r++],o-=65536,n.push(55296+(o>>10&1023),56320+(1023&o)))}8192<=n.length&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i+=goog.crypt.byteArrayToString(n),this.cursor_=r,i},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,jspb.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],n=e[t+1],i=e[t+2],o=e[t+3],a=e[t+4],s=e[t+5],l=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,n,i,o,a,s,l,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return e&&n.decoder_.setBlock(e,t,r),n}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return jspb.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],jspb.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(e,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(e,t,r){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){jspb.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){jspb.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){jspb.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){var t=this.buffer_.length;jspb.asserts.assertString(e);for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var i=e.charCodeAt(r+1);56320<=i&&57343>=i&&(n=1024*(n-55296)+i-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,n=65535&t,i=t>>>16;for(t=r*n+65536*(r*i&65535)+65536*((e>>>=16)*n&65535),r=e*i+(r*i>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var n=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),n=n.leftShift();for(;!n.zero();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.rightShift(),n=n.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;var i=parseInt(e[n],10);r.lo=i,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,jspb.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,i=0;i<r;i++){var o=t[i];e.set(o,n),n+=o.length}return t=this.encoder_.end(),e.set(t,n),n+=t.length,jspb.asserts.assert(n==e.length),this.blocks_=[e],e},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){jspb.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var n=jspb.BinaryConstants.FieldType;switch(e){case n.DOUBLE:this.writeDouble(t,r);break;case n.FLOAT:this.writeFloat(t,r);break;case n.INT64:this.writeInt64(t,r);break;case n.UINT64:this.writeUint64(t,r);break;case n.INT32:this.writeInt32(t,r);break;case n.FIXED64:this.writeFixed64(t,r);break;case n.FIXED32:this.writeFixed32(t,r);break;case n.BOOL:this.writeBool(t,r);break;case n.STRING:this.writeString(t,r);break;case n.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,r);break;case n.UINT32:this.writeUint32(t,r);break;case n.ENUM:this.writeEnum(t,r);break;case n.SFIXED32:this.writeSfixed32(t,r);break;case n.SFIXED64:this.writeSfixed64(t,r);break;case n.SINT32:this.writeSint32(t,r);break;case n.SINT64:this.writeSint64(t,r);break;case n.FHASH64:this.writeFixedHash64(t,r);break;case n.VHASH64:this.writeVarintHash64(t,r);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(jspb.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(jspb.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(jspb.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitFixed64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitVarint64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitZigzagVarint64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var i=this.beginDelimited_(e);r(t[n],this),this.endDelimited_(i)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[n],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitFixed64(r(t[i]),n(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitVarint64(r(t[i]),n(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=this.encoder_,o=0;o<t.length;o++)jspb.utils.toZigzag64(r(t[o]),n(t[o]),(function(e,t){i.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var n=this.map_[t[e]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),n=[],i=0;i<r.length;i++){var o=this.map_[r[i][0].toString()];this.wrapEntry_(o);var a=o.valueWrapper;a?(jspb.asserts.assert(t),n.push([o.key,t(e,a)])):n.push([o.key,o.value])}return n},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var n=0;n<e.length;n++){var i=e[n][0],o=r(e[n][1]);t.set(i,o)}return t},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,n.value])}return e},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var i=this.map_[r[n]];e.call(t,this.wrapEntry_(i),i.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(e){return e.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(e,t,r,n,i){var o=this.stringKeys_();o.sort();for(var a=0;a<o.length;a++){var s=this.map_[o[a]];t.beginSubMessage(e),r.call(t,1,s.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(s),i):n.call(t,2,s.value),t.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(e,t,r,n,i,o,a){for(;t.nextField()&&!t.isEndGroup();){var s=t.getFieldNumber();1==s?o=r.call(t):2==s&&(e.valueCtor_?(jspb.asserts.assert(i),a||(a=new e.valueCtor_),n.call(t,a,i)):a=n.call(t))}jspb.asserts.assert(null!=o),jspb.asserts.assert(null!=a),e.set(o,a)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,n,i){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=n,this.isRepeated=i},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(e,t,r,n,i,o){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=i,this.isPacked=o},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,n,i,o){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,n),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=i),i)for(t=0;t<i.length;t++)(r=i[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(o&&o.length)for(t=0;t<o.length;t++)jspb.Message.computeOneofCase(e,o[t])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,n=-1;if(r&&(n=r-1,r=e.array[n],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,n),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,n+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var n=[],i=0;i<e.length;i++)n[i]=t.call(e[i],r,e[i]);return n},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(e,t,r,n,i){for(var o in r){var a=r[o],s=n.call(e,a);if(null!=s){for(var l in a.fieldName)if(a.fieldName.hasOwnProperty(l))break;t[l]=a.toObjectFn?a.isRepeated?jspb.Message.toObjectList(s,a.toObjectFn,i):a.toObjectFn(i,s):s}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(e,t,r,n){for(var i in r){var o=r[i],a=o.fieldInfo;if(!o.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=n.call(e,a);if(null!=s)if(a.isMessageType()){if(!o.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");o.binaryWriterFn.call(t,a.fieldIndex,s,o.binaryMessageSerializeFn)}else o.binaryWriterFn.call(t,a.fieldIndex,s)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(e,t,r,n,i){var o=r[t.getFieldNumber()];if(o){if(r=o.fieldInfo,!o.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var a=new r.ctor;o.binaryReaderFn.call(t,a,o.binaryMessageDeserializeFn)}else a=o.binaryReaderFn.call(t);r.isRepeated&&!o.isPacked?(t=n.call(e,r))?t.push(a):i.call(e,r,[a]):i.call(e,r,a)}else t.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.convertedPrimitiveFields_[t]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.convertedPrimitiveFields_[t]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var i=jspb.Message.getField(e,t);if(!i){if(r)return;i=[],jspb.Message.setField(e,t,i)}return e.wrappers_[t]=new jspb.Map(i,n)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(e,t,r){return jspb.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),r!==n?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=n?t.splice(n,0,r):t.push(r),e},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==n&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(e,t){for(var r,n,i=0;i<t.length;i++){var o=t[i],a=jspb.Message.getField(e,o);null!=a&&(r=o,n=a,jspb.Message.setField(e,o,void 0))}return r?(jspb.Message.setField(e,r,n),r):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var i=jspb.Message.getField(e,r);(n||i)&&(e.wrappers_[r]=new t(i))}return e.wrappers_[r]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(e,r),i=[],o=0;o<n.length;o++)i[o]=new t(n[o]);e.wrappers_[r]=i}},jspb.Message.setWrapperField=function(e,t,r){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(e,t,r,n){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var i=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setOneofField(e,t,r,i)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(e,t,r){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var n=[],i=0;i<r.length;i++)n[i]=r[i].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(e,t,r,n,i){jspb.Message.wrapRepeatedField_(e,n,t);var o=e.wrappers_[t];return o||(o=e.wrappers_[t]=[]),r=r||new n,e=jspb.Message.getRepeatedField(e,t),null!=i?(o.splice(i,0,r),e.splice(i,0,r.toArray())):(o.push(r),e.push(r.toArray())),r},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(e,t,r,n){for(var i={},o=0;o<e.length;o++)i[t.call(e[o])]=r?r.call(e[o],n,e[o]):e[o];return i},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var n=[],i=0,o=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),i=1);i<o;i++)jspb.Message.compareFields(r[i],t[i])||(n[i]=t[i]);return new e.constructor(n)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,i=void 0,o=Math.max(e.length,t.length);for(r=0;r<o;r++){var a=e[r],s=t[r];if(a&&a.constructor==Object&&(jspb.asserts.assert(void 0===n),jspb.asserts.assert(r===e.length-1),n=a,a=void 0),s&&s.constructor==Object&&(jspb.asserts.assert(void 0===i),jspb.asserts.assert(r===t.length-1),i=s,s=void 0),!jspb.Message.compareFields(a,s))return!1}return!n&&!i||(n=n||{},i=i||{},jspb.Message.compareExtensions(n,i))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),n=e.toArray(),i=r.length=0;i<n.length;i++)r[i]=n[i];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?jspb.Message.clone_(jspb.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(n=e[r])&&(t[r]="object"==typeof n?jspb.Message.clone_(jspb.asserts.assert(n)):n);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf})(googleProtobuf);var calculator_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.CalculatorOptions",null,n),proto.mediapipe.CalculatorOptions=function(e){t.Message.initialize(this,e,0,2,null,null)},r.inherits(proto.mediapipe.CalculatorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorOptions.displayName="proto.mediapipe.CalculatorOptions"),proto.mediapipe.CalculatorOptions.extensions={},proto.mediapipe.CalculatorOptions.extensionsBinary={},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorOptions.prototype.toObject=function(e){return proto.mediapipe.CalculatorOptions.toObject(e,this)},proto.mediapipe.CalculatorOptions.toObject=function(e,r){var n,i={mergeFields:null==(n=t.Message.getBooleanField(r,1))?void 0:n};return t.Message.toObjectExtension(r,i,proto.mediapipe.CalculatorOptions.extensions,proto.mediapipe.CalculatorOptions.prototype.getExtension,e),e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.CalculatorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.CalculatorOptions;return proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber()){var n=r.readBool();e.setMergeFields(n)}else t.Message.readBinaryExtension(e,r,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension,proto.mediapipe.CalculatorOptions.prototype.setExtension);return e},proto.mediapipe.CalculatorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.CalculatorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.CalculatorOptions.serializeBinaryToWriter=function(e,r){var n;null!=(n=t.Message.getField(e,1))&&r.writeBool(1,n),t.Message.serializeBinaryExtensions(e,r,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension)},proto.mediapipe.CalculatorOptions.prototype.getMergeFields=function(){return t.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.CalculatorOptions.prototype.setMergeFields=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.CalculatorOptions.prototype.clearMergeFields=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.CalculatorOptions.prototype.hasMergeFields=function(){return null!=t.Message.getField(this,1)},r.object.extend(e,proto.mediapipe)}(calculator_options_pb);var any_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.google.protobuf.Any",null,n),proto.google.protobuf.Any=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.Any,t.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),t.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(e){return proto.google.protobuf.Any.toObject(e,this)},proto.google.protobuf.Any.toObject=function(e,r){var n={typeUrl:t.Message.getFieldWithDefault(r,1,""),value:r.getValue_asB64()};return e&&(n.$jspbMessageInstance=r),n}),proto.google.protobuf.Any.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(n,r)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTypeUrl(r);break;case 2:r=t.readBytes(),e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.Any.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTypeUrl()).length>0&&t.writeString(1,r),(r=e.getValue_asU8()).length>0&&t.writeBytes(2,r)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(e){return t.Message.setProto3StringField(this,1,e)},proto.google.protobuf.Any.prototype.getValue=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return t.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return t.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(e){return t.Message.setProto3BytesField(this,2,e)},r.object.extend(e,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(e,t,r){r||(r="type.googleapis.com/"),"/"!=r.substr(-1)?this.setTypeUrl(r+"/"+t):this.setTypeUrl(r+t),this.setValue(e)},proto.google.protobuf.Any.prototype.unpack=function(e,t){return this.getTypeName()==t?e(this.getValue_asU8()):null}}(any_pb);var mediapipe_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.MediaPipeOptions",null,n),proto.mediapipe.MediaPipeOptions=function(e){t.Message.initialize(this,e,0,1,null,null)},r.inherits(proto.mediapipe.MediaPipeOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.MediaPipeOptions.displayName="proto.mediapipe.MediaPipeOptions"),proto.mediapipe.MediaPipeOptions.extensions={},proto.mediapipe.MediaPipeOptions.extensionsBinary={},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MediaPipeOptions.prototype.toObject=function(e){return proto.mediapipe.MediaPipeOptions.toObject(e,this)},proto.mediapipe.MediaPipeOptions.toObject=function(e,r){var n={};return t.Message.toObjectExtension(r,n,proto.mediapipe.MediaPipeOptions.extensions,proto.mediapipe.MediaPipeOptions.prototype.getExtension,e),e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.MediaPipeOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.MediaPipeOptions;return proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)r.getFieldNumber(),t.Message.readBinaryExtension(e,r,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension,proto.mediapipe.MediaPipeOptions.prototype.setExtension);return e},proto.mediapipe.MediaPipeOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter=function(e,r){t.Message.serializeBinaryExtensions(e,r,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension)},r.object.extend(e,proto.mediapipe)}(mediapipe_options_pb);var packet_factory_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.PacketFactoryConfig",null,n),r.exportSymbol("proto.mediapipe.PacketFactoryOptions",null,n),r.exportSymbol("proto.mediapipe.PacketManagerConfig",null,n),proto.mediapipe.PacketFactoryOptions=function(e){t.Message.initialize(this,e,0,1,null,null)},r.inherits(proto.mediapipe.PacketFactoryOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryOptions.displayName="proto.mediapipe.PacketFactoryOptions"),proto.mediapipe.PacketFactoryOptions.extensions={},proto.mediapipe.PacketFactoryOptions.extensionsBinary={},proto.mediapipe.PacketFactoryConfig=function(e){t.Message.initialize(this,e,0,500,null,null)},r.inherits(proto.mediapipe.PacketFactoryConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryConfig.displayName="proto.mediapipe.PacketFactoryConfig"),proto.mediapipe.PacketManagerConfig=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.PacketManagerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.PacketManagerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketManagerConfig.displayName="proto.mediapipe.PacketManagerConfig"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryOptions.prototype.toObject=function(e){return proto.mediapipe.PacketFactoryOptions.toObject(e,this)},proto.mediapipe.PacketFactoryOptions.toObject=function(e,r){var n={};return t.Message.toObjectExtension(r,n,proto.mediapipe.PacketFactoryOptions.extensions,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,e),e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.PacketFactoryOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketFactoryOptions;return proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)r.getFieldNumber(),t.Message.readBinaryExtension(e,r,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,proto.mediapipe.PacketFactoryOptions.prototype.setExtension);return e},proto.mediapipe.PacketFactoryOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter=function(e,r){t.Message.serializeBinaryExtensions(e,r,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryConfig.prototype.toObject=function(e){return proto.mediapipe.PacketFactoryConfig.toObject(e,this)},proto.mediapipe.PacketFactoryConfig.toObject=function(e,r){var n,i={packetFactory:null==(n=t.Message.getField(r,1))?void 0:n,outputSidePacket:null==(n=t.Message.getField(r,2))?void 0:n,externalOutput:null==(n=t.Message.getField(r,1002))?void 0:n,options:(n=r.getOptions())&&proto.mediapipe.PacketFactoryOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.PacketFactoryConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketFactoryConfig;return proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPacketFactory(r);break;case 2:r=t.readString(),e.setOutputSidePacket(r);break;case 1002:r=t.readString(),e.setExternalOutput(r);break;case 3:r=new proto.mediapipe.PacketFactoryOptions,t.readMessage(r,proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.PacketFactoryConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=t.Message.getField(e,1002))&&r.writeString(1002,n),null!=(n=e.getOptions())&&r.writeMessage(3,n,proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter)},proto.mediapipe.PacketFactoryConfig.prototype.getPacketFactory=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketFactoryConfig.prototype.setPacketFactory=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.PacketFactoryConfig.prototype.clearPacketFactory=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasPacketFactory=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.PacketFactoryConfig.prototype.getOutputSidePacket=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.PacketFactoryConfig.prototype.setOutputSidePacket=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.PacketFactoryConfig.prototype.clearOutputSidePacket=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOutputSidePacket=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.PacketFactoryConfig.prototype.getExternalOutput=function(){return t.Message.getFieldWithDefault(this,1002,"")},proto.mediapipe.PacketFactoryConfig.prototype.setExternalOutput=function(e){return t.Message.setField(this,1002,e)},proto.mediapipe.PacketFactoryConfig.prototype.clearExternalOutput=function(){return t.Message.setField(this,1002,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasExternalOutput=function(){return null!=t.Message.getField(this,1002)},proto.mediapipe.PacketFactoryConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,proto.mediapipe.PacketFactoryOptions,3)},proto.mediapipe.PacketFactoryConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.PacketFactoryConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.PacketManagerConfig.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketManagerConfig.prototype.toObject=function(e){return proto.mediapipe.PacketManagerConfig.toObject(e,this)},proto.mediapipe.PacketManagerConfig.toObject=function(e,r){var n={packetList:t.Message.toObjectList(r.getPacketList(),proto.mediapipe.PacketFactoryConfig.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.PacketManagerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketManagerConfig;return proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.PacketFactoryConfig;t.readMessage(r,proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader),e.addPacket(r)}else t.skipField();return e},proto.mediapipe.PacketManagerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter=function(e,t){var r;(r=e.getPacketList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter)},proto.mediapipe.PacketManagerConfig.prototype.getPacketList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.PacketFactoryConfig,1)},proto.mediapipe.PacketManagerConfig.prototype.setPacketList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.PacketManagerConfig.prototype.addPacket=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.PacketFactoryConfig,r)},proto.mediapipe.PacketManagerConfig.prototype.clearPacketList=function(){return this.setPacketList([])},r.object.extend(e,proto.mediapipe)}(packet_factory_pb);var packet_generator_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.PacketGeneratorConfig",null,n),r.exportSymbol("proto.mediapipe.PacketGeneratorOptions",null,n),proto.mediapipe.PacketGeneratorOptions=function(e){t.Message.initialize(this,e,0,2,null,null)},r.inherits(proto.mediapipe.PacketGeneratorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorOptions.displayName="proto.mediapipe.PacketGeneratorOptions"),proto.mediapipe.PacketGeneratorOptions.extensions={},proto.mediapipe.PacketGeneratorOptions.extensionsBinary={},proto.mediapipe.PacketGeneratorConfig=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.PacketGeneratorConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.PacketGeneratorConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorConfig.displayName="proto.mediapipe.PacketGeneratorConfig"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorOptions.prototype.toObject=function(e){return proto.mediapipe.PacketGeneratorOptions.toObject(e,this)},proto.mediapipe.PacketGeneratorOptions.toObject=function(e,r){var n={mergeFields:t.Message.getBooleanFieldWithDefault(r,1,!0)};return t.Message.toObjectExtension(r,n,proto.mediapipe.PacketGeneratorOptions.extensions,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,e),e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.PacketGeneratorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketGeneratorOptions;return proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber()){var n=r.readBool();e.setMergeFields(n)}else t.Message.readBinaryExtension(e,r,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,proto.mediapipe.PacketGeneratorOptions.prototype.setExtension);return e},proto.mediapipe.PacketGeneratorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter=function(e,r){var n;null!=(n=t.Message.getField(e,1))&&r.writeBool(1,n),t.Message.serializeBinaryExtensions(e,r,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension)},proto.mediapipe.PacketGeneratorOptions.prototype.getMergeFields=function(){return t.Message.getBooleanFieldWithDefault(this,1,!0)},proto.mediapipe.PacketGeneratorOptions.prototype.setMergeFields=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.PacketGeneratorOptions.prototype.clearMergeFields=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorOptions.prototype.hasMergeFields=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.PacketGeneratorConfig.repeatedFields_=[2,1002,3,1003],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorConfig.prototype.toObject=function(e){return proto.mediapipe.PacketGeneratorConfig.toObject(e,this)},proto.mediapipe.PacketGeneratorConfig.toObject=function(e,r){var n,i={packetGenerator:null==(n=t.Message.getField(r,1))?void 0:n,inputSidePacketList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,externalInputList:null==(n=t.Message.getRepeatedField(r,1002))?void 0:n,outputSidePacketList:null==(n=t.Message.getRepeatedField(r,3))?void 0:n,externalOutputList:null==(n=t.Message.getRepeatedField(r,1003))?void 0:n,options:(n=r.getOptions())&&proto.mediapipe.PacketGeneratorOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.PacketGeneratorConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketGeneratorConfig;return proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPacketGenerator(r);break;case 2:r=t.readString(),e.addInputSidePacket(r);break;case 1002:r=t.readString(),e.addExternalInput(r);break;case 3:r=t.readString(),e.addOutputSidePacket(r);break;case 1003:r=t.readString(),e.addExternalOutput(r);break;case 4:r=new proto.mediapipe.PacketGeneratorOptions,t.readMessage(r,proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.PacketGeneratorConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),(n=e.getInputSidePacketList()).length>0&&r.writeRepeatedString(2,n),(n=e.getExternalInputList()).length>0&&r.writeRepeatedString(1002,n),(n=e.getOutputSidePacketList()).length>0&&r.writeRepeatedString(3,n),(n=e.getExternalOutputList()).length>0&&r.writeRepeatedString(1003,n),null!=(n=e.getOptions())&&r.writeMessage(4,n,proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter)},proto.mediapipe.PacketGeneratorConfig.prototype.getPacketGenerator=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketGeneratorConfig.prototype.setPacketGenerator=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.PacketGeneratorConfig.prototype.clearPacketGenerator=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasPacketGenerator=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.PacketGeneratorConfig.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.PacketGeneratorConfig.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.PacketGeneratorConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalInputList=function(){return t.Message.getRepeatedField(this,1002)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalInputList=function(e){return t.Message.setField(this,1002,e||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalInput=function(e,r){return t.Message.addToRepeatedField(this,1002,e,r)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOutputSidePacketList=function(){return t.Message.getRepeatedField(this,3)},proto.mediapipe.PacketGeneratorConfig.prototype.setOutputSidePacketList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addOutputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalOutputList=function(){return t.Message.getRepeatedField(this,1003)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalOutputList=function(e){return t.Message.setField(this,1003,e||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalOutput=function(e,r){return t.Message.addToRepeatedField(this,1003,e,r)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalOutputList=function(){return this.setExternalOutputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,proto.mediapipe.PacketGeneratorOptions,4)},proto.mediapipe.PacketGeneratorConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,4)},r.object.extend(e,proto.mediapipe)}(packet_generator_pb);var status_handler_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=mediapipe_options_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.StatusHandlerConfig",null,n),proto.mediapipe.StatusHandlerConfig=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.StatusHandlerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.StatusHandlerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.StatusHandlerConfig.displayName="proto.mediapipe.StatusHandlerConfig"),proto.mediapipe.StatusHandlerConfig.repeatedFields_=[2,1002],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.StatusHandlerConfig.prototype.toObject=function(e){return proto.mediapipe.StatusHandlerConfig.toObject(e,this)},proto.mediapipe.StatusHandlerConfig.toObject=function(e,r){var n,o={statusHandler:null==(n=t.Message.getField(r,1))?void 0:n,inputSidePacketList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,externalInputList:null==(n=t.Message.getRepeatedField(r,1002))?void 0:n,options:(n=r.getOptions())&&i.MediaPipeOptions.toObject(e,n)};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.StatusHandlerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.StatusHandlerConfig;return proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setStatusHandler(r);break;case 2:r=t.readString(),e.addInputSidePacket(r);break;case 1002:r=t.readString(),e.addExternalInput(r);break;case 3:r=new i.MediaPipeOptions,t.readMessage(r,i.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.StatusHandlerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),(n=e.getInputSidePacketList()).length>0&&r.writeRepeatedString(2,n),(n=e.getExternalInputList()).length>0&&r.writeRepeatedString(1002,n),null!=(n=e.getOptions())&&r.writeMessage(3,n,i.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.StatusHandlerConfig.prototype.getStatusHandler=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.StatusHandlerConfig.prototype.setStatusHandler=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.StatusHandlerConfig.prototype.clearStatusHandler=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasStatusHandler=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.StatusHandlerConfig.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.StatusHandlerConfig.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.StatusHandlerConfig.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.StatusHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.StatusHandlerConfig.prototype.getExternalInputList=function(){return t.Message.getRepeatedField(this,1002)},proto.mediapipe.StatusHandlerConfig.prototype.setExternalInputList=function(e){return t.Message.setField(this,1002,e||[])},proto.mediapipe.StatusHandlerConfig.prototype.addExternalInput=function(e,r){return t.Message.addToRepeatedField(this,1002,e,r)},proto.mediapipe.StatusHandlerConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.StatusHandlerConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,i.MediaPipeOptions,3)},proto.mediapipe.StatusHandlerConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.StatusHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},r.object.extend(e,proto.mediapipe)}(status_handler_pb);var stream_handler_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=mediapipe_options_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.InputStreamHandlerConfig",null,n),r.exportSymbol("proto.mediapipe.OutputStreamHandlerConfig",null,n),proto.mediapipe.InputStreamHandlerConfig=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InputStreamHandlerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamHandlerConfig.displayName="proto.mediapipe.InputStreamHandlerConfig"),proto.mediapipe.OutputStreamHandlerConfig=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.OutputStreamHandlerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.OutputStreamHandlerConfig.displayName="proto.mediapipe.OutputStreamHandlerConfig"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamHandlerConfig.prototype.toObject=function(e){return proto.mediapipe.InputStreamHandlerConfig.toObject(e,this)},proto.mediapipe.InputStreamHandlerConfig.toObject=function(e,r){var n,o={inputStreamHandler:t.Message.getFieldWithDefault(r,1,"DefaultInputStreamHandler"),options:(n=r.getOptions())&&i.MediaPipeOptions.toObject(e,n)};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.InputStreamHandlerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InputStreamHandlerConfig;return proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setInputStreamHandler(r);break;case 3:r=new i.MediaPipeOptions,t.readMessage(r,i.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.InputStreamHandlerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=e.getOptions())&&r.writeMessage(3,n,i.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.InputStreamHandlerConfig.prototype.getInputStreamHandler=function(){return t.Message.getFieldWithDefault(this,1,"DefaultInputStreamHandler")},proto.mediapipe.InputStreamHandlerConfig.prototype.setInputStreamHandler=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearInputStreamHandler=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasInputStreamHandler=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InputStreamHandlerConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,i.MediaPipeOptions,3)},proto.mediapipe.InputStreamHandlerConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_=[2],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.OutputStreamHandlerConfig.prototype.toObject=function(e){return proto.mediapipe.OutputStreamHandlerConfig.toObject(e,this)},proto.mediapipe.OutputStreamHandlerConfig.toObject=function(e,r){var n,o={outputStreamHandler:t.Message.getFieldWithDefault(r,1,"InOrderOutputStreamHandler"),inputSidePacketList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,options:(n=r.getOptions())&&i.MediaPipeOptions.toObject(e,n)};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.OutputStreamHandlerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.OutputStreamHandlerConfig;return proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setOutputStreamHandler(r);break;case 2:r=t.readString(),e.addInputSidePacket(r);break;case 3:r=new i.MediaPipeOptions,t.readMessage(r,i.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.OutputStreamHandlerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),(n=e.getInputSidePacketList()).length>0&&r.writeRepeatedString(2,n),null!=(n=e.getOptions())&&r.writeMessage(3,n,i.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOutputStreamHandler=function(){return t.Message.getFieldWithDefault(this,1,"InOrderOutputStreamHandler")},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOutputStreamHandler=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOutputStreamHandler=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOutputStreamHandler=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.OutputStreamHandlerConfig.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,i.MediaPipeOptions,3)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},r.object.extend(e,proto.mediapipe)}(stream_handler_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_options_pb;r.object.extend(proto,i);var o=any_pb;r.object.extend(proto,o);var a=mediapipe_options_pb;r.object.extend(proto,a);var s=packet_factory_pb;r.object.extend(proto,s);var l=packet_generator_pb;r.object.extend(proto,l);var c=status_handler_pb;r.object.extend(proto,c);var p=stream_handler_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.CalculatorGraphConfig",null,n),r.exportSymbol("proto.mediapipe.CalculatorGraphConfig.Node",null,n),r.exportSymbol("proto.mediapipe.ExecutorConfig",null,n),r.exportSymbol("proto.mediapipe.InputCollection",null,n),r.exportSymbol("proto.mediapipe.InputCollection.InputType",null,n),r.exportSymbol("proto.mediapipe.InputCollectionSet",null,n),r.exportSymbol("proto.mediapipe.InputStreamInfo",null,n),r.exportSymbol("proto.mediapipe.ProfilerConfig",null,n),proto.mediapipe.ExecutorConfig=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.ExecutorConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ExecutorConfig.displayName="proto.mediapipe.ExecutorConfig"),proto.mediapipe.InputCollection=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.InputCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.InputCollection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollection.displayName="proto.mediapipe.InputCollection"),proto.mediapipe.InputCollectionSet=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.InputCollectionSet.repeatedFields_,null)},r.inherits(proto.mediapipe.InputCollectionSet,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollectionSet.displayName="proto.mediapipe.InputCollectionSet"),proto.mediapipe.InputStreamInfo=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InputStreamInfo,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamInfo.displayName="proto.mediapipe.InputStreamInfo"),proto.mediapipe.ProfilerConfig=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.ProfilerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.ProfilerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ProfilerConfig.displayName="proto.mediapipe.ProfilerConfig"),proto.mediapipe.CalculatorGraphConfig=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.CalculatorGraphConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.CalculatorGraphConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.displayName="proto.mediapipe.CalculatorGraphConfig"),proto.mediapipe.CalculatorGraphConfig.Node=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_,null)},r.inherits(proto.mediapipe.CalculatorGraphConfig.Node,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.Node.displayName="proto.mediapipe.CalculatorGraphConfig.Node"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ExecutorConfig.prototype.toObject=function(e){return proto.mediapipe.ExecutorConfig.toObject(e,this)},proto.mediapipe.ExecutorConfig.toObject=function(e,r){var n,i={name:t.Message.getFieldWithDefault(r,1,""),type:t.Message.getFieldWithDefault(r,2,""),options:(n=r.getOptions())&&a.MediaPipeOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.ExecutorConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ExecutorConfig;return proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.setType(r);break;case 3:r=new a.MediaPipeOptions,t.readMessage(r,a.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.ExecutorConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ExecutorConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ExecutorConfig.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getType()).length>0&&t.writeString(2,r),null!=(r=e.getOptions())&&t.writeMessage(3,r,a.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.ExecutorConfig.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.ExecutorConfig.prototype.setName=function(e){return t.Message.setProto3StringField(this,1,e)},proto.mediapipe.ExecutorConfig.prototype.getType=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.ExecutorConfig.prototype.setType=function(e){return t.Message.setProto3StringField(this,2,e)},proto.mediapipe.ExecutorConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,a.MediaPipeOptions,3)},proto.mediapipe.ExecutorConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.ExecutorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.ExecutorConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.InputCollection.repeatedFields_=[2,1002],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollection.prototype.toObject=function(e){return proto.mediapipe.InputCollection.toObject(e,this)},proto.mediapipe.InputCollection.toObject=function(e,r){var n,i={name:t.Message.getFieldWithDefault(r,1,""),sidePacketNameList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,externalInputNameList:null==(n=t.Message.getRepeatedField(r,1002))?void 0:n,inputType:t.Message.getFieldWithDefault(r,3,0),fileName:t.Message.getFieldWithDefault(r,4,"")};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.InputCollection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InputCollection;return proto.mediapipe.InputCollection.deserializeBinaryFromReader(n,r)},proto.mediapipe.InputCollection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.addSidePacketName(r);break;case 1002:r=t.readString(),e.addExternalInputName(r);break;case 3:r=t.readEnum(),e.setInputType(r);break;case 4:r=t.readString(),e.setFileName(r);break;default:t.skipField()}return e},proto.mediapipe.InputCollection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InputCollection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InputCollection.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getSidePacketNameList()).length>0&&t.writeRepeatedString(2,r),(r=e.getExternalInputNameList()).length>0&&t.writeRepeatedString(1002,r),0!==(r=e.getInputType())&&t.writeEnum(3,r),(r=e.getFileName()).length>0&&t.writeString(4,r)},proto.mediapipe.InputCollection.InputType={UNKNOWN:0,RECORDIO:1,FOREIGN_RECORDIO:2,FOREIGN_CSV_TEXT:3,INVALID_UPPER_BOUND:4},proto.mediapipe.InputCollection.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputCollection.prototype.setName=function(e){return t.Message.setProto3StringField(this,1,e)},proto.mediapipe.InputCollection.prototype.getSidePacketNameList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.InputCollection.prototype.setSidePacketNameList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.InputCollection.prototype.addSidePacketName=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.InputCollection.prototype.clearSidePacketNameList=function(){return this.setSidePacketNameList([])},proto.mediapipe.InputCollection.prototype.getExternalInputNameList=function(){return t.Message.getRepeatedField(this,1002)},proto.mediapipe.InputCollection.prototype.setExternalInputNameList=function(e){return t.Message.setField(this,1002,e||[])},proto.mediapipe.InputCollection.prototype.addExternalInputName=function(e,r){return t.Message.addToRepeatedField(this,1002,e,r)},proto.mediapipe.InputCollection.prototype.clearExternalInputNameList=function(){return this.setExternalInputNameList([])},proto.mediapipe.InputCollection.prototype.getInputType=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.InputCollection.prototype.setInputType=function(e){return t.Message.setProto3EnumField(this,3,e)},proto.mediapipe.InputCollection.prototype.getFileName=function(){return t.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.InputCollection.prototype.setFileName=function(e){return t.Message.setProto3StringField(this,4,e)},proto.mediapipe.InputCollectionSet.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollectionSet.prototype.toObject=function(e){return proto.mediapipe.InputCollectionSet.toObject(e,this)},proto.mediapipe.InputCollectionSet.toObject=function(e,r){var n={inputCollectionList:t.Message.toObjectList(r.getInputCollectionList(),proto.mediapipe.InputCollection.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.InputCollectionSet.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InputCollectionSet;return proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader(n,r)},proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.InputCollection;t.readMessage(r,proto.mediapipe.InputCollection.deserializeBinaryFromReader),e.addInputCollection(r)}else t.skipField();return e},proto.mediapipe.InputCollectionSet.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InputCollectionSet.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InputCollectionSet.serializeBinaryToWriter=function(e,t){var r;(r=e.getInputCollectionList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.InputCollection.serializeBinaryToWriter)},proto.mediapipe.InputCollectionSet.prototype.getInputCollectionList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.InputCollection,1)},proto.mediapipe.InputCollectionSet.prototype.setInputCollectionList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.InputCollectionSet.prototype.addInputCollection=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.InputCollection,r)},proto.mediapipe.InputCollectionSet.prototype.clearInputCollectionList=function(){return this.setInputCollectionList([])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamInfo.prototype.toObject=function(e){return proto.mediapipe.InputStreamInfo.toObject(e,this)},proto.mediapipe.InputStreamInfo.toObject=function(e,r){var n={tagIndex:t.Message.getFieldWithDefault(r,1,""),backEdge:t.Message.getBooleanFieldWithDefault(r,2,!1)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.InputStreamInfo.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InputStreamInfo;return proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader(n,r)},proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTagIndex(r);break;case 2:r=t.readBool(),e.setBackEdge(r);break;default:t.skipField()}return e},proto.mediapipe.InputStreamInfo.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InputStreamInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InputStreamInfo.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTagIndex()).length>0&&t.writeString(1,r),(r=e.getBackEdge())&&t.writeBool(2,r)},proto.mediapipe.InputStreamInfo.prototype.getTagIndex=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputStreamInfo.prototype.setTagIndex=function(e){return t.Message.setProto3StringField(this,1,e)},proto.mediapipe.InputStreamInfo.prototype.getBackEdge=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InputStreamInfo.prototype.setBackEdge=function(e){return t.Message.setProto3BooleanField(this,2,e)},proto.mediapipe.ProfilerConfig.repeatedFields_=[8],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ProfilerConfig.prototype.toObject=function(e){return proto.mediapipe.ProfilerConfig.toObject(e,this)},proto.mediapipe.ProfilerConfig.toObject=function(e,r){var n,i={histogramIntervalSizeUsec:t.Message.getFieldWithDefault(r,1,0),numHistogramIntervals:t.Message.getFieldWithDefault(r,2,0),enableInputOutputLatency:t.Message.getBooleanFieldWithDefault(r,3,!1),enableProfiler:t.Message.getBooleanFieldWithDefault(r,4,!1),enableStreamLatency:t.Message.getBooleanFieldWithDefault(r,5,!1),usePacketTimestampForAddedPacket:t.Message.getBooleanFieldWithDefault(r,6,!1),traceLogCapacity:t.Message.getFieldWithDefault(r,7,0),traceEventTypesDisabledList:null==(n=t.Message.getRepeatedField(r,8))?void 0:n,traceLogPath:t.Message.getFieldWithDefault(r,9,""),traceLogCount:t.Message.getFieldWithDefault(r,10,0),traceLogIntervalUsec:t.Message.getFieldWithDefault(r,11,0),traceLogMarginUsec:t.Message.getFieldWithDefault(r,12,0),traceLogDurationEvents:t.Message.getBooleanFieldWithDefault(r,13,!1),traceLogIntervalCount:t.Message.getFieldWithDefault(r,14,0),traceLogDisabled:t.Message.getBooleanFieldWithDefault(r,15,!1),traceEnabled:t.Message.getBooleanFieldWithDefault(r,16,!1),traceLogInstantEvents:t.Message.getBooleanFieldWithDefault(r,17,!1),calculatorFilter:t.Message.getFieldWithDefault(r,18,"")};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.ProfilerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ProfilerConfig;return proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setHistogramIntervalSizeUsec(r);break;case 2:r=t.readInt64(),e.setNumHistogramIntervals(r);break;case 3:r=t.readBool(),e.setEnableInputOutputLatency(r);break;case 4:r=t.readBool(),e.setEnableProfiler(r);break;case 5:r=t.readBool(),e.setEnableStreamLatency(r);break;case 6:r=t.readBool(),e.setUsePacketTimestampForAddedPacket(r);break;case 7:r=t.readInt64(),e.setTraceLogCapacity(r);break;case 8:for(var n=t.isDelimited()?t.readPackedInt32():[t.readInt32()],i=0;i<n.length;i++)e.addTraceEventTypesDisabled(n[i]);break;case 9:r=t.readString(),e.setTraceLogPath(r);break;case 10:r=t.readInt32(),e.setTraceLogCount(r);break;case 11:r=t.readInt64(),e.setTraceLogIntervalUsec(r);break;case 12:r=t.readInt64(),e.setTraceLogMarginUsec(r);break;case 13:r=t.readBool(),e.setTraceLogDurationEvents(r);break;case 14:r=t.readInt32(),e.setTraceLogIntervalCount(r);break;case 15:r=t.readBool(),e.setTraceLogDisabled(r);break;case 16:r=t.readBool(),e.setTraceEnabled(r);break;case 17:r=t.readBool(),e.setTraceLogInstantEvents(r);break;case 18:r=t.readString(),e.setCalculatorFilter(r);break;default:t.skipField()}return e},proto.mediapipe.ProfilerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ProfilerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ProfilerConfig.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getHistogramIntervalSizeUsec())&&t.writeInt64(1,r),0!==(r=e.getNumHistogramIntervals())&&t.writeInt64(2,r),(r=e.getEnableInputOutputLatency())&&t.writeBool(3,r),(r=e.getEnableProfiler())&&t.writeBool(4,r),(r=e.getEnableStreamLatency())&&t.writeBool(5,r),(r=e.getUsePacketTimestampForAddedPacket())&&t.writeBool(6,r),0!==(r=e.getTraceLogCapacity())&&t.writeInt64(7,r),(r=e.getTraceEventTypesDisabledList()).length>0&&t.writePackedInt32(8,r),(r=e.getTraceLogPath()).length>0&&t.writeString(9,r),0!==(r=e.getTraceLogCount())&&t.writeInt32(10,r),0!==(r=e.getTraceLogIntervalUsec())&&t.writeInt64(11,r),0!==(r=e.getTraceLogMarginUsec())&&t.writeInt64(12,r),(r=e.getTraceLogDurationEvents())&&t.writeBool(13,r),0!==(r=e.getTraceLogIntervalCount())&&t.writeInt32(14,r),(r=e.getTraceLogDisabled())&&t.writeBool(15,r),(r=e.getTraceEnabled())&&t.writeBool(16,r),(r=e.getTraceLogInstantEvents())&&t.writeBool(17,r),(r=e.getCalculatorFilter()).length>0&&t.writeString(18,r)},proto.mediapipe.ProfilerConfig.prototype.getHistogramIntervalSizeUsec=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.ProfilerConfig.prototype.setHistogramIntervalSizeUsec=function(e){return t.Message.setProto3IntField(this,1,e)},proto.mediapipe.ProfilerConfig.prototype.getNumHistogramIntervals=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.ProfilerConfig.prototype.setNumHistogramIntervals=function(e){return t.Message.setProto3IntField(this,2,e)},proto.mediapipe.ProfilerConfig.prototype.getEnableInputOutputLatency=function(){return t.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableInputOutputLatency=function(e){return t.Message.setProto3BooleanField(this,3,e)},proto.mediapipe.ProfilerConfig.prototype.getEnableProfiler=function(){return t.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableProfiler=function(e){return t.Message.setProto3BooleanField(this,4,e)},proto.mediapipe.ProfilerConfig.prototype.getEnableStreamLatency=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableStreamLatency=function(e){return t.Message.setProto3BooleanField(this,5,e)},proto.mediapipe.ProfilerConfig.prototype.getUsePacketTimestampForAddedPacket=function(){return t.Message.getBooleanFieldWithDefault(this,6,!1)},proto.mediapipe.ProfilerConfig.prototype.setUsePacketTimestampForAddedPacket=function(e){return t.Message.setProto3BooleanField(this,6,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCapacity=function(){return t.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCapacity=function(e){return t.Message.setProto3IntField(this,7,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceEventTypesDisabledList=function(){return t.Message.getRepeatedField(this,8)},proto.mediapipe.ProfilerConfig.prototype.setTraceEventTypesDisabledList=function(e){return t.Message.setField(this,8,e||[])},proto.mediapipe.ProfilerConfig.prototype.addTraceEventTypesDisabled=function(e,r){return t.Message.addToRepeatedField(this,8,e,r)},proto.mediapipe.ProfilerConfig.prototype.clearTraceEventTypesDisabledList=function(){return this.setTraceEventTypesDisabledList([])},proto.mediapipe.ProfilerConfig.prototype.getTraceLogPath=function(){return t.Message.getFieldWithDefault(this,9,"")},proto.mediapipe.ProfilerConfig.prototype.setTraceLogPath=function(e){return t.Message.setProto3StringField(this,9,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCount=function(){return t.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCount=function(e){return t.Message.setProto3IntField(this,10,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalUsec=function(){return t.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalUsec=function(e){return t.Message.setProto3IntField(this,11,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogMarginUsec=function(){return t.Message.getFieldWithDefault(this,12,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogMarginUsec=function(e){return t.Message.setProto3IntField(this,12,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDurationEvents=function(){return t.Message.getBooleanFieldWithDefault(this,13,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDurationEvents=function(e){return t.Message.setProto3BooleanField(this,13,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalCount=function(){return t.Message.getFieldWithDefault(this,14,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalCount=function(e){return t.Message.setProto3IntField(this,14,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDisabled=function(){return t.Message.getBooleanFieldWithDefault(this,15,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDisabled=function(e){return t.Message.setProto3BooleanField(this,15,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceEnabled=function(){return t.Message.getBooleanFieldWithDefault(this,16,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceEnabled=function(e){return t.Message.setProto3BooleanField(this,16,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogInstantEvents=function(){return t.Message.getBooleanFieldWithDefault(this,17,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogInstantEvents=function(e){return t.Message.setProto3BooleanField(this,17,e)},proto.mediapipe.ProfilerConfig.prototype.getCalculatorFilter=function(){return t.Message.getFieldWithDefault(this,18,"")},proto.mediapipe.ProfilerConfig.prototype.setCalculatorFilter=function(e){return t.Message.setProto3StringField(this,18,e)},proto.mediapipe.CalculatorGraphConfig.repeatedFields_=[1,6,7,9,10,15,16,17,14,1002],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.prototype.toObject=function(e){return proto.mediapipe.CalculatorGraphConfig.toObject(e,this)},proto.mediapipe.CalculatorGraphConfig.toObject=function(e,r){var n,i={nodeList:t.Message.toObjectList(r.getNodeList(),proto.mediapipe.CalculatorGraphConfig.Node.toObject,e),packetFactoryList:t.Message.toObjectList(r.getPacketFactoryList(),s.PacketFactoryConfig.toObject,e),packetGeneratorList:t.Message.toObjectList(r.getPacketGeneratorList(),l.PacketGeneratorConfig.toObject,e),numThreads:t.Message.getFieldWithDefault(r,8,0),statusHandlerList:t.Message.toObjectList(r.getStatusHandlerList(),c.StatusHandlerConfig.toObject,e),inputStreamList:null==(n=t.Message.getRepeatedField(r,10))?void 0:n,outputStreamList:null==(n=t.Message.getRepeatedField(r,15))?void 0:n,inputSidePacketList:null==(n=t.Message.getRepeatedField(r,16))?void 0:n,outputSidePacketList:null==(n=t.Message.getRepeatedField(r,17))?void 0:n,maxQueueSize:t.Message.getFieldWithDefault(r,11,0),reportDeadlock:t.Message.getBooleanFieldWithDefault(r,21,!1),inputStreamHandler:(n=r.getInputStreamHandler())&&p.InputStreamHandlerConfig.toObject(e,n),outputStreamHandler:(n=r.getOutputStreamHandler())&&p.OutputStreamHandlerConfig.toObject(e,n),executorList:t.Message.toObjectList(r.getExecutorList(),proto.mediapipe.ExecutorConfig.toObject,e),profilerConfig:(n=r.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(e,n),pb_package:t.Message.getFieldWithDefault(r,19,""),type:t.Message.getFieldWithDefault(r,20,""),options:(n=r.getOptions())&&a.MediaPipeOptions.toObject(e,n),graphOptionsList:t.Message.toObjectList(r.getGraphOptionsList(),o.Any.toObject,e)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.CalculatorGraphConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.CalculatorGraphConfig;return proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.CalculatorGraphConfig.Node;t.readMessage(r,proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader),e.addNode(r);break;case 6:r=new s.PacketFactoryConfig,t.readMessage(r,s.PacketFactoryConfig.deserializeBinaryFromReader),e.addPacketFactory(r);break;case 7:r=new l.PacketGeneratorConfig,t.readMessage(r,l.PacketGeneratorConfig.deserializeBinaryFromReader),e.addPacketGenerator(r);break;case 8:r=t.readInt32(),e.setNumThreads(r);break;case 9:r=new c.StatusHandlerConfig,t.readMessage(r,c.StatusHandlerConfig.deserializeBinaryFromReader),e.addStatusHandler(r);break;case 10:r=t.readString(),e.addInputStream(r);break;case 15:r=t.readString(),e.addOutputStream(r);break;case 16:r=t.readString(),e.addInputSidePacket(r);break;case 17:r=t.readString(),e.addOutputSidePacket(r);break;case 11:r=t.readInt32(),e.setMaxQueueSize(r);break;case 21:r=t.readBool(),e.setReportDeadlock(r);break;case 12:r=new p.InputStreamHandlerConfig,t.readMessage(r,p.InputStreamHandlerConfig.deserializeBinaryFromReader),e.setInputStreamHandler(r);break;case 13:r=new p.OutputStreamHandlerConfig,t.readMessage(r,p.OutputStreamHandlerConfig.deserializeBinaryFromReader),e.setOutputStreamHandler(r);break;case 14:r=new proto.mediapipe.ExecutorConfig,t.readMessage(r,proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader),e.addExecutor(r);break;case 18:r=new proto.mediapipe.ProfilerConfig,t.readMessage(r,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),e.setProfilerConfig(r);break;case 19:r=t.readString(),e.setPackage(r);break;case 20:r=t.readString(),e.setType(r);break;case 1001:r=new a.MediaPipeOptions,t.readMessage(r,a.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;case 1002:r=new o.Any,t.readMessage(r,o.Any.deserializeBinaryFromReader),e.addGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.CalculatorGraphConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getNodeList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter),(r=e.getPacketFactoryList()).length>0&&t.writeRepeatedMessage(6,r,s.PacketFactoryConfig.serializeBinaryToWriter),(r=e.getPacketGeneratorList()).length>0&&t.writeRepeatedMessage(7,r,l.PacketGeneratorConfig.serializeBinaryToWriter),0!==(r=e.getNumThreads())&&t.writeInt32(8,r),(r=e.getStatusHandlerList()).length>0&&t.writeRepeatedMessage(9,r,c.StatusHandlerConfig.serializeBinaryToWriter),(r=e.getInputStreamList()).length>0&&t.writeRepeatedString(10,r),(r=e.getOutputStreamList()).length>0&&t.writeRepeatedString(15,r),(r=e.getInputSidePacketList()).length>0&&t.writeRepeatedString(16,r),(r=e.getOutputSidePacketList()).length>0&&t.writeRepeatedString(17,r),0!==(r=e.getMaxQueueSize())&&t.writeInt32(11,r),(r=e.getReportDeadlock())&&t.writeBool(21,r),null!=(r=e.getInputStreamHandler())&&t.writeMessage(12,r,p.InputStreamHandlerConfig.serializeBinaryToWriter),null!=(r=e.getOutputStreamHandler())&&t.writeMessage(13,r,p.OutputStreamHandlerConfig.serializeBinaryToWriter),(r=e.getExecutorList()).length>0&&t.writeRepeatedMessage(14,r,proto.mediapipe.ExecutorConfig.serializeBinaryToWriter),null!=(r=e.getProfilerConfig())&&t.writeMessage(18,r,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(r=e.getPackage()).length>0&&t.writeString(19,r),(r=e.getType()).length>0&&t.writeString(20,r),null!=(r=e.getOptions())&&t.writeMessage(1001,r,a.MediaPipeOptions.serializeBinaryToWriter),(r=e.getGraphOptionsList()).length>0&&t.writeRepeatedMessage(1002,r,o.Any.serializeBinaryToWriter)},proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_=[3,4,5,6,8,13,17,1005],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.Node.prototype.toObject=function(e){return proto.mediapipe.CalculatorGraphConfig.Node.toObject(e,this)},proto.mediapipe.CalculatorGraphConfig.Node.toObject=function(e,r){var n,a={name:t.Message.getFieldWithDefault(r,1,""),calculator:t.Message.getFieldWithDefault(r,2,""),inputStreamList:null==(n=t.Message.getRepeatedField(r,3))?void 0:n,outputStreamList:null==(n=t.Message.getRepeatedField(r,4))?void 0:n,inputSidePacketList:null==(n=t.Message.getRepeatedField(r,5))?void 0:n,outputSidePacketList:null==(n=t.Message.getRepeatedField(r,6))?void 0:n,options:(n=r.getOptions())&&i.CalculatorOptions.toObject(e,n),nodeOptionsList:t.Message.toObjectList(r.getNodeOptionsList(),o.Any.toObject,e),sourceLayer:t.Message.getFieldWithDefault(r,9,0),bufferSizeHint:t.Message.getFieldWithDefault(r,10,0),inputStreamHandler:(n=r.getInputStreamHandler())&&p.InputStreamHandlerConfig.toObject(e,n),outputStreamHandler:(n=r.getOutputStreamHandler())&&p.OutputStreamHandlerConfig.toObject(e,n),inputStreamInfoList:t.Message.toObjectList(r.getInputStreamInfoList(),proto.mediapipe.InputStreamInfo.toObject,e),executor:t.Message.getFieldWithDefault(r,14,""),profilerConfig:(n=r.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(e,n),maxInFlight:t.Message.getFieldWithDefault(r,16,0),optionValueList:null==(n=t.Message.getRepeatedField(r,17))?void 0:n,externalInputList:null==(n=t.Message.getRepeatedField(r,1005))?void 0:n};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.CalculatorGraphConfig.Node;return proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader(n,r)},proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.setCalculator(r);break;case 3:r=t.readString(),e.addInputStream(r);break;case 4:r=t.readString(),e.addOutputStream(r);break;case 5:r=t.readString(),e.addInputSidePacket(r);break;case 6:r=t.readString(),e.addOutputSidePacket(r);break;case 7:r=new i.CalculatorOptions,t.readMessage(r,i.CalculatorOptions.deserializeBinaryFromReader),e.setOptions(r);break;case 8:r=new o.Any,t.readMessage(r,o.Any.deserializeBinaryFromReader),e.addNodeOptions(r);break;case 9:r=t.readInt32(),e.setSourceLayer(r);break;case 10:r=t.readInt32(),e.setBufferSizeHint(r);break;case 11:r=new p.InputStreamHandlerConfig,t.readMessage(r,p.InputStreamHandlerConfig.deserializeBinaryFromReader),e.setInputStreamHandler(r);break;case 12:r=new p.OutputStreamHandlerConfig,t.readMessage(r,p.OutputStreamHandlerConfig.deserializeBinaryFromReader),e.setOutputStreamHandler(r);break;case 13:r=new proto.mediapipe.InputStreamInfo,t.readMessage(r,proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader),e.addInputStreamInfo(r);break;case 14:r=t.readString(),e.setExecutor(r);break;case 15:r=new proto.mediapipe.ProfilerConfig,t.readMessage(r,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),e.setProfilerConfig(r);break;case 16:r=t.readInt32(),e.setMaxInFlight(r);break;case 17:r=t.readString(),e.addOptionValue(r);break;case 1005:r=t.readString(),e.addExternalInput(r);break;default:t.skipField()}return e},proto.mediapipe.CalculatorGraphConfig.Node.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getCalculator()).length>0&&t.writeString(2,r),(r=e.getInputStreamList()).length>0&&t.writeRepeatedString(3,r),(r=e.getOutputStreamList()).length>0&&t.writeRepeatedString(4,r),(r=e.getInputSidePacketList()).length>0&&t.writeRepeatedString(5,r),(r=e.getOutputSidePacketList()).length>0&&t.writeRepeatedString(6,r),null!=(r=e.getOptions())&&t.writeMessage(7,r,i.CalculatorOptions.serializeBinaryToWriter),(r=e.getNodeOptionsList()).length>0&&t.writeRepeatedMessage(8,r,o.Any.serializeBinaryToWriter),0!==(r=e.getSourceLayer())&&t.writeInt32(9,r),0!==(r=e.getBufferSizeHint())&&t.writeInt32(10,r),null!=(r=e.getInputStreamHandler())&&t.writeMessage(11,r,p.InputStreamHandlerConfig.serializeBinaryToWriter),null!=(r=e.getOutputStreamHandler())&&t.writeMessage(12,r,p.OutputStreamHandlerConfig.serializeBinaryToWriter),(r=e.getInputStreamInfoList()).length>0&&t.writeRepeatedMessage(13,r,proto.mediapipe.InputStreamInfo.serializeBinaryToWriter),(r=e.getExecutor()).length>0&&t.writeString(14,r),null!=(r=e.getProfilerConfig())&&t.writeMessage(15,r,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),0!==(r=e.getMaxInFlight())&&t.writeInt32(16,r),(r=e.getOptionValueList()).length>0&&t.writeRepeatedString(17,r),(r=e.getExternalInputList()).length>0&&t.writeRepeatedString(1005,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setName=function(e){return t.Message.setProto3StringField(this,1,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getCalculator=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setCalculator=function(e){return t.Message.setProto3StringField(this,2,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamList=function(){return t.Message.getRepeatedField(this,3)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStream=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamList=function(){return t.Message.getRepeatedField(this,4)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamList=function(e){return t.Message.setField(this,4,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputStream=function(e,r){return t.Message.addToRepeatedField(this,4,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,5)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,5,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,5,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputSidePacketList=function(){return t.Message.getRepeatedField(this,6)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputSidePacketList=function(e){return t.Message.setField(this,6,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,6,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptions=function(){return t.Message.getWrapperField(this,i.CalculatorOptions,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptions=function(e){return t.Message.setWrapperField(this,7,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOptions=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getNodeOptionsList=function(){return t.Message.getRepeatedWrapperField(this,o.Any,8)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setNodeOptionsList=function(e){return t.Message.setRepeatedWrapperField(this,8,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addNodeOptions=function(e,r){return t.Message.addToRepeatedWrapperField(this,8,e,proto.google.protobuf.Any,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearNodeOptionsList=function(){return this.setNodeOptionsList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getSourceLayer=function(){return t.Message.getFieldWithDefault(this,9,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setSourceLayer=function(e){return t.Message.setProto3IntField(this,9,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getBufferSizeHint=function(){return t.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setBufferSizeHint=function(e){return t.Message.setProto3IntField(this,10,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamHandler=function(){return t.Message.getWrapperField(this,p.InputStreamHandlerConfig,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamHandler=function(e){return t.Message.setWrapperField(this,11,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasInputStreamHandler=function(){return null!=t.Message.getField(this,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamHandler=function(){return t.Message.getWrapperField(this,p.OutputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamHandler=function(e){return t.Message.setWrapperField(this,12,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOutputStreamHandler=function(){return null!=t.Message.getField(this,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamInfoList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.InputStreamInfo,13)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamInfoList=function(e){return t.Message.setRepeatedWrapperField(this,13,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStreamInfo=function(e,r){return t.Message.addToRepeatedWrapperField(this,13,e,proto.mediapipe.InputStreamInfo,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamInfoList=function(){return this.setInputStreamInfoList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExecutor=function(){return t.Message.getFieldWithDefault(this,14,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExecutor=function(e){return t.Message.setProto3StringField(this,14,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getProfilerConfig=function(){return t.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setProfilerConfig=function(e){return t.Message.setWrapperField(this,15,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasProfilerConfig=function(){return null!=t.Message.getField(this,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getMaxInFlight=function(){return t.Message.getFieldWithDefault(this,16,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setMaxInFlight=function(e){return t.Message.setProto3IntField(this,16,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptionValueList=function(){return t.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptionValueList=function(e){return t.Message.setField(this,17,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOptionValue=function(e,r){return t.Message.addToRepeatedField(this,17,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptionValueList=function(){return this.setOptionValueList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExternalInputList=function(){return t.Message.getRepeatedField(this,1005)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExternalInputList=function(e){return t.Message.setField(this,1005,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addExternalInput=function(e,r){return t.Message.addToRepeatedField(this,1005,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNodeList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.CalculatorGraphConfig.Node,1)},proto.mediapipe.CalculatorGraphConfig.prototype.setNodeList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addNode=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.CalculatorGraphConfig.Node,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearNodeList=function(){return this.setNodeList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketFactoryList=function(){return t.Message.getRepeatedWrapperField(this,s.PacketFactoryConfig,6)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketFactoryList=function(e){return t.Message.setRepeatedWrapperField(this,6,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketFactory=function(e,r){return t.Message.addToRepeatedWrapperField(this,6,e,proto.mediapipe.PacketFactoryConfig,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketFactoryList=function(){return this.setPacketFactoryList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketGeneratorList=function(){return t.Message.getRepeatedWrapperField(this,l.PacketGeneratorConfig,7)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketGeneratorList=function(e){return t.Message.setRepeatedWrapperField(this,7,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketGenerator=function(e,r){return t.Message.addToRepeatedWrapperField(this,7,e,proto.mediapipe.PacketGeneratorConfig,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketGeneratorList=function(){return this.setPacketGeneratorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNumThreads=function(){return t.Message.getFieldWithDefault(this,8,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setNumThreads=function(e){return t.Message.setProto3IntField(this,8,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getStatusHandlerList=function(){return t.Message.getRepeatedWrapperField(this,c.StatusHandlerConfig,9)},proto.mediapipe.CalculatorGraphConfig.prototype.setStatusHandlerList=function(e){return t.Message.setRepeatedWrapperField(this,9,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addStatusHandler=function(e,r){return t.Message.addToRepeatedWrapperField(this,9,e,proto.mediapipe.StatusHandlerConfig,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearStatusHandlerList=function(){return this.setStatusHandlerList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamList=function(){return t.Message.getRepeatedField(this,10)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamList=function(e){return t.Message.setField(this,10,e||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputStream=function(e,r){return t.Message.addToRepeatedField(this,10,e,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamList=function(){return t.Message.getRepeatedField(this,15)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamList=function(e){return t.Message.setField(this,15,e||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputStream=function(e,r){return t.Message.addToRepeatedField(this,15,e,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,16)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,16,e||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,16,e,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputSidePacketList=function(){return t.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputSidePacketList=function(e){return t.Message.setField(this,17,e||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,17,e,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getMaxQueueSize=function(){return t.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setMaxQueueSize=function(e){return t.Message.setProto3IntField(this,11,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getReportDeadlock=function(){return t.Message.getBooleanFieldWithDefault(this,21,!1)},proto.mediapipe.CalculatorGraphConfig.prototype.setReportDeadlock=function(e){return t.Message.setProto3BooleanField(this,21,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamHandler=function(){return t.Message.getWrapperField(this,p.InputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamHandler=function(e){return t.Message.setWrapperField(this,12,e)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasInputStreamHandler=function(){return null!=t.Message.getField(this,12)},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamHandler=function(){return t.Message.getWrapperField(this,p.OutputStreamHandlerConfig,13)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamHandler=function(e){return t.Message.setWrapperField(this,13,e)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOutputStreamHandler=function(){return null!=t.Message.getField(this,13)},proto.mediapipe.CalculatorGraphConfig.prototype.getExecutorList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.ExecutorConfig,14)},proto.mediapipe.CalculatorGraphConfig.prototype.setExecutorList=function(e){return t.Message.setRepeatedWrapperField(this,14,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addExecutor=function(e,r){return t.Message.addToRepeatedWrapperField(this,14,e,proto.mediapipe.ExecutorConfig,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearExecutorList=function(){return this.setExecutorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getProfilerConfig=function(){return t.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,18)},proto.mediapipe.CalculatorGraphConfig.prototype.setProfilerConfig=function(e){return t.Message.setWrapperField(this,18,e)},proto.mediapipe.CalculatorGraphConfig.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasProfilerConfig=function(){return null!=t.Message.getField(this,18)},proto.mediapipe.CalculatorGraphConfig.prototype.getPackage=function(){return t.Message.getFieldWithDefault(this,19,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setPackage=function(e){return t.Message.setProto3StringField(this,19,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getType=function(){return t.Message.getFieldWithDefault(this,20,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setType=function(e){return t.Message.setProto3StringField(this,20,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,a.MediaPipeOptions,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,1001,e)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.getGraphOptionsList=function(){return t.Message.getRepeatedWrapperField(this,o.Any,1002)},proto.mediapipe.CalculatorGraphConfig.prototype.setGraphOptionsList=function(e){return t.Message.setRepeatedWrapperField(this,1002,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addGraphOptions=function(e,r){return t.Message.addToRepeatedWrapperField(this,1002,e,proto.google.protobuf.Any,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearGraphOptionsList=function(){return this.setGraphOptionsList([])},r.object.extend(e,proto.mediapipe)}(calculator_pb);var detection_pb={},location_data_pb={},rasterization_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Rasterization",null,n),r.exportSymbol("proto.mediapipe.Rasterization.Interval",null,n),proto.mediapipe.Rasterization=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.Rasterization.repeatedFields_,null)},r.inherits(proto.mediapipe.Rasterization,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.displayName="proto.mediapipe.Rasterization"),proto.mediapipe.Rasterization.Interval=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Rasterization.Interval,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.Interval.displayName="proto.mediapipe.Rasterization.Interval"),proto.mediapipe.Rasterization.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.prototype.toObject=function(e){return proto.mediapipe.Rasterization.toObject(e,this)},proto.mediapipe.Rasterization.toObject=function(e,r){var n={intervalList:t.Message.toObjectList(r.getIntervalList(),proto.mediapipe.Rasterization.Interval.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.Rasterization.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Rasterization;return proto.mediapipe.Rasterization.deserializeBinaryFromReader(n,r)},proto.mediapipe.Rasterization.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.Rasterization.Interval;t.readMessage(r,proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader),e.addInterval(r)}else t.skipField();return e},proto.mediapipe.Rasterization.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Rasterization.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Rasterization.serializeBinaryToWriter=function(e,t){var r;(r=e.getIntervalList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.Interval.prototype.toObject=function(e){return proto.mediapipe.Rasterization.Interval.toObject(e,this)},proto.mediapipe.Rasterization.Interval.toObject=function(e,r){var n,i={y:null==(n=t.Message.getField(r,1))?void 0:n,leftX:null==(n=t.Message.getField(r,2))?void 0:n,rightX:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Rasterization.Interval.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Rasterization.Interval;return proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader(n,r)},proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setY(r);break;case 2:r=t.readInt32(),e.setLeftX(r);break;case 3:r=t.readInt32(),e.setRightX(r);break;default:t.skipField()}return e},proto.mediapipe.Rasterization.Interval.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.Rasterization.Interval.prototype.getY=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rasterization.Interval.prototype.setY=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Rasterization.Interval.prototype.clearY=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasY=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Rasterization.Interval.prototype.getLeftX=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rasterization.Interval.prototype.setLeftX=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Rasterization.Interval.prototype.clearLeftX=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasLeftX=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Rasterization.Interval.prototype.getRightX=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rasterization.Interval.prototype.setRightX=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Rasterization.Interval.prototype.clearRightX=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasRightX=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.Rasterization.prototype.getIntervalList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Rasterization.Interval,1)},proto.mediapipe.Rasterization.prototype.setIntervalList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.Rasterization.prototype.addInterval=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.Rasterization.Interval,r)},proto.mediapipe.Rasterization.prototype.clearIntervalList=function(){return this.setIntervalList([])},r.object.extend(e,proto.mediapipe)}(rasterization_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=rasterization_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.LocationData",null,n),r.exportSymbol("proto.mediapipe.LocationData.BinaryMask",null,n),r.exportSymbol("proto.mediapipe.LocationData.BoundingBox",null,n),r.exportSymbol("proto.mediapipe.LocationData.Format",null,n),r.exportSymbol("proto.mediapipe.LocationData.RelativeBoundingBox",null,n),r.exportSymbol("proto.mediapipe.LocationData.RelativeKeypoint",null,n),proto.mediapipe.LocationData=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.LocationData.repeatedFields_,null)},r.inherits(proto.mediapipe.LocationData,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.displayName="proto.mediapipe.LocationData"),proto.mediapipe.LocationData.BoundingBox=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.BoundingBox,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BoundingBox.displayName="proto.mediapipe.LocationData.BoundingBox"),proto.mediapipe.LocationData.RelativeBoundingBox=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.RelativeBoundingBox,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeBoundingBox.displayName="proto.mediapipe.LocationData.RelativeBoundingBox"),proto.mediapipe.LocationData.BinaryMask=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.BinaryMask,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BinaryMask.displayName="proto.mediapipe.LocationData.BinaryMask"),proto.mediapipe.LocationData.RelativeKeypoint=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.RelativeKeypoint,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeKeypoint.displayName="proto.mediapipe.LocationData.RelativeKeypoint"),proto.mediapipe.LocationData.repeatedFields_=[5],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.prototype.toObject=function(e){return proto.mediapipe.LocationData.toObject(e,this)},proto.mediapipe.LocationData.toObject=function(e,r){var n,i={format:null==(n=t.Message.getField(r,1))?void 0:n,boundingBox:(n=r.getBoundingBox())&&proto.mediapipe.LocationData.BoundingBox.toObject(e,n),relativeBoundingBox:(n=r.getRelativeBoundingBox())&&proto.mediapipe.LocationData.RelativeBoundingBox.toObject(e,n),mask:(n=r.getMask())&&proto.mediapipe.LocationData.BinaryMask.toObject(e,n),relativeKeypointsList:t.Message.toObjectList(r.getRelativeKeypointsList(),proto.mediapipe.LocationData.RelativeKeypoint.toObject,e)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LocationData.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData;return proto.mediapipe.LocationData.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setFormat(r);break;case 2:r=new proto.mediapipe.LocationData.BoundingBox,t.readMessage(r,proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader),e.setBoundingBox(r);break;case 3:r=new proto.mediapipe.LocationData.RelativeBoundingBox,t.readMessage(r,proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader),e.setRelativeBoundingBox(r);break;case 4:r=new proto.mediapipe.LocationData.BinaryMask,t.readMessage(r,proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader),e.setMask(r);break;case 5:r=new proto.mediapipe.LocationData.RelativeKeypoint,t.readMessage(r,proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader),e.addRelativeKeypoints(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeEnum(1,n),null!=(n=e.getBoundingBox())&&r.writeMessage(2,n,proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter),null!=(n=e.getRelativeBoundingBox())&&r.writeMessage(3,n,proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter),null!=(n=e.getMask())&&r.writeMessage(4,n,proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter),(n=e.getRelativeKeypointsList()).length>0&&r.writeRepeatedMessage(5,n,proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter)},proto.mediapipe.LocationData.Format={GLOBAL:0,BOUNDING_BOX:1,RELATIVE_BOUNDING_BOX:2,MASK:3},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BoundingBox.prototype.toObject=function(e){return proto.mediapipe.LocationData.BoundingBox.toObject(e,this)},proto.mediapipe.LocationData.BoundingBox.toObject=function(e,r){var n,i={xmin:null==(n=t.Message.getField(r,1))?void 0:n,ymin:null==(n=t.Message.getField(r,2))?void 0:n,width:null==(n=t.Message.getField(r,3))?void 0:n,height:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LocationData.BoundingBox.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData.BoundingBox;return proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setXmin(r);break;case 2:r=t.readInt32(),e.setYmin(r);break;case 3:r=t.readInt32(),e.setWidth(r);break;case 4:r=t.readInt32(),e.setHeight(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.BoundingBox.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n)},proto.mediapipe.LocationData.BoundingBox.prototype.getXmin=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setXmin=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.BoundingBox.prototype.clearXmin=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasXmin=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.BoundingBox.prototype.getYmin=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setYmin=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LocationData.BoundingBox.prototype.clearYmin=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasYmin=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.BoundingBox.prototype.getWidth=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setWidth=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.LocationData.BoundingBox.prototype.clearWidth=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasWidth=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.LocationData.BoundingBox.prototype.getHeight=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setHeight=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.LocationData.BoundingBox.prototype.clearHeight=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasHeight=function(){return null!=t.Message.getField(this,4)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeBoundingBox.prototype.toObject=function(e){return proto.mediapipe.LocationData.RelativeBoundingBox.toObject(e,this)},proto.mediapipe.LocationData.RelativeBoundingBox.toObject=function(e,r){var n,i={xmin:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,ymin:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,width:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,height:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData.RelativeBoundingBox;return proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setXmin(r);break;case 2:r=t.readFloat(),e.setYmin(r);break;case 3:r=t.readFloat(),e.setWidth(r);break;case 4:r=t.readFloat(),e.setHeight(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getXmin=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setXmin=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearXmin=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasXmin=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getYmin=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setYmin=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearYmin=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasYmin=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getWidth=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setWidth=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearWidth=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasWidth=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getHeight=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setHeight=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearHeight=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasHeight=function(){return null!=t.Message.getField(this,4)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BinaryMask.prototype.toObject=function(e){return proto.mediapipe.LocationData.BinaryMask.toObject(e,this)},proto.mediapipe.LocationData.BinaryMask.toObject=function(e,r){var n,o={width:null==(n=t.Message.getField(r,1))?void 0:n,height:null==(n=t.Message.getField(r,2))?void 0:n,rasterization:(n=r.getRasterization())&&i.Rasterization.toObject(e,n)};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.LocationData.BinaryMask.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData.BinaryMask;return proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setWidth(r);break;case 2:r=t.readInt32(),e.setHeight(r);break;case 3:r=new i.Rasterization,t.readMessage(r,i.Rasterization.deserializeBinaryFromReader),e.setRasterization(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.BinaryMask.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=e.getRasterization())&&r.writeMessage(3,n,i.Rasterization.serializeBinaryToWriter)},proto.mediapipe.LocationData.BinaryMask.prototype.getWidth=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setWidth=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.BinaryMask.prototype.clearWidth=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasWidth=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.BinaryMask.prototype.getHeight=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setHeight=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LocationData.BinaryMask.prototype.clearHeight=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasHeight=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.BinaryMask.prototype.getRasterization=function(){return t.Message.getWrapperField(this,i.Rasterization,3)},proto.mediapipe.LocationData.BinaryMask.prototype.setRasterization=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.LocationData.BinaryMask.prototype.clearRasterization=function(){return this.setRasterization(void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasRasterization=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeKeypoint.prototype.toObject=function(e){return proto.mediapipe.LocationData.RelativeKeypoint.toObject(e,this)},proto.mediapipe.LocationData.RelativeKeypoint.toObject=function(e,r){var n,i={x:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,y:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,keypointLabel:null==(n=t.Message.getField(r,3))?void 0:n,score:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData.RelativeKeypoint;return proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setX(r);break;case 2:r=t.readFloat(),e.setY(r);break;case 3:r=t.readString(),e.setKeypointLabel(r);break;case 4:r=t.readFloat(),e.setScore(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.RelativeKeypoint.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeString(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getX=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setX=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearX=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasX=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getY=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setY=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearY=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasY=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getKeypointLabel=function(){return t.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setKeypointLabel=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearKeypointLabel=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasKeypointLabel=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getScore=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setScore=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearScore=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasScore=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.LocationData.prototype.getFormat=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.prototype.setFormat=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.prototype.clearFormat=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.prototype.hasFormat=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.prototype.getBoundingBox=function(){return t.Message.getWrapperField(this,proto.mediapipe.LocationData.BoundingBox,2)},proto.mediapipe.LocationData.prototype.setBoundingBox=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.LocationData.prototype.clearBoundingBox=function(){return this.setBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasBoundingBox=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.prototype.getRelativeBoundingBox=function(){return t.Message.getWrapperField(this,proto.mediapipe.LocationData.RelativeBoundingBox,3)},proto.mediapipe.LocationData.prototype.setRelativeBoundingBox=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.LocationData.prototype.clearRelativeBoundingBox=function(){return this.setRelativeBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasRelativeBoundingBox=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.LocationData.prototype.getMask=function(){return t.Message.getWrapperField(this,proto.mediapipe.LocationData.BinaryMask,4)},proto.mediapipe.LocationData.prototype.setMask=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.LocationData.prototype.clearMask=function(){return this.setMask(void 0)},proto.mediapipe.LocationData.prototype.hasMask=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.LocationData.prototype.getRelativeKeypointsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.LocationData.RelativeKeypoint,5)},proto.mediapipe.LocationData.prototype.setRelativeKeypointsList=function(e){return t.Message.setRepeatedWrapperField(this,5,e)},proto.mediapipe.LocationData.prototype.addRelativeKeypoints=function(e,r){return t.Message.addToRepeatedWrapperField(this,5,e,proto.mediapipe.LocationData.RelativeKeypoint,r)},proto.mediapipe.LocationData.prototype.clearRelativeKeypointsList=function(){return this.setRelativeKeypointsList([])},r.object.extend(e,proto.mediapipe)}(location_data_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=location_data_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.Detection",null,n),r.exportSymbol("proto.mediapipe.Detection.AssociatedDetection",null,n),r.exportSymbol("proto.mediapipe.DetectionList",null,n),proto.mediapipe.Detection=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.Detection.repeatedFields_,null)},r.inherits(proto.mediapipe.Detection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.displayName="proto.mediapipe.Detection"),proto.mediapipe.Detection.AssociatedDetection=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Detection.AssociatedDetection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.AssociatedDetection.displayName="proto.mediapipe.Detection.AssociatedDetection"),proto.mediapipe.DetectionList=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.DetectionList.repeatedFields_,null)},r.inherits(proto.mediapipe.DetectionList,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.DetectionList.displayName="proto.mediapipe.DetectionList"),proto.mediapipe.Detection.repeatedFields_=[1,2,3,8,9],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.prototype.toObject=function(e){return proto.mediapipe.Detection.toObject(e,this)},proto.mediapipe.Detection.toObject=function(e,r){var n,o={labelList:null==(n=t.Message.getRepeatedField(r,1))?void 0:n,labelIdList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,scoreList:null==(n=t.Message.getRepeatedFloatingPointField(r,3))?void 0:n,locationData:(n=r.getLocationData())&&i.LocationData.toObject(e,n),featureTag:null==(n=t.Message.getField(r,5))?void 0:n,trackId:null==(n=t.Message.getField(r,6))?void 0:n,detectionId:null==(n=t.Message.getField(r,7))?void 0:n,associatedDetectionsList:t.Message.toObjectList(r.getAssociatedDetectionsList(),proto.mediapipe.Detection.AssociatedDetection.toObject,e),displayNameList:null==(n=t.Message.getRepeatedField(r,9))?void 0:n,timestampUsec:null==(n=t.Message.getField(r,10))?void 0:n};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.Detection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Detection;return proto.mediapipe.Detection.deserializeBinaryFromReader(n,r)},proto.mediapipe.Detection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.addLabel(r);break;case 2:for(var n=t.isDelimited()?t.readPackedInt32():[t.readInt32()],o=0;o<n.length;o++)e.addLabelId(n[o]);break;case 3:for(n=t.isDelimited()?t.readPackedFloat():[t.readFloat()],o=0;o<n.length;o++)e.addScore(n[o]);break;case 4:r=new i.LocationData,t.readMessage(r,i.LocationData.deserializeBinaryFromReader),e.setLocationData(r);break;case 5:r=t.readString(),e.setFeatureTag(r);break;case 6:r=t.readString(),e.setTrackId(r);break;case 7:r=t.readInt64(),e.setDetectionId(r);break;case 8:r=new proto.mediapipe.Detection.AssociatedDetection,t.readMessage(r,proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader),e.addAssociatedDetections(r);break;case 9:r=t.readString(),e.addDisplayName(r);break;case 10:r=t.readInt64(),e.setTimestampUsec(r);break;default:t.skipField()}return e},proto.mediapipe.Detection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Detection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Detection.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getLabelList()).length>0&&r.writeRepeatedString(1,n),(n=e.getLabelIdList()).length>0&&r.writePackedInt32(2,n),(n=e.getScoreList()).length>0&&r.writePackedFloat(3,n),null!=(n=e.getLocationData())&&r.writeMessage(4,n,i.LocationData.serializeBinaryToWriter),null!=(n=t.Message.getField(e,5))&&r.writeString(5,n),null!=(n=t.Message.getField(e,6))&&r.writeString(6,n),null!=(n=t.Message.getField(e,7))&&r.writeInt64(7,n),(n=e.getAssociatedDetectionsList()).length>0&&r.writeRepeatedMessage(8,n,proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter),(n=e.getDisplayNameList()).length>0&&r.writeRepeatedString(9,n),null!=(n=t.Message.getField(e,10))&&r.writeInt64(10,n)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.AssociatedDetection.prototype.toObject=function(e){return proto.mediapipe.Detection.AssociatedDetection.toObject(e,this)},proto.mediapipe.Detection.AssociatedDetection.toObject=function(e,r){var n,i={id:null==(n=t.Message.getField(r,1))?void 0:n,confidence:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Detection.AssociatedDetection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Detection.AssociatedDetection;return proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader(n,r)},proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setId(r);break;case 2:r=t.readFloat(),e.setConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.Detection.AssociatedDetection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n)},proto.mediapipe.Detection.AssociatedDetection.prototype.getId=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setId=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearId=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasId=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Detection.AssociatedDetection.prototype.getConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Detection.prototype.getLabelList=function(){return t.Message.getRepeatedField(this,1)},proto.mediapipe.Detection.prototype.setLabelList=function(e){return t.Message.setField(this,1,e||[])},proto.mediapipe.Detection.prototype.addLabel=function(e,r){return t.Message.addToRepeatedField(this,1,e,r)},proto.mediapipe.Detection.prototype.clearLabelList=function(){return this.setLabelList([])},proto.mediapipe.Detection.prototype.getLabelIdList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.Detection.prototype.setLabelIdList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.Detection.prototype.addLabelId=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.Detection.prototype.clearLabelIdList=function(){return this.setLabelIdList([])},proto.mediapipe.Detection.prototype.getScoreList=function(){return t.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.Detection.prototype.setScoreList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.Detection.prototype.addScore=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.Detection.prototype.clearScoreList=function(){return this.setScoreList([])},proto.mediapipe.Detection.prototype.getLocationData=function(){return t.Message.getWrapperField(this,i.LocationData,4)},proto.mediapipe.Detection.prototype.setLocationData=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.Detection.prototype.clearLocationData=function(){return this.setLocationData(void 0)},proto.mediapipe.Detection.prototype.hasLocationData=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.Detection.prototype.getFeatureTag=function(){return t.Message.getFieldWithDefault(this,5,"")},proto.mediapipe.Detection.prototype.setFeatureTag=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.Detection.prototype.clearFeatureTag=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.Detection.prototype.hasFeatureTag=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.Detection.prototype.getTrackId=function(){return t.Message.getFieldWithDefault(this,6,"")},proto.mediapipe.Detection.prototype.setTrackId=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.Detection.prototype.clearTrackId=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.Detection.prototype.hasTrackId=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.Detection.prototype.getDetectionId=function(){return t.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.Detection.prototype.setDetectionId=function(e){return t.Message.setField(this,7,e)},proto.mediapipe.Detection.prototype.clearDetectionId=function(){return t.Message.setField(this,7,void 0)},proto.mediapipe.Detection.prototype.hasDetectionId=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.Detection.prototype.getAssociatedDetectionsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection.AssociatedDetection,8)},proto.mediapipe.Detection.prototype.setAssociatedDetectionsList=function(e){return t.Message.setRepeatedWrapperField(this,8,e)},proto.mediapipe.Detection.prototype.addAssociatedDetections=function(e,r){return t.Message.addToRepeatedWrapperField(this,8,e,proto.mediapipe.Detection.AssociatedDetection,r)},proto.mediapipe.Detection.prototype.clearAssociatedDetectionsList=function(){return this.setAssociatedDetectionsList([])},proto.mediapipe.Detection.prototype.getDisplayNameList=function(){return t.Message.getRepeatedField(this,9)},proto.mediapipe.Detection.prototype.setDisplayNameList=function(e){return t.Message.setField(this,9,e||[])},proto.mediapipe.Detection.prototype.addDisplayName=function(e,r){return t.Message.addToRepeatedField(this,9,e,r)},proto.mediapipe.Detection.prototype.clearDisplayNameList=function(){return this.setDisplayNameList([])},proto.mediapipe.Detection.prototype.getTimestampUsec=function(){return t.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.Detection.prototype.setTimestampUsec=function(e){return t.Message.setField(this,10,e)},proto.mediapipe.Detection.prototype.clearTimestampUsec=function(){return t.Message.setField(this,10,void 0)},proto.mediapipe.Detection.prototype.hasTimestampUsec=function(){return null!=t.Message.getField(this,10)},proto.mediapipe.DetectionList.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.DetectionList.prototype.toObject=function(e){return proto.mediapipe.DetectionList.toObject(e,this)},proto.mediapipe.DetectionList.toObject=function(e,r){var n={detectionList:t.Message.toObjectList(r.getDetectionList(),proto.mediapipe.Detection.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.DetectionList.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.DetectionList;return proto.mediapipe.DetectionList.deserializeBinaryFromReader(n,r)},proto.mediapipe.DetectionList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.Detection;t.readMessage(r,proto.mediapipe.Detection.deserializeBinaryFromReader),e.addDetection(r)}else t.skipField();return e},proto.mediapipe.DetectionList.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.DetectionList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.DetectionList.serializeBinaryToWriter=function(e,t){var r;(r=e.getDetectionList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.Detection.serializeBinaryToWriter)},proto.mediapipe.DetectionList.prototype.getDetectionList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection,1)},proto.mediapipe.DetectionList.prototype.setDetectionList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.DetectionList.prototype.addDetection=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.Detection,r)},proto.mediapipe.DetectionList.prototype.clearDetectionList=function(){return this.setDetectionList([])},r.object.extend(e,proto.mediapipe)}(detection_pb);var base_options_pb={},acceleration_pb={},inference_calculator_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack",null,n),proto.mediapipe.InferenceCalculatorOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.displayName="proto.mediapipe.InferenceCalculatorOptions"),proto.mediapipe.InferenceCalculatorOptions.Delegate=function(e){t.Message.initialize(this,e,0,-1,null,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate"),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.toObject=function(e,r){var n,i={modelPath:null==(n=t.Message.getField(r,1))?void 0:n,useGpu:t.Message.getBooleanFieldWithDefault(r,2,!1),useNnapi:t.Message.getBooleanFieldWithDefault(r,3,!1),cpuNumThread:t.Message.getFieldWithDefault(r,4,-1),delegate:(n=r.getDelegate())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.InferenceCalculatorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions;return proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setModelPath(r);break;case 2:r=t.readBool(),e.setUseGpu(r);break;case 3:r=t.readBool(),e.setUseNnapi(r);break;case 4:r=t.readInt32(),e.setCpuNumThread(r);break;case 5:r=new proto.mediapipe.InferenceCalculatorOptions.Delegate,t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader),e.setDelegate(r);break;default:t.skipField()}return e},proto.mediapipe.InferenceCalculatorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeBool(2,n),null!=(n=t.Message.getField(e,3))&&r.writeBool(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n),null!=(n=e.getDelegate())&&r.writeMessage(5,n,proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter)},proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_=[[1,2,3,4]],proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase={DELEGATE_NOT_SET:0,TFLITE:1,GPU:2,NNAPI:3,XNNPACK:4},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getDelegateCase=function(){return t.Message.computeOneofCase(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject=function(e,t){var r,n={tflite:(r=t.getTflite())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(e,r),gpu:(r=t.getGpu())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(e,r),nnapi:(r=t.getNnapi())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(e,r),xnnpack:(r=t.getXnnpack())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate;return proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),e.setTflite(r);break;case 2:r=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),e.setGpu(r);break;case 3:r=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),e.setNnapi(r);break;case 4:r=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),e.setXnnpack(r);break;default:t.skipField()}return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getTflite())&&t.writeMessage(1,r,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),null!=(r=e.getGpu())&&t.writeMessage(2,r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),null!=(r=e.getNnapi())&&t.writeMessage(3,r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter),null!=(r=e.getXnnpack())&&t.writeMessage(4,r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter=function(e,t){},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject=function(e,r){var n,i={useAdvancedGpuApi:t.Message.getBooleanFieldWithDefault(r,1,!1),api:t.Message.getFieldWithDefault(r,4,0),allowPrecisionLoss:t.Message.getBooleanFieldWithDefault(r,3,!0),cachedKernelPath:null==(n=t.Message.getField(r,2))?void 0:n,serializedModelDir:null==(n=t.Message.getField(r,7))?void 0:n,modelToken:null==(n=t.Message.getField(r,8))?void 0:n,usage:t.Message.getFieldWithDefault(r,5,2)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setUseAdvancedGpuApi(r);break;case 4:r=t.readEnum(),e.setApi(r);break;case 3:r=t.readBool(),e.setAllowPrecisionLoss(r);break;case 2:r=t.readString(),e.setCachedKernelPath(r);break;case 7:r=t.readString(),e.setSerializedModelDir(r);break;case 8:r=t.readString(),e.setModelToken(r);break;case 5:r=t.readEnum(),e.setUsage(r);break;default:t.skipField()}return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeBool(1,n),null!=(n=t.Message.getField(e,4))&&r.writeEnum(4,n),null!=(n=t.Message.getField(e,3))&&r.writeBool(3,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=t.Message.getField(e,7))&&r.writeString(7,n),null!=(n=t.Message.getField(e,8))&&r.writeString(8,n),null!=(n=t.Message.getField(e,5))&&r.writeEnum(5,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api={ANY:0,OPENGL:1,OPENCL:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage={UNSPECIFIED:0,FAST_SINGLE_ANSWER:1,SUSTAINED_SPEED:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUseAdvancedGpuApi=function(){return t.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUseAdvancedGpuApi=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUseAdvancedGpuApi=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUseAdvancedGpuApi=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getApi=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setApi=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearApi=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasApi=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getAllowPrecisionLoss=function(){return t.Message.getBooleanFieldWithDefault(this,3,!0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setAllowPrecisionLoss=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearAllowPrecisionLoss=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasAllowPrecisionLoss=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getCachedKernelPath=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setCachedKernelPath=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearCachedKernelPath=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasCachedKernelPath=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getSerializedModelDir=function(){return t.Message.getFieldWithDefault(this,7,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setSerializedModelDir=function(e){return t.Message.setField(this,7,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearSerializedModelDir=function(){return t.Message.setField(this,7,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasSerializedModelDir=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getModelToken=function(){return t.Message.getFieldWithDefault(this,8,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setModelToken=function(e){return t.Message.setField(this,8,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearModelToken=function(){return t.Message.setField(this,8,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasModelToken=function(){return null!=t.Message.getField(this,8)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUsage=function(){return t.Message.getFieldWithDefault(this,5,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUsage=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUsage=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUsage=function(){return null!=t.Message.getField(this,5)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject=function(e,r){var n,i={cacheDir:null==(n=t.Message.getField(r,1))?void 0:n,modelToken:null==(n=t.Message.getField(r,2))?void 0:n,acceleratorName:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCacheDir(r);break;case 2:r=t.readString(),e.setModelToken(r);break;case 3:r=t.readString(),e.setAcceleratorName(r);break;default:t.skipField()}return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=t.Message.getField(e,3))&&r.writeString(3,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getCacheDir=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setCacheDir=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearCacheDir=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasCacheDir=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getModelToken=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setModelToken=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearModelToken=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasModelToken=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getAcceleratorName=function(){return t.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setAcceleratorName=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearAcceleratorName=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasAcceleratorName=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject=function(e,r){var n={numThreads:t.Message.getFieldWithDefault(r,1,-1)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readInt32();e.setNumThreads(r)}else t.skipField();return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter=function(e,r){var n;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.getNumThreads=function(){return t.Message.getFieldWithDefault(this,1,-1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.setNumThreads=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.clearNumThreads=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.hasNumThreads=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getTflite=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setTflite=function(e){return t.Message.setOneofWrapperField(this,1,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasTflite=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getGpu=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setGpu=function(e){return t.Message.setOneofWrapperField(this,2,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasGpu=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getNnapi=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setNnapi=function(e){return t.Message.setOneofWrapperField(this,3,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasNnapi=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getXnnpack=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setXnnpack=function(e){return t.Message.setOneofWrapperField(this,4,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasXnnpack=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.InferenceCalculatorOptions.ext=new t.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[336783863]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,proto.mediapipe.InferenceCalculatorOptions.prototype.getModelPath=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.prototype.setModelPath=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearModelPath=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasModelPath=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseGpu=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseGpu=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseGpu=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseGpu=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseNnapi=function(){return t.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseNnapi=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseNnapi=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseNnapi=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.InferenceCalculatorOptions.prototype.getCpuNumThread=function(){return t.Message.getFieldWithDefault(this,4,-1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setCpuNumThread=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearCpuNumThread=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasCpuNumThread=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.InferenceCalculatorOptions.prototype.getDelegate=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate,5)},proto.mediapipe.InferenceCalculatorOptions.prototype.setDelegate=function(e){return t.Message.setWrapperField(this,5,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearDelegate=function(){return this.setDelegate(void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasDelegate=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.InferenceCalculatorOptions.ext=new t.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[336783863]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,r.object.extend(e,proto.mediapipe)}(inference_calculator_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=inference_calculator_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase",null,n),proto.mediapipe.tasks.core.proto.Acceleration=function(e){t.Message.initialize(this,e,0,-1,null,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_)},r.inherits(proto.mediapipe.tasks.core.proto.Acceleration,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.Acceleration.displayName="proto.mediapipe.tasks.core.proto.Acceleration"),proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_=[[1,2,4,5]],proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase={DELEGATE_NOT_SET:0,XNNPACK:1,GPU:2,TFLITE:4,NNAPI:5},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getDelegateCase=function(){return t.Message.computeOneofCase(this,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.Acceleration.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.Acceleration.toObject(e,this)},proto.mediapipe.tasks.core.proto.Acceleration.toObject=function(e,t){var r,n={xnnpack:(r=t.getXnnpack())&&i.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(e,r),gpu:(r=t.getGpu())&&i.InferenceCalculatorOptions.Delegate.Gpu.toObject(e,r),tflite:(r=t.getTflite())&&i.InferenceCalculatorOptions.Delegate.TfLite.toObject(e,r),nnapi:(r=t.getNnapi())&&i.InferenceCalculatorOptions.Delegate.Nnapi.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.Acceleration;return proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new i.InferenceCalculatorOptions.Delegate.Xnnpack;t.readMessage(r,i.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),e.setXnnpack(r);break;case 2:r=new i.InferenceCalculatorOptions.Delegate.Gpu,t.readMessage(r,i.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),e.setGpu(r);break;case 4:r=new i.InferenceCalculatorOptions.Delegate.TfLite,t.readMessage(r,i.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),e.setTflite(r);break;case 5:r=new i.InferenceCalculatorOptions.Delegate.Nnapi,t.readMessage(r,i.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),e.setNnapi(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.Acceleration.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getXnnpack())&&t.writeMessage(1,r,i.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter),null!=(r=e.getGpu())&&t.writeMessage(2,r,i.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),null!=(r=e.getTflite())&&t.writeMessage(4,r,i.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),null!=(r=e.getNnapi())&&t.writeMessage(5,r,i.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getXnnpack=function(){return t.Message.getWrapperField(this,i.InferenceCalculatorOptions.Delegate.Xnnpack,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setXnnpack=function(e){return t.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],e)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasXnnpack=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getGpu=function(){return t.Message.getWrapperField(this,i.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setGpu=function(e){return t.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],e)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasGpu=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getTflite=function(){return t.Message.getWrapperField(this,i.InferenceCalculatorOptions.Delegate.TfLite,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setTflite=function(e){return t.Message.setOneofWrapperField(this,4,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],e)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasTflite=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getNnapi=function(){return t.Message.getWrapperField(this,i.InferenceCalculatorOptions.Delegate.Nnapi,5)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setNnapi=function(e){return t.Message.setOneofWrapperField(this,5,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],e)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasNnapi=function(){return null!=t.Message.getField(this,5)},r.object.extend(e,proto.mediapipe.tasks.core.proto)}(acceleration_pb);var external_file_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.core.proto.ExternalFile",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.FileDescriptorMeta",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.FilePointerMeta",null,n),proto.mediapipe.tasks.core.proto.ExternalFile=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.ExternalFile,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.ExternalFile.displayName="proto.mediapipe.tasks.core.proto.ExternalFile"),proto.mediapipe.tasks.core.proto.FileDescriptorMeta=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.FileDescriptorMeta,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.displayName="proto.mediapipe.tasks.core.proto.FileDescriptorMeta"),proto.mediapipe.tasks.core.proto.FilePointerMeta=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.FilePointerMeta,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.displayName="proto.mediapipe.tasks.core.proto.FilePointerMeta"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.ExternalFile.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.ExternalFile.toObject(e,this)},proto.mediapipe.tasks.core.proto.ExternalFile.toObject=function(e,r){var n,i={fileContent:r.getFileContent_asB64(),fileName:null==(n=t.Message.getField(r,2))?void 0:n,fileDescriptorMeta:(n=r.getFileDescriptorMeta())&&proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(e,n),filePointerMeta:(n=r.getFilePointerMeta())&&proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.ExternalFile;return proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setFileContent(r);break;case 2:r=t.readString(),e.setFileName(r);break;case 3:r=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta,t.readMessage(r,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader),e.setFileDescriptorMeta(r);break;case 4:r=new proto.mediapipe.tasks.core.proto.FilePointerMeta,t.readMessage(r,proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader),e.setFilePointerMeta(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeBytes(1,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=e.getFileDescriptorMeta())&&r.writeMessage(3,n,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter),null!=(n=e.getFilePointerMeta())&&r.writeMessage(4,n,proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asB64=function(){return t.Message.bytesAsB64(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asU8=function(){return t.Message.bytesAsU8(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileContent=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileContent=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileContent=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileName=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileName=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileName=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileName=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileDescriptorMeta=function(){return t.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FileDescriptorMeta,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileDescriptorMeta=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.setFileDescriptorMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileDescriptorMeta=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFilePointerMeta=function(){return t.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FilePointerMeta,4)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFilePointerMeta=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFilePointerMeta=function(){return this.setFilePointerMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFilePointerMeta=function(){return null!=t.Message.getField(this,4)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(e,this)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject=function(e,r){var n,i={fd:null==(n=t.Message.getField(r,1))?void 0:n,length:null==(n=t.Message.getField(r,2))?void 0:n,offset:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setFd(r);break;case 2:r=t.readInt64(),e.setLength(r);break;case 3:r=t.readInt64(),e.setOffset(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt64(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt64(3,n)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getFd=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setFd=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearFd=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasFd=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getLength=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setLength=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearLength=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasLength=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getOffset=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setOffset=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearOffset=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasOffset=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(e,this)},proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject=function(e,r){var n,i={pointer:null==(n=t.Message.getField(r,1))?void 0:n,length:null==(n=t.Message.getField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.FilePointerMeta;return proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setPointer(r);break;case 2:r=t.readInt64(),e.setLength(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeUint64(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt64(2,n)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getPointer=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setPointer=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearPointer=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasPointer=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getLength=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setLength=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearLength=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasLength=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.core.proto)}(external_file_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=acceleration_pb;r.object.extend(proto,i);var o=external_file_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.core.proto.BaseOptions",null,n),proto.mediapipe.tasks.core.proto.BaseOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.BaseOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.BaseOptions.displayName="proto.mediapipe.tasks.core.proto.BaseOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.BaseOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.BaseOptions.toObject(e,this)},proto.mediapipe.tasks.core.proto.BaseOptions.toObject=function(e,r){var n,a={modelAsset:(n=r.getModelAsset())&&o.ExternalFile.toObject(e,n),useStreamMode:t.Message.getBooleanFieldWithDefault(r,2,!1),acceleration:(n=r.getAcceleration())&&i.Acceleration.toObject(e,n)};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.BaseOptions;return proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.ExternalFile;t.readMessage(r,o.ExternalFile.deserializeBinaryFromReader),e.setModelAsset(r);break;case 2:r=t.readBool(),e.setUseStreamMode(r);break;case 3:r=new i.Acceleration,t.readMessage(r,i.Acceleration.deserializeBinaryFromReader),e.setAcceleration(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getModelAsset())&&r.writeMessage(1,n,o.ExternalFile.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeBool(2,n),null!=(n=e.getAcceleration())&&r.writeMessage(3,n,i.Acceleration.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getModelAsset=function(){return t.Message.getWrapperField(this,o.ExternalFile,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setModelAsset=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearModelAsset=function(){return this.setModelAsset(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasModelAsset=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getUseStreamMode=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setUseStreamMode=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearUseStreamMode=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasUseStreamMode=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getAcceleration=function(){return t.Message.getWrapperField(this,i.Acceleration,3)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setAcceleration=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearAcceleration=function(){return this.setAcceleration(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasAcceleration=function(){return null!=t.Message.getField(this,3)},r.object.extend(e,proto.mediapipe.tasks.core.proto)}(base_options_pb);var face_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5),minSuppressionThreshold:t.Message.getFloatingPointFieldWithDefault(r,3,.5),numFaces:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;case 3:r=t.readFloat(),e.setMinSuppressionThreshold(r);break;case 4:r=t.readInt32(),e.setNumFaces(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new t.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[502141897]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getNumFaces=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setNumFaces=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearNumFaces=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasNumFaces=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new t.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[502141897]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_detector.proto)}(face_detector_graph_options_pb);var detection_result={};Object.defineProperty(detection_result,"__esModule",{value:!0}),detection_result.convertFromDetectionProto=void 0;const DEFAULT_CATEGORY_INDEX=-1;function convertFromDetectionProto(e){var t,r,n,i,o,a,s,l,c,p,u,d,h;const f=e.getScoreList(),m=e.getLabelIdList(),g=e.getLabelList(),y=e.getDisplayNameList(),v={categories:[],keypoints:[]};for(let S=0;S<f.length;S++)v.categories.push({score:f[S],index:null!==(t=m[S])&&void 0!==t?t:DEFAULT_CATEGORY_INDEX,categoryName:null!==(r=g[S])&&void 0!==r?r:"",displayName:null!==(n=y[S])&&void 0!==n?n:""});const b=null===(i=e.getLocationData())||void 0===i?void 0:i.getBoundingBox();if(b&&(v.boundingBox={originX:null!==(o=b.getXmin())&&void 0!==o?o:0,originY:null!==(a=b.getYmin())&&void 0!==a?a:0,width:null!==(s=b.getWidth())&&void 0!==s?s:0,height:null!==(l=b.getHeight())&&void 0!==l?l:0,angle:0}),null===(c=e.getLocationData())||void 0===c?void 0:c.getRelativeKeypointsList().length)for(const S of e.getLocationData().getRelativeKeypointsList())v.keypoints.push({x:null!==(p=S.getX())&&void 0!==p?p:0,y:null!==(u=S.getY())&&void 0!==u?u:0,score:null!==(d=S.getScore())&&void 0!==d?d:0,label:null!==(h=S.getKeypointLabel())&&void 0!==h?h:""});return v}detection_result.convertFromDetectionProto=convertFromDetectionProto;var vision_task_runner={},rect_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.NormalizedRect",null,n),r.exportSymbol("proto.mediapipe.Rect",null,n),proto.mediapipe.Rect=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Rect,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rect.displayName="proto.mediapipe.Rect"),proto.mediapipe.NormalizedRect=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.NormalizedRect,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedRect.displayName="proto.mediapipe.NormalizedRect"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rect.prototype.toObject=function(e){return proto.mediapipe.Rect.toObject(e,this)},proto.mediapipe.Rect.toObject=function(e,r){var n,i={xCenter:null==(n=t.Message.getField(r,1))?void 0:n,yCenter:null==(n=t.Message.getField(r,2))?void 0:n,height:null==(n=t.Message.getField(r,3))?void 0:n,width:null==(n=t.Message.getField(r,4))?void 0:n,rotation:t.Message.getFloatingPointFieldWithDefault(r,5,0),rectId:null==(n=t.Message.getField(r,6))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Rect.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Rect;return proto.mediapipe.Rect.deserializeBinaryFromReader(n,r)},proto.mediapipe.Rect.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setXCenter(r);break;case 2:r=t.readInt32(),e.setYCenter(r);break;case 3:r=t.readInt32(),e.setHeight(r);break;case 4:r=t.readInt32(),e.setWidth(r);break;case 5:r=t.readFloat(),e.setRotation(r);break;case 6:r=t.readInt64(),e.setRectId(r);break;default:t.skipField()}return e},proto.mediapipe.Rect.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Rect.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Rect.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n),null!=(n=t.Message.getField(e,5))&&r.writeFloat(5,n),null!=(n=t.Message.getField(e,6))&&r.writeInt64(6,n)},proto.mediapipe.Rect.prototype.getXCenter=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rect.prototype.setXCenter=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Rect.prototype.clearXCenter=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Rect.prototype.hasXCenter=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Rect.prototype.getYCenter=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rect.prototype.setYCenter=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Rect.prototype.clearYCenter=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Rect.prototype.hasYCenter=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Rect.prototype.getHeight=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rect.prototype.setHeight=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Rect.prototype.clearHeight=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Rect.prototype.hasHeight=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.Rect.prototype.getWidth=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.Rect.prototype.setWidth=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.Rect.prototype.clearWidth=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.Rect.prototype.hasWidth=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.Rect.prototype.getRotation=function(){return t.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Rect.prototype.setRotation=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.Rect.prototype.clearRotation=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.Rect.prototype.hasRotation=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.Rect.prototype.getRectId=function(){return t.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.Rect.prototype.setRectId=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.Rect.prototype.clearRectId=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.Rect.prototype.hasRectId=function(){return null!=t.Message.getField(this,6)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedRect.prototype.toObject=function(e){return proto.mediapipe.NormalizedRect.toObject(e,this)},proto.mediapipe.NormalizedRect.toObject=function(e,r){var n,i={xCenter:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,yCenter:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,height:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,width:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,rotation:t.Message.getFloatingPointFieldWithDefault(r,5,0),rectId:null==(n=t.Message.getField(r,6))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.NormalizedRect.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.NormalizedRect;return proto.mediapipe.NormalizedRect.deserializeBinaryFromReader(n,r)},proto.mediapipe.NormalizedRect.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setXCenter(r);break;case 2:r=t.readFloat(),e.setYCenter(r);break;case 3:r=t.readFloat(),e.setHeight(r);break;case 4:r=t.readFloat(),e.setWidth(r);break;case 5:r=t.readFloat(),e.setRotation(r);break;case 6:r=t.readInt64(),e.setRectId(r);break;default:t.skipField()}return e},proto.mediapipe.NormalizedRect.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.NormalizedRect.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.NormalizedRect.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),null!=(n=t.Message.getField(e,5))&&r.writeFloat(5,n),null!=(n=t.Message.getField(e,6))&&r.writeInt64(6,n)},proto.mediapipe.NormalizedRect.prototype.getXCenter=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedRect.prototype.setXCenter=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.NormalizedRect.prototype.clearXCenter=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedRect.prototype.hasXCenter=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.NormalizedRect.prototype.getYCenter=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedRect.prototype.setYCenter=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.NormalizedRect.prototype.clearYCenter=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedRect.prototype.hasYCenter=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.NormalizedRect.prototype.getHeight=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedRect.prototype.setHeight=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.NormalizedRect.prototype.clearHeight=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedRect.prototype.hasHeight=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.NormalizedRect.prototype.getWidth=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedRect.prototype.setWidth=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.NormalizedRect.prototype.clearWidth=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedRect.prototype.hasWidth=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.NormalizedRect.prototype.getRotation=function(){return t.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedRect.prototype.setRotation=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.NormalizedRect.prototype.clearRotation=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRotation=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.NormalizedRect.prototype.getRectId=function(){return t.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.NormalizedRect.prototype.setRectId=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.NormalizedRect.prototype.clearRectId=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRectId=function(){return null!=t.Message.getField(this,6)},r.object.extend(e,proto.mediapipe)}(rect_pb);var task_runner={},graph_runner={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createGraphRunner=e.createMediaPipeLib=e.GraphRunner=e.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME=void 0;const t=platform_utils;e.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME="__graph_config__";class r{constructor(e,r){this.autoResizeCanvas=!0,this.wasmModule=e,this.audioPtr=null,this.audioSize=0,this.hasMultiStreamSupport="function"==typeof this.wasmModule._addIntToInputStream,void 0!==r?this.wasmModule.canvas=r:"undefined"==typeof OffscreenCanvas||(0,t.isWebKit)()?(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.wasmModule.canvas=document.createElement("canvas")):this.wasmModule.canvas=new OffscreenCanvas(1,1)}async initializeGraph(e){const t=await fetch(e),r=await t.arrayBuffer(),n=!(e.endsWith(".pbtxt")||e.endsWith(".textproto"));this.setGraph(new Uint8Array(r),n)}setGraphFromString(e){this.setGraph((new TextEncoder).encode(e),!1)}setGraph(e,t){const r=e.length,n=this.wasmModule._malloc(r);this.wasmModule.HEAPU8.set(e,n),t?this.wasmModule._changeBinaryGraph(r,n):this.wasmModule._changeTextGraph(r,n),this.wasmModule._free(n)}configureAudio(e,t,r,n,i){this.wasmModule._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),n=n||"input_audio",this.wrapStringPtr(n,(n=>{i=i||"audio_header",this.wrapStringPtr(i,(i=>{this.wasmModule._configureAudio(n,i,e,t,r)}))}))}setAutoResizeCanvas(e){this.autoResizeCanvas=e}setAutoRenderToScreen(e){this.wasmModule._setAutoRenderToScreen(e)}bindTextureToStream(e,t){if(!this.wasmModule.canvas)throw new Error("No OpenGL canvas configured.");t?this.wasmModule._bindTextureToStream(t):console.assert(this.wasmModule._bindTextureToCanvas());const r=this.wasmModule.canvas.getContext("webgl2")||this.wasmModule.canvas.getContext("webgl");if(!r)throw new Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");let n,i;return r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),e.videoWidth?(n=e.videoWidth,i=e.videoHeight):e.naturalWidth?(n=e.naturalWidth,i=e.naturalHeight):(n=e.width,i=e.height),!this.autoResizeCanvas||n===this.wasmModule.canvas.width&&i===this.wasmModule.canvas.height||(this.wasmModule.canvas.width=n,this.wasmModule.canvas.height=i),[n,i]}processGl(e,t){const[r,n]=this.bindTextureToStream(e),i=this.wasmModule._malloc(16);this.wasmModule.HEAPU32[i/4]=r,this.wasmModule.HEAPU32[i/4+1]=n,this.wasmModule.HEAPF64[i/8+1]=t,this.wasmModule._processGl(i),this.wasmModule._free(i)}wrapStringPtr(e,t){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const r=this.wasmModule.stringToNewUTF8(e);t(r),this.wasmModule._free(r)}wrapStringPtrPtr(e,t){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const r=new Uint32Array(e.length);for(let i=0;i<e.length;i++)r[i]=this.wasmModule.stringToNewUTF8(e[i]);const n=this.wasmModule._malloc(4*r.length);this.wasmModule.HEAPU32.set(r,n>>2),t(n);for(const i of r)this.wasmModule._free(i);this.wasmModule._free(n)}getCalculatorGraphConfig(t,r){const n=e.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME;this.setListener(n,(e=>{t(e)})),this.wrapStringPtr(n,(e=>{this.wasmModule._getGraphConfig(e,r)})),delete this.wasmModule.simpleListeners[n]}setListener(e,t){this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[e]=t}setVectorListener(e,t){let r=[];this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[e]=(e,n,i)=>{n?(t(r,i),r=[]):r.push(e)}}attachErrorListener(e){this.wasmModule.errorListener=e}attachEmptyPacketListener(e,t){this.wasmModule.emptyPacketListeners=this.wasmModule.emptyPacketListeners||{},this.wasmModule.emptyPacketListeners[e]=t}addAudioToStream(e,t,r){this.addAudioToStreamWithShape(e,0,0,t,r)}addAudioToStreamWithShape(e,t,r,n,i){const o=4*e.length;this.audioSize!==o&&(this.audioPtr&&this.wasmModule._free(this.audioPtr),this.audioPtr=this.wasmModule._malloc(o),this.audioSize=o),this.wasmModule.HEAPF32.set(e,this.audioPtr/4),this.wrapStringPtr(n,(e=>{this.wasmModule._addAudioToInputStream(this.audioPtr,t,r,e,i)}))}addGpuBufferToStream(e,t,r){this.wrapStringPtr(t,(t=>{const[n,i]=this.bindTextureToStream(e,t);this.wasmModule._addBoundTextureToStream(t,n,i,r)}))}addBoolToStream(e,t,r){this.wrapStringPtr(t,(t=>{this.wasmModule._addBoolToInputStream(e,t,r)}))}addDoubleToStream(e,t,r){this.wrapStringPtr(t,(t=>{this.wasmModule._addDoubleToInputStream(e,t,r)}))}addFloatToStream(e,t,r){this.wrapStringPtr(t,(t=>{this.wasmModule._addFloatToInputStream(e,t,r)}))}addIntToStream(e,t,r){this.wrapStringPtr(t,(t=>{this.wasmModule._addIntToInputStream(e,t,r)}))}addStringToStream(e,t,r){this.wrapStringPtr(t,(t=>{this.wrapStringPtr(e,(e=>{this.wasmModule._addStringToInputStream(e,t,r)}))}))}addStringRecordToStream(e,t,r){this.wrapStringPtr(t,(t=>{this.wrapStringPtrPtr(Object.keys(e),(n=>{this.wrapStringPtrPtr(Object.values(e),(i=>{this.wasmModule._addFlatHashMapToInputStream(n,i,Object.keys(e).length,t,r)}))}))}))}addProtoToStream(e,t,r,n){this.wrapStringPtr(r,(r=>{this.wrapStringPtr(t,(t=>{const i=this.wasmModule._malloc(e.length);this.wasmModule.HEAPU8.set(e,i),this.wasmModule._addProtoToInputStream(i,e.length,t,r,n),this.wasmModule._free(i)}))}))}addEmptyPacketToStream(e,t){this.wrapStringPtr(e,(e=>{this.wasmModule._addEmptyPacketToInputStream(e,t)}))}addBoolToInputSidePacket(e,t){this.wrapStringPtr(t,(t=>{this.wasmModule._addBoolToInputSidePacket(e,t)}))}addDoubleToInputSidePacket(e,t){this.wrapStringPtr(t,(t=>{this.wasmModule._addDoubleToInputSidePacket(e,t)}))}addFloatToInputSidePacket(e,t){this.wrapStringPtr(t,(t=>{this.wasmModule._addFloatToInputSidePacket(e,t)}))}addIntToInputSidePacket(e,t){this.wrapStringPtr(t,(t=>{this.wasmModule._addIntToInputSidePacket(e,t)}))}addStringToInputSidePacket(e,t){this.wrapStringPtr(t,(t=>{this.wrapStringPtr(e,(e=>{this.wasmModule._addStringToInputSidePacket(e,t)}))}))}addProtoToInputSidePacket(e,t,r){this.wrapStringPtr(r,(r=>{this.wrapStringPtr(t,(t=>{const n=this.wasmModule._malloc(e.length);this.wasmModule.HEAPU8.set(e,n),this.wasmModule._addProtoToInputSidePacket(n,e.length,t,r),this.wasmModule._free(n)}))}))}attachBoolListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachBoolListener(e)}))}attachBoolVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachBoolVectorListener(e)}))}attachIntListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachIntListener(e)}))}attachIntVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachIntVectorListener(e)}))}attachDoubleListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachDoubleListener(e)}))}attachDoubleVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachDoubleVectorListener(e)}))}attachFloatListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachFloatListener(e)}))}attachFloatVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachFloatVectorListener(e)}))}attachStringListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachStringListener(e)}))}attachStringVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachStringVectorListener(e)}))}attachProtoListener(e,t,r){this.setListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachProtoListener(e,r||!1)}))}attachProtoVectorListener(e,t,r){this.setVectorListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmModule._attachProtoVectorListener(e,r||!1)}))}attachAudioListener(e,t,r){this.wasmModule._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),this.setListener(e,((e,r)=>{const n=new Float32Array(e.buffer,e.byteOffset,e.length/4);t(n,r)})),this.wrapStringPtr(e,(e=>{this.wasmModule._attachAudioListener(e,r||!1)}))}finishProcessing(){this.wasmModule._waitUntilIdle()}closeGraph(){this.wasmModule._closeGraph(),this.wasmModule.simpleListeners=void 0,this.wasmModule.emptyPacketListeners=void 0}}async function n(e){if("function"!=typeof importScripts){const t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((e=>{t.addEventListener("load",(()=>{e()}),!1),t.addEventListener("error",(()=>{e()}),!1),document.body.appendChild(t)}))}importScripts(e.toString())}async function i(e,t,r,i,o){const a=[];if(t&&a.push(t),r&&a.push(r),a.length&&await Promise.all(a.map(n)),!self.ModuleFactory)throw new Error("ModuleFactory not set.");if(self.Module&&o){const e=self.Module;e.locateFile=o.locateFile,o.mainScriptUrlOrBlob&&(e.mainScriptUrlOrBlob=o.mainScriptUrlOrBlob)}const s=await self.ModuleFactory(self.Module||o);return self.ModuleFactory=self.Module=void 0,new e(s,i)}e.GraphRunner=r,e.createMediaPipeLib=i,e.createGraphRunner=async function(e,t,n,o){return i(r,e,t,n,o)}}(graph_runner);var register_model_resources_graph_service={};function SupportModelResourcesGraphService(e){return class extends e{registerModelResourcesGraphService(){this.wasmModule._registerModelResourcesGraphService()}}}Object.defineProperty(register_model_resources_graph_service,"__esModule",{value:!0}),register_model_resources_graph_service.SupportModelResourcesGraphService=void 0,register_model_resources_graph_service.SupportModelResourcesGraphService=SupportModelResourcesGraphService,Object.defineProperty(task_runner,"__esModule",{value:!0}),task_runner.TaskRunner=task_runner.createTaskRunner=task_runner.CachedGraphRunner=void 0;const inference_calculator_pb_1=inference_calculator_pb,calculator_pb_1=calculator_pb,acceleration_pb_1=acceleration_pb,external_file_pb_1=external_file_pb,graph_runner_1$1=graph_runner,register_model_resources_graph_service_1$1=register_model_resources_graph_service,FREE_MEMORY_STREAM="free_memory",UNUSED_STREAM_SUFFIX="_unused_out",CachedGraphRunnerType=(0,register_model_resources_graph_service_1$1.SupportModelResourcesGraphService)(graph_runner_1$1.GraphRunner);class CachedGraphRunner extends CachedGraphRunnerType{}async function createTaskRunner(e,t,r,n){const i={locateFile:()=>r.wasmBinaryPath.toString()},o=await(0,graph_runner_1$1.createMediaPipeLib)(e,r.wasmLoaderPath,r.assetLoaderPath,t,i);return await o.setOptions(n),o}task_runner.CachedGraphRunner=CachedGraphRunner,task_runner.createTaskRunner=createTaskRunner;class TaskRunner{static async createInstance(e,t,r,n){return createTaskRunner(e,t,r,n)}constructor(e){this.graphRunner=e,this.processingErrors=[],this.latestOutputTimestamp=0,this.graphRunner.setAutoRenderToScreen(!1)}applyOptions(e,t=!0){var r,n,i,o,a,s;if(t){const t=e.baseOptions||{};if((null===(r=e.baseOptions)||void 0===r?void 0:r.modelAssetBuffer)&&(null===(n=e.baseOptions)||void 0===n?void 0:n.modelAssetPath))throw new Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!((null===(i=this.baseOptions.getModelAsset())||void 0===i?void 0:i.hasFileContent())||(null===(o=this.baseOptions.getModelAsset())||void 0===o?void 0:o.hasFileName())||(null===(a=e.baseOptions)||void 0===a?void 0:a.modelAssetBuffer)||(null===(s=e.baseOptions)||void 0===s?void 0:s.modelAssetPath)))throw new Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(this.setAcceleration(t),t.modelAssetPath)return fetch(t.modelAssetPath.toString()).then((e=>{if(e.ok)return e.arrayBuffer();throw new Error(`Failed to fetch model: ${t.modelAssetPath} (${e.status})`)})).then((e=>{try{this.graphRunner.wasmModule.FS_unlink("/model.dat")}catch(e){}this.graphRunner.wasmModule.FS_createDataFile("/","model.dat",new Uint8Array(e),!0,!1,!1),this.setExternalFile("/model.dat"),this.refreshGraph(),this.onGraphRefreshed()}));this.setExternalFile(t.modelAssetBuffer)}return this.refreshGraph(),this.onGraphRefreshed(),Promise.resolve()}onGraphRefreshed(){}getCalculatorGraphConfig(){let e;if(this.graphRunner.getCalculatorGraphConfig((t=>{e=calculator_pb_1.CalculatorGraphConfig.deserializeBinary(t)})),!e)throw new Error("Failed to retrieve CalculatorGraphConfig");return e}setGraph(e,t){this.graphRunner.attachErrorListener(((e,t)=>{this.processingErrors.push(new Error(t))})),this.graphRunner.registerModelResourcesGraphService(),this.graphRunner.setGraph(e,t),this.keepaliveNode=void 0,this.handleErrors()}finishProcessing(){this.graphRunner.finishProcessing(),this.handleErrors()}setLatestOutputTimestamp(e){this.latestOutputTimestamp=Math.max(this.latestOutputTimestamp,e)}getSynctheticTimestamp(){return this.latestOutputTimestamp+1}handleErrors(){try{const e=this.processingErrors.length;if(1===e)throw new Error(this.processingErrors[0].message);if(e>1)throw new Error("Encountered multiple errors: "+this.processingErrors.map((e=>e.message)).join(", "))}finally{this.processingErrors=[]}}setExternalFile(e){const t=this.baseOptions.getModelAsset()||new external_file_pb_1.ExternalFile;"string"==typeof e?(t.setFileName(e),t.clearFileContent()):e instanceof Uint8Array&&(t.setFileContent(e),t.clearFileName()),this.baseOptions.setModelAsset(t)}setAcceleration(e){let t=this.baseOptions.getAcceleration();t||(t=new acceleration_pb_1.Acceleration,t.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),"delegate"in e&&("GPU"===e.delegate?t.setGpu(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.Gpu):t.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),this.baseOptions.setAcceleration(t)}addKeepaliveNode(e){this.keepaliveNode=new calculator_pb_1.CalculatorGraphConfig.Node,this.keepaliveNode.setCalculator("PassThroughCalculator"),this.keepaliveNode.addInputStream(FREE_MEMORY_STREAM),this.keepaliveNode.addOutputStream(FREE_MEMORY_STREAM+UNUSED_STREAM_SUFFIX),e.addInputStream(FREE_MEMORY_STREAM),e.addNode(this.keepaliveNode)}keepStreamAlive(e){this.keepaliveNode.addInputStream(e),this.keepaliveNode.addOutputStream(e+UNUSED_STREAM_SUFFIX)}freeKeepaliveStreams(){this.graphRunner.addBoolToStream(!0,FREE_MEMORY_STREAM,this.latestOutputTimestamp)}close(){this.keepaliveNode=void 0,this.graphRunner.closeGraph()}}task_runner.TaskRunner=TaskRunner;var graph_runner_image_lib={};function SupportImage(e){return class extends e{get wasmImageModule(){return this.wasmModule}addGpuBufferAsImageToStream(e,t,r){this.wrapStringPtr(t,(t=>{const[n,i]=this.bindTextureToStream(e,t);this.wasmImageModule._addBoundTextureAsImageToStream(t,n,i,r)}))}attachImageListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmImageModule._attachImageListener(e)}))}attachImageVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,(e=>{this.wasmImageModule._attachImageVectorListener(e)}))}}}Object.defineProperty(graph_runner_image_lib,"__esModule",{value:!0}),graph_runner_image_lib.SupportImage=void 0,graph_runner_image_lib.SupportImage=SupportImage,Object.defineProperty(vision_task_runner,"__esModule",{value:!0}),vision_task_runner.VisionTaskRunner=vision_task_runner.VisionGraphRunner=void 0;const rect_pb_1=rect_pb,task_runner_1=task_runner,image_1$1=image,image_shader_context_1=image_shader_context,mask_1$1=mask,graph_runner_1=graph_runner,graph_runner_image_lib_1=graph_runner_image_lib,platform_utils_1=platform_utils,register_model_resources_graph_service_1=register_model_resources_graph_service,GraphRunnerVisionType=(0,register_model_resources_graph_service_1.SupportModelResourcesGraphService)((0,graph_runner_image_lib_1.SupportImage)(graph_runner_1.GraphRunner));class VisionGraphRunner extends GraphRunnerVisionType{}function createCanvas(){return"undefined"==typeof OffscreenCanvas||(0,platform_utils_1.isWebKit)()?document.createElement("canvas"):void 0}vision_task_runner.VisionGraphRunner=VisionGraphRunner;class VisionTaskRunner extends task_runner_1.TaskRunner{static async createVisionInstance(e,t,r){var n;const i=null!==(n=r.canvas)&&void 0!==n?n:createCanvas();return task_runner_1.TaskRunner.createInstance(e,i,t,r)}constructor(e,t,r,n){super(e),this.graphRunner=e,this.imageStreamName=t,this.normRectStreamName=r,this.roiAllowed=n,this.shaderContext=new image_shader_context_1.MPImageShaderContext}applyOptions(e,t=!0){if("runningMode"in e){const t=!!e.runningMode&&"IMAGE"!==e.runningMode;this.baseOptions.setUseStreamMode(t)}if(void 0!==e.canvas&&this.graphRunner.wasmModule.canvas!==e.canvas)throw new Error("You must create a new task to reset the canvas.");return super.applyOptions(e,t)}processImageData(e,t){var r;if(null===(r=this.baseOptions)||void 0===r?void 0:r.getUseStreamMode())throw new Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");this.process(e,t,this.getSynctheticTimestamp())}processVideoData(e,t,r){var n;if(!(null===(n=this.baseOptions)||void 0===n?void 0:n.getUseStreamMode()))throw new Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");this.process(e,t,r)}getImageSourceSize(e){return void 0!==e.videoWidth?[e.videoWidth,e.videoHeight]:void 0!==e.naturalWidth?[e.naturalWidth,e.naturalHeight]:[e.width,e.height]}convertToNormalizedRect(e,t){const r=new rect_pb_1.NormalizedRect;if(null==t?void 0:t.regionOfInterest){if(!this.roiAllowed)throw new Error("This task doesn't support region-of-interest.");const e=t.regionOfInterest;if(e.left>=e.right||e.top>=e.bottom)throw new Error("Expected RectF with left < right and top < bottom.");if(e.left<0||e.top<0||e.right>1||e.bottom>1)throw new Error("Expected RectF values to be in [0,1].");r.setXCenter((e.left+e.right)/2),r.setYCenter((e.top+e.bottom)/2),r.setWidth(e.right-e.left),r.setHeight(e.bottom-e.top)}else r.setXCenter(.5),r.setYCenter(.5),r.setWidth(1),r.setHeight(1);if(null==t?void 0:t.rotationDegrees){if((null==t?void 0:t.rotationDegrees)%90!=0)throw new Error("Expected rotation to be a multiple of 90\xb0.");if(r.setRotation(-Math.PI*t.rotationDegrees/180),(null==t?void 0:t.rotationDegrees)%180!=0){const[t,n]=this.getImageSourceSize(e),i=r.getHeight()*n/t,o=r.getWidth()*t/n;r.setWidth(i),r.setHeight(o)}}return r}process(e,t,r){if(this.normRectStreamName){const n=this.convertToNormalizedRect(e,t);this.graphRunner.addProtoToStream(n.serializeBinary(),"mediapipe.NormalizedRect",this.normRectStreamName,r)}this.graphRunner.addGpuBufferAsImageToStream(e,this.imageStreamName,null!=r?r:performance.now()),this.finishProcessing()}convertToMPImage(e,t){const{data:r,width:n,height:i}=e,o=n*i;let a;if(r instanceof Uint8Array)if(r.length===3*o){const e=new Uint8ClampedArray(4*o);for(let t=0;t<o;++t)e[4*t]=r[3*t],e[4*t+1]=r[3*t+1],e[4*t+2]=r[3*t+2],e[4*t+3]=255;a=new ImageData(e,n,i)}else{if(r.length!==4*o)throw new Error("Unsupported channel count: "+r.length/o);a=new ImageData(new Uint8ClampedArray(r.buffer,r.byteOffset,r.length),n,i)}else{if(!(r instanceof WebGLTexture))throw new Error(`Unsupported format: ${r.constructor.name}`);a=r}const s=new image_1$1.MPImage([a],!1,!1,this.graphRunner.wasmModule.canvas,this.shaderContext,n,i);return t?s.clone():s}convertToMPMask(e,t){const{data:r,width:n,height:i}=e,o=n*i;let a;if(r instanceof Uint8Array||r instanceof Float32Array){if(r.length!==o)throw new Error("Unsupported channel count: "+r.length/o);a=r}else a=r;const s=new mask_1$1.MPMask([a],!1,this.graphRunner.wasmModule.canvas,this.shaderContext,n,i);return t?s.clone():s}close(){this.shaderContext.close(),super.close()}}vision_task_runner.VisionTaskRunner=VisionTaskRunner;var face_detector_options={};Object.defineProperty(face_detector_options,"__esModule",{value:!0});var face_detector_result={};Object.defineProperty(face_detector_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.FaceDetector=void 0;const n=calculator_pb,i=calculator_options_pb,o=detection_pb,a=base_options_pb,s=face_detector_graph_options_pb,l=detection_result,c=vision_task_runner,p="image_in",u="norm_rect_in",d="detections";r(face_detector_options,e),r(face_detector_result,e);class h extends c.VisionTaskRunner{static createFromOptions(e,t){return c.VisionTaskRunner.createVisionInstance(h,e,t)}static createFromModelBuffer(e,t){return c.VisionTaskRunner.createVisionInstance(h,e,{baseOptions:{modelAssetBuffer:t}})}static async createFromModelPath(e,t){return c.VisionTaskRunner.createVisionInstance(h,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new c.VisionGraphRunner(e,t),p,u,!1),this.result={detections:[]},this.options=new s.FaceDetectorGraphOptions,this.options.setBaseOptions(new a.BaseOptions),this.options.setMinDetectionConfidence(.5),this.options.setMinSuppressionThreshold(.3)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r;return"minDetectionConfidence"in e&&this.options.setMinDetectionConfidence(null!==(t=e.minDetectionConfidence)&&void 0!==t?t:.5),"minSuppressionThreshold"in e&&this.options.setMinSuppressionThreshold(null!==(r=e.minSuppressionThreshold)&&void 0!==r?r:.3),this.applyOptions(e)}detect(e,t){return this.result={detections:[]},this.processImageData(e,t),this.result}detectForVideo(e,t,r){return this.result={detections:[]},this.processVideoData(e,r,t),this.result}addJsFaceDetections(e){for(const t of e){const e=o.Detection.deserializeBinary(t);this.result.detections.push((0,l.convertFromDetectionProto)(e))}}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(p),e.addInputStream(u),e.addOutputStream(d);const t=new i.CalculatorOptions;t.setExtension(s.FaceDetectorGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),r.addInputStream("IMAGE:"+p),r.addInputStream("NORM_RECT:"+u),r.addOutputStream("DETECTIONS:"+d),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(d,((e,t)=>{this.addJsFaceDetections(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(d,(e=>{this.setLatestOutputTimestamp(e)}));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.FaceDetector=h}(face_detector);var face_landmarker={},classification_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Classification",null,n),r.exportSymbol("proto.mediapipe.ClassificationList",null,n),r.exportSymbol("proto.mediapipe.ClassificationListCollection",null,n),proto.mediapipe.Classification=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Classification,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Classification.displayName="proto.mediapipe.Classification"),proto.mediapipe.ClassificationList=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.ClassificationList.repeatedFields_,null)},r.inherits(proto.mediapipe.ClassificationList,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationList.displayName="proto.mediapipe.ClassificationList"),proto.mediapipe.ClassificationListCollection=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.ClassificationListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.ClassificationListCollection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationListCollection.displayName="proto.mediapipe.ClassificationListCollection"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Classification.prototype.toObject=function(e){return proto.mediapipe.Classification.toObject(e,this)},proto.mediapipe.Classification.toObject=function(e,r){var n,i={index:null==(n=t.Message.getField(r,1))?void 0:n,score:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,label:null==(n=t.Message.getField(r,3))?void 0:n,displayName:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Classification.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Classification;return proto.mediapipe.Classification.deserializeBinaryFromReader(n,r)},proto.mediapipe.Classification.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setIndex(r);break;case 2:r=t.readFloat(),e.setScore(r);break;case 3:r=t.readString(),e.setLabel(r);break;case 4:r=t.readString(),e.setDisplayName(r);break;default:t.skipField()}return e},proto.mediapipe.Classification.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Classification.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Classification.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeString(3,n),null!=(n=t.Message.getField(e,4))&&r.writeString(4,n)},proto.mediapipe.Classification.prototype.getIndex=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Classification.prototype.setIndex=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Classification.prototype.clearIndex=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Classification.prototype.hasIndex=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Classification.prototype.getScore=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Classification.prototype.setScore=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Classification.prototype.clearScore=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Classification.prototype.hasScore=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Classification.prototype.getLabel=function(){return t.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.Classification.prototype.setLabel=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Classification.prototype.clearLabel=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Classification.prototype.hasLabel=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.Classification.prototype.getDisplayName=function(){return t.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.Classification.prototype.setDisplayName=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.Classification.prototype.clearDisplayName=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.Classification.prototype.hasDisplayName=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.ClassificationList.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationList.prototype.toObject=function(e){return proto.mediapipe.ClassificationList.toObject(e,this)},proto.mediapipe.ClassificationList.toObject=function(e,r){var n={classificationList:t.Message.toObjectList(r.getClassificationList(),proto.mediapipe.Classification.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.ClassificationList.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ClassificationList;return proto.mediapipe.ClassificationList.deserializeBinaryFromReader(n,r)},proto.mediapipe.ClassificationList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.Classification;t.readMessage(r,proto.mediapipe.Classification.deserializeBinaryFromReader),e.addClassification(r)}else t.skipField();return e},proto.mediapipe.ClassificationList.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ClassificationList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ClassificationList.serializeBinaryToWriter=function(e,t){var r;(r=e.getClassificationList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.Classification.serializeBinaryToWriter)},proto.mediapipe.ClassificationList.prototype.getClassificationList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Classification,1)},proto.mediapipe.ClassificationList.prototype.setClassificationList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.ClassificationList.prototype.addClassification=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.Classification,r)},proto.mediapipe.ClassificationList.prototype.clearClassificationList=function(){return this.setClassificationList([])},proto.mediapipe.ClassificationListCollection.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationListCollection.prototype.toObject=function(e){return proto.mediapipe.ClassificationListCollection.toObject(e,this)},proto.mediapipe.ClassificationListCollection.toObject=function(e,r){var n={classificationListList:t.Message.toObjectList(r.getClassificationListList(),proto.mediapipe.ClassificationList.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.ClassificationListCollection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ClassificationListCollection;return proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader(n,r)},proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.ClassificationList;t.readMessage(r,proto.mediapipe.ClassificationList.deserializeBinaryFromReader),e.addClassificationList(r)}else t.skipField();return e},proto.mediapipe.ClassificationListCollection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter=function(e,t){var r;(r=e.getClassificationListList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.ClassificationList.serializeBinaryToWriter)},proto.mediapipe.ClassificationListCollection.prototype.getClassificationListList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.ClassificationList,1)},proto.mediapipe.ClassificationListCollection.prototype.setClassificationListList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.ClassificationListCollection.prototype.addClassificationList=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.ClassificationList,r)},proto.mediapipe.ClassificationListCollection.prototype.clearClassificationListList=function(){return this.setClassificationListList([])},r.object.extend(e,proto.mediapipe)}(classification_pb);var landmark_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Landmark",null,n),r.exportSymbol("proto.mediapipe.LandmarkList",null,n),r.exportSymbol("proto.mediapipe.LandmarkListCollection",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmark",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmarkList",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmarkListCollection",null,n),proto.mediapipe.Landmark=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Landmark,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Landmark.displayName="proto.mediapipe.Landmark"),proto.mediapipe.LandmarkList=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.LandmarkList.repeatedFields_,null)},r.inherits(proto.mediapipe.LandmarkList,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkList.displayName="proto.mediapipe.LandmarkList"),proto.mediapipe.LandmarkListCollection=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.LandmarkListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.LandmarkListCollection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkListCollection.displayName="proto.mediapipe.LandmarkListCollection"),proto.mediapipe.NormalizedLandmark=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.NormalizedLandmark,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmark.displayName="proto.mediapipe.NormalizedLandmark"),proto.mediapipe.NormalizedLandmarkList=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.NormalizedLandmarkList.repeatedFields_,null)},r.inherits(proto.mediapipe.NormalizedLandmarkList,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkList.displayName="proto.mediapipe.NormalizedLandmarkList"),proto.mediapipe.NormalizedLandmarkListCollection=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.NormalizedLandmarkListCollection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkListCollection.displayName="proto.mediapipe.NormalizedLandmarkListCollection"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Landmark.prototype.toObject=function(e){return proto.mediapipe.Landmark.toObject(e,this)},proto.mediapipe.Landmark.toObject=function(e,r){var n,i={x:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,y:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,z:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,visibility:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,presence:null==(n=t.Message.getOptionalFloatingPointField(r,5))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Landmark.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Landmark;return proto.mediapipe.Landmark.deserializeBinaryFromReader(n,r)},proto.mediapipe.Landmark.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setX(r);break;case 2:r=t.readFloat(),e.setY(r);break;case 3:r=t.readFloat(),e.setZ(r);break;case 4:r=t.readFloat(),e.setVisibility(r);break;case 5:r=t.readFloat(),e.setPresence(r);break;default:t.skipField()}return e},proto.mediapipe.Landmark.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Landmark.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Landmark.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),null!=(n=t.Message.getField(e,5))&&r.writeFloat(5,n)},proto.mediapipe.Landmark.prototype.getX=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.Landmark.prototype.setX=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Landmark.prototype.clearX=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Landmark.prototype.hasX=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Landmark.prototype.getY=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Landmark.prototype.setY=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Landmark.prototype.clearY=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Landmark.prototype.hasY=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Landmark.prototype.getZ=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.Landmark.prototype.setZ=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Landmark.prototype.clearZ=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Landmark.prototype.hasZ=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.Landmark.prototype.getVisibility=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.Landmark.prototype.setVisibility=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.Landmark.prototype.clearVisibility=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.Landmark.prototype.hasVisibility=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.Landmark.prototype.getPresence=function(){return t.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Landmark.prototype.setPresence=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.Landmark.prototype.clearPresence=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.Landmark.prototype.hasPresence=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.LandmarkList.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkList.prototype.toObject=function(e){return proto.mediapipe.LandmarkList.toObject(e,this)},proto.mediapipe.LandmarkList.toObject=function(e,r){var n={landmarkList:t.Message.toObjectList(r.getLandmarkList(),proto.mediapipe.Landmark.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.LandmarkList.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LandmarkList;return proto.mediapipe.LandmarkList.deserializeBinaryFromReader(n,r)},proto.mediapipe.LandmarkList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.Landmark;t.readMessage(r,proto.mediapipe.Landmark.deserializeBinaryFromReader),e.addLandmark(r)}else t.skipField();return e},proto.mediapipe.LandmarkList.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LandmarkList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LandmarkList.serializeBinaryToWriter=function(e,t){var r;(r=e.getLandmarkList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.Landmark.serializeBinaryToWriter)},proto.mediapipe.LandmarkList.prototype.getLandmarkList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Landmark,1)},proto.mediapipe.LandmarkList.prototype.setLandmarkList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.LandmarkList.prototype.addLandmark=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.Landmark,r)},proto.mediapipe.LandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.LandmarkListCollection.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkListCollection.prototype.toObject=function(e){return proto.mediapipe.LandmarkListCollection.toObject(e,this)},proto.mediapipe.LandmarkListCollection.toObject=function(e,r){var n={landmarkListList:t.Message.toObjectList(r.getLandmarkListList(),proto.mediapipe.LandmarkList.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.LandmarkListCollection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LandmarkListCollection;return proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader(n,r)},proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.LandmarkList;t.readMessage(r,proto.mediapipe.LandmarkList.deserializeBinaryFromReader),e.addLandmarkList(r)}else t.skipField();return e},proto.mediapipe.LandmarkListCollection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter=function(e,t){var r;(r=e.getLandmarkListList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.LandmarkList.serializeBinaryToWriter)},proto.mediapipe.LandmarkListCollection.prototype.getLandmarkListList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.LandmarkList,1)},proto.mediapipe.LandmarkListCollection.prototype.setLandmarkListList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.LandmarkListCollection.prototype.addLandmarkList=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.LandmarkList,r)},proto.mediapipe.LandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmark.prototype.toObject=function(e){return proto.mediapipe.NormalizedLandmark.toObject(e,this)},proto.mediapipe.NormalizedLandmark.toObject=function(e,r){var n,i={x:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,y:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,z:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,visibility:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,presence:null==(n=t.Message.getOptionalFloatingPointField(r,5))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.NormalizedLandmark.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.NormalizedLandmark;return proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader(n,r)},proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setX(r);break;case 2:r=t.readFloat(),e.setY(r);break;case 3:r=t.readFloat(),e.setZ(r);break;case 4:r=t.readFloat(),e.setVisibility(r);break;case 5:r=t.readFloat(),e.setPresence(r);break;default:t.skipField()}return e},proto.mediapipe.NormalizedLandmark.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),null!=(n=t.Message.getField(e,5))&&r.writeFloat(5,n)},proto.mediapipe.NormalizedLandmark.prototype.getX=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedLandmark.prototype.setX=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.NormalizedLandmark.prototype.clearX=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasX=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.NormalizedLandmark.prototype.getY=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedLandmark.prototype.setY=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.NormalizedLandmark.prototype.clearY=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasY=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.NormalizedLandmark.prototype.getZ=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedLandmark.prototype.setZ=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.NormalizedLandmark.prototype.clearZ=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasZ=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.NormalizedLandmark.prototype.getVisibility=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedLandmark.prototype.setVisibility=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.NormalizedLandmark.prototype.clearVisibility=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasVisibility=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.NormalizedLandmark.prototype.getPresence=function(){return t.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedLandmark.prototype.setPresence=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.NormalizedLandmark.prototype.clearPresence=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasPresence=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.NormalizedLandmarkList.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkList.prototype.toObject=function(e){return proto.mediapipe.NormalizedLandmarkList.toObject(e,this)},proto.mediapipe.NormalizedLandmarkList.toObject=function(e,r){var n={landmarkList:t.Message.toObjectList(r.getLandmarkList(),proto.mediapipe.NormalizedLandmark.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.NormalizedLandmarkList.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.NormalizedLandmarkList;return proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader(n,r)},proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.NormalizedLandmark;t.readMessage(r,proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader),e.addLandmark(r)}else t.skipField();return e},proto.mediapipe.NormalizedLandmarkList.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter=function(e,t){var r;(r=e.getLandmarkList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkList.prototype.getLandmarkList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmark,1)},proto.mediapipe.NormalizedLandmarkList.prototype.setLandmarkList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.NormalizedLandmarkList.prototype.addLandmark=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.NormalizedLandmark,r)},proto.mediapipe.NormalizedLandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkListCollection.prototype.toObject=function(e){return proto.mediapipe.NormalizedLandmarkListCollection.toObject(e,this)},proto.mediapipe.NormalizedLandmarkListCollection.toObject=function(e,r){var n={landmarkListList:t.Message.toObjectList(r.getLandmarkListList(),proto.mediapipe.NormalizedLandmarkList.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.NormalizedLandmarkListCollection;return proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader(n,r)},proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.NormalizedLandmarkList;t.readMessage(r,proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader),e.addLandmarkList(r)}else t.skipField();return e},proto.mediapipe.NormalizedLandmarkListCollection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter=function(e,t){var r;(r=e.getLandmarkListList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.getLandmarkListList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmarkList,1)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.setLandmarkListList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.addLandmarkList=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.NormalizedLandmarkList,r)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},r.object.extend(e,proto.mediapipe)}(landmark_pb);var face_geometry_pb={},matrix_data_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.MatrixData",null,n),r.exportSymbol("proto.mediapipe.MatrixData.Layout",null,n),proto.mediapipe.MatrixData=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.MatrixData.repeatedFields_,null)},r.inherits(proto.mediapipe.MatrixData,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.MatrixData.displayName="proto.mediapipe.MatrixData"),proto.mediapipe.MatrixData.repeatedFields_=[3],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MatrixData.prototype.toObject=function(e){return proto.mediapipe.MatrixData.toObject(e,this)},proto.mediapipe.MatrixData.toObject=function(e,r){var n,i={rows:null==(n=t.Message.getField(r,1))?void 0:n,cols:null==(n=t.Message.getField(r,2))?void 0:n,packedDataList:null==(n=t.Message.getRepeatedFloatingPointField(r,3))?void 0:n,layout:t.Message.getFieldWithDefault(r,4,0)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.MatrixData.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.MatrixData;return proto.mediapipe.MatrixData.deserializeBinaryFromReader(n,r)},proto.mediapipe.MatrixData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setRows(r);break;case 2:r=t.readInt32(),e.setCols(r);break;case 3:for(var n=t.isDelimited()?t.readPackedFloat():[t.readFloat()],i=0;i<n.length;i++)e.addPackedData(n[i]);break;case 4:r=t.readEnum(),e.setLayout(r);break;default:t.skipField()}return e},proto.mediapipe.MatrixData.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.MatrixData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.MatrixData.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),(n=e.getPackedDataList()).length>0&&r.writePackedFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeEnum(4,n)},proto.mediapipe.MatrixData.Layout={COLUMN_MAJOR:0,ROW_MAJOR:1},proto.mediapipe.MatrixData.prototype.getRows=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.MatrixData.prototype.setRows=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.MatrixData.prototype.clearRows=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.MatrixData.prototype.hasRows=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.MatrixData.prototype.getCols=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.MatrixData.prototype.setCols=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.MatrixData.prototype.clearCols=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.MatrixData.prototype.hasCols=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.MatrixData.prototype.getPackedDataList=function(){return t.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.MatrixData.prototype.setPackedDataList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.MatrixData.prototype.addPackedData=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.MatrixData.prototype.clearPackedDataList=function(){return this.setPackedDataList([])},proto.mediapipe.MatrixData.prototype.getLayout=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.MatrixData.prototype.setLayout=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.MatrixData.prototype.clearLayout=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.MatrixData.prototype.hasLayout=function(){return null!=t.Message.getField(this,4)},r.object.extend(e,proto.mediapipe)}(matrix_data_pb);var mesh_3d_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d"),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_=[3,4],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject(e,this)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject=function(e,r){var n,i={vertexType:null==(n=t.Message.getField(r,1))?void 0:n,primitiveType:null==(n=t.Message.getField(r,2))?void 0:n,vertexBufferList:null==(n=t.Message.getRepeatedFloatingPointField(r,3))?void 0:n,indexBufferList:null==(n=t.Message.getRepeatedField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setVertexType(r);break;case 2:r=t.readEnum(),e.setPrimitiveType(r);break;case 3:for(var n=t.isDelimited()?t.readPackedFloat():[t.readFloat()],i=0;i<n.length;i++)e.addVertexBuffer(n[i]);break;case 4:for(n=t.isDelimited()?t.readPackedUint32():[t.readUint32()],i=0;i<n.length;i++)e.addIndexBuffer(n[i]);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeEnum(1,n),null!=(n=t.Message.getField(e,2))&&r.writeEnum(2,n),(n=e.getVertexBufferList()).length>0&&r.writeRepeatedFloat(3,n),(n=e.getIndexBufferList()).length>0&&r.writeRepeatedUint32(4,n)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType={VERTEX_PT:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType={TRIANGLE:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexType=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexType=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexType=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasVertexType=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getPrimitiveType=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setPrimitiveType=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearPrimitiveType=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasPrimitiveType=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexBufferList=function(){return t.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexBufferList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addVertexBuffer=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexBufferList=function(){return this.setVertexBufferList([])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getIndexBufferList=function(){return t.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setIndexBufferList=function(e){return t.Message.setField(this,4,e||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addIndexBuffer=function(e,r){return t.Message.addToRepeatedField(this,4,e,r)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearIndexBufferList=function(){return this.setIndexBufferList([])},r.object.extend(e,proto.mediapipe.tasks.vision.face_geometry.proto)}(mesh_3d_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=matrix_data_pb;r.object.extend(proto,i);var o=mesh_3d_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject(e,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject=function(e,t){var r,n={mesh:(r=t.getMesh())&&o.Mesh3d.toObject(e,r),poseTransformMatrix:(r=t.getPoseTransformMatrix())&&i.MatrixData.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.Mesh3d;t.readMessage(r,o.Mesh3d.deserializeBinaryFromReader),e.setMesh(r);break;case 2:r=new i.MatrixData,t.readMessage(r,i.MatrixData.deserializeBinaryFromReader),e.setPoseTransformMatrix(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getMesh())&&t.writeMessage(1,r,o.Mesh3d.serializeBinaryToWriter),null!=(r=e.getPoseTransformMatrix())&&t.writeMessage(2,r,i.MatrixData.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getMesh=function(){return t.Message.getWrapperField(this,o.Mesh3d,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setMesh=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearMesh=function(){return this.setMesh(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasMesh=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getPoseTransformMatrix=function(){return t.Message.getWrapperField(this,i.MatrixData,2)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setPoseTransformMatrix=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearPoseTransformMatrix=function(){return this.setPoseTransformMatrix(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasPoseTransformMatrix=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_pb);var face_landmarker_graph_options_pb={},face_geometry_graph_options_pb={},geometry_pipeline_calculator_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_options_pb;r.object.extend(proto,i);var o=external_file_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions",null,n),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject=function(e,t){var r,n={metadataFile:(r=t.getMetadataFile())&&o.ExternalFile.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new o.ExternalFile;t.readMessage(r,o.ExternalFile.deserializeBinaryFromReader),e.setMetadataFile(r)}else t.skipField();return e},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getMetadataFile())&&t.writeMessage(1,r,o.ExternalFile.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new t.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[512499200]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.getMetadataFile=function(){return t.Message.getWrapperField(this,o.ExternalFile,1)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.setMetadataFile=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.clearMetadataFile=function(){return this.setMetadataFile(void 0)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.hasMetadataFile=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new t.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[512499200]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_geometry)}(geometry_pipeline_calculator_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_options_pb;r.object.extend(proto,i);var o=geometry_pipeline_calculator_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject=function(e,t){var r,n={geometryPipelineOptions:(r=t.getGeometryPipelineOptions())&&o.FaceGeometryPipelineCalculatorOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new o.FaceGeometryPipelineCalculatorOptions;t.readMessage(r,o.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader),e.setGeometryPipelineOptions(r)}else t.skipField();return e},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getGeometryPipelineOptions())&&t.writeMessage(1,r,o.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new t.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[515723506]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.getGeometryPipelineOptions=function(){return t.Message.getWrapperField(this,o.FaceGeometryPipelineCalculatorOptions,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.setGeometryPipelineOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.clearGeometryPipelineOptions=function(){return this.setGeometryPipelineOptions(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.hasGeometryPipelineOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new t.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[515723506]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_graph_options_pb);var face_landmarks_detector_graph_options_pb={},face_blendshapes_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&a.BaseOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r)}else t.skipField();return e},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,a.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new t.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[508981768]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new t.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[508981768]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_blendshapes_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a);var s=face_blendshapes_graph_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5),smoothLandmarks:null==(n=t.Message.getBooleanField(r,4))?void 0:n,faceBlendshapesGraphOptions:(n=r.getFaceBlendshapesGraphOptions())&&s.FaceBlendshapesGraphOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;case 4:r=t.readBool(),e.setSmoothLandmarks(r);break;case 3:r=new s.FaceBlendshapesGraphOptions,t.readMessage(r,s.FaceBlendshapesGraphOptions.deserializeBinaryFromReader),e.setFaceBlendshapesGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,4))&&r.writeBool(4,n),null!=(n=e.getFaceBlendshapesGraphOptions())&&r.writeMessage(3,n,s.FaceBlendshapesGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[508968149]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getSmoothLandmarks=function(){return t.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setSmoothLandmarks=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearSmoothLandmarks=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasSmoothLandmarks=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getFaceBlendshapesGraphOptions=function(){return t.Message.getWrapperField(this,s.FaceBlendshapesGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setFaceBlendshapesGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearFaceBlendshapesGraphOptions=function(){return this.setFaceBlendshapesGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasFaceBlendshapesGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[508968149]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarks_detector_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a);var s=face_detector_graph_options_pb;r.object.extend(proto,s);var l=face_geometry_graph_options_pb;r.object.extend(proto,l);var c=face_landmarks_detector_graph_options_pb;r.object.extend(proto,c),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),faceDetectorGraphOptions:(n=r.getFaceDetectorGraphOptions())&&s.FaceDetectorGraphOptions.toObject(e,n),faceLandmarksDetectorGraphOptions:(n=r.getFaceLandmarksDetectorGraphOptions())&&c.FaceLandmarksDetectorGraphOptions.toObject(e,n),minTrackingConfidence:t.Message.getFloatingPointFieldWithDefault(r,4,.5),faceGeometryGraphOptions:(n=r.getFaceGeometryGraphOptions())&&l.FaceGeometryGraphOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new s.FaceDetectorGraphOptions,t.readMessage(r,s.FaceDetectorGraphOptions.deserializeBinaryFromReader),e.setFaceDetectorGraphOptions(r);break;case 3:r=new c.FaceLandmarksDetectorGraphOptions,t.readMessage(r,c.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader),e.setFaceLandmarksDetectorGraphOptions(r);break;case 4:r=t.readFloat(),e.setMinTrackingConfidence(r);break;case 5:r=new l.FaceGeometryGraphOptions,t.readMessage(r,l.FaceGeometryGraphOptions.deserializeBinaryFromReader),e.setFaceGeometryGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=e.getFaceDetectorGraphOptions())&&r.writeMessage(2,n,s.FaceDetectorGraphOptions.serializeBinaryToWriter),null!=(n=e.getFaceLandmarksDetectorGraphOptions())&&r.writeMessage(3,n,c.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),null!=(n=e.getFaceGeometryGraphOptions())&&r.writeMessage(5,n,l.FaceGeometryGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[508968150]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceDetectorGraphOptions=function(){return t.Message.getWrapperField(this,s.FaceDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceDetectorGraphOptions=function(){return this.setFaceDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceDetectorGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceLandmarksDetectorGraphOptions=function(){return t.Message.getWrapperField(this,c.FaceLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceLandmarksDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceLandmarksDetectorGraphOptions=function(){return this.setFaceLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceLandmarksDetectorGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceGeometryGraphOptions=function(){return t.Message.getWrapperField(this,l.FaceGeometryGraphOptions,5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceGeometryGraphOptions=function(e){return t.Message.setWrapperField(this,5,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceGeometryGraphOptions=function(){return this.setFaceGeometryGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceGeometryGraphOptions=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[508968150]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarker_graph_options_pb);var classifier_result={};Object.defineProperty(classifier_result,"__esModule",{value:!0}),classifier_result.convertFromClassificationResultProto=classifier_result.convertFromClassifications=void 0;const DEFAULT_INDEX$1=-1,DEFAULT_SCORE=0;function convertFromClassifications(e,t=DEFAULT_INDEX$1,r=""){return{categories:e.map((e=>{var t,r,n,i;return{index:null!==(t=e.getIndex())&&void 0!==t?t:DEFAULT_INDEX$1,score:null!==(r=e.getScore())&&void 0!==r?r:DEFAULT_SCORE,categoryName:null!==(n=e.getLabel())&&void 0!==n?n:"",displayName:null!==(i=e.getDisplayName())&&void 0!==i?i:""}})),headIndex:t,headName:r}}function convertFromClassificationsProto(e){var t,r;return convertFromClassifications(null!==(r=null===(t=e.getClassificationList())||void 0===t?void 0:t.getClassificationList())&&void 0!==r?r:[],e.getHeadIndex(),e.getHeadName())}function convertFromClassificationResultProto(e){const t={classifications:e.getClassificationsList().map((e=>convertFromClassificationsProto(e)))};return e.hasTimestampMs()&&(t.timestampMs=e.getTimestampMs()),t}classifier_result.convertFromClassifications=convertFromClassifications,classifier_result.convertFromClassificationResultProto=convertFromClassificationResultProto;var landmark_result={};function convertToLandmarks(e){var t,r,n;const i=[];for(const o of e.getLandmarkList())i.push({x:null!==(t=o.getX())&&void 0!==t?t:0,y:null!==(r=o.getY())&&void 0!==r?r:0,z:null!==(n=o.getZ())&&void 0!==n?n:0});return i}function convertToWorldLandmarks(e){var t,r,n;const i=[];for(const o of e.getLandmarkList())i.push({x:null!==(t=o.getX())&&void 0!==t?t:0,y:null!==(r=o.getY())&&void 0!==r?r:0,z:null!==(n=o.getZ())&&void 0!==n?n:0});return i}Object.defineProperty(landmark_result,"__esModule",{value:!0}),landmark_result.convertToWorldLandmarks=landmark_result.convertToLandmarks=void 0,landmark_result.convertToLandmarks=convertToLandmarks,landmark_result.convertToWorldLandmarks=convertToWorldLandmarks;var face_landmarks_connections={},exports;exports=face_landmarks_connections,Object.defineProperty(exports,"__esModule",{value:!0}),exports.FACE_LANDMARKS_TESSELATION=exports.FACE_LANDMARKS_CONTOURS=exports.FACE_LANDMARKS_FACE_OVAL=exports.FACE_LANDMARKS_RIGHT_IRIS=exports.FACE_LANDMARKS_RIGHT_EYEBROW=exports.FACE_LANDMARKS_RIGHT_EYE=exports.FACE_LANDMARKS_LEFT_IRIS=exports.FACE_LANDMARKS_LEFT_EYEBROW=exports.FACE_LANDMARKS_LEFT_EYE=exports.FACE_LANDMARKS_LIPS=void 0,exports.FACE_LANDMARKS_LIPS=[{start:61,end:146},{start:146,end:91},{start:91,end:181},{start:181,end:84},{start:84,end:17},{start:17,end:314},{start:314,end:405},{start:405,end:321},{start:321,end:375},{start:375,end:291},{start:61,end:185},{start:185,end:40},{start:40,end:39},{start:39,end:37},{start:37,end:0},{start:0,end:267},{start:267,end:269},{start:269,end:270},{start:270,end:409},{start:409,end:291},{start:78,end:95},{start:95,end:88},{start:88,end:178},{start:178,end:87},{start:87,end:14},{start:14,end:317},{start:317,end:402},{start:402,end:318},{start:318,end:324},{start:324,end:308},{start:78,end:191},{start:191,end:80},{start:80,end:81},{start:81,end:82},{start:82,end:13},{start:13,end:312},{start:312,end:311},{start:311,end:310},{start:310,end:415},{start:415,end:308}],exports.FACE_LANDMARKS_LEFT_EYE=[{start:263,end:249},{start:249,end:390},{start:390,end:373},{start:373,end:374},{start:374,end:380},{start:380,end:381},{start:381,end:382},{start:382,end:362},{start:263,end:466},{start:466,end:388},{start:388,end:387},{start:387,end:386},{start:386,end:385},{start:385,end:384},{start:384,end:398},{start:398,end:362}],exports.FACE_LANDMARKS_LEFT_EYEBROW=[{start:276,end:283},{start:283,end:282},{start:282,end:295},{start:295,end:285},{start:300,end:293},{start:293,end:334},{start:334,end:296},{start:296,end:336}],exports.FACE_LANDMARKS_LEFT_IRIS=[{start:474,end:475},{start:475,end:476},{start:476,end:477},{start:477,end:474}],exports.FACE_LANDMARKS_RIGHT_EYE=[{start:33,end:7},{start:7,end:163},{start:163,end:144},{start:144,end:145},{start:145,end:153},{start:153,end:154},{start:154,end:155},{start:155,end:133},{start:33,end:246},{start:246,end:161},{start:161,end:160},{start:160,end:159},{start:159,end:158},{start:158,end:157},{start:157,end:173},{start:173,end:133}],exports.FACE_LANDMARKS_RIGHT_EYEBROW=[{start:46,end:53},{start:53,end:52},{start:52,end:65},{start:65,end:55},{start:70,end:63},{start:63,end:105},{start:105,end:66},{start:66,end:107}],exports.FACE_LANDMARKS_RIGHT_IRIS=[{start:469,end:470},{start:470,end:471},{start:471,end:472},{start:472,end:469}],exports.FACE_LANDMARKS_FACE_OVAL=[{start:10,end:338},{start:338,end:297},{start:297,end:332},{start:332,end:284},{start:284,end:251},{start:251,end:389},{start:389,end:356},{start:356,end:454},{start:454,end:323},{start:323,end:361},{start:361,end:288},{start:288,end:397},{start:397,end:365},{start:365,end:379},{start:379,end:378},{start:378,end:400},{start:400,end:377},{start:377,end:152},{start:152,end:148},{start:148,end:176},{start:176,end:149},{start:149,end:150},{start:150,end:136},{start:136,end:172},{start:172,end:58},{start:58,end:132},{start:132,end:93},{start:93,end:234},{start:234,end:127},{start:127,end:162},{start:162,end:21},{start:21,end:54},{start:54,end:103},{start:103,end:67},{start:67,end:109},{start:109,end:10}],exports.FACE_LANDMARKS_CONTOURS=[...exports.FACE_LANDMARKS_LIPS,...exports.FACE_LANDMARKS_LEFT_EYE,...exports.FACE_LANDMARKS_LEFT_EYEBROW,...exports.FACE_LANDMARKS_RIGHT_EYE,...exports.FACE_LANDMARKS_RIGHT_EYEBROW,...exports.FACE_LANDMARKS_FACE_OVAL],exports.FACE_LANDMARKS_TESSELATION=[{start:127,end:34},{start:34,end:139},{start:139,end:127},{start:11,end:0},{start:0,end:37},{start:37,end:11},{start:232,end:231},{start:231,end:120},{start:120,end:232},{start:72,end:37},{start:37,end:39},{start:39,end:72},{start:128,end:121},{start:121,end:47},{start:47,end:128},{start:232,end:121},{start:121,end:128},{start:128,end:232},{start:104,end:69},{start:69,end:67},{start:67,end:104},{start:175,end:171},{start:171,end:148},{start:148,end:175},{start:118,end:50},{start:50,end:101},{start:101,end:118},{start:73,end:39},{start:39,end:40},{start:40,end:73},{start:9,end:151},{start:151,end:108},{start:108,end:9},{start:48,end:115},{start:115,end:131},{start:131,end:48},{start:194,end:204},{start:204,end:211},{start:211,end:194},{start:74,end:40},{start:40,end:185},{start:185,end:74},{start:80,end:42},{start:42,end:183},{start:183,end:80},{start:40,end:92},{start:92,end:186},{start:186,end:40},{start:230,end:229},{start:229,end:118},{start:118,end:230},{start:202,end:212},{start:212,end:214},{start:214,end:202},{start:83,end:18},{start:18,end:17},{start:17,end:83},{start:76,end:61},{start:61,end:146},{start:146,end:76},{start:160,end:29},{start:29,end:30},{start:30,end:160},{start:56,end:157},{start:157,end:173},{start:173,end:56},{start:106,end:204},{start:204,end:194},{start:194,end:106},{start:135,end:214},{start:214,end:192},{start:192,end:135},{start:203,end:165},{start:165,end:98},{start:98,end:203},{start:21,end:71},{start:71,end:68},{start:68,end:21},{start:51,end:45},{start:45,end:4},{start:4,end:51},{start:144,end:24},{start:24,end:23},{start:23,end:144},{start:77,end:146},{start:146,end:91},{start:91,end:77},{start:205,end:50},{start:50,end:187},{start:187,end:205},{start:201,end:200},{start:200,end:18},{start:18,end:201},{start:91,end:106},{start:106,end:182},{start:182,end:91},{start:90,end:91},{start:91,end:181},{start:181,end:90},{start:85,end:84},{start:84,end:17},{start:17,end:85},{start:206,end:203},{start:203,end:36},{start:36,end:206},{start:148,end:171},{start:171,end:140},{start:140,end:148},{start:92,end:40},{start:40,end:39},{start:39,end:92},{start:193,end:189},{start:189,end:244},{start:244,end:193},{start:159,end:158},{start:158,end:28},{start:28,end:159},{start:247,end:246},{start:246,end:161},{start:161,end:247},{start:236,end:3},{start:3,end:196},{start:196,end:236},{start:54,end:68},{start:68,end:104},{start:104,end:54},{start:193,end:168},{start:168,end:8},{start:8,end:193},{start:117,end:228},{start:228,end:31},{start:31,end:117},{start:189,end:193},{start:193,end:55},{start:55,end:189},{start:98,end:97},{start:97,end:99},{start:99,end:98},{start:126,end:47},{start:47,end:100},{start:100,end:126},{start:166,end:79},{start:79,end:218},{start:218,end:166},{start:155,end:154},{start:154,end:26},{start:26,end:155},{start:209,end:49},{start:49,end:131},{start:131,end:209},{start:135,end:136},{start:136,end:150},{start:150,end:135},{start:47,end:126},{start:126,end:217},{start:217,end:47},{start:223,end:52},{start:52,end:53},{start:53,end:223},{start:45,end:51},{start:51,end:134},{start:134,end:45},{start:211,end:170},{start:170,end:140},{start:140,end:211},{start:67,end:69},{start:69,end:108},{start:108,end:67},{start:43,end:106},{start:106,end:91},{start:91,end:43},{start:230,end:119},{start:119,end:120},{start:120,end:230},{start:226,end:130},{start:130,end:247},{start:247,end:226},{start:63,end:53},{start:53,end:52},{start:52,end:63},{start:238,end:20},{start:20,end:242},{start:242,end:238},{start:46,end:70},{start:70,end:156},{start:156,end:46},{start:78,end:62},{start:62,end:96},{start:96,end:78},{start:46,end:53},{start:53,end:63},{start:63,end:46},{start:143,end:34},{start:34,end:227},{start:227,end:143},{start:123,end:117},{start:117,end:111},{start:111,end:123},{start:44,end:125},{start:125,end:19},{start:19,end:44},{start:236,end:134},{start:134,end:51},{start:51,end:236},{start:216,end:206},{start:206,end:205},{start:205,end:216},{start:154,end:153},{start:153,end:22},{start:22,end:154},{start:39,end:37},{start:37,end:167},{start:167,end:39},{start:200,end:201},{start:201,end:208},{start:208,end:200},{start:36,end:142},{start:142,end:100},{start:100,end:36},{start:57,end:212},{start:212,end:202},{start:202,end:57},{start:20,end:60},{start:60,end:99},{start:99,end:20},{start:28,end:158},{start:158,end:157},{start:157,end:28},{start:35,end:226},{start:226,end:113},{start:113,end:35},{start:160,end:159},{start:159,end:27},{start:27,end:160},{start:204,end:202},{start:202,end:210},{start:210,end:204},{start:113,end:225},{start:225,end:46},{start:46,end:113},{start:43,end:202},{start:202,end:204},{start:204,end:43},{start:62,end:76},{start:76,end:77},{start:77,end:62},{start:137,end:123},{start:123,end:116},{start:116,end:137},{start:41,end:38},{start:38,end:72},{start:72,end:41},{start:203,end:129},{start:129,end:142},{start:142,end:203},{start:64,end:98},{start:98,end:240},{start:240,end:64},{start:49,end:102},{start:102,end:64},{start:64,end:49},{start:41,end:73},{start:73,end:74},{start:74,end:41},{start:212,end:216},{start:216,end:207},{start:207,end:212},{start:42,end:74},{start:74,end:184},{start:184,end:42},{start:169,end:170},{start:170,end:211},{start:211,end:169},{start:170,end:149},{start:149,end:176},{start:176,end:170},{start:105,end:66},{start:66,end:69},{start:69,end:105},{start:122,end:6},{start:6,end:168},{start:168,end:122},{start:123,end:147},{start:147,end:187},{start:187,end:123},{start:96,end:77},{start:77,end:90},{start:90,end:96},{start:65,end:55},{start:55,end:107},{start:107,end:65},{start:89,end:90},{start:90,end:180},{start:180,end:89},{start:101,end:100},{start:100,end:120},{start:120,end:101},{start:63,end:105},{start:105,end:104},{start:104,end:63},{start:93,end:137},{start:137,end:227},{start:227,end:93},{start:15,end:86},{start:86,end:85},{start:85,end:15},{start:129,end:102},{start:102,end:49},{start:49,end:129},{start:14,end:87},{start:87,end:86},{start:86,end:14},{start:55,end:8},{start:8,end:9},{start:9,end:55},{start:100,end:47},{start:47,end:121},{start:121,end:100},{start:145,end:23},{start:23,end:22},{start:22,end:145},{start:88,end:89},{start:89,end:179},{start:179,end:88},{start:6,end:122},{start:122,end:196},{start:196,end:6},{start:88,end:95},{start:95,end:96},{start:96,end:88},{start:138,end:172},{start:172,end:136},{start:136,end:138},{start:215,end:58},{start:58,end:172},{start:172,end:215},{start:115,end:48},{start:48,end:219},{start:219,end:115},{start:42,end:80},{start:80,end:81},{start:81,end:42},{start:195,end:3},{start:3,end:51},{start:51,end:195},{start:43,end:146},{start:146,end:61},{start:61,end:43},{start:171,end:175},{start:175,end:199},{start:199,end:171},{start:81,end:82},{start:82,end:38},{start:38,end:81},{start:53,end:46},{start:46,end:225},{start:225,end:53},{start:144,end:163},{start:163,end:110},{start:110,end:144},{start:52,end:65},{start:65,end:66},{start:66,end:52},{start:229,end:228},{start:228,end:117},{start:117,end:229},{start:34,end:127},{start:127,end:234},{start:234,end:34},{start:107,end:108},{start:108,end:69},{start:69,end:107},{start:109,end:108},{start:108,end:151},{start:151,end:109},{start:48,end:64},{start:64,end:235},{start:235,end:48},{start:62,end:78},{start:78,end:191},{start:191,end:62},{start:129,end:209},{start:209,end:126},{start:126,end:129},{start:111,end:35},{start:35,end:143},{start:143,end:111},{start:117,end:123},{start:123,end:50},{start:50,end:117},{start:222,end:65},{start:65,end:52},{start:52,end:222},{start:19,end:125},{start:125,end:141},{start:141,end:19},{start:221,end:55},{start:55,end:65},{start:65,end:221},{start:3,end:195},{start:195,end:197},{start:197,end:3},{start:25,end:7},{start:7,end:33},{start:33,end:25},{start:220,end:237},{start:237,end:44},{start:44,end:220},{start:70,end:71},{start:71,end:139},{start:139,end:70},{start:122,end:193},{start:193,end:245},{start:245,end:122},{start:247,end:130},{start:130,end:33},{start:33,end:247},{start:71,end:21},{start:21,end:162},{start:162,end:71},{start:170,end:169},{start:169,end:150},{start:150,end:170},{start:188,end:174},{start:174,end:196},{start:196,end:188},{start:216,end:186},{start:186,end:92},{start:92,end:216},{start:2,end:97},{start:97,end:167},{start:167,end:2},{start:141,end:125},{start:125,end:241},{start:241,end:141},{start:164,end:167},{start:167,end:37},{start:37,end:164},{start:72,end:38},{start:38,end:12},{start:12,end:72},{start:38,end:82},{start:82,end:13},{start:13,end:38},{start:63,end:68},{start:68,end:71},{start:71,end:63},{start:226,end:35},{start:35,end:111},{start:111,end:226},{start:101,end:50},{start:50,end:205},{start:205,end:101},{start:206,end:92},{start:92,end:165},{start:165,end:206},{start:209,end:198},{start:198,end:217},{start:217,end:209},{start:165,end:167},{start:167,end:97},{start:97,end:165},{start:220,end:115},{start:115,end:218},{start:218,end:220},{start:133,end:112},{start:112,end:243},{start:243,end:133},{start:239,end:238},{start:238,end:241},{start:241,end:239},{start:214,end:135},{start:135,end:169},{start:169,end:214},{start:190,end:173},{start:173,end:133},{start:133,end:190},{start:171,end:208},{start:208,end:32},{start:32,end:171},{start:125,end:44},{start:44,end:237},{start:237,end:125},{start:86,end:87},{start:87,end:178},{start:178,end:86},{start:85,end:86},{start:86,end:179},{start:179,end:85},{start:84,end:85},{start:85,end:180},{start:180,end:84},{start:83,end:84},{start:84,end:181},{start:181,end:83},{start:201,end:83},{start:83,end:182},{start:182,end:201},{start:137,end:93},{start:93,end:132},{start:132,end:137},{start:76,end:62},{start:62,end:183},{start:183,end:76},{start:61,end:76},{start:76,end:184},{start:184,end:61},{start:57,end:61},{start:61,end:185},{start:185,end:57},{start:212,end:57},{start:57,end:186},{start:186,end:212},{start:214,end:207},{start:207,end:187},{start:187,end:214},{start:34,end:143},{start:143,end:156},{start:156,end:34},{start:79,end:239},{start:239,end:237},{start:237,end:79},{start:123,end:137},{start:137,end:177},{start:177,end:123},{start:44,end:1},{start:1,end:4},{start:4,end:44},{start:201,end:194},{start:194,end:32},{start:32,end:201},{start:64,end:102},{start:102,end:129},{start:129,end:64},{start:213,end:215},{start:215,end:138},{start:138,end:213},{start:59,end:166},{start:166,end:219},{start:219,end:59},{start:242,end:99},{start:99,end:97},{start:97,end:242},{start:2,end:94},{start:94,end:141},{start:141,end:2},{start:75,end:59},{start:59,end:235},{start:235,end:75},{start:24,end:110},{start:110,end:228},{start:228,end:24},{start:25,end:130},{start:130,end:226},{start:226,end:25},{start:23,end:24},{start:24,end:229},{start:229,end:23},{start:22,end:23},{start:23,end:230},{start:230,end:22},{start:26,end:22},{start:22,end:231},{start:231,end:26},{start:112,end:26},{start:26,end:232},{start:232,end:112},{start:189,end:190},{start:190,end:243},{start:243,end:189},{start:221,end:56},{start:56,end:190},{start:190,end:221},{start:28,end:56},{start:56,end:221},{start:221,end:28},{start:27,end:28},{start:28,end:222},{start:222,end:27},{start:29,end:27},{start:27,end:223},{start:223,end:29},{start:30,end:29},{start:29,end:224},{start:224,end:30},{start:247,end:30},{start:30,end:225},{start:225,end:247},{start:238,end:79},{start:79,end:20},{start:20,end:238},{start:166,end:59},{start:59,end:75},{start:75,end:166},{start:60,end:75},{start:75,end:240},{start:240,end:60},{start:147,end:177},{start:177,end:215},{start:215,end:147},{start:20,end:79},{start:79,end:166},{start:166,end:20},{start:187,end:147},{start:147,end:213},{start:213,end:187},{start:112,end:233},{start:233,end:244},{start:244,end:112},{start:233,end:128},{start:128,end:245},{start:245,end:233},{start:128,end:114},{start:114,end:188},{start:188,end:128},{start:114,end:217},{start:217,end:174},{start:174,end:114},{start:131,end:115},{start:115,end:220},{start:220,end:131},{start:217,end:198},{start:198,end:236},{start:236,end:217},{start:198,end:131},{start:131,end:134},{start:134,end:198},{start:177,end:132},{start:132,end:58},{start:58,end:177},{start:143,end:35},{start:35,end:124},{start:124,end:143},{start:110,end:163},{start:163,end:7},{start:7,end:110},{start:228,end:110},{start:110,end:25},{start:25,end:228},{start:356,end:389},{start:389,end:368},{start:368,end:356},{start:11,end:302},{start:302,end:267},{start:267,end:11},{start:452,end:350},{start:350,end:349},{start:349,end:452},{start:302,end:303},{start:303,end:269},{start:269,end:302},{start:357,end:343},{start:343,end:277},{start:277,end:357},{start:452,end:453},{start:453,end:357},{start:357,end:452},{start:333,end:332},{start:332,end:297},{start:297,end:333},{start:175,end:152},{start:152,end:377},{start:377,end:175},{start:347,end:348},{start:348,end:330},{start:330,end:347},{start:303,end:304},{start:304,end:270},{start:270,end:303},{start:9,end:336},{start:336,end:337},{start:337,end:9},{start:278,end:279},{start:279,end:360},{start:360,end:278},{start:418,end:262},{start:262,end:431},{start:431,end:418},{start:304,end:408},{start:408,end:409},{start:409,end:304},{start:310,end:415},{start:415,end:407},{start:407,end:310},{start:270,end:409},{start:409,end:410},{start:410,end:270},{start:450,end:348},{start:348,end:347},{start:347,end:450},{start:422,end:430},{start:430,end:434},{start:434,end:422},{start:313,end:314},{start:314,end:17},{start:17,end:313},{start:306,end:307},{start:307,end:375},{start:375,end:306},{start:387,end:388},{start:388,end:260},{start:260,end:387},{start:286,end:414},{start:414,end:398},{start:398,end:286},{start:335,end:406},{start:406,end:418},{start:418,end:335},{start:364,end:367},{start:367,end:416},{start:416,end:364},{start:423,end:358},{start:358,end:327},{start:327,end:423},{start:251,end:284},{start:284,end:298},{start:298,end:251},{start:281,end:5},{start:5,end:4},{start:4,end:281},{start:373,end:374},{start:374,end:253},{start:253,end:373},{start:307,end:320},{start:320,end:321},{start:321,end:307},{start:425,end:427},{start:427,end:411},{start:411,end:425},{start:421,end:313},{start:313,end:18},{start:18,end:421},{start:321,end:405},{start:405,end:406},{start:406,end:321},{start:320,end:404},{start:404,end:405},{start:405,end:320},{start:315,end:16},{start:16,end:17},{start:17,end:315},{start:426,end:425},{start:425,end:266},{start:266,end:426},{start:377,end:400},{start:400,end:369},{start:369,end:377},{start:322,end:391},{start:391,end:269},{start:269,end:322},{start:417,end:465},{start:465,end:464},{start:464,end:417},{start:386,end:257},{start:257,end:258},{start:258,end:386},{start:466,end:260},{start:260,end:388},{start:388,end:466},{start:456,end:399},{start:399,end:419},{start:419,end:456},{start:284,end:332},{start:332,end:333},{start:333,end:284},{start:417,end:285},{start:285,end:8},{start:8,end:417},{start:346,end:340},{start:340,end:261},{start:261,end:346},{start:413,end:441},{start:441,end:285},{start:285,end:413},{start:327,end:460},{start:460,end:328},{start:328,end:327},{start:355,end:371},{start:371,end:329},{start:329,end:355},{start:392,end:439},{start:439,end:438},{start:438,end:392},{start:382,end:341},{start:341,end:256},{start:256,end:382},{start:429,end:420},{start:420,end:360},{start:360,end:429},{start:364,end:394},{start:394,end:379},{start:379,end:364},{start:277,end:343},{start:343,end:437},{start:437,end:277},{start:443,end:444},{start:444,end:283},{start:283,end:443},{start:275,end:440},{start:440,end:363},{start:363,end:275},{start:431,end:262},{start:262,end:369},{start:369,end:431},{start:297,end:338},{start:338,end:337},{start:337,end:297},{start:273,end:375},{start:375,end:321},{start:321,end:273},{start:450,end:451},{start:451,end:349},{start:349,end:450},{start:446,end:342},{start:342,end:467},{start:467,end:446},{start:293,end:334},{start:334,end:282},{start:282,end:293},{start:458,end:461},{start:461,end:462},{start:462,end:458},{start:276,end:353},{start:353,end:383},{start:383,end:276},{start:308,end:324},{start:324,end:325},{start:325,end:308},{start:276,end:300},{start:300,end:293},{start:293,end:276},{start:372,end:345},{start:345,end:447},{start:447,end:372},{start:352,end:345},{start:345,end:340},{start:340,end:352},{start:274,end:1},{start:1,end:19},{start:19,end:274},{start:456,end:248},{start:248,end:281},{start:281,end:456},{start:436,end:427},{start:427,end:425},{start:425,end:436},{start:381,end:256},{start:256,end:252},{start:252,end:381},{start:269,end:391},{start:391,end:393},{start:393,end:269},{start:200,end:199},{start:199,end:428},{start:428,end:200},{start:266,end:330},{start:330,end:329},{start:329,end:266},{start:287,end:273},{start:273,end:422},{start:422,end:287},{start:250,end:462},{start:462,end:328},{start:328,end:250},{start:258,end:286},{start:286,end:384},{start:384,end:258},{start:265,end:353},{start:353,end:342},{start:342,end:265},{start:387,end:259},{start:259,end:257},{start:257,end:387},{start:424,end:431},{start:431,end:430},{start:430,end:424},{start:342,end:353},{start:353,end:276},{start:276,end:342},{start:273,end:335},{start:335,end:424},{start:424,end:273},{start:292,end:325},{start:325,end:307},{start:307,end:292},{start:366,end:447},{start:447,end:345},{start:345,end:366},{start:271,end:303},{start:303,end:302},{start:302,end:271},{start:423,end:266},{start:266,end:371},{start:371,end:423},{start:294,end:455},{start:455,end:460},{start:460,end:294},{start:279,end:278},{start:278,end:294},{start:294,end:279},{start:271,end:272},{start:272,end:304},{start:304,end:271},{start:432,end:434},{start:434,end:427},{start:427,end:432},{start:272,end:407},{start:407,end:408},{start:408,end:272},{start:394,end:430},{start:430,end:431},{start:431,end:394},{start:395,end:369},{start:369,end:400},{start:400,end:395},{start:334,end:333},{start:333,end:299},{start:299,end:334},{start:351,end:417},{start:417,end:168},{start:168,end:351},{start:352,end:280},{start:280,end:411},{start:411,end:352},{start:325,end:319},{start:319,end:320},{start:320,end:325},{start:295,end:296},{start:296,end:336},{start:336,end:295},{start:319,end:403},{start:403,end:404},{start:404,end:319},{start:330,end:348},{start:348,end:349},{start:349,end:330},{start:293,end:298},{start:298,end:333},{start:333,end:293},{start:323,end:454},{start:454,end:447},{start:447,end:323},{start:15,end:16},{start:16,end:315},{start:315,end:15},{start:358,end:429},{start:429,end:279},{start:279,end:358},{start:14,end:15},{start:15,end:316},{start:316,end:14},{start:285,end:336},{start:336,end:9},{start:9,end:285},{start:329,end:349},{start:349,end:350},{start:350,end:329},{start:374,end:380},{start:380,end:252},{start:252,end:374},{start:318,end:402},{start:402,end:403},{start:403,end:318},{start:6,end:197},{start:197,end:419},{start:419,end:6},{start:318,end:319},{start:319,end:325},{start:325,end:318},{start:367,end:364},{start:364,end:365},{start:365,end:367},{start:435,end:367},{start:367,end:397},{start:397,end:435},{start:344,end:438},{start:438,end:439},{start:439,end:344},{start:272,end:271},{start:271,end:311},{start:311,end:272},{start:195,end:5},{start:5,end:281},{start:281,end:195},{start:273,end:287},{start:287,end:291},{start:291,end:273},{start:396,end:428},{start:428,end:199},{start:199,end:396},{start:311,end:271},{start:271,end:268},{start:268,end:311},{start:283,end:444},{start:444,end:445},{start:445,end:283},{start:373,end:254},{start:254,end:339},{start:339,end:373},{start:282,end:334},{start:334,end:296},{start:296,end:282},{start:449,end:347},{start:347,end:346},{start:346,end:449},{start:264,end:447},{start:447,end:454},{start:454,end:264},{start:336,end:296},{start:296,end:299},{start:299,end:336},{start:338,end:10},{start:10,end:151},{start:151,end:338},{start:278,end:439},{start:439,end:455},{start:455,end:278},{start:292,end:407},{start:407,end:415},{start:415,end:292},{start:358,end:371},{start:371,end:355},{start:355,end:358},{start:340,end:345},{start:345,end:372},{start:372,end:340},{start:346,end:347},{start:347,end:280},{start:280,end:346},{start:442,end:443},{start:443,end:282},{start:282,end:442},{start:19,end:94},{start:94,end:370},{start:370,end:19},{start:441,end:442},{start:442,end:295},{start:295,end:441},{start:248,end:419},{start:419,end:197},{start:197,end:248},{start:263,end:255},{start:255,end:359},{start:359,end:263},{start:440,end:275},{start:275,end:274},{start:274,end:440},{start:300,end:383},{start:383,end:368},{start:368,end:300},{start:351,end:412},{start:412,end:465},{start:465,end:351},{start:263,end:467},{start:467,end:466},{start:466,end:263},{start:301,end:368},{start:368,end:389},{start:389,end:301},{start:395,end:378},{start:378,end:379},{start:379,end:395},{start:412,end:351},{start:351,end:419},{start:419,end:412},{start:436,end:426},{start:426,end:322},{start:322,end:436},{start:2,end:164},{start:164,end:393},{start:393,end:2},{start:370,end:462},{start:462,end:461},{start:461,end:370},{start:164,end:0},{start:0,end:267},{start:267,end:164},{start:302,end:11},{start:11,end:12},{start:12,end:302},{start:268,end:12},{start:12,end:13},{start:13,end:268},{start:293,end:300},{start:300,end:301},{start:301,end:293},{start:446,end:261},{start:261,end:340},{start:340,end:446},{start:330,end:266},{start:266,end:425},{start:425,end:330},{start:426,end:423},{start:423,end:391},{start:391,end:426},{start:429,end:355},{start:355,end:437},{start:437,end:429},{start:391,end:327},{start:327,end:326},{start:326,end:391},{start:440,end:457},{start:457,end:438},{start:438,end:440},{start:341,end:382},{start:382,end:362},{start:362,end:341},{start:459,end:457},{start:457,end:461},{start:461,end:459},{start:434,end:430},{start:430,end:394},{start:394,end:434},{start:414,end:463},{start:463,end:362},{start:362,end:414},{start:396,end:369},{start:369,end:262},{start:262,end:396},{start:354,end:461},{start:461,end:457},{start:457,end:354},{start:316,end:403},{start:403,end:402},{start:402,end:316},{start:315,end:404},{start:404,end:403},{start:403,end:315},{start:314,end:405},{start:405,end:404},{start:404,end:314},{start:313,end:406},{start:406,end:405},{start:405,end:313},{start:421,end:418},{start:418,end:406},{start:406,end:421},{start:366,end:401},{start:401,end:361},{start:361,end:366},{start:306,end:408},{start:408,end:407},{start:407,end:306},{start:291,end:409},{start:409,end:408},{start:408,end:291},{start:287,end:410},{start:410,end:409},{start:409,end:287},{start:432,end:436},{start:436,end:410},{start:410,end:432},{start:434,end:416},{start:416,end:411},{start:411,end:434},{start:264,end:368},{start:368,end:383},{start:383,end:264},{start:309,end:438},{start:438,end:457},{start:457,end:309},{start:352,end:376},{start:376,end:401},{start:401,end:352},{start:274,end:275},{start:275,end:4},{start:4,end:274},{start:421,end:428},{start:428,end:262},{start:262,end:421},{start:294,end:327},{start:327,end:358},{start:358,end:294},{start:433,end:416},{start:416,end:367},{start:367,end:433},{start:289,end:455},{start:455,end:439},{start:439,end:289},{start:462,end:370},{start:370,end:326},{start:326,end:462},{start:2,end:326},{start:326,end:370},{start:370,end:2},{start:305,end:460},{start:460,end:455},{start:455,end:305},{start:254,end:449},{start:449,end:448},{start:448,end:254},{start:255,end:261},{start:261,end:446},{start:446,end:255},{start:253,end:450},{start:450,end:449},{start:449,end:253},{start:252,end:451},{start:451,end:450},{start:450,end:252},{start:256,end:452},{start:452,end:451},{start:451,end:256},{start:341,end:453},{start:453,end:452},{start:452,end:341},{start:413,end:464},{start:464,end:463},{start:463,end:413},{start:441,end:413},{start:413,end:414},{start:414,end:441},{start:258,end:442},{start:442,end:441},{start:441,end:258},{start:257,end:443},{start:443,end:442},{start:442,end:257},{start:259,end:444},{start:444,end:443},{start:443,end:259},{start:260,end:445},{start:445,end:444},{start:444,end:260},{start:467,end:342},{start:342,end:445},{start:445,end:467},{start:459,end:458},{start:458,end:250},{start:250,end:459},{start:289,end:392},{start:392,end:290},{start:290,end:289},{start:290,end:328},{start:328,end:460},{start:460,end:290},{start:376,end:433},{start:433,end:435},{start:435,end:376},{start:250,end:290},{start:290,end:392},{start:392,end:250},{start:411,end:416},{start:416,end:433},{start:433,end:411},{start:341,end:463},{start:463,end:464},{start:464,end:341},{start:453,end:464},{start:464,end:465},{start:465,end:453},{start:357,end:465},{start:465,end:412},{start:412,end:357},{start:343,end:412},{start:412,end:399},{start:399,end:343},{start:360,end:363},{start:363,end:440},{start:440,end:360},{start:437,end:399},{start:399,end:456},{start:456,end:437},{start:420,end:456},{start:456,end:363},{start:363,end:420},{start:401,end:435},{start:435,end:288},{start:288,end:401},{start:372,end:383},{start:383,end:353},{start:353,end:372},{start:339,end:255},{start:255,end:249},{start:249,end:339},{start:448,end:261},{start:261,end:255},{start:255,end:448},{start:133,end:243},{start:243,end:190},{start:190,end:133},{start:133,end:155},{start:155,end:112},{start:112,end:133},{start:33,end:246},{start:246,end:247},{start:247,end:33},{start:33,end:130},{start:130,end:25},{start:25,end:33},{start:398,end:384},{start:384,end:286},{start:286,end:398},{start:362,end:398},{start:398,end:414},{start:414,end:362},{start:362,end:463},{start:463,end:341},{start:341,end:362},{start:263,end:359},{start:359,end:467},{start:467,end:263},{start:263,end:249},{start:249,end:255},{start:255,end:263},{start:466,end:467},{start:467,end:260},{start:260,end:466},{start:75,end:60},{start:60,end:166},{start:166,end:75},{start:238,end:239},{start:239,end:79},{start:79,end:238},{start:162,end:127},{start:127,end:139},{start:139,end:162},{start:72,end:11},{start:11,end:37},{start:37,end:72},{start:121,end:232},{start:232,end:120},{start:120,end:121},{start:73,end:72},{start:72,end:39},{start:39,end:73},{start:114,end:128},{start:128,end:47},{start:47,end:114},{start:233,end:232},{start:232,end:128},{start:128,end:233},{start:103,end:104},{start:104,end:67},{start:67,end:103},{start:152,end:175},{start:175,end:148},{start:148,end:152},{start:119,end:118},{start:118,end:101},{start:101,end:119},{start:74,end:73},{start:73,end:40},{start:40,end:74},{start:107,end:9},{start:9,end:108},{start:108,end:107},{start:49,end:48},{start:48,end:131},{start:131,end:49},{start:32,end:194},{start:194,end:211},{start:211,end:32},{start:184,end:74},{start:74,end:185},{start:185,end:184},{start:191,end:80},{start:80,end:183},{start:183,end:191},{start:185,end:40},{start:40,end:186},{start:186,end:185},{start:119,end:230},{start:230,end:118},{start:118,end:119},{start:210,end:202},{start:202,end:214},{start:214,end:210},{start:84,end:83},{start:83,end:17},{start:17,end:84},{start:77,end:76},{start:76,end:146},{start:146,end:77},{start:161,end:160},{start:160,end:30},{start:30,end:161},{start:190,end:56},{start:56,end:173},{start:173,end:190},{start:182,end:106},{start:106,end:194},{start:194,end:182},{start:138,end:135},{start:135,end:192},{start:192,end:138},{start:129,end:203},{start:203,end:98},{start:98,end:129},{start:54,end:21},{start:21,end:68},{start:68,end:54},{start:5,end:51},{start:51,end:4},{start:4,end:5},{start:145,end:144},{start:144,end:23},{start:23,end:145},{start:90,end:77},{start:77,end:91},{start:91,end:90},{start:207,end:205},{start:205,end:187},{start:187,end:207},{start:83,end:201},{start:201,end:18},{start:18,end:83},{start:181,end:91},{start:91,end:182},{start:182,end:181},{start:180,end:90},{start:90,end:181},{start:181,end:180},{start:16,end:85},{start:85,end:17},{start:17,end:16},{start:205,end:206},{start:206,end:36},{start:36,end:205},{start:176,end:148},{start:148,end:140},{start:140,end:176},{start:165,end:92},{start:92,end:39},{start:39,end:165},{start:245,end:193},{start:193,end:244},{start:244,end:245},{start:27,end:159},{start:159,end:28},{start:28,end:27},{start:30,end:247},{start:247,end:161},{start:161,end:30},{start:174,end:236},{start:236,end:196},{start:196,end:174},{start:103,end:54},{start:54,end:104},{start:104,end:103},{start:55,end:193},{start:193,end:8},{start:8,end:55},{start:111,end:117},{start:117,end:31},{start:31,end:111},{start:221,end:189},{start:189,end:55},{start:55,end:221},{start:240,end:98},{start:98,end:99},{start:99,end:240},{start:142,end:126},{start:126,end:100},{start:100,end:142},{start:219,end:166},{start:166,end:218},{start:218,end:219},{start:112,end:155},{start:155,end:26},{start:26,end:112},{start:198,end:209},{start:209,end:131},{start:131,end:198},{start:169,end:135},{start:135,end:150},{start:150,end:169},{start:114,end:47},{start:47,end:217},{start:217,end:114},{start:224,end:223},{start:223,end:53},{start:53,end:224},{start:220,end:45},{start:45,end:134},{start:134,end:220},{start:32,end:211},{start:211,end:140},{start:140,end:32},{start:109,end:67},{start:67,end:108},{start:108,end:109},{start:146,end:43},{start:43,end:91},{start:91,end:146},{start:231,end:230},{start:230,end:120},{start:120,end:231},{start:113,end:226},{start:226,end:247},{start:247,end:113},{start:105,end:63},{start:63,end:52},{start:52,end:105},{start:241,end:238},{start:238,end:242},{start:242,end:241},{start:124,end:46},{start:46,end:156},{start:156,end:124},{start:95,end:78},{start:78,end:96},{start:96,end:95},{start:70,end:46},{start:46,end:63},{start:63,end:70},{start:116,end:143},{start:143,end:227},{start:227,end:116},{start:116,end:123},{start:123,end:111},{start:111,end:116},{start:1,end:44},{start:44,end:19},{start:19,end:1},{start:3,end:236},{start:236,end:51},{start:51,end:3},{start:207,end:216},{start:216,end:205},{start:205,end:207},{start:26,end:154},{start:154,end:22},{start:22,end:26},{start:165,end:39},{start:39,end:167},{start:167,end:165},{start:199,end:200},{start:200,end:208},{start:208,end:199},{start:101,end:36},{start:36,end:100},{start:100,end:101},{start:43,end:57},{start:57,end:202},{start:202,end:43},{start:242,end:20},{start:20,end:99},{start:99,end:242},{start:56,end:28},{start:28,end:157},{start:157,end:56},{start:124,end:35},{start:35,end:113},{start:113,end:124},{start:29,end:160},{start:160,end:27},{start:27,end:29},{start:211,end:204},{start:204,end:210},{start:210,end:211},{start:124,end:113},{start:113,end:46},{start:46,end:124},{start:106,end:43},{start:43,end:204},{start:204,end:106},{start:96,end:62},{start:62,end:77},{start:77,end:96},{start:227,end:137},{start:137,end:116},{start:116,end:227},{start:73,end:41},{start:41,end:72},{start:72,end:73},{start:36,end:203},{start:203,end:142},{start:142,end:36},{start:235,end:64},{start:64,end:240},{start:240,end:235},{start:48,end:49},{start:49,end:64},{start:64,end:48},{start:42,end:41},{start:41,end:74},{start:74,end:42},{start:214,end:212},{start:212,end:207},{start:207,end:214},{start:183,end:42},{start:42,end:184},{start:184,end:183},{start:210,end:169},{start:169,end:211},{start:211,end:210},{start:140,end:170},{start:170,end:176},{start:176,end:140},{start:104,end:105},{start:105,end:69},{start:69,end:104},{start:193,end:122},{start:122,end:168},{start:168,end:193},{start:50,end:123},{start:123,end:187},{start:187,end:50},{start:89,end:96},{start:96,end:90},{start:90,end:89},{start:66,end:65},{start:65,end:107},{start:107,end:66},{start:179,end:89},{start:89,end:180},{start:180,end:179},{start:119,end:101},{start:101,end:120},{start:120,end:119},{start:68,end:63},{start:63,end:104},{start:104,end:68},{start:234,end:93},{start:93,end:227},{start:227,end:234},{start:16,end:15},{start:15,end:85},{start:85,end:16},{start:209,end:129},{start:129,end:49},{start:49,end:209},{start:15,end:14},{start:14,end:86},{start:86,end:15},{start:107,end:55},{start:55,end:9},{start:9,end:107},{start:120,end:100},{start:100,end:121},{start:121,end:120},{start:153,end:145},{start:145,end:22},{start:22,end:153},{start:178,end:88},{start:88,end:179},{start:179,end:178},{start:197,end:6},{start:6,end:196},{start:196,end:197},{start:89,end:88},{start:88,end:96},{start:96,end:89},{start:135,end:138},{start:138,end:136},{start:136,end:135},{start:138,end:215},{start:215,end:172},{start:172,end:138},{start:218,end:115},{start:115,end:219},{start:219,end:218},{start:41,end:42},{start:42,end:81},{start:81,end:41},{start:5,end:195},{start:195,end:51},{start:51,end:5},{start:57,end:43},{start:43,end:61},{start:61,end:57},{start:208,end:171},{start:171,end:199},{start:199,end:208},{start:41,end:81},{start:81,end:38},{start:38,end:41},{start:224,end:53},{start:53,end:225},{start:225,end:224},{start:24,end:144},{start:144,end:110},{start:110,end:24},{start:105,end:52},{start:52,end:66},{start:66,end:105},{start:118,end:229},{start:229,end:117},{start:117,end:118},{start:227,end:34},{start:34,end:234},{start:234,end:227},{start:66,end:107},{start:107,end:69},{start:69,end:66},{start:10,end:109},{start:109,end:151},{start:151,end:10},{start:219,end:48},{start:48,end:235},{start:235,end:219},{start:183,end:62},{start:62,end:191},{start:191,end:183},{start:142,end:129},{start:129,end:126},{start:126,end:142},{start:116,end:111},{start:111,end:143},{start:143,end:116},{start:118,end:117},{start:117,end:50},{start:50,end:118},{start:223,end:222},{start:222,end:52},{start:52,end:223},{start:94,end:19},{start:19,end:141},{start:141,end:94},{start:222,end:221},{start:221,end:65},{start:65,end:222},{start:196,end:3},{start:3,end:197},{start:197,end:196},{start:45,end:220},{start:220,end:44},{start:44,end:45},{start:156,end:70},{start:70,end:139},{start:139,end:156},{start:188,end:122},{start:122,end:245},{start:245,end:188},{start:139,end:71},{start:71,end:162},{start:162,end:139},{start:149,end:170},{start:170,end:150},{start:150,end:149},{start:122,end:188},{start:188,end:196},{start:196,end:122},{start:206,end:216},{start:216,end:92},{start:92,end:206},{start:164,end:2},{start:2,end:167},{start:167,end:164},{start:242,end:141},{start:141,end:241},{start:241,end:242},{start:0,end:164},{start:164,end:37},{start:37,end:0},{start:11,end:72},{start:72,end:12},{start:12,end:11},{start:12,end:38},{start:38,end:13},{start:13,end:12},{start:70,end:63},{start:63,end:71},{start:71,end:70},{start:31,end:226},{start:226,end:111},{start:111,end:31},{start:36,end:101},{start:101,end:205},{start:205,end:36},{start:203,end:206},{start:206,end:165},{start:165,end:203},{start:126,end:209},{start:209,end:217},{start:217,end:126},{start:98,end:165},{start:165,end:97},{start:97,end:98},{start:237,end:220},{start:220,end:218},{start:218,end:237},{start:237,end:239},{start:239,end:241},{start:241,end:237},{start:210,end:214},{start:214,end:169},{start:169,end:210},{start:140,end:171},{start:171,end:32},{start:32,end:140},{start:241,end:125},{start:125,end:237},{start:237,end:241},{start:179,end:86},{start:86,end:178},{start:178,end:179},{start:180,end:85},{start:85,end:179},{start:179,end:180},{start:181,end:84},{start:84,end:180},{start:180,end:181},{start:182,end:83},{start:83,end:181},{start:181,end:182},{start:194,end:201},{start:201,end:182},{start:182,end:194},{start:177,end:137},{start:137,end:132},{start:132,end:177},{start:184,end:76},{start:76,end:183},{start:183,end:184},{start:185,end:61},{start:61,end:184},{start:184,end:185},{start:186,end:57},{start:57,end:185},{start:185,end:186},{start:216,end:212},{start:212,end:186},{start:186,end:216},{start:192,end:214},{start:214,end:187},{start:187,end:192},{start:139,end:34},{start:34,end:156},{start:156,end:139},{start:218,end:79},{start:79,end:237},{start:237,end:218},{start:147,end:123},{start:123,end:177},{start:177,end:147},{start:45,end:44},{start:44,end:4},{start:4,end:45},{start:208,end:201},{start:201,end:32},{start:32,end:208},{start:98,end:64},{start:64,end:129},{start:129,end:98},{start:192,end:213},{start:213,end:138},{start:138,end:192},{start:235,end:59},{start:59,end:219},{start:219,end:235},{start:141,end:242},{start:242,end:97},{start:97,end:141},{start:97,end:2},{start:2,end:141},{start:141,end:97},{start:240,end:75},{start:75,end:235},{start:235,end:240},{start:229,end:24},{start:24,end:228},{start:228,end:229},{start:31,end:25},{start:25,end:226},{start:226,end:31},{start:230,end:23},{start:23,end:229},{start:229,end:230},{start:231,end:22},{start:22,end:230},{start:230,end:231},{start:232,end:26},{start:26,end:231},{start:231,end:232},{start:233,end:112},{start:112,end:232},{start:232,end:233},{start:244,end:189},{start:189,end:243},{start:243,end:244},{start:189,end:221},{start:221,end:190},{start:190,end:189},{start:222,end:28},{start:28,end:221},{start:221,end:222},{start:223,end:27},{start:27,end:222},{start:222,end:223},{start:224,end:29},{start:29,end:223},{start:223,end:224},{start:225,end:30},{start:30,end:224},{start:224,end:225},{start:113,end:247},{start:247,end:225},{start:225,end:113},{start:99,end:60},{start:60,end:240},{start:240,end:99},{start:213,end:147},{start:147,end:215},{start:215,end:213},{start:60,end:20},{start:20,end:166},{start:166,end:60},{start:192,end:187},{start:187,end:213},{start:213,end:192},{start:243,end:112},{start:112,end:244},{start:244,end:243},{start:244,end:233},{start:233,end:245},{start:245,end:244},{start:245,end:128},{start:128,end:188},{start:188,end:245},{start:188,end:114},{start:114,end:174},{start:174,end:188},{start:134,end:131},{start:131,end:220},{start:220,end:134},{start:174,end:217},{start:217,end:236},{start:236,end:174},{start:236,end:198},{start:198,end:134},{start:134,end:236},{start:215,end:177},{start:177,end:58},{start:58,end:215},{start:156,end:143},{start:143,end:124},{start:124,end:156},{start:25,end:110},{start:110,end:7},{start:7,end:25},{start:31,end:228},{start:228,end:25},{start:25,end:31},{start:264,end:356},{start:356,end:368},{start:368,end:264},{start:0,end:11},{start:11,end:267},{start:267,end:0},{start:451,end:452},{start:452,end:349},{start:349,end:451},{start:267,end:302},{start:302,end:269},{start:269,end:267},{start:350,end:357},{start:357,end:277},{start:277,end:350},{start:350,end:452},{start:452,end:357},{start:357,end:350},{start:299,end:333},{start:333,end:297},{start:297,end:299},{start:396,end:175},{start:175,end:377},{start:377,end:396},{start:280,end:347},{start:347,end:330},{start:330,end:280},{start:269,end:303},{start:303,end:270},{start:270,end:269},{start:151,end:9},{start:9,end:337},{start:337,end:151},{start:344,end:278},{start:278,end:360},{start:360,end:344},{start:424,end:418},{start:418,end:431},{start:431,end:424},{start:270,end:304},{start:304,end:409},{start:409,end:270},{start:272,end:310},{start:310,end:407},{start:407,end:272},{start:322,end:270},{start:270,end:410},{start:410,end:322},{start:449,end:450},{start:450,end:347},{start:347,end:449},{start:432,end:422},{start:422,end:434},{start:434,end:432},{start:18,end:313},{start:313,end:17},{start:17,end:18},{start:291,end:306},{start:306,end:375},{start:375,end:291},{start:259,end:387},{start:387,end:260},{start:260,end:259},{start:424,end:335},{start:335,end:418},{start:418,end:424},{start:434,end:364},{start:364,end:416},{start:416,end:434},{start:391,end:423},{start:423,end:327},{start:327,end:391},{start:301,end:251},{start:251,end:298},{start:298,end:301},{start:275,end:281},{start:281,end:4},{start:4,end:275},{start:254,end:373},{start:373,end:253},{start:253,end:254},{start:375,end:307},{start:307,end:321},{start:321,end:375},{start:280,end:425},{start:425,end:411},{start:411,end:280},{start:200,end:421},{start:421,end:18},{start:18,end:200},{start:335,end:321},{start:321,end:406},{start:406,end:335},{start:321,end:320},{start:320,end:405},{start:405,end:321},{start:314,end:315},{start:315,end:17},{start:17,end:314},{start:423,end:426},{start:426,end:266},{start:266,end:423},{start:396,end:377},{start:377,end:369},{start:369,end:396},{start:270,end:322},{start:322,end:269},{start:269,end:270},{start:413,end:417},{start:417,end:464},{start:464,end:413},{start:385,end:386},{start:386,end:258},{start:258,end:385},{start:248,end:456},{start:456,end:419},{start:419,end:248},{start:298,end:284},{start:284,end:333},{start:333,end:298},{start:168,end:417},{start:417,end:8},{start:8,end:168},{start:448,end:346},{start:346,end:261},{start:261,end:448},{start:417,end:413},{start:413,end:285},{start:285,end:417},{start:326,end:327},{start:327,end:328},{start:328,end:326},{start:277,end:355},{start:355,end:329},{start:329,end:277},{start:309,end:392},{start:392,end:438},{start:438,end:309},{start:381,end:382},{start:382,end:256},{start:256,end:381},{start:279,end:429},{start:429,end:360},{start:360,end:279},{start:365,end:364},{start:364,end:379},{start:379,end:365},{start:355,end:277},{start:277,end:437},{start:437,end:355},{start:282,end:443},{start:443,end:283},{start:283,end:282},{start:281,end:275},{start:275,end:363},{start:363,end:281},{start:395,end:431},{start:431,end:369},{start:369,end:395},{start:299,end:297},{start:297,end:337},{start:337,end:299},{start:335,end:273},{start:273,end:321},{start:321,end:335},{start:348,end:450},{start:450,end:349},{start:349,end:348},{start:359,end:446},{start:446,end:467},{start:467,end:359},{start:283,end:293},{start:293,end:282},{start:282,end:283},{start:250,end:458},{start:458,end:462},{start:462,end:250},{start:300,end:276},{start:276,end:383},{start:383,end:300},{start:292,end:308},{start:308,end:325},{start:325,end:292},{start:283,end:276},{start:276,end:293},{start:293,end:283},{start:264,end:372},{start:372,end:447},{start:447,end:264},{start:346,end:352},{start:352,end:340},{start:340,end:346},{start:354,end:274},{start:274,end:19},{start:19,end:354},{start:363,end:456},{start:456,end:281},{start:281,end:363},{start:426,end:436},{start:436,end:425},{start:425,end:426},{start:380,end:381},{start:381,end:252},{start:252,end:380},{start:267,end:269},{start:269,end:393},{start:393,end:267},{start:421,end:200},{start:200,end:428},{start:428,end:421},{start:371,end:266},{start:266,end:329},{start:329,end:371},{start:432,end:287},{start:287,end:422},{start:422,end:432},{start:290,end:250},{start:250,end:328},{start:328,end:290},{start:385,end:258},{start:258,end:384},{start:384,end:385},{start:446,end:265},{start:265,end:342},{start:342,end:446},{start:386,end:387},{start:387,end:257},{start:257,end:386},{start:422,end:424},{start:424,end:430},{start:430,end:422},{start:445,end:342},{start:342,end:276},{start:276,end:445},{start:422,end:273},{start:273,end:424},{start:424,end:422},{start:306,end:292},{start:292,end:307},{start:307,end:306},{start:352,end:366},{start:366,end:345},{start:345,end:352},{start:268,end:271},{start:271,end:302},{start:302,end:268},{start:358,end:423},{start:423,end:371},{start:371,end:358},{start:327,end:294},{start:294,end:460},{start:460,end:327},{start:331,end:279},{start:279,end:294},{start:294,end:331},{start:303,end:271},{start:271,end:304},{start:304,end:303},{start:436,end:432},{start:432,end:427},{start:427,end:436},{start:304,end:272},{start:272,end:408},{start:408,end:304},{start:395,end:394},{start:394,end:431},{start:431,end:395},{start:378,end:395},{start:395,end:400},{start:400,end:378},{start:296,end:334},{start:334,end:299},{start:299,end:296},{start:6,end:351},{start:351,end:168},{start:168,end:6},{start:376,end:352},{start:352,end:411},{start:411,end:376},{start:307,end:325},{start:325,end:320},{start:320,end:307},{start:285,end:295},{start:295,end:336},{start:336,end:285},{start:320,end:319},{start:319,end:404},{start:404,end:320},{start:329,end:330},{start:330,end:349},{start:349,end:329},{start:334,end:293},{start:293,end:333},{start:333,end:334},{start:366,end:323},{start:323,end:447},{start:447,end:366},{start:316,end:15},{start:15,end:315},{start:315,end:316},{start:331,end:358},{start:358,end:279},{start:279,end:331},{start:317,end:14},{start:14,end:316},{start:316,end:317},{start:8,end:285},{start:285,end:9},{start:9,end:8},{start:277,end:329},{start:329,end:350},{start:350,end:277},{start:253,end:374},{start:374,end:252},{start:252,end:253},{start:319,end:318},{start:318,end:403},{start:403,end:319},{start:351,end:6},{start:6,end:419},{start:419,end:351},{start:324,end:318},{start:318,end:325},{start:325,end:324},{start:397,end:367},{start:367,end:365},{start:365,end:397},{start:288,end:435},{start:435,end:397},{start:397,end:288},{start:278,end:344},{start:344,end:439},{start:439,end:278},{start:310,end:272},{start:272,end:311},{start:311,end:310},{start:248,end:195},{start:195,end:281},{start:281,end:248},{start:375,end:273},{start:273,end:291},{start:291,end:375},{start:175,end:396},{start:396,end:199},{start:199,end:175},{start:312,end:311},{start:311,end:268},{start:268,end:312},{start:276,end:283},{start:283,end:445},{start:445,end:276},{start:390,end:373},{start:373,end:339},{start:339,end:390},{start:295,end:282},{start:282,end:296},{start:296,end:295},{start:448,end:449},{start:449,end:346},{start:346,end:448},{start:356,end:264},{start:264,end:454},{start:454,end:356},{start:337,end:336},{start:336,end:299},{start:299,end:337},{start:337,end:338},{start:338,end:151},{start:151,end:337},{start:294,end:278},{start:278,end:455},{start:455,end:294},{start:308,end:292},{start:292,end:415},{start:415,end:308},{start:429,end:358},{start:358,end:355},{start:355,end:429},{start:265,end:340},{start:340,end:372},{start:372,end:265},{start:352,end:346},{start:346,end:280},{start:280,end:352},{start:295,end:442},{start:442,end:282},{start:282,end:295},{start:354,end:19},{start:19,end:370},{start:370,end:354},{start:285,end:441},{start:441,end:295},{start:295,end:285},{start:195,end:248},{start:248,end:197},{start:197,end:195},{start:457,end:440},{start:440,end:274},{start:274,end:457},{start:301,end:300},{start:300,end:368},{start:368,end:301},{start:417,end:351},{start:351,end:465},{start:465,end:417},{start:251,end:301},{start:301,end:389},{start:389,end:251},{start:394,end:395},{start:395,end:379},{start:379,end:394},{start:399,end:412},{start:412,end:419},{start:419,end:399},{start:410,end:436},{start:436,end:322},{start:322,end:410},{start:326,end:2},{start:2,end:393},{start:393,end:326},{start:354,end:370},{start:370,end:461},{start:461,end:354},{start:393,end:164},{start:164,end:267},{start:267,end:393},{start:268,end:302},{start:302,end:12},{start:12,end:268},{start:312,end:268},{start:268,end:13},{start:13,end:312},{start:298,end:293},{start:293,end:301},{start:301,end:298},{start:265,end:446},{start:446,end:340},{start:340,end:265},{start:280,end:330},{start:330,end:425},{start:425,end:280},{start:322,end:426},{start:426,end:391},{start:391,end:322},{start:420,end:429},{start:429,end:437},{start:437,end:420},{start:393,end:391},{start:391,end:326},{start:326,end:393},{start:344,end:440},{start:440,end:438},{start:438,end:344},{start:458,end:459},{start:459,end:461},{start:461,end:458},{start:364,end:434},{start:434,end:394},{start:394,end:364},{start:428,end:396},{start:396,end:262},{start:262,end:428},{start:274,end:354},{start:354,end:457},{start:457,end:274},{start:317,end:316},{start:316,end:402},{start:402,end:317},{start:316,end:315},{start:315,end:403},{start:403,end:316},{start:315,end:314},{start:314,end:404},{start:404,end:315},{start:314,end:313},{start:313,end:405},{start:405,end:314},{start:313,end:421},{start:421,end:406},{start:406,end:313},{start:323,end:366},{start:366,end:361},{start:361,end:323},{start:292,end:306},{start:306,end:407},{start:407,end:292},{start:306,end:291},{start:291,end:408},{start:408,end:306},{start:291,end:287},{start:287,end:409},{start:409,end:291},{start:287,end:432},{start:432,end:410},{start:410,end:287},{start:427,end:434},{start:434,end:411},{start:411,end:427},{start:372,end:264},{start:264,end:383},{start:383,end:372},{start:459,end:309},{start:309,end:457},{start:457,end:459},{start:366,end:352},{start:352,end:401},{start:401,end:366},{start:1,end:274},{start:274,end:4},{start:4,end:1},{start:418,end:421},{start:421,end:262},{start:262,end:418},{start:331,end:294},{start:294,end:358},{start:358,end:331},{start:435,end:433},{start:433,end:367},{start:367,end:435},{start:392,end:289},{start:289,end:439},{start:439,end:392},{start:328,end:462},{start:462,end:326},{start:326,end:328},{start:94,end:2},{start:2,end:370},{start:370,end:94},{start:289,end:305},{start:305,end:455},{start:455,end:289},{start:339,end:254},{start:254,end:448},{start:448,end:339},{start:359,end:255},{start:255,end:446},{start:446,end:359},{start:254,end:253},{start:253,end:449},{start:449,end:254},{start:253,end:252},{start:252,end:450},{start:450,end:253},{start:252,end:256},{start:256,end:451},{start:451,end:252},{start:256,end:341},{start:341,end:452},{start:452,end:256},{start:414,end:413},{start:413,end:463},{start:463,end:414},{start:286,end:441},{start:441,end:414},{start:414,end:286},{start:286,end:258},{start:258,end:441},{start:441,end:286},{start:258,end:257},{start:257,end:442},{start:442,end:258},{start:257,end:259},{start:259,end:443},{start:443,end:257},{start:259,end:260},{start:260,end:444},{start:444,end:259},{start:260,end:467},{start:467,end:445},{start:445,end:260},{start:309,end:459},{start:459,end:250},{start:250,end:309},{start:305,end:289},{start:289,end:290},{start:290,end:305},{start:305,end:290},{start:290,end:460},{start:460,end:305},{start:401,end:376},{start:376,end:435},{start:435,end:401},{start:309,end:250},{start:250,end:392},{start:392,end:309},{start:376,end:411},{start:411,end:433},{start:433,end:376},{start:453,end:341},{start:341,end:464},{start:464,end:453},{start:357,end:453},{start:453,end:465},{start:465,end:357},{start:343,end:357},{start:357,end:412},{start:412,end:343},{start:437,end:343},{start:343,end:399},{start:399,end:437},{start:344,end:360},{start:360,end:440},{start:440,end:344},{start:420,end:437},{start:437,end:456},{start:456,end:420},{start:360,end:420},{start:420,end:363},{start:363,end:360},{start:361,end:401},{start:401,end:288},{start:288,end:361},{start:265,end:372},{start:372,end:353},{start:353,end:265},{start:390,end:339},{start:339,end:249},{start:249,end:390},{start:339,end:448},{start:448,end:255},{start:255,end:339}];var face_landmarker_options={};Object.defineProperty(face_landmarker_options,"__esModule",{value:!0});var face_landmarker_result={};Object.defineProperty(face_landmarker_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.FaceLandmarker=void 0;const n=calculator_pb,i=calculator_options_pb,o=classification_pb,a=landmark_pb,s=base_options_pb,l=face_detector_graph_options_pb,c=face_geometry_pb,p=face_landmarker_graph_options_pb,u=face_landmarks_detector_graph_options_pb,d=classifier_result,h=landmark_result,f=vision_task_runner,m=face_landmarks_connections;r(face_landmarker_options,e),r(face_landmarker_result,e);const g="image_in",y="norm_rect",v="face_landmarks",b="blendshapes",S="face_geometry",T=.5;class w extends f.VisionTaskRunner{static createFromOptions(e,t){return f.VisionTaskRunner.createVisionInstance(w,e,t)}static createFromModelBuffer(e,t){return f.VisionTaskRunner.createVisionInstance(w,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return f.VisionTaskRunner.createVisionInstance(w,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new f.VisionGraphRunner(e,t),g,y,!1),this.result={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFaceBlendshapes=!1,this.outputFacialTransformationMatrixes=!1,this.options=new p.FaceLandmarkerGraphOptions,this.options.setBaseOptions(new s.BaseOptions),this.faceLandmarksDetectorGraphOptions=new u.FaceLandmarksDetectorGraphOptions,this.options.setFaceLandmarksDetectorGraphOptions(this.faceLandmarksDetectorGraphOptions),this.faceDetectorGraphOptions=new l.FaceDetectorGraphOptions,this.options.setFaceDetectorGraphOptions(this.faceDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r,n,i;return"numFaces"in e&&this.faceDetectorGraphOptions.setNumFaces(null!==(t=e.numFaces)&&void 0!==t?t:1),"minFaceDetectionConfidence"in e&&this.faceDetectorGraphOptions.setMinDetectionConfidence(null!==(r=e.minFaceDetectionConfidence)&&void 0!==r?r:T),"minTrackingConfidence"in e&&this.options.setMinTrackingConfidence(null!==(n=e.minTrackingConfidence)&&void 0!==n?n:T),"minFacePresenceConfidence"in e&&this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence(null!==(i=e.minFacePresenceConfidence)&&void 0!==i?i:T),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in e&&(this.outputFacialTransformationMatrixes=!!e.outputFacialTransformationMatrixes),this.applyOptions(e)}detect(e,t){return this.resetResults(),this.processImageData(e,t),this.result}detectForVideo(e,t,r){return this.resetResults(),this.processVideoData(e,r,t),this.result}resetResults(){this.result={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}initDefaults(){this.faceDetectorGraphOptions.setNumFaces(1),this.faceDetectorGraphOptions.setMinDetectionConfidence(T),this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence(T),this.options.setMinTrackingConfidence(T)}addJsLandmarks(e){for(const t of e){const e=a.NormalizedLandmarkList.deserializeBinary(t);this.result.faceLandmarks.push((0,h.convertToLandmarks)(e))}}addBlenshape(e){var t;if(this.outputFaceBlendshapes)for(const r of e){const e=o.ClassificationList.deserializeBinary(r);this.result.faceBlendshapes.push((0,d.convertFromClassifications)(null!==(t=e.getClassificationList())&&void 0!==t?t:[]))}}addFacialTransformationMatrixes(e){var t,r,n;if(this.outputFacialTransformationMatrixes)for(const i of e){const e=c.FaceGeometry.deserializeBinary(i).getPoseTransformMatrix();e&&this.result.facialTransformationMatrixes.push({rows:null!==(t=e.getRows())&&void 0!==t?t:0,columns:null!==(r=e.getCols())&&void 0!==r?r:0,data:null!==(n=e.getPackedDataList())&&void 0!==n?n:[]})}}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(g),e.addInputStream(y),e.addOutputStream(v);const t=new i.CalculatorOptions;t.setExtension(p.FaceLandmarkerGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),r.addInputStream("IMAGE:"+g),r.addInputStream("NORM_RECT:"+y),r.addOutputStream("NORM_LANDMARKS:"+v),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(v,((e,t)=>{this.addJsLandmarks(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(v,(e=>{this.setLatestOutputTimestamp(e)})),this.outputFaceBlendshapes&&(e.addOutputStream(b),r.addOutputStream("BLENDSHAPES:"+b),this.graphRunner.attachProtoVectorListener(b,((e,t)=>{this.addBlenshape(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(b,(e=>{this.setLatestOutputTimestamp(e)}))),this.outputFacialTransformationMatrixes&&(e.addOutputStream(S),r.addOutputStream("FACE_GEOMETRY:"+S),this.graphRunner.attachProtoVectorListener(S,((e,t)=>{this.addFacialTransformationMatrixes(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(S,(e=>{this.setLatestOutputTimestamp(e)})));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.FaceLandmarker=w,w.FACE_LANDMARKS_LIPS=m.FACE_LANDMARKS_LIPS,w.FACE_LANDMARKS_LEFT_EYE=m.FACE_LANDMARKS_LEFT_EYE,w.FACE_LANDMARKS_LEFT_EYEBROW=m.FACE_LANDMARKS_LEFT_EYEBROW,w.FACE_LANDMARKS_LEFT_IRIS=m.FACE_LANDMARKS_LEFT_IRIS,w.FACE_LANDMARKS_RIGHT_EYE=m.FACE_LANDMARKS_RIGHT_EYE,w.FACE_LANDMARKS_RIGHT_EYEBROW=m.FACE_LANDMARKS_RIGHT_EYEBROW,w.FACE_LANDMARKS_RIGHT_IRIS=m.FACE_LANDMARKS_RIGHT_IRIS,w.FACE_LANDMARKS_FACE_OVAL=m.FACE_LANDMARKS_FACE_OVAL,w.FACE_LANDMARKS_CONTOURS=m.FACE_LANDMARKS_CONTOURS,w.FACE_LANDMARKS_TESSELATION=m.FACE_LANDMARKS_TESSELATION}(face_landmarker);var face_stylizer={},face_stylizer_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a);var s=face_landmarker_graph_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions",null,n),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),faceLandmarkerGraphOptions:(n=r.getFaceLandmarkerGraphOptions())&&s.FaceLandmarkerGraphOptions.toObject(e,n),faceAlignmentSize:t.Message.getFieldWithDefault(r,3,256)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new s.FaceLandmarkerGraphOptions,t.readMessage(r,s.FaceLandmarkerGraphOptions.deserializeBinaryFromReader),e.setFaceLandmarkerGraphOptions(r);break;case 3:r=t.readInt32(),e.setFaceAlignmentSize(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=e.getFaceLandmarkerGraphOptions())&&r.writeMessage(2,n,s.FaceLandmarkerGraphOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new t.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[513916220]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceLandmarkerGraphOptions=function(){return t.Message.getWrapperField(this,s.FaceLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceLandmarkerGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceLandmarkerGraphOptions=function(){return this.setFaceLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceLandmarkerGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceAlignmentSize=function(){return t.Message.getFieldWithDefault(this,3,256)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceAlignmentSize=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceAlignmentSize=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceAlignmentSize=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new t.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[513916220]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_stylizer.proto)}(face_stylizer_graph_options_pb);var face_stylizer_options={};Object.defineProperty(face_stylizer_options,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.FaceStylizer=void 0;const n=calculator_pb,i=calculator_options_pb,o=base_options_pb,a=face_stylizer_graph_options_pb,s=vision_task_runner;r(face_stylizer_options,e);const l="image_in",c="norm_rect",p="stylized_image";class u extends s.VisionTaskRunner{static createFromOptions(e,t){return s.VisionTaskRunner.createVisionInstance(u,e,t)}static createFromModelBuffer(e,t){return s.VisionTaskRunner.createVisionInstance(u,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return s.VisionTaskRunner.createVisionInstance(u,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new s.VisionGraphRunner(e,t),l,c,!0),this.options=new a.FaceStylizerGraphOptions,this.options.setBaseOptions(new o.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){return super.applyOptions(e)}stylize(e,t,r){const n="function"!=typeof t?t:{};if(this.userCallback="function"==typeof t?t:r,this.processImageData(e,null!=n?n:{}),!this.userCallback)return this.result}stylizeForVideo(e,t,r,n){const i="function"!=typeof r?r:{};if(this.userCallback="function"==typeof r?r:n,this.processVideoData(e,i,t),this.userCallback=void 0,!this.userCallback)return this.result}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(l),e.addInputStream(c),e.addOutputStream(p);const t=new i.CalculatorOptions;t.setExtension(a.FaceStylizerGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),r.addInputStream("IMAGE:"+l),r.addInputStream("NORM_RECT:"+c),r.addOutputStream("STYLIZED_IMAGE:"+p),r.setOptions(t),e.addNode(r),this.graphRunner.attachImageListener(p,((e,t)=>{const r=this.convertToMPImage(e,!this.userCallback);this.result=r,this.userCallback&&this.userCallback(r),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(p,(e=>{this.result=null,this.userCallback&&this.userCallback(null),this.setLatestOutputTimestamp(e)}));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.FaceStylizer=u}(face_stylizer);var gesture_recognizer={},gesture_classifier_graph_options_pb={},classifier_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.processors.proto.ClassifierOptions",null,n),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.displayName="proto.mediapipe.tasks.components.processors.proto.ClassifierOptions"),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_=[4,5],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject(e,this)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject=function(e,r){var n,i={displayNamesLocale:t.Message.getFieldWithDefault(r,1,"en"),maxResults:t.Message.getFieldWithDefault(r,2,-1),scoreThreshold:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,categoryAllowlistList:null==(n=t.Message.getRepeatedField(r,4))?void 0:n,categoryDenylistList:null==(n=t.Message.getRepeatedField(r,5))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.processors.proto.ClassifierOptions;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setDisplayNamesLocale(r);break;case 2:r=t.readInt32(),e.setMaxResults(r);break;case 3:r=t.readFloat(),e.setScoreThreshold(r);break;case 4:r=t.readString(),e.addCategoryAllowlist(r);break;case 5:r=t.readString(),e.addCategoryDenylist(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),(n=e.getCategoryAllowlistList()).length>0&&r.writeRepeatedString(4,n),(n=e.getCategoryDenylistList()).length>0&&r.writeRepeatedString(5,n)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getDisplayNamesLocale=function(){return t.Message.getFieldWithDefault(this,1,"en")},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setDisplayNamesLocale=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearDisplayNamesLocale=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasDisplayNamesLocale=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getMaxResults=function(){return t.Message.getFieldWithDefault(this,2,-1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setMaxResults=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearMaxResults=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasMaxResults=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getScoreThreshold=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setScoreThreshold=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearScoreThreshold=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasScoreThreshold=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryAllowlistList=function(){return t.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryAllowlistList=function(e){return t.Message.setField(this,4,e||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryAllowlist=function(e,r){return t.Message.addToRepeatedField(this,4,e,r)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryDenylistList=function(){return t.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryDenylistList=function(e){return t.Message.setField(this,5,e||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryDenylist=function(e,r){return t.Message.addToRepeatedField(this,5,e,r)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},r.object.extend(e,proto.mediapipe.tasks.components.processors.proto)}(classifier_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=classifier_options_pb;r.object.extend(proto,a);var s=base_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&s.BaseOptions.toObject(e,r),classifierOptions:(r=t.getClassifierOptions())&&a.ClassifierOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new s.BaseOptions;t.readMessage(r,s.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new a.ClassifierOptions,t.readMessage(r,a.ClassifierOptions.deserializeBinaryFromReader),e.setClassifierOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,s.BaseOptions.serializeBinaryToWriter),null!=(r=e.getClassifierOptions())&&t.writeMessage(2,r,a.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new t.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[478825465]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,s.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getClassifierOptions=function(){return t.Message.getWrapperField(this,a.ClassifierOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setClassifierOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasClassifierOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new t.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[478825465]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_classifier_graph_options_pb);var gesture_recognizer_graph_options_pb={},hand_gesture_recognizer_graph_options_pb={},gesture_embedder_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&a.BaseOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r)}else t.skipField();return e},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,a.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new t.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[478825422]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new t.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[478825422]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_embedder_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a);var s=gesture_classifier_graph_options_pb;r.object.extend(proto,s);var l=gesture_embedder_graph_options_pb;r.object.extend(proto,l),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&a.BaseOptions.toObject(e,r),gestureEmbedderGraphOptions:(r=t.getGestureEmbedderGraphOptions())&&l.GestureEmbedderGraphOptions.toObject(e,r),cannedGestureClassifierGraphOptions:(r=t.getCannedGestureClassifierGraphOptions())&&s.GestureClassifierGraphOptions.toObject(e,r),customGestureClassifierGraphOptions:(r=t.getCustomGestureClassifierGraphOptions())&&s.GestureClassifierGraphOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new l.GestureEmbedderGraphOptions,t.readMessage(r,l.GestureEmbedderGraphOptions.deserializeBinaryFromReader),e.setGestureEmbedderGraphOptions(r);break;case 3:r=new s.GestureClassifierGraphOptions,t.readMessage(r,s.GestureClassifierGraphOptions.deserializeBinaryFromReader),e.setCannedGestureClassifierGraphOptions(r);break;case 4:r=new s.GestureClassifierGraphOptions,t.readMessage(r,s.GestureClassifierGraphOptions.deserializeBinaryFromReader),e.setCustomGestureClassifierGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,a.BaseOptions.serializeBinaryToWriter),null!=(r=e.getGestureEmbedderGraphOptions())&&t.writeMessage(2,r,l.GestureEmbedderGraphOptions.serializeBinaryToWriter),null!=(r=e.getCannedGestureClassifierGraphOptions())&&t.writeMessage(3,r,s.GestureClassifierGraphOptions.serializeBinaryToWriter),null!=(r=e.getCustomGestureClassifierGraphOptions())&&t.writeMessage(4,r,s.GestureClassifierGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new t.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[463370452]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getGestureEmbedderGraphOptions=function(){return t.Message.getWrapperField(this,l.GestureEmbedderGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setGestureEmbedderGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearGestureEmbedderGraphOptions=function(){return this.setGestureEmbedderGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasGestureEmbedderGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCannedGestureClassifierGraphOptions=function(){return t.Message.getWrapperField(this,s.GestureClassifierGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCannedGestureClassifierGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCannedGestureClassifierGraphOptions=function(){return this.setCannedGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCannedGestureClassifierGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCustomGestureClassifierGraphOptions=function(){return t.Message.getWrapperField(this,s.GestureClassifierGraphOptions,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCustomGestureClassifierGraphOptions=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCustomGestureClassifierGraphOptions=function(){return this.setCustomGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCustomGestureClassifierGraphOptions=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new t.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[463370452]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(hand_gesture_recognizer_graph_options_pb);var hand_landmarker_graph_options_pb={},hand_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5),numHands:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;case 3:r=t.readInt32(),e.setNumHands(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new t.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[464864288]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getNumHands=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setNumHands=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearNumHands=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasNumHands=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new t.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[464864288]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.hand_detector.proto)}(hand_detector_graph_options_pb);var hand_landmarks_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[474472470]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[474472470]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarks_detector_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a);var s=hand_detector_graph_options_pb;r.object.extend(proto,s);var l=hand_landmarks_detector_graph_options_pb;r.object.extend(proto,l),r.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),handDetectorGraphOptions:(n=r.getHandDetectorGraphOptions())&&s.HandDetectorGraphOptions.toObject(e,n),handLandmarksDetectorGraphOptions:(n=r.getHandLandmarksDetectorGraphOptions())&&l.HandLandmarksDetectorGraphOptions.toObject(e,n),minTrackingConfidence:t.Message.getFloatingPointFieldWithDefault(r,4,.5)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new s.HandDetectorGraphOptions,t.readMessage(r,s.HandDetectorGraphOptions.deserializeBinaryFromReader),e.setHandDetectorGraphOptions(r);break;case 3:r=new l.HandLandmarksDetectorGraphOptions,t.readMessage(r,l.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader),e.setHandLandmarksDetectorGraphOptions(r);break;case 4:r=t.readFloat(),e.setMinTrackingConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=e.getHandDetectorGraphOptions())&&r.writeMessage(2,n,s.HandDetectorGraphOptions.serializeBinaryToWriter),null!=(n=e.getHandLandmarksDetectorGraphOptions())&&r.writeMessage(3,n,l.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[462713202]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandDetectorGraphOptions=function(){return t.Message.getWrapperField(this,s.HandDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandDetectorGraphOptions=function(){return this.setHandDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandDetectorGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandLandmarksDetectorGraphOptions=function(){return t.Message.getWrapperField(this,l.HandLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandLandmarksDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandLandmarksDetectorGraphOptions=function(){return this.setHandLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandLandmarksDetectorGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[462713202]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarker_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a);var s=hand_gesture_recognizer_graph_options_pb;r.object.extend(proto,s);var l=hand_landmarker_graph_options_pb;r.object.extend(proto,l),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&a.BaseOptions.toObject(e,r),handLandmarkerGraphOptions:(r=t.getHandLandmarkerGraphOptions())&&l.HandLandmarkerGraphOptions.toObject(e,r),handGestureRecognizerGraphOptions:(r=t.getHandGestureRecognizerGraphOptions())&&s.HandGestureRecognizerGraphOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new l.HandLandmarkerGraphOptions,t.readMessage(r,l.HandLandmarkerGraphOptions.deserializeBinaryFromReader),e.setHandLandmarkerGraphOptions(r);break;case 3:r=new s.HandGestureRecognizerGraphOptions,t.readMessage(r,s.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader),e.setHandGestureRecognizerGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,a.BaseOptions.serializeBinaryToWriter),null!=(r=e.getHandLandmarkerGraphOptions())&&t.writeMessage(2,r,l.HandLandmarkerGraphOptions.serializeBinaryToWriter),null!=(r=e.getHandGestureRecognizerGraphOptions())&&t.writeMessage(3,r,s.HandGestureRecognizerGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new t.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[479097054]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandLandmarkerGraphOptions=function(){return t.Message.getWrapperField(this,l.HandLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandLandmarkerGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandLandmarkerGraphOptions=function(){return this.setHandLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandLandmarkerGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandGestureRecognizerGraphOptions=function(){return t.Message.getWrapperField(this,s.HandGestureRecognizerGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandGestureRecognizerGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandGestureRecognizerGraphOptions=function(){return this.setHandGestureRecognizerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandGestureRecognizerGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new t.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[479097054]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_recognizer_graph_options_pb);var classifier_options={};Object.defineProperty(classifier_options,"__esModule",{value:!0}),classifier_options.convertClassifierOptionsToProto=void 0;const classifier_options_pb_1=classifier_options_pb;function convertClassifierOptionsToProto(e,t){const r=t?t.clone():new classifier_options_pb_1.ClassifierOptions;return void 0!==e.displayNamesLocale?r.setDisplayNamesLocale(e.displayNamesLocale):void 0===e.displayNamesLocale&&r.clearDisplayNamesLocale(),void 0!==e.maxResults?r.setMaxResults(e.maxResults):"maxResults"in e&&r.clearMaxResults(),void 0!==e.scoreThreshold?r.setScoreThreshold(e.scoreThreshold):"scoreThreshold"in e&&r.clearScoreThreshold(),void 0!==e.categoryAllowlist?r.setCategoryAllowlistList(e.categoryAllowlist):"categoryAllowlist"in e&&r.clearCategoryAllowlistList(),void 0!==e.categoryDenylist?r.setCategoryDenylistList(e.categoryDenylist):"categoryDenylist"in e&&r.clearCategoryDenylistList(),r}classifier_options.convertClassifierOptionsToProto=convertClassifierOptionsToProto;var hand_landmarks_connections={};Object.defineProperty(hand_landmarks_connections,"__esModule",{value:!0}),hand_landmarks_connections.HAND_CONNECTIONS=void 0,hand_landmarks_connections.HAND_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:4},{start:0,end:5},{start:5,end:6},{start:6,end:7},{start:7,end:8},{start:5,end:9},{start:9,end:10},{start:10,end:11},{start:11,end:12},{start:9,end:13},{start:13,end:14},{start:14,end:15},{start:15,end:16},{start:13,end:17},{start:0,end:17},{start:17,end:18},{start:18,end:19},{start:19,end:20}];var gesture_recognizer_options={};Object.defineProperty(gesture_recognizer_options,"__esModule",{value:!0});var gesture_recognizer_result={};Object.defineProperty(gesture_recognizer_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.GestureRecognizer=void 0;const n=calculator_pb,i=calculator_options_pb,o=classification_pb,a=landmark_pb,s=base_options_pb,l=gesture_classifier_graph_options_pb,c=gesture_recognizer_graph_options_pb,p=hand_gesture_recognizer_graph_options_pb,u=hand_detector_graph_options_pb,d=hand_landmarker_graph_options_pb,h=hand_landmarks_detector_graph_options_pb,f=classifier_options,m=vision_task_runner,g=hand_landmarks_connections;r(gesture_recognizer_options,e),r(gesture_recognizer_result,e);const y="image_in",v="norm_rect",b="hand_gestures",S="hand_landmarks",T="world_hand_landmarks",w="handedness",E=.5;class x extends m.VisionTaskRunner{static createFromOptions(e,t){return m.VisionTaskRunner.createVisionInstance(x,e,t)}static createFromModelBuffer(e,t){return m.VisionTaskRunner.createVisionInstance(x,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return m.VisionTaskRunner.createVisionInstance(x,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new m.VisionGraphRunner(e,t),y,v,!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new c.GestureRecognizerGraphOptions,this.options.setBaseOptions(new s.BaseOptions),this.handLandmarkerGraphOptions=new d.HandLandmarkerGraphOptions,this.options.setHandLandmarkerGraphOptions(this.handLandmarkerGraphOptions),this.handLandmarksDetectorGraphOptions=new h.HandLandmarksDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new u.HandDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.handGestureRecognizerGraphOptions=new p.HandGestureRecognizerGraphOptions,this.options.setHandGestureRecognizerGraphOptions(this.handGestureRecognizerGraphOptions),this.handDetectorGraphOptions.setMinDetectionConfidence(E),this.handLandmarkerGraphOptions.setMinTrackingConfidence(E),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(E)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r,n,i,o,a,s,c;if(this.handDetectorGraphOptions.setNumHands(null!==(t=e.numHands)&&void 0!==t?t:1),"minHandDetectionConfidence"in e&&this.handDetectorGraphOptions.setMinDetectionConfidence(null!==(r=e.minHandDetectionConfidence)&&void 0!==r?r:E),"minTrackingConfidence"in e&&this.handLandmarkerGraphOptions.setMinTrackingConfidence(null!==(n=e.minTrackingConfidence)&&void 0!==n?n:E),"minHandPresenceConfidence"in e&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(null!==(i=e.minHandPresenceConfidence)&&void 0!==i?i:E),e.cannedGesturesClassifierOptions){const t=new l.GestureClassifierGraphOptions;t.setClassifierOptions((0,f.convertClassifierOptionsToProto)(e.cannedGesturesClassifierOptions,null===(o=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())||void 0===o?void 0:o.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCannedGestureClassifierGraphOptions(t)}else void 0===e.cannedGesturesClassifierOptions&&(null===(a=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())||void 0===a||a.clearClassifierOptions());if(e.customGesturesClassifierOptions){const t=new l.GestureClassifierGraphOptions;t.setClassifierOptions((0,f.convertClassifierOptionsToProto)(e.customGesturesClassifierOptions,null===(s=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())||void 0===s?void 0:s.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCustomGestureClassifierGraphOptions(t)}else void 0===e.customGesturesClassifierOptions&&(null===(c=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())||void 0===c||c.clearClassifierOptions());return this.applyOptions(e)}recognize(e,t){return this.resetResults(),this.processImageData(e,t),this.processResults()}recognizeForVideo(e,t,r){return this.resetResults(),this.processVideoData(e,r,t),this.processResults()}resetResults(){this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return 0===this.gestures.length?{gestures:[],landmarks:[],worldLandmarks:[],handednesses:[]}:{gestures:this.gestures,landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}toJsCategories(e,t=!0){var r,n,i;const a=[];for(const s of e){const e=o.ClassificationList.deserializeBinary(s),l=[];for(const o of e.getClassificationList()){const e=t&&o.hasIndex()?o.getIndex():-1;l.push({score:null!==(r=o.getScore())&&void 0!==r?r:0,index:e,categoryName:null!==(n=o.getLabel())&&void 0!==n?n:"",displayName:null!==(i=o.getDisplayName())&&void 0!==i?i:""})}a.push(l)}return a}addJsLandmarks(e){var t,r,n;for(const i of e){const e=a.NormalizedLandmarkList.deserializeBinary(i),o=[];for(const i of e.getLandmarkList())o.push({x:null!==(t=i.getX())&&void 0!==t?t:0,y:null!==(r=i.getY())&&void 0!==r?r:0,z:null!==(n=i.getZ())&&void 0!==n?n:0});this.landmarks.push(o)}}adddJsWorldLandmarks(e){var t,r,n;for(const i of e){const e=a.LandmarkList.deserializeBinary(i),o=[];for(const i of e.getLandmarkList())o.push({x:null!==(t=i.getX())&&void 0!==t?t:0,y:null!==(r=i.getY())&&void 0!==r?r:0,z:null!==(n=i.getZ())&&void 0!==n?n:0});this.worldLandmarks.push(o)}}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(y),e.addInputStream(v),e.addOutputStream(b),e.addOutputStream(S),e.addOutputStream(T),e.addOutputStream(w);const t=new i.CalculatorOptions;t.setExtension(c.GestureRecognizerGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),r.addInputStream("IMAGE:"+y),r.addInputStream("NORM_RECT:"+v),r.addOutputStream("HAND_GESTURES:"+b),r.addOutputStream("LANDMARKS:"+S),r.addOutputStream("WORLD_LANDMARKS:"+T),r.addOutputStream("HANDEDNESS:"+w),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(S,((e,t)=>{this.addJsLandmarks(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(S,(e=>{this.setLatestOutputTimestamp(e)})),this.graphRunner.attachProtoVectorListener(T,((e,t)=>{this.adddJsWorldLandmarks(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(T,(e=>{this.setLatestOutputTimestamp(e)})),this.graphRunner.attachProtoVectorListener(b,((e,t)=>{this.gestures.push(...this.toJsCategories(e,!1)),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(b,(e=>{this.setLatestOutputTimestamp(e)})),this.graphRunner.attachProtoVectorListener(w,((e,t)=>{this.handednesses.push(...this.toJsCategories(e)),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(w,(e=>{this.setLatestOutputTimestamp(e)}));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.GestureRecognizer=x,x.HAND_CONNECTIONS=g.HAND_CONNECTIONS}(gesture_recognizer);var hand_landmarker={},hand_landmarker_options={};Object.defineProperty(hand_landmarker_options,"__esModule",{value:!0});var hand_landmarker_result={};Object.defineProperty(hand_landmarker_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.HandLandmarker=void 0;const n=calculator_pb,i=calculator_options_pb,o=classification_pb,a=landmark_pb,s=base_options_pb,l=hand_detector_graph_options_pb,c=hand_landmarker_graph_options_pb,p=hand_landmarks_detector_graph_options_pb,u=landmark_result,d=vision_task_runner,h=hand_landmarks_connections;r(hand_landmarker_options,e),r(hand_landmarker_result,e);const f="image_in",m="norm_rect",g="hand_landmarks",y="world_hand_landmarks",v="handedness",b=.5;class S extends d.VisionTaskRunner{static createFromOptions(e,t){return d.VisionTaskRunner.createVisionInstance(S,e,t)}static createFromModelBuffer(e,t){return d.VisionTaskRunner.createVisionInstance(S,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return d.VisionTaskRunner.createVisionInstance(S,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new d.VisionGraphRunner(e,t),f,m,!1),this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new c.HandLandmarkerGraphOptions,this.options.setBaseOptions(new s.BaseOptions),this.handLandmarksDetectorGraphOptions=new p.HandLandmarksDetectorGraphOptions,this.options.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new l.HandDetectorGraphOptions,this.options.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r,n,i;return"numHands"in e&&this.handDetectorGraphOptions.setNumHands(null!==(t=e.numHands)&&void 0!==t?t:1),"minHandDetectionConfidence"in e&&this.handDetectorGraphOptions.setMinDetectionConfidence(null!==(r=e.minHandDetectionConfidence)&&void 0!==r?r:b),"minTrackingConfidence"in e&&this.options.setMinTrackingConfidence(null!==(n=e.minTrackingConfidence)&&void 0!==n?n:b),"minHandPresenceConfidence"in e&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(null!==(i=e.minHandPresenceConfidence)&&void 0!==i?i:b),this.applyOptions(e)}detect(e,t){return this.resetResults(),this.processImageData(e,t),this.processResults()}detectForVideo(e,t,r){return this.resetResults(),this.processVideoData(e,r,t),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return{landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}initDefaults(){this.handDetectorGraphOptions.setNumHands(1),this.handDetectorGraphOptions.setMinDetectionConfidence(b),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(b),this.options.setMinTrackingConfidence(b)}toJsCategories(e){var t,r,n,i;const a=[];for(const s of e){const e=o.ClassificationList.deserializeBinary(s),l=[];for(const o of e.getClassificationList())l.push({score:null!==(t=o.getScore())&&void 0!==t?t:0,index:null!==(r=o.getIndex())&&void 0!==r?r:-1,categoryName:null!==(n=o.getLabel())&&void 0!==n?n:"",displayName:null!==(i=o.getDisplayName())&&void 0!==i?i:""});a.push(l)}return a}addJsLandmarks(e){for(const t of e){const e=a.NormalizedLandmarkList.deserializeBinary(t);this.landmarks.push((0,u.convertToLandmarks)(e))}}adddJsWorldLandmarks(e){for(const t of e){const e=a.LandmarkList.deserializeBinary(t);this.worldLandmarks.push((0,u.convertToWorldLandmarks)(e))}}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(f),e.addInputStream(m),e.addOutputStream(g),e.addOutputStream(y),e.addOutputStream(v);const t=new i.CalculatorOptions;t.setExtension(c.HandLandmarkerGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),r.addInputStream("IMAGE:"+f),r.addInputStream("NORM_RECT:"+m),r.addOutputStream("LANDMARKS:"+g),r.addOutputStream("WORLD_LANDMARKS:"+y),r.addOutputStream("HANDEDNESS:"+v),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(g,((e,t)=>{this.addJsLandmarks(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(g,(e=>{this.setLatestOutputTimestamp(e)})),this.graphRunner.attachProtoVectorListener(y,((e,t)=>{this.adddJsWorldLandmarks(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(y,(e=>{this.setLatestOutputTimestamp(e)})),this.graphRunner.attachProtoVectorListener(v,((e,t)=>{this.handednesses.push(...this.toJsCategories(e)),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(v,(e=>{this.setLatestOutputTimestamp(e)}));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.HandLandmarker=S,S.HAND_CONNECTIONS=h.HAND_CONNECTIONS}(hand_landmarker);var image_classifier={},classifications_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=classification_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.ClassificationResult",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Classifications",null,n),proto.mediapipe.tasks.components.containers.proto.Classifications=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.Classifications,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Classifications.displayName="proto.mediapipe.tasks.components.containers.proto.Classifications"),proto.mediapipe.tasks.components.containers.proto.ClassificationResult=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.ClassificationResult,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.displayName="proto.mediapipe.tasks.components.containers.proto.ClassificationResult"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.Classifications.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.Classifications.toObject=function(e,r){var n,o={classificationList:(n=r.getClassificationList())&&i.ClassificationList.toObject(e,n),headIndex:null==(n=t.Message.getField(r,2))?void 0:n,headName:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.Classifications;return proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 4:var r=new i.ClassificationList;t.readMessage(r,i.ClassificationList.deserializeBinaryFromReader),e.setClassificationList(r);break;case 2:r=t.readInt32(),e.setHeadIndex(r);break;case 3:r=t.readString(),e.setHeadName(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getClassificationList())&&r.writeMessage(4,n,i.ClassificationList.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeString(3,n)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getClassificationList=function(){return t.Message.getWrapperField(this,i.ClassificationList,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setClassificationList=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearClassificationList=function(){return this.setClassificationList(void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasClassificationList=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadIndex=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadIndex=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadIndex=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadIndex=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadName=function(){return t.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadName=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadName=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadName=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject=function(e,r){var n,i={classificationsList:t.Message.toObjectList(r.getClassificationsList(),proto.mediapipe.tasks.components.containers.proto.Classifications.toObject,e),timestampMs:null==(n=t.Message.getField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.ClassificationResult;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.tasks.components.containers.proto.Classifications;t.readMessage(r,proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader),e.addClassifications(r);break;case 2:r=t.readInt64(),e.setTimestampMs(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getClassificationsList()).length>0&&r.writeRepeatedMessage(1,n,proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeInt64(2,n)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getClassificationsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Classifications,1)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setClassificationsList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.addClassifications=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.tasks.components.containers.proto.Classifications,r)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearClassificationsList=function(){return this.setClassificationsList([])},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getTimestampMs=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setTimestampMs=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearTimestampMs=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.hasTimestampMs=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.components.containers.proto)}(classifications_pb);var image_classifier_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=classifier_options_pb;r.object.extend(proto,a);var s=base_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions",null,n),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&s.BaseOptions.toObject(e,r),classifierOptions:(r=t.getClassifierOptions())&&a.ClassifierOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new s.BaseOptions;t.readMessage(r,s.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new a.ClassifierOptions,t.readMessage(r,a.ClassifierOptions.deserializeBinaryFromReader),e.setClassifierOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,s.BaseOptions.serializeBinaryToWriter),null!=(r=e.getClassifierOptions())&&t.writeMessage(2,r,a.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new t.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[456383383]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,s.BaseOptions,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getClassifierOptions=function(){return t.Message.getWrapperField(this,a.ClassifierOptions,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setClassifierOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasClassifierOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new t.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[456383383]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.image_classifier.proto)}(image_classifier_graph_options_pb);var image_classifier_options={};Object.defineProperty(image_classifier_options,"__esModule",{value:!0});var image_classifier_result={};Object.defineProperty(image_classifier_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageClassifier=void 0;const n=calculator_pb,i=calculator_options_pb,o=classifications_pb,a=base_options_pb,s=image_classifier_graph_options_pb,l=classifier_options,c=classifier_result,p=vision_task_runner,u="input_image",d="norm_rect",h="classifications";r(image_classifier_options,e),r(image_classifier_result,e);class f extends p.VisionTaskRunner{static createFromOptions(e,t){return p.VisionTaskRunner.createVisionInstance(f,e,t)}static createFromModelBuffer(e,t){return p.VisionTaskRunner.createVisionInstance(f,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return p.VisionTaskRunner.createVisionInstance(f,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new p.VisionGraphRunner(e,t),u,d,!0),this.classificationResult={classifications:[]},this.options=new s.ImageClassifierGraphOptions,this.options.setBaseOptions(new a.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){return this.options.setClassifierOptions((0,l.convertClassifierOptionsToProto)(e,this.options.getClassifierOptions())),this.applyOptions(e)}classify(e,t){return this.classificationResult={classifications:[]},this.processImageData(e,t),this.classificationResult}classifyForVideo(e,t,r){return this.classificationResult={classifications:[]},this.processVideoData(e,r,t),this.classificationResult}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(u),e.addInputStream(d),e.addOutputStream(h);const t=new i.CalculatorOptions;t.setExtension(s.ImageClassifierGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),r.addInputStream("IMAGE:"+u),r.addInputStream("NORM_RECT:"+d),r.addOutputStream("CLASSIFICATIONS:"+h),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoListener(h,((e,t)=>{this.classificationResult=(0,c.convertFromClassificationResultProto)(o.ClassificationResult.deserializeBinary(e)),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(h,(e=>{this.setLatestOutputTimestamp(e)}));const a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.ImageClassifier=f}(image_classifier);var image_embedder={},embeddings_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.EmbeddingResult",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.FloatEmbedding",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding",null,n),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.FloatEmbedding"),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding"),proto.mediapipe.tasks.components.containers.proto.Embedding=function(e){t.Message.initialize(this,e,0,-1,null,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_)},r.inherits(proto.mediapipe.tasks.components.containers.proto.Embedding,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Embedding.displayName="proto.mediapipe.tasks.components.containers.proto.Embedding"),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.displayName="proto.mediapipe.tasks.components.containers.proto.EmbeddingResult"),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject=function(e,r){var n,i={valuesList:null==(n=t.Message.getRepeatedFloatingPointField(r,1))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber())for(var r=t.isDelimited()?t.readPackedFloat():[t.readFloat()],n=0;n<r.length;n++)e.addValues(r[n]);else t.skipField();return e},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter=function(e,t){var r;(r=e.getValuesList()).length>0&&t.writePackedFloat(1,r)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.getValuesList=function(){return t.Message.getRepeatedFloatingPointField(this,1)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.setValuesList=function(e){return t.Message.setField(this,1,e||[])},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.addValues=function(e,r){return t.Message.addToRepeatedField(this,1,e,r)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.clearValuesList=function(){return this.setValuesList([])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject=function(e,t){var r={values:t.getValues_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setValues(r)}else t.skipField();return e},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter=function(e,r){var n;null!=(n=t.Message.getField(e,1))&&r.writeBytes(1,n)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asB64=function(){return t.Message.bytesAsB64(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asU8=function(){return t.Message.bytesAsU8(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.setValues=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.clearValues=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.hasValues=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_=[[1,2]],proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase={EMBEDDING_NOT_SET:0,FLOAT_EMBEDDING:1,QUANTIZED_EMBEDDING:2},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getEmbeddingCase=function(){return t.Message.computeOneofCase(this,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.Embedding.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.Embedding.toObject=function(e,r){var n,i={floatEmbedding:(n=r.getFloatEmbedding())&&proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(e,n),quantizedEmbedding:(n=r.getQuantizedEmbedding())&&proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(e,n),headIndex:null==(n=t.Message.getField(r,3))?void 0:n,headName:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.Embedding;return proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;t.readMessage(r,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader),e.setFloatEmbedding(r);break;case 2:r=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,t.readMessage(r,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader),e.setQuantizedEmbedding(r);break;case 3:r=t.readInt32(),e.setHeadIndex(r);break;case 4:r=t.readString(),e.setHeadName(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getFloatEmbedding())&&r.writeMessage(1,n,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter),null!=(n=e.getQuantizedEmbedding())&&r.writeMessage(2,n,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeString(4,n)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getFloatEmbedding=function(){return t.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setFloatEmbedding=function(e){return t.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],e)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearFloatEmbedding=function(){return this.setFloatEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasFloatEmbedding=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getQuantizedEmbedding=function(){return t.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setQuantizedEmbedding=function(e){return t.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],e)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearQuantizedEmbedding=function(){return this.setQuantizedEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasQuantizedEmbedding=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadIndex=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadIndex=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadIndex=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadIndex=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadName=function(){return t.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadName=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadName=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadName=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject=function(e,r){var n,i={embeddingsList:t.Message.toObjectList(r.getEmbeddingsList(),proto.mediapipe.tasks.components.containers.proto.Embedding.toObject,e),timestampMs:null==(n=t.Message.getField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.EmbeddingResult;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.tasks.components.containers.proto.Embedding;t.readMessage(r,proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader),e.addEmbeddings(r);break;case 2:r=t.readInt64(),e.setTimestampMs(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getEmbeddingsList()).length>0&&r.writeRepeatedMessage(1,n,proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeInt64(2,n)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getEmbeddingsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Embedding,1)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setEmbeddingsList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.addEmbeddings=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.tasks.components.containers.proto.Embedding,r)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearEmbeddingsList=function(){return this.setEmbeddingsList([])},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getTimestampMs=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setTimestampMs=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearTimestampMs=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.hasTimestampMs=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.components.containers.proto)}(embeddings_pb);var image_embedder_graph_options_pb={},embedder_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.processors.proto.EmbedderOptions",null,n),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.displayName="proto.mediapipe.tasks.components.processors.proto.EmbedderOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject(e,this)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject=function(e,r){var n,i={l2Normalize:null==(n=t.Message.getBooleanField(r,1))?void 0:n,quantize:null==(n=t.Message.getBooleanField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.processors.proto.EmbedderOptions;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setL2Normalize(r);break;case 2:r=t.readBool(),e.setQuantize(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeBool(1,n),null!=(n=t.Message.getField(e,2))&&r.writeBool(2,n)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getL2Normalize=function(){return t.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setL2Normalize=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearL2Normalize=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasL2Normalize=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getQuantize=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setQuantize=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearQuantize=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasQuantize=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.components.processors.proto)}(embedder_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=embedder_options_pb;r.object.extend(proto,a);var s=base_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions",null,n),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&s.BaseOptions.toObject(e,r),embedderOptions:(r=t.getEmbedderOptions())&&a.EmbedderOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new s.BaseOptions;t.readMessage(r,s.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new a.EmbedderOptions,t.readMessage(r,a.EmbedderOptions.deserializeBinaryFromReader),e.setEmbedderOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,s.BaseOptions.serializeBinaryToWriter),null!=(r=e.getEmbedderOptions())&&t.writeMessage(2,r,a.EmbedderOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new t.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[476348187]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,s.BaseOptions,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getEmbedderOptions=function(){return t.Message.getWrapperField(this,a.EmbedderOptions,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setEmbedderOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearEmbedderOptions=function(){return this.setEmbedderOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasEmbedderOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new t.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[476348187]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.image_embedder.proto)}(image_embedder_graph_options_pb);var embedder_options={};Object.defineProperty(embedder_options,"__esModule",{value:!0}),embedder_options.convertEmbedderOptionsToProto=void 0;const embedder_options_pb_1=embedder_options_pb;function convertEmbedderOptionsToProto(e,t){const r=t?t.clone():new embedder_options_pb_1.EmbedderOptions;return void 0!==e.l2Normalize?r.setL2Normalize(e.l2Normalize):"l2Normalize"in e&&r.clearL2Normalize(),void 0!==e.quantize?r.setQuantize(e.quantize):"quantize"in e&&r.clearQuantize(),r}embedder_options.convertEmbedderOptionsToProto=convertEmbedderOptionsToProto;var embedder_result={};Object.defineProperty(embedder_result,"__esModule",{value:!0}),embedder_result.convertFromEmbeddingResultProto=void 0;const DEFAULT_INDEX=-1;function convertFromEmbeddingsProto(e){var t,r,n,i;const o={headIndex:null!==(t=e.getHeadIndex())&&void 0!==t?t:DEFAULT_INDEX,headName:null!==(r=e.getHeadName())&&void 0!==r?r:""};if(e.hasFloatEmbedding())o.floatEmbedding=e.getFloatEmbedding().getValuesList();else{const t=null!==(i=null===(n=e.getQuantizedEmbedding())||void 0===n?void 0:n.getValues())&&void 0!==i?i:"";o.quantizedEmbedding="string"==typeof t?Uint8Array.from(atob(t),(e=>e.charCodeAt(0))):t}return o}function convertFromEmbeddingResultProto(e){return{embeddings:e.getEmbeddingsList().map((e=>convertFromEmbeddingsProto(e))),timestampMs:e.getTimestampMs()}}embedder_result.convertFromEmbeddingResultProto=convertFromEmbeddingResultProto;var cosine_similarity={};function computeCosineSimilarity(e,t){if(e.floatEmbedding&&t.floatEmbedding)return compute(e.floatEmbedding,t.floatEmbedding);if(e.quantizedEmbedding&&t.quantizedEmbedding)return compute(convertToBytes(e.quantizedEmbedding),convertToBytes(t.quantizedEmbedding));throw new Error("Cannot compute cosine similarity between quantized and float embeddings.")}function convertToBytes(e){return Array.from(e,(e=>e>127?e-256:e))}function compute(e,t){if(e.length!==t.length)throw new Error(`Cannot compute cosine similarity between embeddings of different sizes (${e.length} vs. ${t.length}).`);let r=0,n=0,i=0;for(let o=0;o<e.length;o++)r+=e[o]*t[o],n+=e[o]*e[o],i+=t[o]*t[o];if(n<=0||i<=0)throw new Error("Cannot compute cosine similarity on embedding with 0 norm.");return r/Math.sqrt(n*i)}Object.defineProperty(cosine_similarity,"__esModule",{value:!0}),cosine_similarity.computeCosineSimilarity=void 0,cosine_similarity.computeCosineSimilarity=computeCosineSimilarity;var image_embedder_options={};Object.defineProperty(image_embedder_options,"__esModule",{value:!0});var image_embedder_result={};Object.defineProperty(image_embedder_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageEmbedder=void 0;const n=calculator_pb,i=calculator_options_pb,o=embeddings_pb,a=base_options_pb,s=image_embedder_graph_options_pb,l=embedder_options,c=embedder_result,p=cosine_similarity,u=vision_task_runner,d="image_in",h="norm_rect",f="embeddings_out";r(image_embedder_options,e),r(image_embedder_result,e);class m extends u.VisionTaskRunner{static createFromOptions(e,t){return u.VisionTaskRunner.createVisionInstance(m,e,t)}static createFromModelBuffer(e,t){return u.VisionTaskRunner.createVisionInstance(m,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return u.VisionTaskRunner.createVisionInstance(m,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new u.VisionGraphRunner(e,t),d,h,!0),this.options=new s.ImageEmbedderGraphOptions,this.embeddings={embeddings:[]},this.options.setBaseOptions(new a.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){return this.options.setEmbedderOptions((0,l.convertEmbedderOptionsToProto)(e,this.options.getEmbedderOptions())),this.applyOptions(e)}embed(e,t){return this.processImageData(e,t),this.embeddings}embedForVideo(e,t,r){return this.processVideoData(e,r,t),this.embeddings}static cosineSimilarity(e,t){return(0,p.computeCosineSimilarity)(e,t)}addJsImageEmdedding(e){const t=o.EmbeddingResult.deserializeBinary(e);this.embeddings=(0,c.convertFromEmbeddingResultProto)(t)}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(d),e.addInputStream(h),e.addOutputStream(f);const t=new i.CalculatorOptions;t.setExtension(s.ImageEmbedderGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),r.addInputStream("IMAGE:"+d),r.addInputStream("NORM_RECT:"+h),r.addOutputStream("EMBEDDINGS:"+f),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoListener(f,((e,t)=>{this.addJsImageEmdedding(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(f,(e=>{this.setLatestOutputTimestamp(e)}));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.ImageEmbedder=m}(image_embedder);var image_segmenter={},tensors_to_segmentation_calculator_pb={},segmenter_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType",null,n),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject(e,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject=function(e,r){var n,i={outputType:null==(n=t.Message.getField(r,1))?void 0:n,activation:t.Message.getFieldWithDefault(r,2,0)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setOutputType(r);break;case 2:r=t.readEnum(),e.setActivation(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeEnum(1,n),null!=(n=t.Message.getField(e,2))&&r.writeEnum(2,n)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType={UNSPECIFIED:0,CATEGORY_MASK:1,CONFIDENCE_MASK:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation={NONE:0,SIGMOID:1,SOFTMAX:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getOutputType=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setOutputType=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearOutputType=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasOutputType=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getActivation=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setActivation=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearActivation=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasActivation=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.vision.image_segmenter.proto)}(segmenter_options_pb);var label_map_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.LabelMapItem",null,n),proto.mediapipe.LabelMapItem=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.LabelMapItem.repeatedFields_,null)},r.inherits(proto.mediapipe.LabelMapItem,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LabelMapItem.displayName="proto.mediapipe.LabelMapItem"),proto.mediapipe.LabelMapItem.repeatedFields_=[3],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LabelMapItem.prototype.toObject=function(e){return proto.mediapipe.LabelMapItem.toObject(e,this)},proto.mediapipe.LabelMapItem.toObject=function(e,r){var n,i={name:null==(n=t.Message.getField(r,1))?void 0:n,displayName:null==(n=t.Message.getField(r,2))?void 0:n,childNameList:null==(n=t.Message.getRepeatedField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LabelMapItem.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LabelMapItem;return proto.mediapipe.LabelMapItem.deserializeBinaryFromReader(n,r)},proto.mediapipe.LabelMapItem.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.setDisplayName(r);break;case 3:r=t.readString(),e.addChildName(r);break;default:t.skipField()}return e},proto.mediapipe.LabelMapItem.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LabelMapItem.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LabelMapItem.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),(n=e.getChildNameList()).length>0&&r.writeRepeatedString(3,n)},proto.mediapipe.LabelMapItem.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.LabelMapItem.prototype.setName=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LabelMapItem.prototype.clearName=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LabelMapItem.prototype.hasName=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LabelMapItem.prototype.getDisplayName=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.LabelMapItem.prototype.setDisplayName=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LabelMapItem.prototype.clearDisplayName=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LabelMapItem.prototype.hasDisplayName=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LabelMapItem.prototype.getChildNameList=function(){return t.Message.getRepeatedField(this,3)},proto.mediapipe.LabelMapItem.prototype.setChildNameList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.LabelMapItem.prototype.addChildName=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.LabelMapItem.prototype.clearChildNameList=function(){return this.setChildNameList([])},r.object.extend(e,proto.mediapipe)}(label_map_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_options_pb;r.object.extend(proto,i);var o=segmenter_options_pb;r.object.extend(proto,o);var a=label_map_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions",null,n),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.displayName="proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject(e,this)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject=function(e,t){var r,n={segmenterOptions:(r=t.getSegmenterOptions())&&o.SegmenterOptions.toObject(e,r),labelItemsMap:(r=t.getLabelItemsMap())?r.toObject(e,proto.mediapipe.LabelMapItem.toObject):[]};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)switch(r.getFieldNumber()){case 1:var n=new o.SegmenterOptions;r.readMessage(n,o.SegmenterOptions.deserializeBinaryFromReader),e.setSegmenterOptions(n);break;case 2:n=e.getLabelItemsMap(),r.readMessage(n,(function(e,r){t.Map.deserializeBinary(e,r,t.BinaryReader.prototype.readInt64,t.BinaryReader.prototype.readMessage,proto.mediapipe.LabelMapItem.deserializeBinaryFromReader,0,new proto.mediapipe.LabelMapItem)}));break;default:r.skipField()}return e},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getSegmenterOptions())&&r.writeMessage(1,n,o.SegmenterOptions.serializeBinaryToWriter),(n=e.getLabelItemsMap(!0))&&n.getLength()>0&&n.serializeBinary(2,r,t.BinaryWriter.prototype.writeInt64,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.LabelMapItem.serializeBinaryToWriter)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new t.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[458105876]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getSegmenterOptions=function(){return t.Message.getWrapperField(this,o.SegmenterOptions,1)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.setSegmenterOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.hasSegmenterOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getLabelItemsMap=function(e){return t.Message.getMapField(this,2,e,proto.mediapipe.LabelMapItem)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearLabelItemsMap=function(){return this.getLabelItemsMap().clear(),this},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new t.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[458105876]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,r.object.extend(e,proto.mediapipe.tasks)}(tensors_to_segmentation_calculator_pb);var image_segmenter_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a);var s=segmenter_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions",null,n),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),displayNamesLocale:t.Message.getFieldWithDefault(r,2,"en"),segmenterOptions:(n=r.getSegmenterOptions())&&s.SegmenterOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readString(),e.setDisplayNamesLocale(r);break;case 3:r=new s.SegmenterOptions,t.readMessage(r,s.SegmenterOptions.deserializeBinaryFromReader),e.setSegmenterOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=e.getSegmenterOptions())&&r.writeMessage(3,n,s.SegmenterOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new t.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[458105758]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getDisplayNamesLocale=function(){return t.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setDisplayNamesLocale=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearDisplayNamesLocale=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasDisplayNamesLocale=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getSegmenterOptions=function(){return t.Message.getWrapperField(this,s.SegmenterOptions,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setSegmenterOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasSegmenterOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new t.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[458105758]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.image_segmenter.proto)}(image_segmenter_graph_options_pb);var image_segmenter_result={};Object.defineProperty(image_segmenter_result,"__esModule",{value:!0}),image_segmenter_result.ImageSegmenterResult=void 0;class ImageSegmenterResult{constructor(e,t,r){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=r}close(){var e,t;null===(e=this.confidenceMasks)||void 0===e||e.forEach((e=>{e.close()})),null===(t=this.categoryMask)||void 0===t||t.close()}}image_segmenter_result.ImageSegmenterResult=ImageSegmenterResult;var image_segmenter_options={};Object.defineProperty(image_segmenter_options,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageSegmenter=void 0;const n=calculator_pb,i=calculator_options_pb,o=base_options_pb,a=tensors_to_segmentation_calculator_pb,s=image_segmenter_graph_options_pb,l=segmenter_options_pb,c=vision_task_runner,p=image_segmenter_result;r(image_segmenter_options,e),r(image_segmenter_result,e);const u="image_in",d="norm_rect",h="confidence_masks",f="category_mask",m="quality_scores",g="mediapipe.tasks.TensorsToSegmentationCalculator";class y extends c.VisionTaskRunner{static createFromOptions(e,t){return c.VisionTaskRunner.createVisionInstance(y,e,t)}static createFromModelBuffer(e,t){return c.VisionTaskRunner.createVisionInstance(y,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return c.VisionTaskRunner.createVisionInstance(y,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new c.VisionGraphRunner(e,t),u,d,!1),this.labels=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new s.ImageSegmenterGraphOptions,this.segmenterOptions=new l.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new o.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r;return void 0!==e.displayNamesLocale?this.options.setDisplayNamesLocale(e.displayNamesLocale):"displayNamesLocale"in e&&this.options.clearDisplayNamesLocale(),"outputCategoryMask"in e&&(this.outputCategoryMask=null!==(t=e.outputCategoryMask)&&void 0!==t&&t),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=null===(r=e.outputConfidenceMasks)||void 0===r||r),super.applyOptions(e)}onGraphRefreshed(){this.populateLabels()}populateLabels(){var e,t,r;const n=this.getCalculatorGraphConfig().getNodeList().filter((e=>e.getName().includes(g)));if(this.labels=[],n.length>1)throw new Error(`The graph has more than one ${g}.`);1===n.length&&(null!==(r=null===(t=null===(e=n[0].getOptions())||void 0===e?void 0:e.getExtension(a.TensorsToSegmentationCalculatorOptions.ext))||void 0===t?void 0:t.getLabelItemsMap())&&void 0!==r?r:new Map).forEach(((e,t)=>{this.labels[Number(t)]=e.getName()}))}segment(e,t,r){const n="function"!=typeof t?t:{};return this.userCallback="function"==typeof t?t:r,this.reset(),this.processImageData(e,n),this.processResults()}segmentForVideo(e,t,r,n){const i="function"!=typeof r?r:{};return this.userCallback="function"==typeof r?r:n,this.reset(),this.processVideoData(e,i,t),this.processResults()}getLabels(){return this.labels}reset(){this.categoryMask=void 0,this.confidenceMasks=void 0,this.qualityScores=void 0}processResults(){try{const e=new p.ImageSegmenterResult(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.userCallback)return e;this.userCallback(e)}finally{this.freeKeepaliveStreams()}}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(u),e.addInputStream(d);const t=new i.CalculatorOptions;t.setExtension(s.ImageSegmenterGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),r.addInputStream("IMAGE:"+u),r.addInputStream("NORM_RECT:"+d),r.setOptions(t),e.addNode(r),this.addKeepaliveNode(e),this.outputConfidenceMasks&&(e.addOutputStream(h),r.addOutputStream("CONFIDENCE_MASKS:"+h),this.keepStreamAlive(h),this.graphRunner.attachImageVectorListener(h,((e,t)=>{this.confidenceMasks=e.map((e=>this.convertToMPMask(e,!this.userCallback))),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(h,(e=>{this.confidenceMasks=[],this.setLatestOutputTimestamp(e)}))),this.outputCategoryMask&&(e.addOutputStream(f),r.addOutputStream("CATEGORY_MASK:"+f),this.keepStreamAlive(f),this.graphRunner.attachImageListener(f,((e,t)=>{this.categoryMask=this.convertToMPMask(e,!this.userCallback),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(f,(e=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(e)}))),e.addOutputStream(m),r.addOutputStream("QUALITY_SCORES:"+m),this.graphRunner.attachFloatVectorListener(m,((e,t)=>{this.qualityScores=e,this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(m,(e=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(e)}));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.ImageSegmenter=y}(image_segmenter);var interactive_segmenter={},color_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Color",null,n),r.exportSymbol("proto.mediapipe.ColorMap",null,n),proto.mediapipe.Color=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Color,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Color.displayName="proto.mediapipe.Color"),proto.mediapipe.ColorMap=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.ColorMap,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ColorMap.displayName="proto.mediapipe.ColorMap"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Color.prototype.toObject=function(e){return proto.mediapipe.Color.toObject(e,this)},proto.mediapipe.Color.toObject=function(e,r){var n,i={r:null==(n=t.Message.getField(r,1))?void 0:n,g:null==(n=t.Message.getField(r,2))?void 0:n,b:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Color.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Color;return proto.mediapipe.Color.deserializeBinaryFromReader(n,r)},proto.mediapipe.Color.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setR(r);break;case 2:r=t.readInt32(),e.setG(r);break;case 3:r=t.readInt32(),e.setB(r);break;default:t.skipField()}return e},proto.mediapipe.Color.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Color.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Color.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.Color.prototype.getR=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Color.prototype.setR=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Color.prototype.clearR=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Color.prototype.hasR=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Color.prototype.getG=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Color.prototype.setG=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Color.prototype.clearG=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Color.prototype.hasG=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Color.prototype.getB=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Color.prototype.setB=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Color.prototype.clearB=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Color.prototype.hasB=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ColorMap.prototype.toObject=function(e){return proto.mediapipe.ColorMap.toObject(e,this)},proto.mediapipe.ColorMap.toObject=function(e,t){var r,n={labelToColorMap:(r=t.getLabelToColorMap())?r.toObject(e,proto.mediapipe.Color.toObject):[]};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.ColorMap.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ColorMap;return proto.mediapipe.ColorMap.deserializeBinaryFromReader(n,r)},proto.mediapipe.ColorMap.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber()){var n=e.getLabelToColorMap();r.readMessage(n,(function(e,r){t.Map.deserializeBinary(e,r,t.BinaryReader.prototype.readString,t.BinaryReader.prototype.readMessage,proto.mediapipe.Color.deserializeBinaryFromReader,"",new proto.mediapipe.Color)}))}else r.skipField();return e},proto.mediapipe.ColorMap.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ColorMap.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ColorMap.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getLabelToColorMap(!0))&&n.getLength()>0&&n.serializeBinary(1,r,t.BinaryWriter.prototype.writeString,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.Color.serializeBinaryToWriter)},proto.mediapipe.ColorMap.prototype.getLabelToColorMap=function(e){return t.Message.getMapField(this,1,e,proto.mediapipe.Color)},proto.mediapipe.ColorMap.prototype.clearLabelToColorMap=function(){return this.getLabelToColorMap().clear(),this},r.object.extend(e,proto.mediapipe)}(color_pb);var render_data_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=color_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.RenderAnnotation",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Arrow",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.DataCase",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledOval",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRoundedRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.GradientLine",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Line",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Line.LineType",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Oval",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Point",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Rectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.RoundedRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Scribble",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Text",null,n),r.exportSymbol("proto.mediapipe.RenderData",null,n),r.exportSymbol("proto.mediapipe.RenderViewport",null,n),proto.mediapipe.RenderData=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.RenderData.repeatedFields_,null)},r.inherits(proto.mediapipe.RenderData,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderData.displayName="proto.mediapipe.RenderData"),proto.mediapipe.RenderAnnotation=function(e){t.Message.initialize(this,e,0,-1,null,proto.mediapipe.RenderAnnotation.oneofGroups_)},r.inherits(proto.mediapipe.RenderAnnotation,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.displayName="proto.mediapipe.RenderAnnotation"),proto.mediapipe.RenderAnnotation.Rectangle=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Rectangle,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Rectangle.displayName="proto.mediapipe.RenderAnnotation.Rectangle"),proto.mediapipe.RenderAnnotation.FilledRectangle=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledRectangle,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRectangle"),proto.mediapipe.RenderAnnotation.RoundedRectangle=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.RoundedRectangle,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.RoundedRectangle"),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRoundedRectangle"),proto.mediapipe.RenderAnnotation.Oval=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Oval,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Oval.displayName="proto.mediapipe.RenderAnnotation.Oval"),proto.mediapipe.RenderAnnotation.FilledOval=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledOval,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledOval.displayName="proto.mediapipe.RenderAnnotation.FilledOval"),proto.mediapipe.RenderAnnotation.Point=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Point,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Point.displayName="proto.mediapipe.RenderAnnotation.Point"),proto.mediapipe.RenderAnnotation.Line=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Line,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Line.displayName="proto.mediapipe.RenderAnnotation.Line"),proto.mediapipe.RenderAnnotation.GradientLine=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.GradientLine,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.GradientLine.displayName="proto.mediapipe.RenderAnnotation.GradientLine"),proto.mediapipe.RenderAnnotation.Scribble=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_,null)},r.inherits(proto.mediapipe.RenderAnnotation.Scribble,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Scribble.displayName="proto.mediapipe.RenderAnnotation.Scribble"),proto.mediapipe.RenderAnnotation.Arrow=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Arrow,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Arrow.displayName="proto.mediapipe.RenderAnnotation.Arrow"),proto.mediapipe.RenderAnnotation.Text=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Text,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Text.displayName="proto.mediapipe.RenderAnnotation.Text"),proto.mediapipe.RenderViewport=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderViewport,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderViewport.displayName="proto.mediapipe.RenderViewport"),proto.mediapipe.RenderData.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderData.prototype.toObject=function(e){return proto.mediapipe.RenderData.toObject(e,this)},proto.mediapipe.RenderData.toObject=function(e,r){var n,i={renderAnnotationsList:t.Message.toObjectList(r.getRenderAnnotationsList(),proto.mediapipe.RenderAnnotation.toObject,e),sceneClass:null==(n=t.Message.getField(r,2))?void 0:n,sceneViewport:(n=r.getSceneViewport())&&proto.mediapipe.RenderViewport.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderData.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderData;return proto.mediapipe.RenderData.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation;t.readMessage(r,proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader),e.addRenderAnnotations(r);break;case 2:r=t.readString(),e.setSceneClass(r);break;case 3:r=new proto.mediapipe.RenderViewport,t.readMessage(r,proto.mediapipe.RenderViewport.deserializeBinaryFromReader),e.setSceneViewport(r);break;default:t.skipField()}return e},proto.mediapipe.RenderData.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderData.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getRenderAnnotationsList()).length>0&&r.writeRepeatedMessage(1,n,proto.mediapipe.RenderAnnotation.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=e.getSceneViewport())&&r.writeMessage(3,n,proto.mediapipe.RenderViewport.serializeBinaryToWriter)},proto.mediapipe.RenderData.prototype.getRenderAnnotationsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation,1)},proto.mediapipe.RenderData.prototype.setRenderAnnotationsList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.RenderData.prototype.addRenderAnnotations=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.RenderAnnotation,r)},proto.mediapipe.RenderData.prototype.clearRenderAnnotationsList=function(){return this.setRenderAnnotationsList([])},proto.mediapipe.RenderData.prototype.getSceneClass=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.RenderData.prototype.setSceneClass=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderData.prototype.clearSceneClass=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderData.prototype.hasSceneClass=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderData.prototype.getSceneViewport=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderViewport,3)},proto.mediapipe.RenderData.prototype.setSceneViewport=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.RenderData.prototype.clearSceneViewport=function(){return this.setSceneViewport(void 0)},proto.mediapipe.RenderData.prototype.hasSceneViewport=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,14,15]],proto.mediapipe.RenderAnnotation.DataCase={DATA_NOT_SET:0,RECTANGLE:1,FILLED_RECTANGLE:2,OVAL:3,FILLED_OVAL:4,POINT:5,LINE:6,ARROW:7,TEXT:8,ROUNDED_RECTANGLE:9,FILLED_ROUNDED_RECTANGLE:10,GRADIENT_LINE:14,SCRIBBLE:15},proto.mediapipe.RenderAnnotation.prototype.getDataCase=function(){return t.Message.computeOneofCase(this,proto.mediapipe.RenderAnnotation.oneofGroups_[0])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.toObject(e,this)},proto.mediapipe.RenderAnnotation.toObject=function(e,r){var n,o={rectangle:(n=r.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,n),filledRectangle:(n=r.getFilledRectangle())&&proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(e,n),oval:(n=r.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(e,n),filledOval:(n=r.getFilledOval())&&proto.mediapipe.RenderAnnotation.FilledOval.toObject(e,n),point:(n=r.getPoint())&&proto.mediapipe.RenderAnnotation.Point.toObject(e,n),line:(n=r.getLine())&&proto.mediapipe.RenderAnnotation.Line.toObject(e,n),arrow:(n=r.getArrow())&&proto.mediapipe.RenderAnnotation.Arrow.toObject(e,n),text:(n=r.getText())&&proto.mediapipe.RenderAnnotation.Text.toObject(e,n),roundedRectangle:(n=r.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(e,n),filledRoundedRectangle:(n=r.getFilledRoundedRectangle())&&proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(e,n),gradientLine:(n=r.getGradientLine())&&proto.mediapipe.RenderAnnotation.GradientLine.toObject(e,n),scribble:(n=r.getScribble())&&proto.mediapipe.RenderAnnotation.Scribble.toObject(e,n),thickness:t.Message.getFloatingPointFieldWithDefault(r,11,1),color:(n=r.getColor())&&i.Color.toObject(e,n),sceneTag:null==(n=t.Message.getField(r,13))?void 0:n};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.RenderAnnotation.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation;return proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.Rectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),e.setRectangle(r);break;case 2:r=new proto.mediapipe.RenderAnnotation.FilledRectangle,t.readMessage(r,proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader),e.setFilledRectangle(r);break;case 3:r=new proto.mediapipe.RenderAnnotation.Oval,t.readMessage(r,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),e.setOval(r);break;case 4:r=new proto.mediapipe.RenderAnnotation.FilledOval,t.readMessage(r,proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader),e.setFilledOval(r);break;case 5:r=new proto.mediapipe.RenderAnnotation.Point,t.readMessage(r,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),e.setPoint(r);break;case 6:r=new proto.mediapipe.RenderAnnotation.Line,t.readMessage(r,proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader),e.setLine(r);break;case 7:r=new proto.mediapipe.RenderAnnotation.Arrow,t.readMessage(r,proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader),e.setArrow(r);break;case 8:r=new proto.mediapipe.RenderAnnotation.Text,t.readMessage(r,proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader),e.setText(r);break;case 9:r=new proto.mediapipe.RenderAnnotation.RoundedRectangle,t.readMessage(r,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),e.setRoundedRectangle(r);break;case 10:r=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,t.readMessage(r,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader),e.setFilledRoundedRectangle(r);break;case 14:r=new proto.mediapipe.RenderAnnotation.GradientLine,t.readMessage(r,proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader),e.setGradientLine(r);break;case 15:r=new proto.mediapipe.RenderAnnotation.Scribble,t.readMessage(r,proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader),e.setScribble(r);break;case 11:r=t.readDouble(),e.setThickness(r);break;case 12:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setColor(r);break;case 13:r=t.readString(),e.setSceneTag(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getRectangle())&&r.writeMessage(1,n,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),null!=(n=e.getFilledRectangle())&&r.writeMessage(2,n,proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter),null!=(n=e.getOval())&&r.writeMessage(3,n,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),null!=(n=e.getFilledOval())&&r.writeMessage(4,n,proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter),null!=(n=e.getPoint())&&r.writeMessage(5,n,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter),null!=(n=e.getLine())&&r.writeMessage(6,n,proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter),null!=(n=e.getArrow())&&r.writeMessage(7,n,proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter),null!=(n=e.getText())&&r.writeMessage(8,n,proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter),null!=(n=e.getRoundedRectangle())&&r.writeMessage(9,n,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),null!=(n=e.getFilledRoundedRectangle())&&r.writeMessage(10,n,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter),null!=(n=e.getGradientLine())&&r.writeMessage(14,n,proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter),null!=(n=e.getScribble())&&r.writeMessage(15,n,proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter),null!=(n=t.Message.getField(e,11))&&r.writeDouble(11,n),null!=(n=e.getColor())&&r.writeMessage(12,n,i.Color.serializeBinaryToWriter),null!=(n=t.Message.getField(e,13))&&r.writeString(13,n)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Rectangle.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,this)},proto.mediapipe.RenderAnnotation.Rectangle.toObject=function(e,r){var n,i={left:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,top:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,right:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,bottom:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,5,!1),rotation:null==(n=t.Message.getOptionalFloatingPointField(r,6))?void 0:n,topLeftThickness:null==(n=t.Message.getOptionalFloatingPointField(r,7))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Rectangle;return proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setLeft(r);break;case 2:r=t.readDouble(),e.setTop(r);break;case 3:r=t.readDouble(),e.setRight(r);break;case 4:r=t.readDouble(),e.setBottom(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;case 6:r=t.readDouble(),e.setRotation(r);break;case 7:r=t.readDouble(),e.setTopLeftThickness(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Rectangle.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n),null!=(n=t.Message.getField(e,6))&&r.writeDouble(6,n),null!=(n=t.Message.getField(e,7))&&r.writeDouble(7,n)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getLeft=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setLeft=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearLeft=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasLeft=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTop=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTop=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTop=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTop=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRight=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRight=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRight=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRight=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getBottom=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setBottom=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearBottom=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasBottom=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRotation=function(){return t.Message.getFloatingPointFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRotation=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRotation=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRotation=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTopLeftThickness=function(){return t.Message.getFloatingPointFieldWithDefault(this,7,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTopLeftThickness=function(e){return t.Message.setField(this,7,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTopLeftThickness=function(){return t.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTopLeftThickness=function(){return null!=t.Message.getField(this,7)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(e,this)},proto.mediapipe.RenderAnnotation.FilledRectangle.toObject=function(e,t){var r,n={rectangle:(r=t.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,r),fillColor:(r=t.getFillColor())&&i.Color.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.FilledRectangle;return proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.Rectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),e.setRectangle(r);break;case 2:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setFillColor(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getRectangle())&&t.writeMessage(1,r,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),null!=(r=e.getFillColor())&&t.writeMessage(2,r,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setRectangle=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasRectangle=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getFillColor=function(){return t.Message.getWrapperField(this,i.Color,2)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setFillColor=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasFillColor=function(){return null!=t.Message.getField(this,2)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(e,this)},proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject=function(e,r){var n,i={rectangle:(n=r.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,n),cornerRadius:t.Message.getFieldWithDefault(r,2,0),lineType:t.Message.getFieldWithDefault(r,3,4)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.RoundedRectangle;return proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.Rectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),e.setRectangle(r);break;case 2:r=t.readInt32(),e.setCornerRadius(r);break;case 3:r=t.readInt32(),e.setLineType(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getRectangle())&&r.writeMessage(1,n,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setRectangle=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasRectangle=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getCornerRadius=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setCornerRadius=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearCornerRadius=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasCornerRadius=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getLineType=function(){return t.Message.getFieldWithDefault(this,3,4)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setLineType=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearLineType=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasLineType=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(e,this)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject=function(e,t){var r,n={roundedRectangle:(r=t.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(e,r),fillColor:(r=t.getFillColor())&&i.Color.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.RoundedRectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),e.setRoundedRectangle(r);break;case 2:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setFillColor(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getRoundedRectangle())&&t.writeMessage(1,r,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),null!=(r=e.getFillColor())&&t.writeMessage(2,r,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getRoundedRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,1)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setRoundedRectangle=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasRoundedRectangle=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getFillColor=function(){return t.Message.getWrapperField(this,i.Color,2)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setFillColor=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasFillColor=function(){return null!=t.Message.getField(this,2)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Oval.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Oval.toObject(e,this)},proto.mediapipe.RenderAnnotation.Oval.toObject=function(e,t){var r,n={rectangle:(r=t.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.RenderAnnotation.Oval.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Oval;return proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.RenderAnnotation.Rectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),e.setRectangle(r)}else t.skipField();return e},proto.mediapipe.RenderAnnotation.Oval.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getRectangle())&&t.writeMessage(1,r,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Oval.prototype.getRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.Oval.prototype.setRectangle=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.Oval.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.Oval.prototype.hasRectangle=function(){return null!=t.Message.getField(this,1)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledOval.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.FilledOval.toObject(e,this)},proto.mediapipe.RenderAnnotation.FilledOval.toObject=function(e,t){var r,n={oval:(r=t.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(e,r),fillColor:(r=t.getFillColor())&&i.Color.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.FilledOval;return proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.Oval;t.readMessage(r,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),e.setOval(r);break;case 2:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setFillColor(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.FilledOval.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getOval())&&t.writeMessage(1,r,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),null!=(r=e.getFillColor())&&t.writeMessage(2,r,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getOval=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,1)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setOval=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasOval=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getFillColor=function(){return t.Message.getWrapperField(this,i.Color,2)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setFillColor=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasFillColor=function(){return null!=t.Message.getField(this,2)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Point.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Point.toObject(e,this)},proto.mediapipe.RenderAnnotation.Point.toObject=function(e,r){var n,i={x:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,y:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,3,!1)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.Point.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Point;return proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setX(r);break;case 2:r=t.readDouble(),e.setY(r);break;case 3:r=t.readBool(),e.setNormalized(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Point.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeBool(3,n)},proto.mediapipe.RenderAnnotation.Point.prototype.getX=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setX=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Point.prototype.clearX=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasX=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Point.prototype.getY=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setY=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Point.prototype.clearY=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasY=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Point.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.RenderAnnotation.Point.prototype.setNormalized=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Point.prototype.clearNormalized=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasNormalized=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Line.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Line.toObject(e,this)},proto.mediapipe.RenderAnnotation.Line.toObject=function(e,r){var n,i={xStart:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,yStart:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,xEnd:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,yEnd:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,5,!1),lineType:t.Message.getFieldWithDefault(r,6,1)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.Line.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Line;return proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setXStart(r);break;case 2:r=t.readDouble(),e.setYStart(r);break;case 3:r=t.readDouble(),e.setXEnd(r);break;case 4:r=t.readDouble(),e.setYEnd(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;case 6:r=t.readEnum(),e.setLineType(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Line.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n),null!=(n=t.Message.getField(e,6))&&r.writeEnum(6,n)},proto.mediapipe.RenderAnnotation.Line.LineType={UNKNOWN:0,SOLID:1,DASHED:2},proto.mediapipe.RenderAnnotation.Line.prototype.getXStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXStart=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXStart=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXStart=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Line.prototype.getYStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYStart=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYStart=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYStart=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Line.prototype.getXEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXEnd=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXEnd=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXEnd=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.Line.prototype.getYEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYEnd=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYEnd=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYEnd=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.Line.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Line.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.Line.prototype.getLineType=function(){return t.Message.getFieldWithDefault(this,6,1)},proto.mediapipe.RenderAnnotation.Line.prototype.setLineType=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearLineType=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasLineType=function(){return null!=t.Message.getField(this,6)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.GradientLine.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.GradientLine.toObject(e,this)},proto.mediapipe.RenderAnnotation.GradientLine.toObject=function(e,r){var n,o={xStart:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,yStart:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,xEnd:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,yEnd:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,5,!1),color1:(n=r.getColor1())&&i.Color.toObject(e,n),color2:(n=r.getColor2())&&i.Color.toObject(e,n)};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.GradientLine;return proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setXStart(r);break;case 2:r=t.readDouble(),e.setYStart(r);break;case 3:r=t.readDouble(),e.setXEnd(r);break;case 4:r=t.readDouble(),e.setYEnd(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;case 6:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setColor1(r);break;case 7:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setColor2(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.GradientLine.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n),null!=(n=e.getColor1())&&r.writeMessage(6,n,i.Color.serializeBinaryToWriter),null!=(n=e.getColor2())&&r.writeMessage(7,n,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXStart=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXStart=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXStart=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYStart=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYStart=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYStart=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXEnd=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXEnd=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXEnd=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYEnd=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYEnd=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYEnd=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor1=function(){return t.Message.getWrapperField(this,i.Color,6)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor1=function(e){return t.Message.setWrapperField(this,6,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor1=function(){return this.setColor1(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor1=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor2=function(){return t.Message.getWrapperField(this,i.Color,7)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor2=function(e){return t.Message.setWrapperField(this,7,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor2=function(){return this.setColor2(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor2=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Scribble.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Scribble.toObject(e,this)},proto.mediapipe.RenderAnnotation.Scribble.toObject=function(e,r){var n={pointList:t.Message.toObjectList(r.getPointList(),proto.mediapipe.RenderAnnotation.Point.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.RenderAnnotation.Scribble.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Scribble;return proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.RenderAnnotation.Point;t.readMessage(r,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),e.addPoint(r)}else t.skipField();return e},proto.mediapipe.RenderAnnotation.Scribble.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter=function(e,t){var r;(r=e.getPointList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Scribble.prototype.getPointList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation.Point,1)},proto.mediapipe.RenderAnnotation.Scribble.prototype.setPointList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.Scribble.prototype.addPoint=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.RenderAnnotation.Point,r)},proto.mediapipe.RenderAnnotation.Scribble.prototype.clearPointList=function(){return this.setPointList([])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Arrow.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Arrow.toObject(e,this)},proto.mediapipe.RenderAnnotation.Arrow.toObject=function(e,r){var n,i={xStart:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,yStart:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,xEnd:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,yEnd:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,5,!1)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.Arrow.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Arrow;return proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setXStart(r);break;case 2:r=t.readDouble(),e.setYStart(r);break;case 3:r=t.readDouble(),e.setXEnd(r);break;case 4:r=t.readDouble(),e.setYEnd(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Arrow.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXStart=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXStart=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXStart=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYStart=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYStart=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYStart=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXEnd=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXEnd=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXEnd=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYEnd=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYEnd=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYEnd=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Text.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Text.toObject(e,this)},proto.mediapipe.RenderAnnotation.Text.toObject=function(e,r){var n,o={displayText:null==(n=t.Message.getField(r,1))?void 0:n,left:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,baseline:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,fontHeight:t.Message.getFloatingPointFieldWithDefault(r,4,8),normalized:t.Message.getBooleanFieldWithDefault(r,5,!1),fontFace:t.Message.getFieldWithDefault(r,6,0),centerHorizontally:t.Message.getBooleanFieldWithDefault(r,7,!1),centerVertically:t.Message.getBooleanFieldWithDefault(r,8,!1),outlineThickness:t.Message.getFloatingPointFieldWithDefault(r,11,0),outlineColor:(n=r.getOutlineColor())&&i.Color.toObject(e,n)};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.RenderAnnotation.Text.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Text;return proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setDisplayText(r);break;case 2:r=t.readDouble(),e.setLeft(r);break;case 3:r=t.readDouble(),e.setBaseline(r);break;case 4:r=t.readDouble(),e.setFontHeight(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;case 6:r=t.readInt32(),e.setFontFace(r);break;case 7:r=t.readBool(),e.setCenterHorizontally(r);break;case 8:r=t.readBool(),e.setCenterVertically(r);break;case 11:r=t.readDouble(),e.setOutlineThickness(r);break;case 12:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setOutlineColor(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Text.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n),null!=(n=t.Message.getField(e,6))&&r.writeInt32(6,n),null!=(n=t.Message.getField(e,7))&&r.writeBool(7,n),null!=(n=t.Message.getField(e,8))&&r.writeBool(8,n),null!=(n=t.Message.getField(e,11))&&r.writeDouble(11,n),null!=(n=e.getOutlineColor())&&r.writeMessage(12,n,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Text.prototype.getDisplayText=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderAnnotation.Text.prototype.setDisplayText=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearDisplayText=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasDisplayText=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Text.prototype.getLeft=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setLeft=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearLeft=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasLeft=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Text.prototype.getBaseline=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setBaseline=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearBaseline=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasBaseline=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.Text.prototype.getFontHeight=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,8)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontHeight=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontHeight=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontHeight=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.Text.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.Text.prototype.getFontFace=function(){return t.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontFace=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontFace=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontFace=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterHorizontally=function(){return t.Message.getBooleanFieldWithDefault(this,7,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterHorizontally=function(e){return t.Message.setField(this,7,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterHorizontally=function(){return t.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterHorizontally=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterVertically=function(){return t.Message.getBooleanFieldWithDefault(this,8,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterVertically=function(e){return t.Message.setField(this,8,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterVertically=function(){return t.Message.setField(this,8,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterVertically=function(){return null!=t.Message.getField(this,8)},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineThickness=function(){return t.Message.getFloatingPointFieldWithDefault(this,11,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineThickness=function(e){return t.Message.setField(this,11,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineThickness=function(){return t.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineThickness=function(){return null!=t.Message.getField(this,11)},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineColor=function(){return t.Message.getWrapperField(this,i.Color,12)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineColor=function(e){return t.Message.setWrapperField(this,12,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineColor=function(){return this.setOutlineColor(void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineColor=function(){return null!=t.Message.getField(this,12)},proto.mediapipe.RenderAnnotation.prototype.getRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.prototype.setRectangle=function(e){return t.Message.setOneofWrapperField(this,1,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRectangle=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.prototype.getFilledRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRectangle,2)},proto.mediapipe.RenderAnnotation.prototype.setFilledRectangle=function(e){return t.Message.setOneofWrapperField(this,2,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRectangle=function(){return this.setFilledRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRectangle=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.prototype.getOval=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,3)},proto.mediapipe.RenderAnnotation.prototype.setOval=function(e){return t.Message.setOneofWrapperField(this,3,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasOval=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.prototype.getFilledOval=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledOval,4)},proto.mediapipe.RenderAnnotation.prototype.setFilledOval=function(e){return t.Message.setOneofWrapperField(this,4,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearFilledOval=function(){return this.setFilledOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledOval=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.prototype.getPoint=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Point,5)},proto.mediapipe.RenderAnnotation.prototype.setPoint=function(e){return t.Message.setOneofWrapperField(this,5,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearPoint=function(){return this.setPoint(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasPoint=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.prototype.getLine=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Line,6)},proto.mediapipe.RenderAnnotation.prototype.setLine=function(e){return t.Message.setOneofWrapperField(this,6,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearLine=function(){return this.setLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasLine=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.RenderAnnotation.prototype.getArrow=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Arrow,7)},proto.mediapipe.RenderAnnotation.prototype.setArrow=function(e){return t.Message.setOneofWrapperField(this,7,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearArrow=function(){return this.setArrow(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasArrow=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.RenderAnnotation.prototype.getText=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Text,8)},proto.mediapipe.RenderAnnotation.prototype.setText=function(e){return t.Message.setOneofWrapperField(this,8,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearText=function(){return this.setText(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasText=function(){return null!=t.Message.getField(this,8)},proto.mediapipe.RenderAnnotation.prototype.getRoundedRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,9)},proto.mediapipe.RenderAnnotation.prototype.setRoundedRectangle=function(e){return t.Message.setOneofWrapperField(this,9,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRoundedRectangle=function(){return null!=t.Message.getField(this,9)},proto.mediapipe.RenderAnnotation.prototype.getFilledRoundedRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,10)},proto.mediapipe.RenderAnnotation.prototype.setFilledRoundedRectangle=function(e){return t.Message.setOneofWrapperField(this,10,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRoundedRectangle=function(){return this.setFilledRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRoundedRectangle=function(){return null!=t.Message.getField(this,10)},proto.mediapipe.RenderAnnotation.prototype.getGradientLine=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.GradientLine,14)},proto.mediapipe.RenderAnnotation.prototype.setGradientLine=function(e){return t.Message.setOneofWrapperField(this,14,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearGradientLine=function(){return this.setGradientLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasGradientLine=function(){return null!=t.Message.getField(this,14)},proto.mediapipe.RenderAnnotation.prototype.getScribble=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Scribble,15)},proto.mediapipe.RenderAnnotation.prototype.setScribble=function(e){return t.Message.setOneofWrapperField(this,15,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearScribble=function(){return this.setScribble(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasScribble=function(){return null!=t.Message.getField(this,15)},proto.mediapipe.RenderAnnotation.prototype.getThickness=function(){return t.Message.getFloatingPointFieldWithDefault(this,11,1)},proto.mediapipe.RenderAnnotation.prototype.setThickness=function(e){return t.Message.setField(this,11,e)},proto.mediapipe.RenderAnnotation.prototype.clearThickness=function(){return t.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasThickness=function(){return null!=t.Message.getField(this,11)},proto.mediapipe.RenderAnnotation.prototype.getColor=function(){return t.Message.getWrapperField(this,i.Color,12)},proto.mediapipe.RenderAnnotation.prototype.setColor=function(e){return t.Message.setWrapperField(this,12,e)},proto.mediapipe.RenderAnnotation.prototype.clearColor=function(){return this.setColor(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasColor=function(){return null!=t.Message.getField(this,12)},proto.mediapipe.RenderAnnotation.prototype.getSceneTag=function(){return t.Message.getFieldWithDefault(this,13,"")},proto.mediapipe.RenderAnnotation.prototype.setSceneTag=function(e){return t.Message.setField(this,13,e)},proto.mediapipe.RenderAnnotation.prototype.clearSceneTag=function(){return t.Message.setField(this,13,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasSceneTag=function(){return null!=t.Message.getField(this,13)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderViewport.prototype.toObject=function(e){return proto.mediapipe.RenderViewport.toObject(e,this)},proto.mediapipe.RenderViewport.toObject=function(e,r){var n,i={id:null==(n=t.Message.getField(r,1))?void 0:n,widthPx:null==(n=t.Message.getField(r,2))?void 0:n,heightPx:null==(n=t.Message.getField(r,3))?void 0:n,composeOnVideo:null==(n=t.Message.getBooleanField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderViewport.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderViewport;return proto.mediapipe.RenderViewport.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderViewport.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readInt32(),e.setWidthPx(r);break;case 3:r=t.readInt32(),e.setHeightPx(r);break;case 4:r=t.readBool(),e.setComposeOnVideo(r);break;default:t.skipField()}return e},proto.mediapipe.RenderViewport.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderViewport.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderViewport.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeBool(4,n)},proto.mediapipe.RenderViewport.prototype.getId=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderViewport.prototype.setId=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderViewport.prototype.clearId=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderViewport.prototype.hasId=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderViewport.prototype.getWidthPx=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderViewport.prototype.setWidthPx=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderViewport.prototype.clearWidthPx=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderViewport.prototype.hasWidthPx=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderViewport.prototype.getHeightPx=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.RenderViewport.prototype.setHeightPx=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderViewport.prototype.clearHeightPx=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderViewport.prototype.hasHeightPx=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderViewport.prototype.getComposeOnVideo=function(){return t.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.RenderViewport.prototype.setComposeOnVideo=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderViewport.prototype.clearComposeOnVideo=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderViewport.prototype.hasComposeOnVideo=function(){return null!=t.Message.getField(this,4)},r.object.extend(e,proto.mediapipe)}(render_data_pb);var interactive_segmenter_result={};Object.defineProperty(interactive_segmenter_result,"__esModule",{value:!0}),interactive_segmenter_result.InteractiveSegmenterResult=void 0;class InteractiveSegmenterResult{constructor(e,t,r){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=r}close(){var e,t;null===(e=this.confidenceMasks)||void 0===e||e.forEach((e=>{e.close()})),null===(t=this.categoryMask)||void 0===t||t.close()}}interactive_segmenter_result.InteractiveSegmenterResult=InteractiveSegmenterResult;var interactive_segmenter_options={};Object.defineProperty(interactive_segmenter_options,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractiveSegmenter=void 0;const n=calculator_pb,i=calculator_options_pb,o=base_options_pb,a=image_segmenter_graph_options_pb,s=segmenter_options_pb,l=vision_task_runner,c=color_pb,p=render_data_pb,u=interactive_segmenter_result;r(interactive_segmenter_options,e),r(interactive_segmenter_result,e);const d="image_in",h="norm_rect_in",f="roi_in",m="confidence_masks",g="category_mask",y="quality_scores";class v extends l.VisionTaskRunner{static createFromOptions(e,t){return l.VisionTaskRunner.createVisionInstance(v,e,t)}static createFromModelBuffer(e,t){return l.VisionTaskRunner.createVisionInstance(v,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return l.VisionTaskRunner.createVisionInstance(v,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new l.VisionGraphRunner(e,t),d,h,!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new a.ImageSegmenterGraphOptions,this.segmenterOptions=new s.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new o.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r;return"outputCategoryMask"in e&&(this.outputCategoryMask=null!==(t=e.outputCategoryMask)&&void 0!==t&&t),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=null===(r=e.outputConfidenceMasks)||void 0===r||r),super.applyOptions(e)}segment(e,t,r,n){const i="function"!=typeof r?r:{};return this.userCallback="function"==typeof r?r:n,this.reset(),this.processRenderData(t,this.getSynctheticTimestamp()),this.processImageData(e,i),this.processResults()}reset(){this.confidenceMasks=void 0,this.categoryMask=void 0,this.qualityScores=void 0}processResults(){try{const e=new u.InteractiveSegmenterResult(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.userCallback)return e;this.userCallback(e)}finally{this.freeKeepaliveStreams()}}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(d),e.addInputStream(f),e.addInputStream(h);const t=new i.CalculatorOptions;t.setExtension(a.ImageSegmenterGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),r.addInputStream("IMAGE:"+d),r.addInputStream("ROI:"+f),r.addInputStream("NORM_RECT:"+h),r.setOptions(t),e.addNode(r),this.addKeepaliveNode(e),this.outputConfidenceMasks&&(e.addOutputStream(m),r.addOutputStream("CONFIDENCE_MASKS:"+m),this.keepStreamAlive(m),this.graphRunner.attachImageVectorListener(m,((e,t)=>{this.confidenceMasks=e.map((e=>this.convertToMPMask(e,!this.userCallback))),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(m,(e=>{this.confidenceMasks=[],this.setLatestOutputTimestamp(e)}))),this.outputCategoryMask&&(e.addOutputStream(g),r.addOutputStream("CATEGORY_MASK:"+g),this.keepStreamAlive(g),this.graphRunner.attachImageListener(g,((e,t)=>{this.categoryMask=this.convertToMPMask(e,!this.userCallback),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(g,(e=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(e)}))),e.addOutputStream(y),r.addOutputStream("QUALITY_SCORES:"+y),this.graphRunner.attachFloatVectorListener(y,((e,t)=>{this.qualityScores=e,this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(y,(e=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(e)}));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}processRenderData(e,t){const r=new p.RenderData,n=new p.RenderAnnotation,i=new c.Color;if(i.setR(255),n.setColor(i),e.keypoint&&e.scribble)throw new Error("Cannot provide both keypoint and scribble.");if(e.keypoint){const t=new p.RenderAnnotation.Point;t.setNormalized(!0),t.setX(e.keypoint.x),t.setY(e.keypoint.y),n.setPoint(t)}else{if(!e.scribble)throw new Error("Must provide either a keypoint or a scribble.");{const t=new p.RenderAnnotation.Scribble;for(const r of e.scribble){const e=new p.RenderAnnotation.Point;e.setNormalized(!0),e.setX(r.x),e.setY(r.y),t.addPoint(e)}n.setScribble(t)}}r.addRenderAnnotations(n),this.graphRunner.addProtoToStream(r.serializeBinary(),"drishti.RenderData",f,t)}}e.InteractiveSegmenter=v}(interactive_segmenter);var object_detector={},object_detector_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions",null,n),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.displayName="proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions"),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_=[5,6],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject(e,this)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),displayNamesLocale:t.Message.getFieldWithDefault(r,2,"en"),maxResults:t.Message.getFieldWithDefault(r,3,-1),scoreThreshold:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,categoryAllowlistList:null==(n=t.Message.getRepeatedField(r,5))?void 0:n,categoryDenylistList:null==(n=t.Message.getRepeatedField(r,6))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readString(),e.setDisplayNamesLocale(r);break;case 3:r=t.readInt32(),e.setMaxResults(r);break;case 4:r=t.readFloat(),e.setScoreThreshold(r);break;case 5:r=t.readString(),e.addCategoryAllowlist(r);break;case 6:r=t.readString(),e.addCategoryDenylist(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),(n=e.getCategoryAllowlistList()).length>0&&r.writeRepeatedString(5,n),(n=e.getCategoryDenylistList()).length>0&&r.writeRepeatedString(6,n)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new t.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[443442058]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getDisplayNamesLocale=function(){return t.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setDisplayNamesLocale=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearDisplayNamesLocale=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasDisplayNamesLocale=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getMaxResults=function(){return t.Message.getFieldWithDefault(this,3,-1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setMaxResults=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearMaxResults=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasMaxResults=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getScoreThreshold=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setScoreThreshold=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearScoreThreshold=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasScoreThreshold=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryAllowlistList=function(){return t.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryAllowlistList=function(e){return t.Message.setField(this,5,e||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryAllowlist=function(e,r){return t.Message.addToRepeatedField(this,5,e,r)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryDenylistList=function(){return t.Message.getRepeatedField(this,6)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryDenylistList=function(e){return t.Message.setField(this,6,e||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryDenylist=function(e,r){return t.Message.addToRepeatedField(this,6,e,r)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new t.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[443442058]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.object_detector.proto)}(object_detector_options_pb);var object_detector_options={};Object.defineProperty(object_detector_options,"__esModule",{value:!0});var object_detector_result={};Object.defineProperty(object_detector_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectDetector=void 0;const n=calculator_pb,i=calculator_options_pb,o=detection_pb,a=base_options_pb,s=object_detector_options_pb,l=detection_result,c=vision_task_runner,p="input_frame_gpu",u="norm_rect",d="detections";r(object_detector_options,e),r(object_detector_result,e);class h extends c.VisionTaskRunner{static createFromOptions(e,t){return c.VisionTaskRunner.createVisionInstance(h,e,t)}static createFromModelBuffer(e,t){return c.VisionTaskRunner.createVisionInstance(h,e,{baseOptions:{modelAssetBuffer:t}})}static async createFromModelPath(e,t){return c.VisionTaskRunner.createVisionInstance(h,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new c.VisionGraphRunner(e,t),p,u,!1),this.result={detections:[]},this.options=new s.ObjectDetectorOptions,this.options.setBaseOptions(new a.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){return void 0!==e.displayNamesLocale?this.options.setDisplayNamesLocale(e.displayNamesLocale):"displayNamesLocale"in e&&this.options.clearDisplayNamesLocale(),void 0!==e.maxResults?this.options.setMaxResults(e.maxResults):"maxResults"in e&&this.options.clearMaxResults(),void 0!==e.scoreThreshold?this.options.setScoreThreshold(e.scoreThreshold):"scoreThreshold"in e&&this.options.clearScoreThreshold(),void 0!==e.categoryAllowlist?this.options.setCategoryAllowlistList(e.categoryAllowlist):"categoryAllowlist"in e&&this.options.clearCategoryAllowlistList(),void 0!==e.categoryDenylist?this.options.setCategoryDenylistList(e.categoryDenylist):"categoryDenylist"in e&&this.options.clearCategoryDenylistList(),this.applyOptions(e)}detect(e,t){return this.result={detections:[]},this.processImageData(e,t),this.result}detectForVideo(e,t,r){return this.result={detections:[]},this.processVideoData(e,r,t),this.result}addJsObjectDetections(e){for(const t of e){const e=o.Detection.deserializeBinary(t);this.result.detections.push((0,l.convertFromDetectionProto)(e))}}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(p),e.addInputStream(u),e.addOutputStream(d);const t=new i.CalculatorOptions;t.setExtension(s.ObjectDetectorOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.ObjectDetectorGraph"),r.addInputStream("IMAGE:"+p),r.addInputStream("NORM_RECT:"+u),r.addOutputStream("DETECTIONS:"+d),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(d,((e,t)=>{this.addJsObjectDetections(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(d,(e=>{this.setLatestOutputTimestamp(e)}));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.ObjectDetector=h}(object_detector);var pose_landmarker={},pose_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5),minSuppressionThreshold:t.Message.getFloatingPointFieldWithDefault(r,3,.5),numPoses:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;case 3:r=t.readFloat(),e.setMinSuppressionThreshold(r);break;case 4:r=t.readInt32(),e.setNumPoses(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new t.ExtensionFieldInfo(514774813,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[514774813]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[514774813]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getNumPoses=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setNumPoses=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearNumPoses=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasNumPoses=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new t.ExtensionFieldInfo(514774813,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[514774813]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[514774813]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.pose_detector.proto)}(pose_detector_graph_options_pb);var pose_landmarker_graph_options_pb={},pose_landmarks_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(518928384,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[518928384]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[518928384]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(518928384,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[518928384]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[518928384]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.pose_landmarker.proto)}(pose_landmarks_detector_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var o=calculator_options_pb;r.object.extend(proto,o);var a=base_options_pb;r.object.extend(proto,a);var s=pose_detector_graph_options_pb;r.object.extend(proto,s);var l=pose_landmarks_detector_graph_options_pb;r.object.extend(proto,l),r.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&a.BaseOptions.toObject(e,n),poseDetectorGraphOptions:(n=r.getPoseDetectorGraphOptions())&&s.PoseDetectorGraphOptions.toObject(e,n),poseLandmarksDetectorGraphOptions:(n=r.getPoseLandmarksDetectorGraphOptions())&&l.PoseLandmarksDetectorGraphOptions.toObject(e,n),minTrackingConfidence:t.Message.getFloatingPointFieldWithDefault(r,4,.5)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.BaseOptions;t.readMessage(r,a.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new s.PoseDetectorGraphOptions,t.readMessage(r,s.PoseDetectorGraphOptions.deserializeBinaryFromReader),e.setPoseDetectorGraphOptions(r);break;case 3:r=new l.PoseLandmarksDetectorGraphOptions,t.readMessage(r,l.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader),e.setPoseLandmarksDetectorGraphOptions(r);break;case 4:r=t.readFloat(),e.setMinTrackingConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,a.BaseOptions.serializeBinaryToWriter),null!=(n=e.getPoseDetectorGraphOptions())&&r.writeMessage(2,n,s.PoseDetectorGraphOptions.serializeBinaryToWriter),null!=(n=e.getPoseLandmarksDetectorGraphOptions())&&r.writeMessage(3,n,l.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(516587230,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[516587230]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[516587230]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,a.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseDetectorGraphOptions=function(){return t.Message.getWrapperField(this,s.PoseDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseDetectorGraphOptions=function(){return this.setPoseDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseDetectorGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseLandmarksDetectorGraphOptions=function(){return t.Message.getWrapperField(this,l.PoseLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseLandmarksDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseLandmarksDetectorGraphOptions=function(){return this.setPoseLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseLandmarksDetectorGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(516587230,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[516587230]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[516587230]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.pose_landmarker.proto)}(pose_landmarker_graph_options_pb);var pose_landmarker_result={};Object.defineProperty(pose_landmarker_result,"__esModule",{value:!0}),pose_landmarker_result.PoseLandmarkerResult=void 0;class PoseLandmarkerResult{constructor(e,t,r){this.landmarks=e,this.worldLandmarks=t,this.segmentationMasks=r}close(){var e;null===(e=this.segmentationMasks)||void 0===e||e.forEach((e=>{e.close()}))}}pose_landmarker_result.PoseLandmarkerResult=PoseLandmarkerResult;var pose_landmarker_options={};Object.defineProperty(pose_landmarker_options,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.PoseLandmarker=void 0;const n=calculator_pb,i=calculator_options_pb,o=landmark_pb,a=base_options_pb,s=pose_detector_graph_options_pb,l=pose_landmarker_graph_options_pb,c=pose_landmarks_detector_graph_options_pb,p=landmark_result,u=vision_task_runner,d=pose_landmarker_result;r(pose_landmarker_options,e),r(pose_landmarker_result,e);const h="image_in",f="norm_rect",m="normalized_landmarks",g="world_landmarks",y="segmentation_masks",v=.5;class b extends u.VisionTaskRunner{static createFromOptions(e,t){return u.VisionTaskRunner.createVisionInstance(b,e,t)}static createFromModelBuffer(e,t){return u.VisionTaskRunner.createVisionInstance(b,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return u.VisionTaskRunner.createVisionInstance(b,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new u.VisionGraphRunner(e,t),h,f,!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,this.options=new l.PoseLandmarkerGraphOptions,this.options.setBaseOptions(new a.BaseOptions),this.poseLandmarksDetectorGraphOptions=new c.PoseLandmarksDetectorGraphOptions,this.options.setPoseLandmarksDetectorGraphOptions(this.poseLandmarksDetectorGraphOptions),this.poseDetectorGraphOptions=new s.PoseDetectorGraphOptions,this.options.setPoseDetectorGraphOptions(this.poseDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r,n,i,o;return"numPoses"in e&&this.poseDetectorGraphOptions.setNumPoses(null!==(t=e.numPoses)&&void 0!==t?t:1),"minPoseDetectionConfidence"in e&&this.poseDetectorGraphOptions.setMinDetectionConfidence(null!==(r=e.minPoseDetectionConfidence)&&void 0!==r?r:v),"minTrackingConfidence"in e&&this.options.setMinTrackingConfidence(null!==(n=e.minTrackingConfidence)&&void 0!==n?n:v),"minPosePresenceConfidence"in e&&this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence(null!==(i=e.minPosePresenceConfidence)&&void 0!==i?i:v),"outputSegmentationMasks"in e&&(this.outputSegmentationMasks=null!==(o=e.outputSegmentationMasks)&&void 0!==o&&o),this.applyOptions(e)}detect(e,t,r){const n="function"!=typeof t?t:{};return this.userCallback="function"==typeof t?t:r,this.resetResults(),this.processImageData(e,n),this.processResults()}detectForVideo(e,t,r,n){const i="function"!=typeof r?r:{};return this.userCallback="function"==typeof r?r:n,this.resetResults(),this.processVideoData(e,i,t),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.segmentationMasks=void 0}processResults(){try{const e=new d.PoseLandmarkerResult(this.landmarks,this.worldLandmarks,this.segmentationMasks);if(!this.userCallback)return e;this.userCallback(e)}finally{this.freeKeepaliveStreams()}}initDefaults(){this.poseDetectorGraphOptions.setNumPoses(1),this.poseDetectorGraphOptions.setMinDetectionConfidence(v),this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence(v),this.options.setMinTrackingConfidence(v)}addJsLandmarks(e){this.landmarks=[];for(const t of e){const e=o.NormalizedLandmarkList.deserializeBinary(t);this.landmarks.push((0,p.convertToLandmarks)(e))}}adddJsWorldLandmarks(e){this.worldLandmarks=[];for(const t of e){const e=o.LandmarkList.deserializeBinary(t);this.worldLandmarks.push((0,p.convertToWorldLandmarks)(e))}}refreshGraph(){const e=new n.CalculatorGraphConfig;e.addInputStream(h),e.addInputStream(f),e.addOutputStream(m),e.addOutputStream(g),e.addOutputStream(y);const t=new i.CalculatorOptions;t.setExtension(l.PoseLandmarkerGraphOptions.ext,this.options);const r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),r.addInputStream("IMAGE:"+h),r.addInputStream("NORM_RECT:"+f),r.addOutputStream("NORM_LANDMARKS:"+m),r.addOutputStream("WORLD_LANDMARKS:"+g),r.setOptions(t),e.addNode(r),this.addKeepaliveNode(e),this.graphRunner.attachProtoVectorListener(m,((e,t)=>{this.addJsLandmarks(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(m,(e=>{this.landmarks=[],this.setLatestOutputTimestamp(e)})),this.graphRunner.attachProtoVectorListener(g,((e,t)=>{this.adddJsWorldLandmarks(e),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(g,(e=>{this.worldLandmarks=[],this.setLatestOutputTimestamp(e)})),this.outputSegmentationMasks&&(r.addOutputStream("SEGMENTATION_MASK:"+y),this.keepStreamAlive(y),this.graphRunner.attachImageVectorListener(y,((e,t)=>{this.segmentationMasks=e.map((e=>this.convertToMPMask(e,!this.userCallback))),this.setLatestOutputTimestamp(t)})),this.graphRunner.attachEmptyPacketListener(y,(e=>{this.segmentationMasks=[],this.setLatestOutputTimestamp(e)})));const o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.PoseLandmarker=b,b.POSE_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:7},{start:0,end:4},{start:4,end:5},{start:5,end:6},{start:6,end:8},{start:9,end:10},{start:11,end:12},{start:11,end:13},{start:13,end:15},{start:15,end:17},{start:15,end:19},{start:15,end:21},{start:17,end:19},{start:12,end:14},{start:14,end:16},{start:16,end:18},{start:16,end:20},{start:16,end:22},{start:18,end:20},{start:11,end:23},{start:12,end:24},{start:23,end:24},{start:23,end:25},{start:24,end:26},{start:25,end:27},{start:26,end:28},{start:27,end:29},{start:28,end:30},{start:29,end:31},{start:30,end:32},{start:27,end:31},{start:28,end:32}]}(pose_landmarker),Object.defineProperty(vision,"__esModule",{value:!0});var PoseLandmarker_1=vision.PoseLandmarker=ObjectDetector_1=vision.ObjectDetector=InteractiveSegmenter_1=vision.InteractiveSegmenter=ImageSegmenter_1=vision.ImageSegmenter=ImageEmbedder_1=vision.ImageEmbedder=ImageClassifier_1=vision.ImageClassifier=HandLandmarker_1=vision.HandLandmarker=GestureRecognizer_1=vision.GestureRecognizer=FaceStylizer_1=vision.FaceStylizer=FaceLandmarker_1=vision.FaceLandmarker=FaceDetector_1=vision.FaceDetector=MPMask_1=vision.MPMask=MPImage_1=vision.MPImage=FilesetResolver_1=vision.FilesetResolver=DrawingUtils_1=vision.DrawingUtils=void 0;const fileset_resolver_1=fileset_resolver,drawing_utils_1=drawing_utils,image_1=image,mask_1=mask,face_detector_1=face_detector,face_landmarker_1=face_landmarker,face_stylizer_1=face_stylizer,gesture_recognizer_1=gesture_recognizer,hand_landmarker_1=hand_landmarker,image_classifier_1=image_classifier,image_embedder_1=image_embedder,image_segmenter_1=image_segmenter,interactive_segmenter_1=interactive_segmenter,object_detector_1=object_detector,pose_landmarker_1=pose_landmarker,DrawingUtils=drawing_utils_1.DrawingUtils;var DrawingUtils_1=vision.DrawingUtils=DrawingUtils;const FilesetResolver=fileset_resolver_1.FilesetResolver;var FilesetResolver_1=vision.FilesetResolver=FilesetResolver;const MPImage=image_1.MPImage;var MPImage_1=vision.MPImage=MPImage;const MPMask=mask_1.MPMask;var MPMask_1=vision.MPMask=MPMask;const FaceDetector=face_detector_1.FaceDetector;var FaceDetector_1=vision.FaceDetector=FaceDetector;const FaceLandmarker=face_landmarker_1.FaceLandmarker;var FaceLandmarker_1=vision.FaceLandmarker=FaceLandmarker;const FaceStylizer=face_stylizer_1.FaceStylizer;var FaceStylizer_1=vision.FaceStylizer=FaceStylizer;const GestureRecognizer=gesture_recognizer_1.GestureRecognizer;var GestureRecognizer_1=vision.GestureRecognizer=GestureRecognizer;const HandLandmarker=hand_landmarker_1.HandLandmarker;var HandLandmarker_1=vision.HandLandmarker=HandLandmarker;const ImageClassifier=image_classifier_1.ImageClassifier;var ImageClassifier_1=vision.ImageClassifier=ImageClassifier;const ImageEmbedder=image_embedder_1.ImageEmbedder;var ImageEmbedder_1=vision.ImageEmbedder=ImageEmbedder;const ImageSegmenter=image_segmenter_1.ImageSegmenter;var ImageSegmenter_1=vision.ImageSegmenter=ImageSegmenter;const InteractiveSegmenter=interactive_segmenter_1.InteractiveSegmenter;var InteractiveSegmenter_1=vision.InteractiveSegmenter=InteractiveSegmenter;const ObjectDetector=object_detector_1.ObjectDetector;var ObjectDetector_1=vision.ObjectDetector=ObjectDetector;const PoseLandmarker=pose_landmarker_1.PoseLandmarker;PoseLandmarker_1=vision.PoseLandmarker=PoseLandmarker},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(338),i=Object(n.a)();t.a=i},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";var n=r(0),i=r.n(n);t.a=i.a.createContext(null)},function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}}),(function(){}))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(23),a=r(239);var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return r.children=[],r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(e){var t=arguments.length;if(t>1)for(var r=0;r<t;r++)this.addChild(arguments[r]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);(0,o.removeItems)(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(e){var t=arguments.length;if(t>1)for(var r=0;r<t;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(e);if(-1===n)return null;e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this)}return e},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),t},t.prototype.removeChildren=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=e,n="number"===typeof t?t:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];t.visible&&t.renderable&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds))}this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderWebGL(e)}},t.prototype.renderAdvancedWebGL=function(e){e.flush();var t=this._filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}r&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(e);e.flush(),r&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},t.prototype._renderWebGL=function(e){},t.prototype._renderCanvas=function(e){},t.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.prototype.destroy=function(t){e.prototype.destroy.call(this);var r="boolean"===typeof t?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(t)},i(t,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=s,s.prototype.containerUpdateTransform=s.prototype.updateTransform},function(e,t,r){"use strict";t.__esModule=!0;var n=p(r(246)),i=p(r(892)),o=p(r(248)),a=p(r(893)),s=r(23),l=r(13),c=p(r(29));function p(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,"Canvas",r,n,o));return s.type=l.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new i.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(e,t,r,n,i){if(this.view){this.renderingToScreen=!t,this.emit("prerender");var a=this.resolution;t?((t=t.baseTexture||t)._canvasRenderTarget||(t._canvasRenderTarget=new o.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(t||(this._lastObjectRendered=e),!i){var c=e.parent,p=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(p),this._tempDisplayObjectParent.transform._worldID=-1):p.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=c}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=l.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[l.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var u=this.context;this.context=s,e.renderCanvas(this),this.context=u,s.restore(),this.resolution=a,this.emit("postrender")}},t.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){this.destroyPlugins(),e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=c.default.SCALE_MODE===l.SCALE_MODES.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t}(n.default);t.default=u,s.pluginTarget.mixin(u)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.renderer.on("context",this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e}();t.default=n},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(40),o=r(29),a=(n=o)&&n.__esModule?n:{default:n};function s(e,t){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var r=e.slice(0);return r.unshift("precision "+t+" float;"),r}}else if("precision"!==e.trim().substring(0,9))return"precision "+t+" float;\n"+e;return e}var l=function(e){function t(r,n,i,o,l){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r,s(n,l||a.default.PRECISION_VERTEX),s(i,l||a.default.PRECISION_FRAGMENT),void 0,o))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.GLShader);t.default=l},function(e,t,r){"use strict";var n=r(945).Loader,i=r(158).Resource,o=r(273),a=r(274);n.Resource=i,n.async=o,n.encodeBinary=a,n.base64=a,e.exports=n,e.exports.Loader=n,e.exports.default=n},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),a=r(64),s=(n=a)&&n.__esModule?n:{default:n};var l=new o.Point,c=new o.Polygon,p=function(e){function t(r,n,i,a,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return c._texture=r||s.default.EMPTY,c.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),c.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),c.indices=a||new Uint16Array([0,1,3,2]),c.dirty=0,c.indexDirty=0,c.vertexDirty=0,c.autoUpdate=!0,c.blendMode=o.BLEND_MODES.NORMAL,c.canvasPadding=o.settings.MESH_CANVAS_PADDING,c.drawMode=l||t.DRAW_MODES.TRIANGLE_MESH,c.shader=null,c.tintRgb=new Float32Array([1,1,1]),c._glDatas={},c._uvTransform=new o.TextureMatrix(c._texture),c.uploadUvTransform=!1,c.pluginName="mesh",c}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._renderWebGL=function(e){this.refresh(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){this.refresh(),e.plugins[this.pluginName].render(this)},t.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},t.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},t.prototype.refresh=function(e){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(e)&&this._refresh()},t.prototype._refresh=function(){},t.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,l);for(var r=this.vertices,n=c.points,i=this.indices,o=this.indices.length,a=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var p=2*i[s],u=2*i[s+1],d=2*i[s+2];if(n[0]=r[p],n[1]=r[p+1],n[2]=r[u],n[3]=r[u+1],n[4]=r[d],n[5]=r[d+1],c.contains(l.x,l.y))return!0}return!1},t.prototype.destroy=function(t){for(var r in this._glDatas){var n=this._glDatas[r];n.destroy?n.destroy():(n.vertexBuffer&&(n.vertexBuffer.destroy(),n.vertexBuffer=null),n.indexBuffer&&(n.indexBuffer.destroy(),n.indexBuffer=null),n.uvBuffer&&(n.uvBuffer.destroy(),n.uvBuffer=null),n.vao&&(n.vao.destroy(),n.vao=null))}this._glDatas=null,e.prototype.destroy.call(this,t)},i(t,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=o.utils.hex2rgb(e,this.tintRgb)}}]),t}(o.Container);t.default=p,p.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(e,t,r){var n=r(37),i=r(11),o=r(964);r(280);function a(e){Array.isArray(arguments[0])&&(e={vertices:arguments[0],axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),e=e||{},this.vertices=[];for(var t=void 0!==e.vertices?e.vertices:[],r=0;r<t.length;r++){var o=i.create();i.copy(o,t[r]),this.vertices.push(o)}if(this.axes=[],e.axes)for(r=0;r<e.axes.length;r++){var a=i.create();i.copy(a,e.axes[r]),this.axes.push(a)}else for(r=0;r<this.vertices.length;r++){var s=this.vertices[r],l=this.vertices[(r+1)%this.vertices.length],c=i.create();i.sub(c,l,s),i.rotate90cw(c,c),i.normalize(c,c),this.axes.push(c)}if(this.centerOfMass=i.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,e.type=n.CONVEX,n.call(this,e),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}e.exports=a,a.prototype=new n,a.prototype.constructor=a;var s=i.create(),l=i.create();a.prototype.projectOntoLocalAxis=function(e,t){for(var r,n,o=null,a=null,l=(e=s,0);l<this.vertices.length;l++)r=this.vertices[l],n=i.dot(r,e),(null===o||n>o)&&(o=n),(null===a||n<a)&&(a=n);if(a>o){var c=a;a=o,o=c}i.set(t,a,o)},a.prototype.projectOntoWorldAxis=function(e,t,r,n){var o=l;this.projectOntoLocalAxis(e,n),0!==r?i.rotate(o,e,r):o=e;var a=i.dot(t,o);i.set(n,n[0]+a,n[1]+a)},a.prototype.updateTriangles=function(){this.triangles.length=0;for(var e=[],t=0;t<this.vertices.length;t++){var r=this.vertices[t];e.push(r[0],r[1])}var n=o.Triangulate(e);for(t=0;t<n.length;t+=3){var i=n[t],a=n[t+1],s=n[t+2];this.triangles.push([i,a,s])}};var c=i.create(),p=i.create(),u=i.create(),d=i.create(),h=i.create();i.create(),i.create(),i.create(),i.create();a.prototype.updateCenterOfMass=function(){var e=this.triangles,t=this.vertices,r=this.centerOfMass,n=c,o=u,s=d,l=h,f=p;i.set(r,0,0);for(var m=0,g=0;g!==e.length;g++){var y=e[g];o=t[y[0]],s=t[y[1]],l=t[y[2]];i.centroid(n,o,s,l);var v=a.triangleArea(o,s,l);m+=v,i.scale(f,n,v),i.add(r,r,f)}i.scale(r,r,1/m)},a.prototype.computeMomentOfInertia=function(e){for(var t=0,r=0,n=this.vertices.length,o=n-1,a=0;a<n;o=a,a++){var s=this.vertices[o],l=this.vertices[a],c=Math.abs(i.crossLength(s,l));t+=c*(i.dot(l,l)+i.dot(l,s)+i.dot(s,s)),r+=c}return e/6*(t/r)},a.prototype.updateBoundingRadius=function(){for(var e=this.vertices,t=0,r=0;r!==e.length;r++){var n=i.squaredLength(e[r]);n>t&&(t=n)}this.boundingRadius=Math.sqrt(t)},a.triangleArea=function(e,t,r){return.5*((t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1]))},a.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var e=this.triangles,t=this.vertices,r=0;r!==e.length;r++){var n=e[r],i=t[n[0]],o=t[n[1]],s=t[n[2]],l=a.triangleArea(i,o,s);this.area+=l}},a.prototype.computeAABB=function(e,t,r){e.setFromPoints(this.vertices,t,r,0)};var f=i.create(),m=i.create(),g=i.create();a.prototype.raycast=function(e,t,r,n){var o=f,a=m,s=g,l=this.vertices;i.toLocalFrame(o,t.from,r,n),i.toLocalFrame(a,t.to,r,n);for(var c=l.length,p=0;p<c&&!e.shouldStop(t);p++){var u=l[p],d=l[(p+1)%c],h=i.getLineSegmentsIntersectionFraction(o,a,u,d);h>=0&&(i.sub(s,d,u),i.rotate(s,s,-Math.PI/2+n),i.normalize(s,s),t.reportIntersection(e,h,s,p))}}},function(e,t,r){var n=r(11),i=r(36);r(27);function o(e,t,r){i.call(this,e,t,-r,r),this.contactPointA=n.create(),this.contactPointB=n.create(),this.t=n.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.setSlipForce=function(e){this.maxForce=e,this.minForce=-e},o.prototype.getSlipForce=function(){return this.maxForce},o.prototype.computeB=function(e,t,r){this.bodyA,this.bodyB;var i=this.contactPointA,o=this.contactPointB,a=this.t,s=this.G;return s[0]=-a[0],s[1]=-a[1],s[2]=-n.crossLength(i,a),s[3]=a[0],s[4]=a[1],s[5]=n.crossLength(o,a),-this.computeGW()*t-r*this.computeGiMf()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHARED=Symbol("@@shared"),t.CLIENT=Symbol("@@shared/client")},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";e.exports=r(359)},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(753),t),i(r(208),t),i(r(754),t),i(r(141),t),i(r(144),t),i(r(858),t)},function(e,t,r){"use strict";function n(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(n(e.value)&&""!==e.value||t&&n(e.defaultValue)&&""!==e.defaultValue)}function o(e){return e.startAdornment}r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return m}));var n=r(0),i=r.n(n),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=i.a.createContext&&i.a.createContext(o),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function c(e){return e&&e.map((function(e,t){return i.a.createElement(e.tag,s({key:t},e.attr),c(e.child))}))}function p(e){return function(t){return i.a.createElement(u,s({attr:s({},e.attr)},t),c(e.child))}}function u(e){var t=function(t){var r,n=e.attr,o=e.size,a=e.title,c=l(e,["attr","size","title"]),p=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),i.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,c,{className:r,style:s(s({color:e.color||t.color},t.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),a&&i.a.createElement("title",null,a),e.children)};return void 0!==a?i.a.createElement(a.Consumer,null,(function(e){return t(e)})):t(o)}function d(e){return p({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function h(e){return p({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function f(e){return p({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(e)}function m(e){return p({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,l=a(e),c=1;c<arguments.length;c++){for(var p in r=Object(arguments[c]))i.call(r,p)&&(l[p]=r[p]);if(n){s=n(r);for(var u=0;u<s.length;u++)o.call(r,s[u])&&(l[s[u]]=r[s[u]])}}return l}},function(e,t,r){"use strict";var n,i,o,a=r(361),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function l(){o=!1}function c(e){if(e){if(e!==n){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,l()}}else n!==s&&(n=s,l())}function p(){return o||(o=function(){n||c(s);for(var e,t=n.split(""),r=[],i=a.nextValue();t.length>0;)i=a.nextValue(),e=Math.floor(i*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return n||s},characters:function(e){return c(e),n},seed:function(e){a.seed(e),i!==e&&(l(),i=e)},lookup:function(e){return p()[e]},shuffled:p}},function(e,t,r){"use strict";(function(t){var n=r(102);function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(187),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function p(e){return Object.prototype.toString.call(e)}function u(e){return!o(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function m(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(c||!a.isFunction(e))return a.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function v(e,t){e||y(e,!0,t,"==",d.ok)}function b(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(u(e)&&u(t)&&p(e)===p(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=S(e),o=S(t);if(i&&!o||!i&&o)return!1;if(i)return b(e=l.call(e),t=l.call(t),r);var s,c,p=E(e),u=E(t);if(p.length!==u.length)return!1;for(p.sort(),u.sort(),c=p.length-1;c>=0;c--)if(p[c]!==u[c])return!1;for(c=p.length-1;c>=0;c--)if(!b(e[s=p[c]],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function S(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function T(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,r,n){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(r){t=r}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&y(i,r,"Missing expected exception"+n);var o="string"===typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&T(i,r)||s)&&y(i,r,"Got unwanted exception"+n),e&&i&&r&&!T(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=f(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(d.AssertionError,Error),d.fail=y,d.ok=v,d.equal=function(e,t,r){e!=t&&y(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&y(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){b(e,t,!1)||y(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){b(e,t,!0)||y(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){b(e,t,!1)&&y(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){b(t,r,!0)&&y(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&y(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&y(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){w(!0,e,t,r)},d.doesNotThrow=function(e,t,r){w(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||y(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var E=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}}).call(this,r(47))},function(e,t,r){"use strict";(function(t){var n=r(35),i=r(760),o=r(211),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=r(212)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||i&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){l.headers[e]=n.merge(a)})),e.exports=l}).call(this,r(32))},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repr=t.str=void 0;const n=r(4),i=r(143),o=r(226);t.str=e=>{if("undefined"===typeof e)return"";if(null==e)return"None";if("string"===typeof e)return e;if("function"===typeof e.__str__)return e.__str__();if("function"===typeof e.__repr__)return e.__repr__();if(e instanceof Array){return new n.ScoolcodeArray(...e).__str__()}return e instanceof o.zip?"[zip object]":e instanceof i.PythonRange?`range(${e.start}, ${e.stop}, ${e.step})`:""+e};t.repr=e=>null==e?"None":"undefined"===typeof e?"":"function"===typeof e.__repr__?e.__repr__():e&&"number"===typeof e&&(""+ +e).includes("e")?n.NumericLiteral.toString(e):""+e},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(23),o=r(249);var a={getTintedTexture:function(e,t){var r=e._texture,n="#"+("00000"+(0|(t=a.roundColor(t))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i=r.tintCache[n],o=void 0;if(i){if(i.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=a.canvas||document.createElement("canvas");if(a.tintMethod(r,t,o),o.tintId=r._updateID,a.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[n]=s}else r.tintCache[n]=o,a.canvas=null;return o},tintWithMultiply:function(e,t,r){var n=r.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(e,t,r){var n=r.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(e,t,r){var n=r.getContext("2d"),o=e._frame.clone(),a=e.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore();for(var s=(0,i.hex2rgb)(t),l=s[0],c=s[1],p=s[2],u=n.getImageData(0,0,o.width,o.height),d=u.data,h=0;h<d.length;h+=4)d[h+0]*=l,d[h+1]*=c,d[h+2]*=p;n.putImageData(u,0,0)},roundColor:function(e){var t=a.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(e);return r[0]=Math.min(255,r[0]/t*t),r[1]=Math.min(255,r[1]/t*t),r[2]=Math.min(255,r[2]/t*t),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((n=o)&&n.__esModule?n:{default:n}).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(89);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(e){},t}(((n=i)&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n=v(r(246)),i=v(r(895)),o=v(r(897)),a=v(r(898)),s=v(r(111)),l=v(r(109)),c=v(r(900)),p=v(r(77)),u=v(r(901)),d=v(r(902)),h=v(r(904)),f=v(r(905)),m=r(23),g=v(r(40)),y=r(13);function v(e){return e&&e.__esModule?e:{default:e}}var b=0,S=function(e){function t(r,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,"WebGL",r,n,a));return s.legacy=s.options.legacy,s.legacy&&(g.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=y.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new i.default(s),s.stencilManager=new o.default(s),s.emptyRenderer=new l.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,f.default)(s.options.context),s.gl=s.options.context||g.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=b++,s.state=new d.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,h.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._initContext=function(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(t),this.emptyTextures=new Array(t),this._unknownBoundTextures=!1,this.textureManager=new c.default(this),this.filterManager=new a.default(this),this.textureGC=new u.default(this),this.state.resetToDefault(),this.rootRenderTarget=new s.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new g.default.GLTexture.fromData(e,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<t;i++){var o=new p.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",e),this.resize(this.screen.width,this.screen.height)},t.prototype.render=function(e,t,r,n,i){if(this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!i){var o=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=o}this.bindRenderTexture(t,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.resize=function(e,t){n.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},t.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},t.prototype.clear=function(e){this._activeRenderTarget.clear(e)},t.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},t.prototype.clearRenderTexture=function(e,t){var r=e.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(t),this},t.prototype.bindRenderTexture=function(e,t){var r=void 0;if(e){var n=e.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(e.frame)}else r=this.rootRenderTarget;return r.transform=t,this.bindRenderTarget(r),this},t.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},t.prototype.bindShader=function(e,t){return this._activeShader!==e&&(this._activeShader=e,e.bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},t.prototype.bindTexture=function(e,t,r){if((e=(e=e||this.emptyTextures[t]).baseTexture||e).touched=this.textureGC.count,r)t=t||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===e)return n;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=e._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[t]=e,i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(e,t),t},t.prototype.unbindTexture=function(e){var t=this.gl;if(e=e.baseTexture||e,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===this.emptyTextures[r]&&(t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture))}for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===e&&(this.boundTextures[n]=this.emptyTextures[n],t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},t.prototype.createVao=function(){return new g.default.VertexArrayObject(this.gl,this.state.attribState)},t.prototype.bindVao=function(e){return this._activeVao===e||(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e),this},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},t.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},t}(n.default);t.default=S,m.pluginTarget.mixin(S)},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(30),o=r(13),a=r(29),s=(n=a)&&n.__esModule?n:{default:n},l=r(40);var c=function(){function e(t,r,n,a,c,p){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=c||s.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==a?a:s.default.SCALE_MODE,this.root=p||!1,this.root?(this.frameBuffer=new l.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=l.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,n)}return e.prototype.clear=function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},e.prototype.setFrame=function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame},e.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},e.prototype.calculateProjection=function(e,t){var r=this.projectionMatrix;t=t||e,r.identity(),this.root?(r.a=1/e.width*2,r.d=-1/e.height*2,r.tx=-1-t.x*r.a,r.ty=1-t.y*r.d):(r.a=1/e.width*2,r.d=1/e.height*2,r.tx=-1-t.x*r.a,r.ty=-1-t.y*r.d)},e.prototype.resize=function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},e.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e}();t.default=c},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){e.nativeLines?function(e,t){var r=0,n=e.points;if(0===n.length)return;var o=t.points,a=n.length/2,s=(0,i.hex2rgb)(e.lineColor),l=e.lineAlpha,c=s[0]*l,p=s[1]*l,u=s[2]*l;for(r=1;r<a;r++){var d=n[2*(r-1)],h=n[2*(r-1)+1],f=n[2*r],m=n[2*r+1];o.push(d,h),o.push(c,p,u,l),o.push(f,m),o.push(c,p,u,l)}}(e,r):function(e,t){var r=e.points;if(0===r.length)return;var o=new n.Point(r[0],r[1]),a=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===a.x&&o.y===a.y){(r=r.slice()).pop(),r.pop();var s=(a=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-a.x),l=a.y+.5*(o.y-a.y);r.unshift(s,l),r.push(s,l)}var c=t.points,p=t.indices,u=r.length/2,d=r.length,h=c.length/6,f=e.lineWidth/2,m=(0,i.hex2rgb)(e.lineColor),g=e.lineAlpha,y=m[0]*g,v=m[1]*g,b=m[2]*g,S=r[0],T=r[1],w=r[2],E=r[3],x=0,_=0,k=-(T-E),O=S-w,A=0,C=0,M=0,P=0,R=Math.sqrt(k*k+O*O);k/=R,O/=R,k*=f,O*=f;var I=e.lineAlignment,B=2*(1-I),D=2*I;c.push(S-k*B,T-O*B,y,v,b,g),c.push(S+k*D,T+O*D,y,v,b,g);for(var L=1;L<u-1;++L){S=r[2*(L-1)],T=r[2*(L-1)+1],w=r[2*L],E=r[2*L+1],x=r[2*(L+1)],_=r[2*(L+1)+1],k=-(T-E),O=S-w,k/=R=Math.sqrt(k*k+O*O),O/=R,k*=f,O*=f,A=-(E-_),C=w-x,A/=R=Math.sqrt(A*A+C*C),C/=R;var F=-O+T-(-O+E),N=-k+w-(-k+S),j=(-k+S)*(-O+E)-(-k+w)*(-O+T),V=-(C*=f)+_-(-C+E),G=-(A*=f)+w-(-A+x),U=(-A+x)*(-C+E)-(-A+w)*(-C+_),W=F*G-V*N;if(Math.abs(W)<.1)W+=10.1,c.push(w-k*B,E-O*B,y,v,b,g),c.push(w+k*D,E+O*D,y,v,b,g);else{var z=(N*U-G*j)/W,H=(V*j-F*U)/W;(z-w)*(z-w)+(H-E)*(H-E)>196*f*f?(M=k-A,P=O-C,M/=R=Math.sqrt(M*M+P*P),P/=R,M*=f,P*=f,c.push(w-M*B,E-P*B),c.push(y,v,b,g),c.push(w+M*D,E+P*D),c.push(y,v,b,g),c.push(w-M*D*B,E-P*B),c.push(y,v,b,g),d++):(c.push(w+(z-w)*B,E+(H-E)*B),c.push(y,v,b,g),c.push(w-(z-w)*D,E-(H-E)*D),c.push(y,v,b,g))}}S=r[2*(u-2)],T=r[2*(u-2)+1],w=r[2*(u-1)],E=r[2*(u-1)+1],k=-(T-E),O=S-w,R=Math.sqrt(k*k+O*O),k/=R,O/=R,k*=f,O*=f,c.push(w-k*B,E-O*B),c.push(y,v,b,g),c.push(w+k*D,E+O*D),c.push(y,v,b,g),p.push(h);for(var $=0;$<d;++$)p.push(h++);p.push(h-1)}(e,t)};var n=r(30),i=r(23)},function(e,t,r){var n=r(11);r(27);function i(e){this.lowerBound=n.create(),e&&e.lowerBound&&n.copy(this.lowerBound,e.lowerBound),this.upperBound=n.create(),e&&e.upperBound&&n.copy(this.upperBound,e.upperBound)}e.exports=i;var o=n.create();i.prototype.setFromPoints=function(e,t,r,i){var a=this.lowerBound,s=this.upperBound;"number"!==typeof r&&(r=0),0!==r?n.rotate(a,e[0],r):n.copy(a,e[0]),n.copy(s,a);for(var l=Math.cos(r),c=Math.sin(r),p=1;p<e.length;p++){var u=e[p];if(0!==r){var d=u[0],h=u[1];o[0]=l*d-c*h,o[1]=c*d+l*h,u=o}for(var f=0;f<2;f++)u[f]>s[f]&&(s[f]=u[f]),u[f]<a[f]&&(a[f]=u[f])}t&&(n.add(this.lowerBound,this.lowerBound,t),n.add(this.upperBound,this.upperBound,t)),i&&(this.lowerBound[0]-=i,this.lowerBound[1]-=i,this.upperBound[0]+=i,this.upperBound[1]+=i)},i.prototype.copy=function(e){n.copy(this.lowerBound,e.lowerBound),n.copy(this.upperBound,e.upperBound)},i.prototype.extend=function(e){for(var t=2;t--;){var r=e.lowerBound[t];this.lowerBound[t]>r&&(this.lowerBound[t]=r);var n=e.upperBound[t];this.upperBound[t]<n&&(this.upperBound[t]=n)}},i.prototype.overlaps=function(e){var t=this.lowerBound,r=this.upperBound,n=e.lowerBound,i=e.upperBound;return(n[0]<=r[0]&&r[0]<=i[0]||t[0]<=i[0]&&i[0]<=r[0])&&(n[1]<=r[1]&&r[1]<=i[1]||t[1]<=i[1]&&i[1]<=r[1])},i.prototype.containsPoint=function(e){var t=this.lowerBound,r=this.upperBound;return t[0]<=e[0]&&e[0]<=r[0]&&t[1]<=e[1]&&e[1]<=r[1]},i.prototype.overlapsRay=function(e){var t=1/e.direction[0],r=1/e.direction[1],n=(this.lowerBound[0]-e.from[0])*t,i=(this.upperBound[0]-e.from[0])*t,o=(this.lowerBound[1]-e.from[1])*r,a=(this.upperBound[1]-e.from[1])*r,s=Math.max(Math.max(Math.min(n,i),Math.min(o,a))),l=Math.min(Math.min(Math.max(n,i),Math.max(o,a)));return l<0||s>l?-1:s}},function(e,t,r){e.exports=i;var n=r(11);r(160),r(37),r(113);function i(e){e=e||{},this.from=e.from?n.fromValues(e.from[0],e.from[1]):n.create(),this.to=e.to?n.fromValues(e.to[0],e.to[1]):n.create(),this.checkCollisionResponse=void 0===e.checkCollisionResponse||e.checkCollisionResponse,this.skipBackfaces=!!e.skipBackfaces,this.collisionMask=void 0!==e.collisionMask?e.collisionMask:-1,this.collisionGroup=void 0!==e.collisionGroup?e.collisionGroup:-1,this.mode=void 0!==e.mode?e.mode:i.ANY,this.callback=e.callback||function(e){},this.direction=n.create(),this.length=1,this.update()}i.prototype.constructor=i,i.CLOSEST=1,i.ANY=2,i.ALL=4,i.prototype.update=function(){var e=this.direction;n.sub(e,this.to,this.from),this.length=n.length(e),n.normalize(e,e)},i.prototype.intersectBodies=function(e,t){for(var r=0,n=t.length;!e.shouldStop(this)&&r<n;r++){var i=t[r],o=i.getAABB();(o.overlapsRay(this)>=0||o.containsPoint(this.from))&&this.intersectBody(e,i)}};var o=n.create();i.prototype.intersectBody=function(e,t){var r=this.checkCollisionResponse;if(!r||t.collisionResponse)for(var i=o,a=0,s=t.shapes.length;a<s;a++){var l=t.shapes[a];if((!r||l.collisionResponse)&&(0!==(this.collisionGroup&l.collisionMask)&&0!==(l.collisionGroup&this.collisionMask))){n.rotate(i,l.position,t.angle),n.add(i,i,t.position);var c=l.angle+t.angle;if(this.intersectShape(e,l,c,i,t),e.shouldStop(this))break}}},i.prototype.intersectShape=function(e,t,r,i,o){(function(e,t,r){n.sub(a,r,e);var i=n.dot(a,t);return n.scale(s,t,i),n.add(s,s,e),n.squaredDistance(r,s)})(this.from,this.direction,i)>t.boundingRadius*t.boundingRadius||(this._currentBody=o,this._currentShape=t,t.raycast(e,this,i,r),this._currentBody=this._currentShape=null)},i.prototype.getAABB=function(e){var t=this.to,r=this.from;n.set(e.lowerBound,Math.min(t[0],r[0]),Math.min(t[1],r[1])),n.set(e.upperBound,Math.max(t[0],r[0]),Math.max(t[1],r[1]))};n.create();i.prototype.reportIntersection=function(e,t,r,o){this.from,this.to;var a=this._currentShape,s=this._currentBody;if(!(this.skipBackfaces&&n.dot(r,this.direction)>0))switch(this.mode){case i.ALL:e.set(r,a,s,t,o),this.callback(e);break;case i.CLOSEST:(t<e.fraction||!e.hasHit())&&e.set(r,a,s,t,o);break;case i.ANY:e.set(r,a,s,t,o)}};var a=n.create(),s=n.create()},function(e,t){var r=function(){};e.exports=r,r.prototype={constructor:r,on:function(e,t,r){t.context=r||this,void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t),this},has:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;if(t){if(void 0!==r[e]&&-1!==r[e].indexOf(t))return!0}else if(void 0!==r[e])return!0;return!1},off:function(e,t){if(void 0===this._listeners)return this;var r=this._listeners,n=r[e].indexOf(t);return-1!==n&&r[e].splice(n,1),this},emit:function(e){if(void 0===this._listeners)return this;var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i.call(i.context,e)}}return this}}},function(e,t,r){var n=r(11),i=r(65);function o(e){this.type=e,this.result=[],this.world=null,this.boundingVolumeType=o.AABB}e.exports=o,o.AABB=1,o.BOUNDING_CIRCLE=2,o.prototype.setWorld=function(e){this.world=e},o.prototype.getCollisionPairs=function(e){};var a=n.create();o.boundingRadiusCheck=function(e,t){n.sub(a,e.position,t.position);var r=n.squaredLength(a),i=e.boundingRadius+t.boundingRadius;return r<=i*i},o.aabbCheck=function(e,t){return e.getAABB().overlaps(t.getAABB())},o.prototype.boundingVolumeCheck=function(e,t){var r;switch(this.boundingVolumeType){case o.BOUNDING_CIRCLE:r=o.boundingRadiusCheck(e,t);break;case o.AABB:r=o.aabbCheck(e,t);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return r},o.canCollide=function(e,t){var r=i.KINEMATIC,n=i.STATIC;return(e.type!==n||t.type!==n)&&(!(e.type===r&&t.type===n||e.type===n&&t.type===r)&&((e.type!==r||t.type!==r)&&((e.sleepState!==i.SLEEPING||t.sleepState!==i.SLEEPING)&&!(e.sleepState===i.SLEEPING&&t.type===n||t.sleepState===i.SLEEPING&&e.type===n))))},o.NAIVE=1,o.SAP=2},function(e,t,r){var n=r(37),i=r(11);function o(e){"number"===typeof arguments[0]&&(e={radius:arguments[0]},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),e=e||{},this.radius=e.radius||1,e.type=n.CIRCLE,n.call(this,e)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(e){var t=this.radius;return e*t*t/2},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},o.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},o.prototype.computeAABB=function(e,t,r){var n=this.radius;i.set(e.upperBound,n,n),i.set(e.lowerBound,-n,-n),t&&(i.add(e.lowerBound,e.lowerBound,t),i.add(e.upperBound,e.upperBound,t))};var a=i.create(),s=i.create();o.prototype.raycast=function(e,t,r,n){var o=t.from,l=t.to,c=this.radius,p=Math.pow(l[0]-o[0],2)+Math.pow(l[1]-o[1],2),u=2*((l[0]-o[0])*(o[0]-r[0])+(l[1]-o[1])*(o[1]-r[1])),d=Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2)-Math.pow(c,2),h=Math.pow(u,2)-4*p*d,f=a,m=s;if(!(h<0))if(0===h)i.lerp(f,o,l,h),i.sub(m,f,r),i.normalize(m,m),t.reportIntersection(e,h,m,-1);else{var g=Math.sqrt(h),y=1/(2*p),v=(-u-g)*y,b=(-u+g)*y;if(v>=0&&v<=1&&(i.lerp(f,o,l,v),i.sub(m,f,r),i.normalize(m,m),t.reportIntersection(e,v,m,-1),e.shouldStop(t)))return;b>=0&&b<=1&&(i.lerp(f,o,l,b),i.sub(m,f,r),i.normalize(m,m),t.reportIntersection(e,b,m,-1))}}},function(e,t,r){var n=r(36),i=r(11);function o(e,t){n.call(this,e,t,0,Number.MAX_VALUE),this.contactPointA=i.create(),this.penetrationVec=i.create(),this.contactPointB=i.create(),this.normalA=i.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.computeB=function(e,t,r){var n,o,a=this.bodyA,s=this.bodyB,l=this.contactPointA,c=this.contactPointB,p=a.position,u=s.position,d=this.penetrationVec,h=this.normalA,f=this.G,m=i.crossLength(l,h),g=i.crossLength(c,h);return f[0]=-h[0],f[1]=-h[1],f[2]=-m,f[3]=h[0],f[4]=h[1],f[5]=g,i.add(d,u,c),i.sub(d,d,p),i.sub(d,d,l),this.firstImpact&&0!==this.restitution?(o=0,n=1/t*(1+this.restitution)*this.computeGW()):(o=i.dot(h,d)+this.offset,n=this.computeGW()),-o*e-n*t-r*this.computeGiMf()};var a=i.create(),s=i.create(),l=i.create();o.prototype.getVelocityAlongNormal=function(){return this.bodyA.getVelocityAtPoint(a,this.contactPointA),this.bodyB.getVelocityAtPoint(s,this.contactPointB),i.subtract(l,a,s),i.dot(this.normalA,l)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESENT="@@shared/PRESENT",t.SKIP="@@shared/SKIP",t.ADD_CLIENT="@@shared/ADD_CLIENT",t.CONNECT_CLIENT="@@shared/CONNECT_CLIENT",t.DISCONNECT_CLIENT="@@shared/DISCONNECT_CLIENT",t.REMOVE_CLIENT="@@shared/REMOVE_CLIENT",t.CONNECT="@@shared/CONNECT"},function(e,t,r){(function(n){function i(){var e;try{e=t.storage.debug}catch(r){}return!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DEBUG),e}(t=e.exports=r(1003)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,r(32))},function(e,t){t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),n=0,i=r.length;n<i;n++){var o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(n){function i(){var e;try{e=t.storage.debug}catch(r){}return!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DEBUG),e}(t=e.exports=r(1021)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,r(32))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(98);function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r(52),r(3);var n=r(96),i=(r(7),r(61),{xs:0,sm:600,md:960,lg:1280,xl:1920}),o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function a(e,t,r){if(Array.isArray(t)){var i=e.theme.breakpoints||o;return t.reduce((function(e,n,o){return e[i.up(i.keys[o])]=r(t[o]),e}),{})}if("object"===Object(n.a)(t)){var a=e.theme.breakpoints||o;return Object.keys(t).reduce((function(e,n){return e[a.up(n)]=r(t[n]),e}),{})}return r(t)}},function(e,t,r){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,r){"use strict";var n=r(0),i=r.n(n).a.createContext(null);t.a=i},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for;t.a=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,r){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var i=/[A-Z]/g,o=/^ms-/,a=/&/g,s=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,l=function(e){return"-"+e.toLowerCase()},c=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],p=Object.create(null),u=0,d=["-webkit-","-ms-","-moz-","-o-",""];u<d.length;u++)for(var h=d[u],f=0,m=c;f<m.length;f++){p[h+m[f]]=!0}function g(e){return e.replace(i,l).replace(o,"-ms-")}function y(e){for(var t=5381,r=e.length;r--;)t=33*t^e.charCodeAt(r);return(t>>>0).toString(36)}function v(e,t){return"number"!==typeof t||0===t||p[e]?e+":"+t:e+":"+t+"px"}function b(e){return e.sort((function(e,t){return e[0]>t[0]?1:-1}))}function S(e){return e.map((function(e){var t=e[0],r=e[1];return Array.isArray(r)?r.map((function(e){return v(t,e)})).join(";"):v(t,r)})).join(";")}function T(e,t){return e.indexOf("&")>-1?e.replace(a,t):t+" "+e}function w(e,r,i,o,a){var s=function(e,r){for(var n=[],i=[],o=!1,a=0,s=Object.keys(e);a<s.length;a++){var l=s[a],c=e[l];null!==c&&void 0!==c&&(l===t.IS_UNIQUE?o=!0:"object"!==typeof c||Array.isArray(c)?n.push([g(l.trim()),c]):i.push([l.trim(),c]))}return{styleString:S(b(n)),nestedStyles:r?i:b(i),isUnique:o}}(i,!!r),l=s.styleString,c=s.nestedStyles,p=s.isUnique,u=l;if(64===r.charCodeAt(0)){var d=e.add(new C(r,a?void 0:l,e.hash));if(l&&a){var h=d.add(new A(l,d.hash,p?"u"+(++n).toString(36):void 0));o.push([a,h])}for(var f=0,m=c;f<m.length;f++){var y=m[f];u+=(_=y[0])+w(d,_,y[1],o,a)}}else{var v=a?T(r,a):r;if(l){h=e.add(new A(l,e.hash,p?"u"+(++n).toString(36):void 0));o.push([v,h])}for(var E=0,x=c;E<x.length;E++){var _,k=x[E];u+=(_=k[0])+w(e,_,k[1],o,v)}}return u}function E(e,r,n,i,o){for(var a=new k(e.hash),s=[],l=w(a,r,n,s),c="f"+a.hash(l),p=o?o+"_"+c:c,u=0,d=s;u<d.length;u++){var h=d[u],f=h[0],m=h[1],g=i?T(f,"."+t.escape(p)):f;m.add(new O(g,m.hash,void 0,l))}return{cache:a,pid:l,id:p}}function x(e){for(var t="",r=0;r<e.length;r++)t+=e[r];return t}t.escape=function(e){return e.replace(s,"\\$&")},t.hyphenate=g,t.stringHash=y;var _={add:function(){},change:function(){},remove:function(){}},k=function(){function e(e,t){void 0===e&&(e=y),void 0===t&&(t=_),this.hash=e,this.changes=t,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var r=this._counters[t.id]||0,n=this._children[t.id]||t.clone();if(this._counters[t.id]=r+1,0===r)this._children[n.id]=n,this._keys.push(n.id),this.sheet.push(n.getStyles()),this.changeId++,this.changes.add(n,this._keys.length-1);else{if(n.getIdentifier()!==t.getIdentifier())throw new TypeError("Hash collision: "+t.getStyles()+" === "+n.getStyles());var i=this._keys.indexOf(t.id),o=this._keys.length-1,a=this.changeId;if(i!==o&&(this._keys.splice(i,1),this._keys.push(t.id),this.changeId++),n instanceof e&&t instanceof e){var s=n.changeId;n.merge(t),n.changeId!==s&&this.changeId++}this.changeId!==a&&(i===o?this.sheet.splice(i,1,n.getStyles()):(this.sheet.splice(i,1),this.sheet.splice(o,0,n.getStyles())),this.changes.change(n,i,o))}return n},e.prototype.remove=function(t){var r=this._counters[t.id];if(r>0){this._counters[t.id]=r-1;var n=this._children[t.id],i=this._keys.indexOf(n.id);if(1===r)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(n,i);else if(n instanceof e&&t instanceof e){var o=n.changeId;n.unmerge(t),n.changeId!==o&&(this.sheet.splice(i,1,n.getStyles()),this.changeId++,this.changes.change(n,i,i))}}},e.prototype.merge=function(e){for(var t=0,r=e._keys;t<r.length;t++){var n=r[t];this.add(e._children[n])}return this},e.prototype.unmerge=function(e){for(var t=0,r=e._keys;t<r.length;t++){var n=r[t];this.remove(e._children[n])}return this},e.prototype.clone=function(){return new e(this.hash).merge(this)},e}();t.Cache=k;var O=function(){function e(e,t,r,n){void 0===r&&(r="s"+t(e)),void 0===n&&(n=""),this.selector=e,this.hash=t,this.id=r,this.pid=n}return e.prototype.getStyles=function(){return this.selector},e.prototype.getIdentifier=function(){return this.pid+"."+this.selector},e.prototype.clone=function(){return new e(this.selector,this.hash,this.id,this.pid)},e}();t.Selector=O;var A=function(e){function t(t,r,n){void 0===n&&(n="c"+r(t));var i=e.call(this,r)||this;return i.style=t,i.hash=r,i.id=n,i}return r(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.getIdentifier=function(){return this.style},t.prototype.clone=function(){return new t(this.style,this.hash,this.id).merge(this)},t}(k);t.Style=A;var C=function(e){function t(t,r,n,i,o){void 0===r&&(r=""),void 0===i&&(i="a"+n(t+"."+r)),void 0===o&&(o="");var a=e.call(this,n)||this;return a.rule=t,a.style=r,a.hash=n,a.id=i,a.pid=o,a}return r(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+x(this.sheet)+"}"},t.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},t.prototype.clone=function(){return new t(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},t}(k);t.Rule=C;var M=function(i){function o(t,r,o,a){void 0===t&&(t=y),void 0===r&&(r="undefined"!==typeof e&&!1),void 0===o&&(o="f"+(++n).toString(36));var s=i.call(this,t,a)||this;return s.hash=t,s.debug=r,s.id=o,s}return r(o,i),o.prototype.registerStyle=function(e,t){var r=E(this,"&",e,!0,this.debug?t:void 0),n=r.cache,i=r.id;return this.merge(n),i},o.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},o.prototype.registerHashRule=function(e,r,n){var i=E(this,"",r,!1,this.debug?n:void 0),o=i.cache,a=i.pid,s=i.id,l=new C(e+" "+t.escape(s),void 0,this.hash,void 0,a);return this.add(l.merge(o)),s},o.prototype.registerRule=function(e,t){this.merge(E(this,e,t,!1).cache)},o.prototype.registerCss=function(e){this.merge(E(this,"",e,!1).cache)},o.prototype.getStyles=function(){return x(this.sheet)},o.prototype.getIdentifier=function(){return this.id},o.prototype.clone=function(){return new o(this.hash,this.debug,this.id,this.changes).merge(this)},o}(k);t.FreeStyle=M,t.create=function(e,t,r){return new M(e,t,void 0,r)}}).call(this,r(32))},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(0),i=r(28),o=!0,a=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function p(){o=!1}function u(){"hidden"===this.visibilityState&&a&&(o=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(r){}return o||function(e){var t=e.type,r=e.tagName;return!("INPUT"!==r||!l[t]||e.readOnly)||"TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable}(t)}function h(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function f(){return{isFocusVisible:d,onBlurVisible:h,ref:n.useCallback((function(e){var t,r=i.findDOMNode(e);null!=r&&((t=r.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",p,!0),t.addEventListener("pointerdown",p,!0),t.addEventListener("touchstart",p,!0),t.addEventListener("visibilitychange",u,!0))}),[])}}},function(e,t,r){"use strict";function n(e){var t=e.props,r=e.states,n=e.muiFormControl;return r.reduce((function(e,r){return e[r]=t[r],n&&"undefined"===typeof t[r]&&(e[r]=n[r]),e}),{})}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.r(t),r.d(t,"__DO_NOT_USE__ActionTypes",(function(){return c})),r.d(t,"applyMiddleware",(function(){return g})),r.d(t,"bindActionCreators",(function(){return f})),r.d(t,"combineReducers",(function(){return d})),r.d(t,"compose",(function(){return m})),r.d(t,"createStore",(function(){return u}));var n=r(24);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var s="function"===typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function p(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,r){var n;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(a(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(a(1));return r(u)(e,t)}if("function"!==typeof e)throw new Error(a(2));var i=e,o=t,l=[],d=l,h=!1;function f(){d===l&&(d=l.slice())}function m(){if(h)throw new Error(a(3));return o}function g(e){if("function"!==typeof e)throw new Error(a(4));if(h)throw new Error(a(5));var t=!0;return f(),d.push(e),function(){if(t){if(h)throw new Error(a(6));t=!1,f();var r=d.indexOf(e);d.splice(r,1),l=null}}}function y(e){if(!p(e))throw new Error(a(7));if("undefined"===typeof e.type)throw new Error(a(8));if(h)throw new Error(a(9));try{h=!0,o=i(o,e)}finally{h=!1}for(var t=l=d,r=0;r<t.length;r++){(0,t[r])()}return e}function v(e){if("function"!==typeof e)throw new Error(a(10));i=e,y({type:c.REPLACE})}function b(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(a(11));function r(){e.next&&e.next(m())}return r(),{unsubscribe:t(r)}}})[s]=function(){return this},e}return y({type:c.INIT}),(n={dispatch:y,subscribe:g,getState:m,replaceReducer:v})[s]=b,n}function d(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];0,"function"===typeof e[i]&&(r[i]=e[i])}var o,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:c.INIT}))throw new Error(a(12));if("undefined"===typeof r(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(r)}catch(l){o=l}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var n=!1,i={},l=0;l<s.length;l++){var c=s[l],p=r[c],u=e[c],d=p(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(a(14))}i[c]=d,n=n||d!==u}return(n=n||s.length!==Object.keys(e).length)?i:e}}function h(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"===typeof e)return h(e,t);if("object"!==typeof e||null===e)throw new Error(a(16));var r={};for(var n in e){var i=e[n];"function"===typeof i&&(r[n]=h(i,t))}return r}function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(a(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return n=m.apply(void 0,s)(r.dispatch),o(o({},r),{},{dispatch:n})}}}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgrey:[211,211,211],lightgreen:[144,238,144],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,216],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[216,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},i=1/3,o=2/3,a=Math.round,s=Math.abs;function l(e,t,r){e=+e/255,t=+t/255,r=+r/255;var n,i=Math.max(e,t,r),o=Math.min(e,t,r);if(i===o)n=0;else{var s=i-o;switch(i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{hue:a(200*n),shade:a((i+o)/.02)}}function c(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+6*(t-e)*r:r<.5?t:r<o?e+(t-e)*(o-r)*6:e}function p(e,t){var r=+e/200,n=+t/100,o=n<.5?2*n:n+1-n,s=2*n-o,l=c(s,o,r+i),p=c(s,o,r),u=c(s,o,r-i);return{r:a(255*l),g:a(255*p),b:a(255*u)}}function u(e){var t=(+e).toString(16);return 1===t.length?"0"+t:t}var d=function(){function e(e,t,r){var n;switch(this._r=0,this._g=0,this._b=0,this._hue=0,this._shade=0,arguments.length){case 0:return this;case 3:n={r:e,g:t,b:r};break;case 2:n={hue:e,shade:t};break;case 1:Array.isArray(e)?2===e.length?n={hue:e[0],shade:e[1]}:3===e.length&&(n={r:e[0],g:e[1],b:e[2]}):n=e}switch(typeof n){case"undefined":return this;case"number":this.value=n;break;case"string":"#"===n[0]?this.hex=n:this.name=n;break;case"object":"r"in n&&"g"in n&&"b"in n?this.rgb=n:"hue"in n&&"shade"in n&&(this.scc=n)}}return e.prototype.clone=function(){return new e(this)},e.prototype.toJSON=function(){return{r:this._r,g:this._g,b:this._b,hue:this._hue,shade:this._shade}},e.prototype.toObject=function(){return this.toJSON()},e.prototype.inspect=function(){var e=this.toJSON();return Object.defineProperty(e,"constructor",{value:this.constructor}),e},Object.defineProperty(e.prototype,"r",{get:function(){return this._r},set:function(e){if(!isNaN(e)){var t=l(e=s(e%256),this._g,this._b);this._r=+e,this._hue=t.hue,this._shade=t.shade}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(e){if(!isNaN(e)){e=s(e%256);var t=l(this._r,e,this._b);this._g=+e,this._hue=t.hue,this._shade=t.shade}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(e){if(!isNaN(e)){e=s(e%256);var t=l(this._r,this._g,e);this._b=+e,this._hue=t.hue,this._shade=t.shade}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rgb",{get:function(){return{r:this._r,g:this._g,b:this._b}},set:function(e){if(e){var t=Array.isArray(e),r=+(t?e[0]:e.r),n=+(t?e[1]:e.g),i=+(t?e[2]:e.b);if(!(isNaN(r)||isNaN(n)||isNaN(i))){var o=l(r=s(r%256),n=s(n%256),i=s(i%256));this._r=r,this._g=n,this._b=i,this._hue=o.hue,this._shade=o.shade}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return(this._r<<16)+(this._g<<8)+this._b},set:function(e){if(!isNaN(e)){var t=(16711680&(e=s(e%16777216)))>>16,r=(65280&e)>>8,n=255&e,i=l(t,r,n);this._r=t,this._g=r,this._b=n,this._hue=i.hue,this._shade=i.shade}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hue",{get:function(){return this._hue},set:function(e){if(!isNaN(e)){var t=p(e=s(e%201),this._shade);this._hue=+e,this._r=t.r,this._g=t.g,this._b=t.b}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shade",{get:function(){return this._shade},set:function(e){if(!isNaN(e)){e=s(e%101);var t=p(this._hue,e);this._shade=+e,this._r=t.r,this._g=t.g,this._b=t.b}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scc",{get:function(){return{hue:this._hue,shade:this._shade}},set:function(e){if(e){var t=Array.isArray(e),r=+(t?e[0]:e.hue),n=+(t?e[1]:e.shade);if(!isNaN(r)&&!isNaN(n)){var i=p(r=s(r%201),n=s(n%101));this._r=i.r,this._g=i.g,this._b=i.b,this._hue=+r,this._shade=+n}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){return e=this._r,t=this._g,r=this._b,"#"+u(e)+u(t)+u(r);var e,t,r},set:function(e){var t=function(e){if("string"!==typeof e||"#"!==e[0])return null;var t={r:0,g:0,b:0};switch(e.length){case 4:var r=e[1],n=e[2],i=e[3];if(isNaN(t.r=parseInt(r+r,16))||isNaN(t.g=parseInt(n+n,16))||isNaN(t.b=parseInt(i+i,16)))return null;break;case 7:if(isNaN(t.r=parseInt(e[1]+e[2],16))||isNaN(t.g=parseInt(e[3]+e[4],16))||isNaN(t.b=parseInt(e[5]+e[6],16)))return null;break;default:return null}return t}(e);t&&(this.rgb=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{set:function(e){var t=n[e];t&&(this.rgb=t)},enumerable:!0,configurable:!0}),e}();t.default=d},function(e,t,r){var n=r(494),i=n.filter((function(e){return!!e.css})),o=n.filter((function(e){return!!e.vga}));e.exports=function(t){var r=e.exports.get(t);return r&&r.value},e.exports.get=function(e){return e=(e=e||"").trim().toLowerCase(),n.filter((function(t){return t.name.toLowerCase()===e})).pop()},e.exports.all=e.exports.get.all=function(){return n},e.exports.get.css=function(e){return e?(e=(e=e||"").trim().toLowerCase(),i.filter((function(t){return t.name.toLowerCase()===e})).pop()):i},e.exports.get.vga=function(e){return e?(e=(e=e||"").trim().toLowerCase(),o.filter((function(t){return t.name.toLowerCase()===e})).pop()):o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vision=t.VisionInfo=t.BodyLandmarkInfo=t.HandLandmarkInfo=t.VisionRecogniserInfo=t.WebcamPositionInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("WebcamPosition",null,i.Instance),this.valueType=n.ValueType.String,this.isLiteral=!0,this.declareReadOnlyProperty("smallTopLeft",n.ValueType.String),this.declareReadOnlyProperty("smallTopRight",n.ValueType.String),this.declareReadOnlyProperty("smallBottomLeft",n.ValueType.String),this.declareReadOnlyProperty("smallBottomRight",n.ValueType.String),this.declareReadOnlyProperty("mediumTopLeft",n.ValueType.String),this.declareReadOnlyProperty("mediumTopRight",n.ValueType.String),this.declareReadOnlyProperty("mediumBottomLeft",n.ValueType.String),this.declareReadOnlyProperty("mediumBottomRight",n.ValueType.String),this.declareReadOnlyProperty("mediumCenter",n.ValueType.String),this.declareReadOnlyProperty("wholeStage",n.ValueType.String)}getStaticInstance(){return i.Instance}}t.WebcamPositionInfo=i,i.Type=new i,i.Instance={smallTopLeft:"smallTopLeft",smallTopRight:"smallTopRight",smallBottomLeft:"smallBottomLeft",smallBottomRight:"smallBottomRight",mediumTopLeft:"mediumTopLeft",mediumTopRight:"mediumTopRight",mediumBottomLeft:"mediumBottomLeft",mediumBottomRight:"mediumBottomRight",mediumCenter:"mediumCenter",wholeStage:"wholeStage"};class o extends n.ScoolcodeEnumInfoBase{constructor(){super("VisionRecogniser",null,o.Instance),this.valueType=n.ValueType.String,this.isLiteral=!0,this.declareReadOnlyProperty("hand",n.ValueType.String),this.declareReadOnlyProperty("body",n.ValueType.String)}getStaticInstance(){return o.Instance}}t.VisionRecogniserInfo=o,o.Type=new o,o.Instance={hand:"hand",body:"body"};class a extends n.ScoolcodeEnumInfoBase{constructor(){super("HandLandmark",null,a.Instance),this.valueType=n.ValueType.Number,this.isLiteral=!0,this.declareReadOnlyProperty("wrist",n.ValueType.Number),this.declareReadOnlyProperty("thumb1",n.ValueType.Number),this.declareReadOnlyProperty("thumb2",n.ValueType.Number),this.declareReadOnlyProperty("thumb3",n.ValueType.Number),this.declareReadOnlyProperty("thumb4",n.ValueType.Number),this.declareReadOnlyProperty("indexFinger1",n.ValueType.Number),this.declareReadOnlyProperty("indexFinger2",n.ValueType.Number),this.declareReadOnlyProperty("indexFinger3",n.ValueType.Number),this.declareReadOnlyProperty("indexFinger4",n.ValueType.Number),this.declareReadOnlyProperty("middleFinger1",n.ValueType.Number),this.declareReadOnlyProperty("middleFinger2",n.ValueType.Number),this.declareReadOnlyProperty("middleFinger3",n.ValueType.Number),this.declareReadOnlyProperty("middleFinger4",n.ValueType.Number),this.declareReadOnlyProperty("ringFinger1",n.ValueType.Number),this.declareReadOnlyProperty("ringFinger2",n.ValueType.Number),this.declareReadOnlyProperty("ringFinger3",n.ValueType.Number),this.declareReadOnlyProperty("ringFinger4",n.ValueType.Number),this.declareReadOnlyProperty("pinky1",n.ValueType.Number),this.declareReadOnlyProperty("pinky2",n.ValueType.Number),this.declareReadOnlyProperty("pinky3",n.ValueType.Number),this.declareReadOnlyProperty("pinky4",n.ValueType.Number)}getStaticInstance(){return a.Instance}}t.HandLandmarkInfo=a,a.Type=new a,a.Instance={wrist:0,thumb1:4,thumb2:3,thumb3:2,thumb4:1,indexFinger1:8,indexFinger2:7,indexFinger3:6,indexFinger4:5,middleFinger1:12,middleFinger2:11,middleFinger3:10,middleFinger4:9,ringFinger1:16,ringFinger2:15,ringFinger3:14,ringFinger4:13,pinky1:20,pinky2:19,pinky3:18,pinky4:17};class s extends n.ScoolcodeEnumInfoBase{constructor(){super("BodyLandmark",null,s.Instance),this.valueType=n.ValueType.Number,this.isLiteral=!0,this.declareReadOnlyProperty("nose",n.ValueType.Number),this.declareReadOnlyProperty("leftEyeInner",n.ValueType.Number),this.declareReadOnlyProperty("leftEye",n.ValueType.Number),this.declareReadOnlyProperty("leftEyeOuter",n.ValueType.Number),this.declareReadOnlyProperty("rightEyeInner",n.ValueType.Number),this.declareReadOnlyProperty("rightEye",n.ValueType.Number),this.declareReadOnlyProperty("rightEyeOuter",n.ValueType.Number),this.declareReadOnlyProperty("leftEar",n.ValueType.Number),this.declareReadOnlyProperty("rightEar",n.ValueType.Number),this.declareReadOnlyProperty("mouthLeft",n.ValueType.Number),this.declareReadOnlyProperty("mouthRight",n.ValueType.Number),this.declareReadOnlyProperty("leftShoulder",n.ValueType.Number),this.declareReadOnlyProperty("rightShoulder",n.ValueType.Number),this.declareReadOnlyProperty("leftElbow",n.ValueType.Number),this.declareReadOnlyProperty("rightElbow",n.ValueType.Number),this.declareReadOnlyProperty("leftWrist",n.ValueType.Number),this.declareReadOnlyProperty("rightWrist",n.ValueType.Number),this.declareReadOnlyProperty("leftPinky",n.ValueType.Number),this.declareReadOnlyProperty("rightPinky",n.ValueType.Number),this.declareReadOnlyProperty("leftIndex",n.ValueType.Number),this.declareReadOnlyProperty("rightIndex",n.ValueType.Number),this.declareReadOnlyProperty("leftThumb",n.ValueType.Number),this.declareReadOnlyProperty("rightThumb",n.ValueType.Number)}getStaticInstance(){return s.Instance}}t.BodyLandmarkInfo=s,s.Type=new s,s.Instance={nose:0,leftEyeInner:1,leftEye:2,leftEyeOuter:3,rightEyeInner:4,rightEye:5,rightEyeOuter:6,leftEar:7,rightEar:8,mouthLeft:9,mouthRight:10,leftShoulder:11,rightShoulder:12,leftElbow:13,rightElbow:14,leftWrist:15,rightWrist:16,leftPinky:17,rightPinky:18,leftIndex:19,rightIndex:20,leftThumb:21,rightThumb:22};class l extends n.ScoolcodeBuiltInObjectInfoBase{constructor(e){super("Vision",n.ScoolcodeObjectBase.Type,e),this.declareMethod("handLandmark",n.Point3DInfo.Type).declareParameter("index",n.UnionTypeInfo.for(a.Type,n.ValueType.Number),0).declareBlock("\ud83e\udde0 hand landmark {index}",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("bodyLandmark",n.Point3DWithPresenceInfo.Type).declareParameter("index",n.UnionTypeInfo.for(s.Type,n.ValueType.Number),0).declareBlock("\ud83e\udde0 body landmark {index}",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("handLandmarkOnStage",n.Point3DInfo.Type).declareParameter("index",n.UnionTypeInfo.for(a.Type,n.ValueType.Number),0).declareBlock("\ud83e\udde0 hand landmark {index} on stage",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("bodyLandmarkOnStage",n.Point3DWithPresenceInfo.Type).declareParameter("index",n.UnionTypeInfo.for(s.Type,n.ValueType.Number),0).declareBlock("\ud83e\udde0 body landmark {index} on stage",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareAsyncMethod("enable",n.ValueType.Boolean).declareParameter("name",n.UnionTypeInfo.for(o.Type,n.ValueType.String),"hand").declareBlock("\ud83e\udde0 Enable {name} recogniser",n.BlockColor.DarkBlue),this.declareAsyncMethod("enableHandRecogniser",n.ValueType.Boolean).declareBlock("\ud83e\udde0 Enable hand recogniser",n.BlockColor.DarkBlue).markAsPrivate(),this.declareAsyncMethod("enableWithCustomModel",n.ValueType.Boolean).declareParameter("name",n.ValueType.String,"hand").declareParameter("path",n.ValueType.String,"").declareBlock("\ud83e\udde0 Enable {name} recogniser with custom model {path}",n.BlockColor.DarkBlue),this.declareAsyncMethod("disable",n.ValueType.Boolean).declareParameter("name",n.UnionTypeInfo.for(o.Type,n.ValueType.String),"hand").declareBlock("\ud83e\udde0 Disable {name} recogniser",n.BlockColor.DarkBlue),this.declareMethod("isGestureDetected",n.ValueType.Boolean).declareParameter("name",n.UnionTypeInfo.for(n.GestureTypeInfo.Type,n.ValueType.String),"thumbUp").declareBlock("\ud83e\udde0 {name} gesture detected",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("isAnyDetected",n.ValueType.Boolean).declareBlock(n.GestureBlockInstance,n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("isThumbUpDetected",n.ValueType.Boolean).declareBlock(n.GestureBlockInstance,n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("isThumbDownDetected",n.ValueType.Boolean).declareBlock(n.GestureBlockInstance,n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("isClosedFistDetected",n.ValueType.Boolean).declareBlock(n.GestureBlockInstance,n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("isOpenPalmDetected",n.ValueType.Boolean).declareBlock(n.GestureBlockInstance,n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("isPointingUpDetected",n.ValueType.Boolean).declareBlock(n.GestureBlockInstance,n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("isVictoryDetected",n.ValueType.Boolean).declareBlock(n.GestureBlockInstance,n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("isNoneDetected",n.ValueType.Boolean).declareBlock(n.GestureBlockInstance,n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("gesture",n.ValueType.String).declareParameter("name",n.UnionTypeInfo.for(n.GestureTypeInfo.Type,n.ValueType.String),"thumbUp").declareBlock("\ud83e\udde0 {name} gesture",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareReadOnlyProperty("detectedGesture",n.ValueType.String).declareNameForBlocks("\ud83e\udde0 detected gesture",n.BlockColor.DarkBlue),this.declareProperty("webcamOpacity",n.ValueType.Number).declareDefaults(100,10).declareNameForBlocks("\ud83e\udde0 webcam opacity",n.BlockColor.DarkBlue),this.declareProperty("webcamX",n.ValueType.Number).declareNameForBlocks("\ud83e\udde0 webcam X position",n.BlockColor.DarkBlue),this.declareProperty("webcamY",n.ValueType.Number).declareNameForBlocks("\ud83e\udde0 webcam Y position",n.BlockColor.DarkBlue),this.declareProperty("webcamWidth",n.ValueType.Number).declareDefaults(25,5).declareNameForBlocks("\ud83e\udde0 webcam width",n.BlockColor.DarkBlue),this.declareProperty("webcamHeight",n.ValueType.Number).declareDefaults(25,5).declareNameForBlocks("\ud83e\udde0 webcam height",n.BlockColor.DarkBlue),this.declareAsyncMethod("setWebcamPosition").declareParameter("x",n.ValueType.Number,0).declareParameter("y",n.ValueType.Number,0).declareBlock("\ud83e\udde0 move webcam to x: {x} y: {y}",n.BlockColor.DarkBlue),this.declareAsyncMethod("setWebcamSize").declareParameter("width",n.ValueType.Number,25).declareParameter("height",n.ValueType.Number,25).declareBlock("\ud83e\udde0 set webcam size to width: {width} height: {height}",n.BlockColor.DarkBlue),this.declareMethod("placeWebcamAt").declareParameter("position",n.UnionTypeInfo.for(i.Type,n.ValueType.String),"smallTopLeft").declareBlock("\ud83e\udde0 place webcam at {position}",n.BlockColor.DarkBlue)}}t.VisionInfo=l;class c{constructor(e){this.stage=e,n.SpriteManager.Default.on("gesture",this.handleGesture.bind(this))}async handleGesture(e){await this.stage.getType().OnGesture.emit([e.type,e],this.stage)}get detectedGesture(){var e;return(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)||"None"}get webcamOpacity(){return 100*n.SpriteManager.Default.visionData.webcam.opacity}set webcamOpacity(e){n.SpriteManager.Default.setWebcamOptions(Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam),{opacity:e/100}))}get webcamX(){return 100*n.SpriteManager.Default.visionData.webcam.bounds.x}set webcamX(e){n.SpriteManager.Default.setWebcamOptions(Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam),{bounds:Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam.bounds),{x:e/100})}))}get webcamY(){return 100*n.SpriteManager.Default.visionData.webcam.bounds.y}set webcamY(e){n.SpriteManager.Default.setWebcamOptions(Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam),{bounds:Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam.bounds),{y:e/100})}))}get webcamWidth(){return 100*n.SpriteManager.Default.visionData.webcam.bounds.width}set webcamWidth(e){n.SpriteManager.Default.setWebcamOptions(Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam),{bounds:Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam.bounds),{width:e/100})}))}get webcamHeight(){return 100*n.SpriteManager.Default.visionData.webcam.bounds.height}set webcamHeight(e){n.SpriteManager.Default.setWebcamOptions(Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam),{bounds:Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam.bounds),{height:e/100})}))}setWebcamPosition(e,t){return n.SpriteManager.Default.setWebcamOptions(Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam),{bounds:Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam.bounds),{x:e/100,y:t/100})}))}setWebcamSize(e,t){return n.SpriteManager.Default.setWebcamOptions(Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam),{bounds:Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam.bounds),{width:e/100,height:t/100})}))}handLandmark(e){return(n.SpriteManager.Default.visionData.handLandmarks||[])[e]||{x:0,y:0,z:0}}bodyLandmark(e){return(n.SpriteManager.Default.visionData.poseLandmarks||[])[e]||{x:0,y:0,z:0,visibility:0,presence:0}}handLandmarkOnStage(e){let t=(n.SpriteManager.Default.visionData.handLandmarks||[])[e]||{x:0,y:0,z:0};return{x:t.x*this.stage.width,y:t.y*this.stage.height,z:t.z}}bodyLandmarkOnStage(e){let t=(n.SpriteManager.Default.visionData.poseLandmarks||[])[e]||{x:0,y:0,z:0,visibility:0,presence:0};return{x:t.x*this.stage.width,y:t.y*this.stage.height,z:t.z,visibility:t.visibility,presence:t.presence}}isGestureDetected(e){var t,r;if(!n.GestureTypeInfo.RawValues.hasOwnProperty(e))return!1;const i=n.GestureTypeInfo.RawValues[e];return(null===(t=n.SpriteManager.Default.visionData.gesture)||void 0===t?void 0:t.type)===i||i===n.GestureTypeInfo.RawValues.any&&!!(null===(r=n.SpriteManager.Default.visionData.gesture)||void 0===r?void 0:r.type)}isAnyDetected(){var e;return!!(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)}isThumbUpDetected(){var e;return(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)===n.GestureTypeInfo.RawValues.thumbUp}isThumbDownDetected(){var e;return(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)===n.GestureTypeInfo.RawValues.thumbDown}isClosedFistDetected(){var e;return(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)===n.GestureTypeInfo.RawValues.closedFist}isOpenPalmDetected(){var e;return(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)===n.GestureTypeInfo.RawValues.openPalm}isPointingUpDetected(){var e;return(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)===n.GestureTypeInfo.RawValues.pointingUp}isVictoryDetected(){var e;return(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)===n.GestureTypeInfo.RawValues.victory}isNoneDetected(){var e,t;return!(null===(e=n.SpriteManager.Default.visionData.gesture)||void 0===e?void 0:e.type)||(null===(t=n.SpriteManager.Default.visionData.gesture)||void 0===t?void 0:t.type)===n.GestureTypeInfo.RawValues.none}gesture(e){return n.GestureTypeInfo.Instance.hasOwnProperty(e)?e:n.GestureTypeInfo.Instance.none}async enable(e){return await n.SpriteManager.Default.VisionProvider.enable(e)}async enableHandRecogniser(){return await n.SpriteManager.Default.VisionProvider.enable(o.Instance.hand)}async enableWithCustomModel(e,t){return await n.SpriteManager.Default.VisionProvider.enable(e,{modelAssetPath:t})}async disable(e){return await n.SpriteManager.Default.VisionProvider.disable(e)}placeWebcamAt(e){let t=0,r=0,o=1,a=1;switch(e){case i.Instance.smallTopLeft:o=.25,a=.25;break;case i.Instance.smallTopRight:t=.75,o=.25,a=.25;break;case i.Instance.smallBottomLeft:r=.75,o=.25,a=.25;break;case i.Instance.smallBottomRight:t=.75,r=.75,o=.25,a=.25;break;case i.Instance.mediumTopLeft:o=.5,a=.5;break;case i.Instance.mediumTopRight:t=.5,o=.5,a=.5;break;case i.Instance.mediumBottomLeft:r=.5,o=.5,a=.5;break;case i.Instance.mediumBottomRight:t=.5,r=.5,o=.5,a=.5;break;case i.Instance.mediumCenter:t=.25,r=.25,o=.5,a=.5;break;case i.Instance.wholeStage:t=0,r=0,o=1,a=1}return n.SpriteManager.Default.setWebcamOptions(Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam),{bounds:Object.assign(Object.assign({},n.SpriteManager.Default.visionData.webcam.bounds),{x:t,y:r,width:o,height:a})}))}}t.Vision=c,c.Type=new l(c)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateRecordAction=void 0;const n=r(2);class i extends n.CallMethodAction{constructor(e,t=[],r=!1,n=!0){super(e,t,r,n)}get getName(){return this.method.name}block(e){return n.BlockInstance.for(this.embedded?i.EmbeddedDefinition():i.Definition(),this,e).parameter("name",this,"getName").parameterList(this.parameters,((e,t,r)=>e.parameter("parameters",t,(r+this.parameters.length-1)%this.parameters.length))).updateParts()}}t.CreateRecordAction=i,i.Definition=()=>new n.BlockDefinition("create {name} record with parameters: {parameters}",[new n.BlockParameterInfo("name",n.RecordsInfo.Type,!1,null,null,!1),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0,null,null,!0,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.createRecordWithParameters"),i.EmbeddedDefinition=()=>new n.BlockDefinition("create {name} record with parameters: {parameters}",[new n.BlockParameterInfo("name",n.RecordsInfo.Type,!1,null,null,!1),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0,null,null,!0,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Cherry},"expressions.createRecordWithParameters")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYMBOL_GROUPS=void 0,t.SYMBOL_GROUPS={COMPATIBILITY_MODE:["UNRESTRICTED_PROPERTY_INIT","FLEXIBLE_TYPES","ALLOW_TOO_FEW_PARAMS","ALLOW_TOO_MANY_PARAMS","ALLOW_INVALID_PARAM_TYPE"],SIMPLE_MODE:["DISALLOW_SHADOWING","UNRESTRICTED_PROPERTY_INIT"],COMPILER_LEVEL_2022:["FLEXIBLE_TYPES","ALLOW_TOO_FEW_PARAMS","ALLOW_TOO_MANY_PARAMS","ALLOW_SHADOWING","ALLOW_INVALID_PARAM_TYPE"]}},function(e,t,r){"use strict";(function(t){var n=r(39),i=r(738),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t)&&(e=r(204)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){s.headers[e]=n.merge(o)})),e.exports=s}).call(this,r(32))},function(e,t,r){e.exports=r(755)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compiler=t.setNameValidator=void 0;const n=r(4),i=r(71),o=r(218),a=r(4),s=r(71),l=r(144),c=r(218),p={stagescript:s.StageScriptLanguageMixin,python:c.PythonLanguageMixin};t.setNameValidator=e=>{let t=e||l.ScoolcodeProject.language;p[t]||(t="stagescript"),a.NameValidator.setCallback("python"===t?o.validateName:i.validateName)},t.Compiler={compileGrammar(e,r,n){const a="python"===l.ScoolcodeProject.language?new o.StagePythonCodeGenerator:new i.StageScriptCodeGenerator;return t.Compiler.compileSource(a.generate(e),n,l.ScoolcodeProject.language,r)},async prepareMixins(e,r){let i=r||l.ScoolcodeProject.language;p[i]||(i="stagescript"),await p[i].register(),i===l.ScoolcodeProject.language&&n.ScoolcodeMixinManager.setPrimaryLanguage(i);const o=n.ContextualTypeProvider.getBaseTypes(i);if(o){const{StageBaseType:e,ActorBaseType:r}=o;return(0,t.setNameValidator)(i),{StageBaseType:e,ActorBaseType:r,language:i}}{const e=n.ContextualTypeProvider.getBaseTypes(i);throw console.log(e),new Error("Could not load base types for language: "+i)}},async compileSource(e,r,a,s){const{StageBaseType:l,ActorBaseType:c,language:p}=await this.prepareMixins(r,a),u=new n.ContextualParser(l,c,r),d="python"===p?new o.Tokenizer:new i.Tokenizer,h="python"===p?new o.Parser:new i.Parser;(0,t.setNameValidator)(p);const f=h.setPredefinedSymbols(s),m=d.tokenize(e);if(m){const e=h.parse(m);if(e){const t=await u.parse(e.root);return t?{errors:[],warnings:[...h.warnings,...u.warnings],result:t,symbols:f}:{errors:u.errors,warnings:[...h.warnings,...u.warnings],result:null,symbols:f}}return{errors:h.errors,warnings:h.warnings,result:null,symbols:f}}return{errors:[d.error],warnings:[],result:null}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYMBOL_GROUPS=void 0,t.SYMBOL_GROUPS={COMPATIBILITY_MODE:["UNRESTRICTED_PROPERTY_INIT","ALLOW_TOO_FEW_PARAMS"],SIMPLE_MODE:["SELFLESS_DEF","IMPLICIT_PROPERTY_ACCESS","FORCE_GLOBAL_PROPERTY_ASSIGNMENT","DISALLOW_SHADOWING","UNRESTRICTED_PROPERTY_INIT"],REAL_PYTHON:["IMPLICIT_PROPERTY_ACCESS","UNRESTRICTED_PROPERTY_INIT"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonRangeInfo=t.PythonRange=void 0;const n=r(4);class i{constructor(e,t,r){void 0==t&&(t=e,e=0),void 0!=r&&0!==r||(r=1),this.start=e,this.stop=t,this.step=r}*[Symbol.iterator](){if(this.step>0&&this.start>=this.stop||this.step<0&&this.start<=this.stop)return;let e=this.start;for(;;){if(yield e,e+=this.step,this.step>0&&e>=this.stop)return;if(this.step<0&&e<=this.stop)return}}__str__(){return 1===this.step?`range(${this.start}, ${this.stop})`:`range(${this.start}, ${this.stop}, ${this.step})`}__repr__(){return 1===this.step?`range(${this.start}, ${this.stop})`:`range(${this.start}, ${this.stop}, ${this.step})`}index(e){return n.ExecutionManager.handleIndex(Array.from(this).indexOf(e))}count(e,t){return this.includes(e,t)?1:0}get length(){return Array.from(this).length}includes(e,t){return Array.from(this).includes(e,t)}slice(e,t){const r=Array.from(this);return new i(r[e],r[t],this.step)}reversed(){const e=Array.from(this);return new i(e[e.length-1],e[0]-1,-1*this.step)}}t.PythonRange=i;class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("range",null,i),this.implements.push(n.ValueType.Iterable),this.declareReadOnlyProperty("start",n.ValueType.Number),this.declareReadOnlyProperty("stop",n.ValueType.Number),this.declareReadOnlyProperty("step",n.ValueType.Number),this.declareMethod("index",n.ValueType.Number).declareParameter("value",n.ValueType.Number),this.declareMethod("count",n.ValueType.Number).declareOptionalParameter("value",n.ValueType.Number)}}t.PythonRangeInfo=o,o.Type=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeProject=t.coordinateHash=void 0;const n=r(4),i=r(141);t.coordinateHash=[,n.CoordinateSystemInfo.Instance.center,n.CoordinateSystemInfo.Instance.topLeft,n.CoordinateSystemInfo.Instance.bottomLeft,n.CoordinateSystemInfo.Instance.topRight,n.CoordinateSystemInfo.Instance.bottomRight,n.CoordinateSystemInfo.Instance.polar];class o{constructor(){this.mode="mix",this.properties={},this.symbols={},this.features=null,this.challenge=null,this.localisation=null,this.conversations=[]}static set selectedChallenge(e){n.RuntimeEnvironment.selectedChallenge=e}static get selectedChallenge(){return n.RuntimeEnvironment.selectedChallenge}static get language(){return o.ProjectLanguage}static set language(e){o.ProjectLanguage=e}get language(){return o.language}set language(e){o.language=e}static get stageScriptVersion(){return n.RuntimeEnvironment.stageScriptVersion}serialize(){Date.now();let e;e=this.features?this.features.strictRuntimeChecking?o.LatestStageScriptVersion:o.PreviousStageScriptVersion:n.RuntimeEnvironment.stageScriptVersion;const t=Object.assign(Object.assign({Version:"3.0",stagescript:e,type:"project",language:o.language},this),{application:this.application?this.application.grammar():null,conversations:n.SpriteManager.Default.ConversationProvider.serialize()});try{return JSON.stringify(t)}catch(r){n.runtimeEnv.NODE_ENV}}clone(e={}){const t=new o,{title:r=this.title,description:n=this.description,details:i=this.details,mode:a=this.mode,blockPaletteId:s=this.blockPaletteId,assetSets:l=this.assetSets,extraAssetSets:c=this.extraAssetSets,assetTags:p=this.assetTags,excludeUserAssets:u=this.excludeUserAssets,properties:d=this.properties,symbols:h=this.symbols,source:f=this.source,application:m=this.application,features:g=this.features,challenge:y=this.challenge,localisation:v=this.localisation,metadata:b=this.metadata}=e;return t.title=r,t.description=n,t.details=i,t.metadata=b,t.mode=a,t.blockPaletteId=s,t.assetSets=l,t.extraAssetSets=c,t.assetTags=p,t.excludeUserAssets=u,t.properties=d,t.symbols=h,t.source=f.replace(/\t/g,"    "),t.application=m,t.challenge=y,t.localisation=v,g&&(t.features=Object.assign({},g)),t}static async prepareMixins(e,t){return i.Compiler.prepareMixins(e,t)}static async deserialize(e,r,a,s,l){var c;const p=Date.now();n.RuntimeBuilder.logTimer=l;const u="string"===typeof e?JSON.parse(e):e;if("3.0"!==u.Version){if("2.0"!==u.Version)throw new Error("Unsupported project version: "+u.Version);u.Version="3.0",u.assetGalleryId&&(u.assetSets=[u.assetGalleryId]),console.log("converting project to 3.0:",u.assetGalleryId)}if("project"!==u.type)throw new Error("Invalid file type: "+u.type);const d=new o,h=(e,t)=>{const r=t.title||t.name;r&&(e+=` (${r})`),t.id&&(e+=` {${t.id}}`),console.info(e)};n.RuntimeEnvironment.stageScriptVersion=u.stagescript||o.LatestStageScriptVersion,console.log("stagescript: "+n.RuntimeEnvironment.stageScriptVersion),d.title=u.title,d.description=u.description,d.details=u.details,d.mode=u.mode,d.language=u.language||o.ProjectLanguage||"stagescript",d.metadata=u.metadata||{mobile:!1},d.blockPaletteId=u.blockPaletteId,d.assetSets=u.assetSets||[],d.extraAssetSets=u.extraAssetSets||[],d.assetTags=u.assetTags||[],d.excludeUserAssets=u.excludeUserAssets||!1,d.properties=u.properties,d.source=u.source.replace(/\t/g,"    "),d.challenge=u.challenge||{testCases:[],steps:[],testCaseDisplayMode:"auto"},d.challenge.steps||(d.challenge.steps=[]),u.localisation&&(d.localisation=u.localisation,n.LocalisationService.Default.loadExtension(d.localisation)),u.features&&(d.features=u.features),d.features&&(d.features.strictRuntimeChecking=n.RuntimeEnvironment.stageScriptVersion===o.LatestStageScriptVersion,d.features.testCaseDisplayMode=d.features.testCaseDisplayMode||"auto");const{headingUnit:f,defaultActorX:m,defaultActorY:g,playerWidth:y,playerHeight:v,playerScale:b,playerCoordinates:S,mathLevel:T,hasTerminal:w,hasTurbo:E,readOnlyBloxView:x,readOnlyMixView:_,hasCamera:k}=await r(d.blockPaletteId);if(n.HeadingInfo.Unit=f,n.HeadingInfo.UseReflexAngle=(null===(c=d.features)||void 0===c?void 0:c.useReflexAngle)||!1,n.MathInfo.Level=T,n.PositionTargetsInfo.hasCamera=null!=k&&k,n.TerminalInfo.Enabled=w,n.ScoolcodeActor.DefaultX=m,n.ScoolcodeActor.DefaultY=g,o.DesignTimeManager&&(o.DesignTimeManager.ReadOnlyBloxView=x,o.DesignTimeManager.ReadOnlyMixView=_),n.ExecutionManager.Default.bloxMode="mix"!==d.mode,u.application)try{const e=new n.RuntimeImporter(a,d.language,(async e=>{await o.prepareMixins(a,e)}),d.mode),t=Date.now();d.application=await e.importApplication(u.application,u.language);const r=Date.now();l&&h(`ProjectLoading - importApplication: ${r-t} ms`,u)}catch(C){throw new Error("[importApplication]: "+C.message)}if("mix"===d.mode&&s||!d.application){let e;if("object"===typeof u.symbols)d.symbols=u.symbols,void 0===d.symbols.SIMPLE_MODE&&(d.symbols.SIMPLE_MODE=!0),u.compilerLevel<=2022&&(!u.language||"stagescript"===u.language)?d.symbols.COMPILER_LEVEL_2022=!0:u.compilerLevel&&u.compilerLevel>2022&&d.symbols.COMPILER_LEVEL_2022&&delete d.symbols.COMPILER_LEVEL_2022;else{d.symbols={SIMPLE_MODE:!0},u.compilerLevel&&!(u.compilerLevel<=2022)||u.language&&"stagescript"!==u.language?u.compilerLevel&&u.compilerLevel>2022&&d.symbols.COMPILER_LEVEL_2022&&delete d.symbols.COMPILER_LEVEL_2022:d.symbols.COMPILER_LEVEL_2022=!0;try{const t=Date.now();n.ContextualParserLogger.enable(),e=await i.Compiler.compileSource(d.source,a,d.language,d.symbols),n.ContextualParserLogger.disable();const r=Date.now();l&&h(`ProjectLoading - compileSource: ${r-t} ms`,u)}catch(C){throw new Error("[compileSource]: "+C.message)}e.result||(e=void 0,d.symbols.COMPATIBILITY_MODE=!0)}try{if(!e){const t=Date.now();n.ContextualParserLogger.enable(),e=await i.Compiler.compileSource(d.source,a,d.language,d.symbols),n.ContextualParserLogger.disable();const r=Date.now();l&&h(`ProjectLoading - compileSource: ${r-t} ms`,u)}}catch(C){throw new Error("[compileSource compatibility]: "+C.message)}if(e.result)try{n.ContextualParserLogger.enable();const t=new n.RuntimeBuilder(d.language,e.symbols).buildApplication(e.result);!t.hasPartsOrScenes()&&d.application||(d.application=t),n.ContextualParserLogger.disable()}catch(C){console.error(C)}}else d.symbols=u.symbols||{SIMPLE_MODE:!0};n.ScoolcodeStage.DefaultPlayerSpeed>-1?d.application.stage.playerSpeed=n.ScoolcodeStage.DefaultPlayerSpeed:d.application.stage.playerSpeed="mix"===d.mode&&E?4:3;const O=d.application.stage;n.ScoolcodeStage.DefaultWidth=y,n.ScoolcodeStage.DefaultHeight=v,n.ScoolcodeStage.DefaultScale=b,n.ScoolcodeStage.HasTurboSpeed=E,n.ScoolcodeStage.UseSimplePaths="blox"===d.mode,O.populateListsFromCode(),n.ScoolcodeStage.resetStageDimensions=e=>{e.scale=b,e.width=y,e.height=v,n.ScoolcodeStage.DefaultCoordinateSystem=t.coordinateHash[S],e.coordinateSystem=t.coordinateHash[S]},n.ScoolcodeStage.resetStageDimensions(O),O.actors.forEach((e=>{e.setPosition(m,g),e.props.size=100}));const A=Date.now();return l&&h(`ProjectLoading - deserialize: ${A-p} ms`,u),d}}t.ScoolcodeProject=o,o.PreviousStageScriptVersion="3.0",o.LatestStageScriptVersion="4.0",o.DesignTimeManager=null,o.ProjectLanguage="stagescript",o.LatestCompilerLevel=2023},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,e),this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){this.set(e.x,e.y)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)},e}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(145),a=(n=o)&&n.__esModule?n:{default:n},s=r(13);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;l(this,e),this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a,this.array=null}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,n,i,o){return this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new a.default;var r=e.x,n=e.y;return t.x=this.a*r+this.c*n+this.tx,t.y=this.b*r+this.d*n+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new a.default;var r=1/(this.a*this.d+this.c*-this.b),n=e.x,i=e.y;return t.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this.a,i=this.c,o=this.tx;return this.a=n*t-this.b*r,this.b=n*r+this.b*t,this.c=i*t-this.d*r,this.d=i*r+this.d*t,this.tx=o*t-this.ty*r,this.ty=o*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,n=this.c,i=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*r+e.b*i,this.c=e.c*t+e.d*n,this.d=e.c*r+e.d*i,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*i+this.ty,this},e.prototype.setTransform=function(e,t,r,n,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(r*this.a+n*this.c),this.ty=t-(r*this.b+n*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,n=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),a=Math.atan2(r,t),l=Math.abs(o+a);return l<1e-5||Math.abs(s.PI_2-l)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(n*n+i*i),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,n=this.d,i=this.tx,o=e*n-t*r;return this.a=n/o,this.b=-t/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(e*this.ty-t*i)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},i(e,null,[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}();t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(13);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,e),this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(a),this.type=i.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.pad=function(e,t){e=e||0,t=t||(0!==t?e:0),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);this.x=t,this.width=Math.max(r-t,0),this.y=n,this.height=Math.max(i-n,0)},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);this.x=t,this.width=r-t,this.y=n,this.height=i-n},e.prototype.ceil=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,r=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=n-this.y},n(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}();t.default=a},function(e,t){var r=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(e,t){if(!r){var i=Object.keys(n);r={};for(var o=0;o<i.length;++o){var a=i[o];r[e[a]]=n[a]}}return r[t]}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(30);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((e=e||new n.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=e[0],a=e[1];t=o<t?o:t,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,t=(o=e[2])<t?o:t,r=(a=e[3])<r?a:r,n=o>n?o:n,i=a>i?a:i,t=(o=e[4])<t?o:t,r=(a=e[5])<r?a:r,n=o>n?o:n,i=a>i?a:i,t=(o=e[6])<t?o:t,r=(a=e[7])<r?a:r,n=o>n?o:n,i=a>i?a:i,this.minX=t,this.minY=r,this.maxX=n,this.maxY=i},e.prototype.addFrame=function(e,t,r,n,i){var o=e.worldTransform,a=o.a,s=o.b,l=o.c,c=o.d,p=o.tx,u=o.ty,d=this.minX,h=this.minY,f=this.maxX,m=this.maxY,g=a*t+l*r+p,y=s*t+c*r+u;d=g<d?g:d,h=y<h?y:h,f=g>f?g:f,m=y>m?y:m,d=(g=a*n+l*r+p)<d?g:d,h=(y=s*n+c*r+u)<h?y:h,f=g>f?g:f,m=y>m?y:m,d=(g=a*t+l*i+p)<d?g:d,h=(y=s*t+c*i+u)<h?y:h,f=g>f?g:f,m=y>m?y:m,d=(g=a*n+l*i+p)<d?g:d,h=(y=s*n+c*i+u)<h?y:h,f=g>f?g:f,m=y>m?y:m,this.minX=d,this.minY=h,this.maxX=f,this.maxY=m},e.prototype.addVertices=function(e,t,r,n){for(var i=e.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,c=i.tx,p=i.ty,u=this.minX,d=this.minY,h=this.maxX,f=this.maxY,m=r;m<n;m+=2){var g=t[m],y=t[m+1],v=o*g+s*y+c,b=l*y+a*g+p;u=v<u?v:u,d=b<d?b:d,h=v>h?v:h,f=b>f?b:f}this.minX=u,this.minY=d,this.maxX=h,this.maxY=f},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=i&&n<=o){var a=this.minX,s=this.minY,l=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>l?i:l,this.maxY=o>c?o:c}},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=i&&n<=o){var a=this.minX,s=this.minY,l=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>l?i:l,this.maxY=o>c?o:c}},e}();t.default=i},function(e,t,r){var n,i,o;!function(r){var a=/iPhone/i,s=/iPod/i,l=/iPad/i,c=/\bAndroid(?:.+)Mobile\b/i,p=/Android/i,u=/\bAndroid(?:.+)SD4930UR\b/i,d=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,h=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,g=/BB10/i,y=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,b=/Mobile(?:.+)Firefox\b/i;function S(e,t){return e.test(t)}function T(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),r=t.split("[FBAN");void 0!==r[1]&&(t=r[0]),void 0!==(r=t.split("Twitter"))[1]&&(t=r[0]);var n={apple:{phone:S(a,t)&&!S(h,t),ipod:S(s,t),tablet:!S(a,t)&&S(l,t)&&!S(h,t),device:(S(a,t)||S(s,t)||S(l,t))&&!S(h,t)},amazon:{phone:S(u,t),tablet:!S(u,t)&&S(d,t),device:S(u,t)||S(d,t)},android:{phone:!S(h,t)&&S(u,t)||!S(h,t)&&S(c,t),tablet:!S(h,t)&&!S(u,t)&&!S(c,t)&&(S(d,t)||S(p,t)),device:!S(h,t)&&(S(u,t)||S(d,t)||S(c,t)||S(p,t))||S(/\bokhttp\b/i,t)},windows:{phone:S(h,t),tablet:S(f,t),device:S(h,t)||S(f,t)},other:{blackberry:S(m,t),blackberry10:S(g,t),opera:S(y,t),firefox:S(b,t),chrome:S(v,t),device:S(m,t)||S(g,t)||S(y,t)||S(b,t)||S(v,t)}};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}e.exports&&"undefined"==typeof window?e.exports=T:e.exports&&"undefined"!=typeof window?(e.exports=T(),e.exports.isMobile=T):(i=[],n=r.isMobile=T(),void 0===(o="function"===typeof n?n.apply(t,i):n)||(e.exports=o))}(this)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(30);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return e.prototype.updateLocalTransform=function(){},e.prototype.updateTransform=function(e){var t=e.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*t.a+n.b*t.c,r.b=n.a*t.b+n.b*t.d,r.c=n.c*t.a+n.d*t.c,r.d=n.c*t.b+n.d*t.d,r.tx=n.tx*t.a+n.ty*t.c+t.tx,r.ty=n.tx*t.b+n.ty*t.d+t.ty,this._worldID++},e}();t.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(e,t,r){"use strict";function n(e,t,r){r=r||2;var n,s,l,c,p,h,f,g=t&&t.length,y=g?t[0]*r:e.length,v=i(e,0,y,r,!0),b=[];if(!v||v.next===v.prev)return b;if(g&&(v=function(e,t,r,n){var a,s,l,c=[];for(a=0,s=t.length;a<s;a++)(l=i(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n,!1))===l.next&&(l.steiner=!0),c.push(m(l));for(c.sort(u),a=0;a<c.length;a++)r=o(r=d(c[a],r),r.next);return r}(e,t,v,r)),e.length>80*r){n=l=e[0],s=c=e[1];for(var S=r;S<y;S+=r)(p=e[S])<n&&(n=p),(h=e[S+1])<s&&(s=h),p>l&&(l=p),h>c&&(c=h);f=0!==(f=Math.max(l-n,c-s))?1/f:0}return a(v,b,r,n,s,f),b}function i(e,t,r,n,i){var o,a;if(i===A(e,t,r,n)>0)for(o=t;o<r;o+=n)a=_(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=_(o,e[o],e[o+1],a);return a&&b(a,a.next)&&(k(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!b(n,n.next)&&0!==v(n.prev,n,n.next))n=n.next;else{if(k(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function a(e,t,r,n,i,u,d){if(e){!d&&u&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=f(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,a,s,l,c=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<c&&(s++,n=n.nextZ);t++);for(l=c;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1)}(i)}(e,n,i,u);for(var h,m,g=e;e.prev!==e.next;)if(h=e.prev,m=e.next,u?l(e,n,i,u):s(e))t.push(h.i/r),t.push(e.i/r),t.push(m.i/r),k(e),e=m.next,g=m.next;else if((e=m)===g){d?1===d?a(e=c(o(e),t,r),t,r,n,i,u,2):2===d&&p(e,t,r,n,i,u):a(o(e),t,r,n,i,u,1);break}}}function s(e){var t=e.prev,r=e,n=e.next;if(v(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(g(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(e,t,r,n){var i=e.prev,o=e,a=e.next;if(v(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,p=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=f(s,l,t,r,n),d=f(c,p,t,r,n),h=e.prevZ,m=e.nextZ;h&&h.z>=u&&m&&m.z<=d;){if(h!==e.prev&&h!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&v(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,m!==e.prev&&m!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&v(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;m&&m.z<=d;){if(m!==e.prev&&m!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function c(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!b(i,a)&&S(i,n,n.next,a)&&E(i,a)&&E(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),k(n),k(n.next),n=e=a),n=n.next}while(n!==e);return o(n)}function p(e,t,r,n,i,s){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&y(l,c)){var p=x(l,c);return l=o(l,l.next),p=o(p,p.next),a(l,t,r,n,i,s),void a(p,t,r,n,i,s)}c=c.next}l=l.next}while(l!==e)}function u(e,t){return e.x-t.x}function d(e,t){var r=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r;var l,c=r,p=r.x,u=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=p&&i!==n.x&&g(o<u?i:a,o,p,u,o<u?a:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),E(n,e)&&(l<d||l===d&&(n.x>r.x||n.x===r.x&&h(r,n)))&&(r=n,d=l)),n=n.next}while(n!==c);return r}(e,t);if(!r)return t;var n=x(r,e),i=o(r,r.next);return o(n,n.next),t===r?i:t}function h(e,t){return v(e.prev,e,t.prev)<0&&v(t.next,e,e.next)<0}function f(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function m(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function g(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&S(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(E(e,t)&&E(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!==r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(v(e.prev,e,t.prev)||v(e,t.prev,t))||b(e,t)&&v(e.prev,e,e.next)>0&&v(t.prev,t,t.next)>0)}function v(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function b(e,t){return e.x===t.x&&e.y===t.y}function S(e,t,r,n){var i=w(v(e,t,r)),o=w(v(e,t,n)),a=w(v(r,n,e)),s=w(v(r,n,t));return i!==o&&a!==s||(!(0!==i||!T(e,r,t))||(!(0!==o||!T(e,n,t))||(!(0!==a||!T(r,e,n))||!(0!==s||!T(r,t,n)))))}function T(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function w(e){return e>0?1:e<0?-1:0}function E(e,t){return v(e.prev,e,e.next)<0?v(e,t,e.next)>=0&&v(e,e.prev,t)>=0:v(e,t,e.prev)<0||v(e,e.next,t)<0}function x(e,t){var r=new O(e.i,e.x,e.y),n=new O(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function _(e,t,r,n){var i=new O(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function k(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function O(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=n,e.exports.default=n,n.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(A(e,0,o,r));if(i)for(var s=0,l=t.length;s<l;s++){var c=t[s]*r,p=s<l-1?t[s+1]*r:e.length;a-=Math.abs(A(e,c,p,r))}var u=0;for(s=0;s<n.length;s+=3){var d=n[s]*r,h=n[s+1]*r,f=n[s+2]*r;u+=Math.abs((e[d]-e[f])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[f+1]-e[d+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},n.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(30),o=r(23),a=r(13),s=c(r(64)),l=c(r(87));function c(e){return e&&e.__esModule?e:{default:e}}var p=new i.Point,u=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=a.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||s.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this.vertexData,c=e.trim,p=e.orig,u=this._anchor,d=0,h=0,f=0,m=0;c?(d=(h=c.x-u._x*p.width)+c.width,f=(m=c.y-u._y*p.height)+c.height):(d=(h=-u._x*p.width)+p.width,f=(m=-u._y*p.height)+p.height),l[0]=r*h+i*m+a,l[1]=o*m+n*h+s,l[2]=r*d+i*m+a,l[3]=o*m+n*d+s,l[4]=r*d+i*f+a,l[5]=o*f+n*d+s,l[6]=r*h+i*f+a,l[7]=o*f+n*h+s}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,c=i.tx,p=i.ty,u=-n._x*r.width,d=u+r.width,h=-n._y*r.height,f=h+r.height;t[0]=o*u+s*h+c,t[1]=l*h+a*u+p,t[2]=o*d+s*h+c,t[3]=l*h+a*d+p,t[4]=o*d+s*f+c,t[5]=l*f+a*d+p,t[6]=o*u+s*f+c,t[7]=l*f+a*u+p},t.prototype._renderWebGL=function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,p);var t=this._texture.orig.width,r=this._texture.orig.height,n=-t*this.anchor.x,i=0;return p.x>=n&&p.x<n+t&&(i=-r*this.anchor.y,p.y>=i&&p.y<i+r)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof t?t:t&&t.texture){var r="boolean"===typeof t?t:t&&t.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},t.from=function(e){return new t(s.default.from(e))},t.fromFrame=function(e){var r=o.TextureCache[e];if(!r)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new t(r)},t.fromImage=function(e,r,n){return new t(s.default.fromImage(e,r,n))},n(t,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,o.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,o.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e||s.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}]),t}(l.default);t.default=u},function(e,t,r){"use strict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;e[t]=n<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,r){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},function(e,t,r){"use strict";t.__esModule=!0,t.Ticker=t.shared=void 0;var n,i=r(889),o=(n=i)&&n.__esModule?n:{default:n};var a=new o.default;a.autoStart=!0,a.destroy=function(){},t.shared=a,t.Ticker=o.default},function(e,t,r){"use strict";t.__esModule=!0;var n=i(r(247));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(r,i){o(this,t);var s=null;if(!(r instanceof n.default)){var l=arguments[1],c=arguments[2],p=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+l+", "+c+") instead of the ctor directly."),s=arguments[0],i=null,r=new n.default(l,c,p,u)}var d=a(this,e.call(this,r,i));return d.legacyRenderer=s,d.valid=!0,d._updateUvs(),d}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.resize=function(e,t,r){e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r||this.baseTexture.resize(e,t),this._updateUvs()},t.create=function(e,r,i,o){return new t(new n.default(e,r,i,o))},t}(i(r(64)).default);t.default=s},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){for(var t=6*e,r=new Uint16Array(t),n=0,i=0;n<t;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},function(e,t,r){"use strict";t.__esModule=!0,t.Resource=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=a(r(272)),o=a(r(271));function a(e){return e&&e.__esModule?e:{default:e}}var s=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;function c(){}var p=t.Resource=function(){function e(t,r,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!==typeof t||"string"!==typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=c,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return e.setExtensionLoadType=function(t,r){u(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){u(e._xhrTypeMap,t,r)},e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout((function(){return t(r)}),1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"===typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e.prototype._hasFlag=function(e){return 0!==(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&"undefined"!==typeof window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&"undefined"!==typeof window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},e.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},e.prototype._createSource=function(e,t,r){r||(r=e+"/"+this._getExtension(t));var n=document.createElement("source");return n.src=t,n.type=r,n},e.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(d(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(d(e)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(d(e)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",n="undefined"===typeof t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&"undefined"!==typeof t.responseType||(r=t.responseText),0===n&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=e.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||r;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,l||(l=document.createElement("a")),l.href=e;var r=!(e=(0,i.default)(l.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,n=e.protocol?e.protocol+":":"";return e.host===t.hostname&&r&&n===t.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var n=e.indexOf("?"),i=e.indexOf("#"),o=Math.min(n>-1?n:e.length,i>-1?i:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();function u(e,t,r){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=r)}function d(e){return e.toString().replace("object ","")}p.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},p.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},p.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},p.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},p._loadTypeMap={gif:p.LOAD_TYPE.IMAGE,png:p.LOAD_TYPE.IMAGE,bmp:p.LOAD_TYPE.IMAGE,jpg:p.LOAD_TYPE.IMAGE,jpeg:p.LOAD_TYPE.IMAGE,tif:p.LOAD_TYPE.IMAGE,tiff:p.LOAD_TYPE.IMAGE,webp:p.LOAD_TYPE.IMAGE,tga:p.LOAD_TYPE.IMAGE,svg:p.LOAD_TYPE.IMAGE,"svg+xml":p.LOAD_TYPE.IMAGE,mp3:p.LOAD_TYPE.AUDIO,ogg:p.LOAD_TYPE.AUDIO,wav:p.LOAD_TYPE.AUDIO,mp4:p.LOAD_TYPE.VIDEO,webm:p.LOAD_TYPE.VIDEO},p._xhrTypeMap={xhtml:p.XHR_RESPONSE_TYPE.DOCUMENT,html:p.XHR_RESPONSE_TYPE.DOCUMENT,htm:p.XHR_RESPONSE_TYPE.DOCUMENT,xml:p.XHR_RESPONSE_TYPE.DOCUMENT,tmx:p.XHR_RESPONSE_TYPE.DOCUMENT,svg:p.XHR_RESPONSE_TYPE.DOCUMENT,tsx:p.XHR_RESPONSE_TYPE.DOCUMENT,gif:p.XHR_RESPONSE_TYPE.BLOB,png:p.XHR_RESPONSE_TYPE.BLOB,bmp:p.XHR_RESPONSE_TYPE.BLOB,jpg:p.XHR_RESPONSE_TYPE.BLOB,jpeg:p.XHR_RESPONSE_TYPE.BLOB,tif:p.XHR_RESPONSE_TYPE.BLOB,tiff:p.XHR_RESPONSE_TYPE.BLOB,webp:p.XHR_RESPONSE_TYPE.BLOB,tga:p.XHR_RESPONSE_TYPE.BLOB,json:p.XHR_RESPONSE_TYPE.JSON,text:p.XHR_RESPONSE_TYPE.TEXT,txt:p.XHR_RESPONSE_TYPE.TEXT,ttf:p.XHR_RESPONSE_TYPE.BUFFER,otf:p.XHR_RESPONSE_TYPE.BUFFER},p.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e.exports.default=p},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=r(278),a=(n=o)&&n.__esModule?n:{default:n};var s=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var l=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.limiter=new a.default(i.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(f),this.registerFindHook(m),this.registerFindHook(c),this.registerFindHook(p),this.registerFindHook(u),this.registerUploadHook(d),this.registerUploadHook(h)}return e.prototype.upload=function(e,t){"function"===typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var a=0,l=o.length;a<l;a++)o[a]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof i.Container)for(var n=e.children.length-1;n>=0;n--)this.add(e.children[n]);return this},e.prototype.destroy=function(){this.ticking&&s.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function c(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof i.Texture){var o=e._textures[n].baseTexture;-1===t.indexOf(o)&&(t.push(o),r=!0)}return r}function p(e,t){return e instanceof i.BaseTexture&&(-1===t.indexOf(e)&&t.push(e),!0)}function u(e,t){if(e._texture&&e._texture instanceof i.Texture){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function d(e,t){return t instanceof i.Text&&(t.updateText(!0),!0)}function h(e,t){if(t instanceof i.TextStyle){var r=t.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function f(e,t){if(e instanceof i.Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function m(e,t){return e instanceof i.TextStyle&&(-1===t.indexOf(e)&&t.push(e),!0)}t.default=l},function(e,t,r){var n=r(11),i=r(114);function o(){this.normal=n.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}e.exports=o,o.prototype.reset=function(){n.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},o.prototype.getHitDistance=function(e){return n.distance(e.from,e.to)*this.fraction},o.prototype.hasHit=function(){return-1!==this.fraction},o.prototype.getHitPoint=function(e,t){n.lerp(e,t.from,t.to,this.fraction)},o.prototype.stop=function(){this.isStopped=!0},o.prototype.shouldStop=function(e){return this.isStopped||-1!==this.fraction&&e.mode===i.ANY},o.prototype.set=function(e,t,r,i,o){n.copy(this.normal,e),this.shape=t,this.body=r,this.fraction=i,this.faceIndex=o}},function(e,t){function r(e){this.id=e||r.idCounter++}e.exports=r,r.idCounter=0},function(e,t,r){r(27);var n=r(115);function i(e,t){e=e||{},n.call(this),this.type=t,this.equations=[],this.equationSortFunction=e.equationSortFunction||!1}e.exports=i,i.prototype=new n,i.prototype.constructor=i,i.prototype.solve=function(e,t){throw new Error("Solver.solve should be implemented by subclasses!")};var o={bodies:[]};i.prototype.solveIsland=function(e,t){this.removeAllEquations(),t.equations.length&&(this.addEquations(t.equations),o.bodies.length=0,t.getBodies(o.bodies),o.bodies.length&&this.solve(e,o))},i.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},i.prototype.addEquation=function(e){e.enabled&&this.equations.push(e)},i.prototype.addEquations=function(e){for(var t=0,r=e.length;t!==r;t++){var n=e[t];n.enabled&&this.equations.push(n)}},i.prototype.removeEquation=function(e){var t=this.equations.indexOf(e);-1!==t&&this.equations.splice(t,1)},i.prototype.removeAllEquations=function(){this.equations.length=0},i.GS=1,i.ISLAND=2},function(e,t,r){var n=r(37),i=r(11);r(27);function o(e){(e=e||{}).type=n.PLANE,n.call(this,e)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(e){return 0},o.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},o.prototype.computeAABB=function(e,t,r){var n=r%(2*Math.PI),o=i.set,a=1e7,s=e.lowerBound,l=e.upperBound;o(s,-a,-a),o(l,a,a),0===n?l[1]=0:n===Math.PI/2?s[0]=0:n===Math.PI?s[1]=0:n===3*Math.PI/2&&(l[0]=0)},o.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var a=i.create(),s=(i.create(),i.create(),i.create()),l=i.create();o.prototype.raycast=function(e,t,r,n){var o=t.from,c=t.to,p=t.direction,u=a,d=s,h=l;i.set(d,0,1),i.rotate(d,d,n),i.sub(h,o,r);var f=i.dot(h,d);if(i.sub(h,c,r),!(f*i.dot(h,d)>0)&&!(i.squaredDistance(o,c)<f*f)){var m=i.dot(d,p);i.sub(u,o,r);var g=-i.dot(d,u)/m/t.length;t.reportIntersection(e,g,d,-1)}}},function(e,t,r){var n=r(37),i=r(11);function o(e){(e=e||{}).type=n.PARTICLE,n.call(this,e)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(e){return 0},o.prototype.updateBoundingRadius=function(){this.boundingRadius=0},o.prototype.computeAABB=function(e,t,r){i.copy(e.lowerBound,t),i.copy(e.upperBound,t)}},function(e,t,r){r(11);var n=r(27);function i(e,t,r){r=n.defaults(r,{stiffness:100,damping:1}),this.stiffness=r.stiffness,this.damping=r.damping,this.bodyA=e,this.bodyB=t}e.exports=i,i.prototype.applyForce=function(){}},function(e,t,r){"use strict";(function(t){var n=r(41),i=r(977),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t)&&(e=r(307)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){s.headers[e]=n.merge(o)})),e.exports=s}).call(this,r(32))},function(e,t){var r=1e3,n=60*r,i=60*n,o=24*i,a=365.25*o;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(l=e,o,"day")||s(l,i,"hour")||s(l,n,"minute")||s(l,r,"second")||l+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(1004)("socket.io-parser"),i=r(79),o=r(1006),a=r(312),s=r(313);function l(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=l,t.Decoder=u;var c=t.ERROR+'"encode error"';function p(e){var r=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(r+=e.nsp+","),null!=e.id&&(r+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return c;r+=i}return n("encoded %j as %s",e,r),r}function u(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}l.prototype.encode=function(e,r){(n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){function r(e){var r=o.deconstructPacket(e),n=p(r.packet),i=r.buffers;i.unshift(n),t(i)}o.removeBlobs(e,r)}(e,r):r([p(e)])},i(u.prototype),u.prototype.add=function(e){var r;if("string"===typeof e)r=function(e){var r=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return h("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o=r+1;"-"!==e.charAt(++r)&&r!=e.length;);var s=e.substring(o,r);if(s!=Number(s)||"-"!==e.charAt(r))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===e.charAt(r+1)){for(o=r+1;++r;){if(","===(c=e.charAt(r)))break;if(r===e.length)break}i.nsp=e.substring(o,r)}else i.nsp="/";var l=e.charAt(r+1);if(""!==l&&Number(l)==l){for(o=r+1;++r;){var c;if(null==(c=e.charAt(r))||Number(c)!=c){--r;break}if(r===e.length)break}i.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){var p=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(r));if(!(!1!==p&&(i.type===t.ERROR||a(p))))return h("invalid payload");i.data=p}return n("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new d(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",r))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,r){"use strict";(function(e){var n=r(1007),i=r(1008),o=r(1009);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function p(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(p(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var p=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===p?0:o-p)){if(-1===p&&(p=o),o-p+1===l)return p*a}else-1!==p&&(o-=o-p),p=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var u=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){u=!1;break}if(u)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function S(e,t,r,n){return W(G(t,e.length-r),e,r,n)}function T(e,t,r,n){return W(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return T(e,t,r,n)}function E(e,t,r,n){return W(U(t),e,r,n)}function x(e,t,r,n){return W(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,c=e[i],p=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u<=r)switch(u){case 1:c<128&&(p=c);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(p=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(p=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(p=l)}null===p?(p=65533,u=1):p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|1023&p),n.push(p),i+=u}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return p(t),t<=0?s(e,t):void 0!==r?"string"===typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),p=e.slice(t,r),u=0;u<s;++u)if(c[u]!==p[u]){o=c[u],a=p[u];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":return T(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function M(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=V(e[o]);return i}function P(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function B(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,n,o){return o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,o){return o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},l.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=l.isBuffer(e)?e:G(new l(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(47))},function(e,t,r){var n=r(1012),i=r(171);e.exports=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(a){}try{if("undefined"!==typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(a){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}},function(e,t){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},function(e,t,r){var n=r(80),i=r(79);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,r){var n=r(1028);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var r,n=[],o=0,a=0,s="",p=t&&t.delimiter||"/";null!=(r=i.exec(e));){var u=r[0],d=r[1],h=r.index;if(s+=e.slice(a,h),a=h+u.length,d)s+=d[1];else{var f=e[a],m=r[2],g=r[3],y=r[4],v=r[5],b=r[6],S=r[7];s&&(n.push(s),s="");var T=null!=m&&null!=f&&f!==m,w="+"===b||"*"===b,E="?"===b||"*"===b,x=r[2]||p,_=y||v;n.push({name:g||o++,prefix:m||"",delimiter:x,optional:E,repeat:w,partial:T,asterisk:!!S,pattern:_?c(_):S?".*":"[^"+l(x)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&n.push(s),n}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",u(t)));return function(t,i){for(var o="",s=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var p=e[c];if("string"!==typeof p){var u,d=s[p.name];if(null==d){if(p.optional){p.partial&&(o+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(n(d)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(u=l(d[h]),!r[c].test(u))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(u)+"`");o+=(0===h?p.prefix:p.delimiter)+u}}else{if(u=p.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(d),!r[c].test(u))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+u+'"');o+=p.prefix+u}}else o+=p}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function d(e,t,r){n(t)||(r=t||r,t=[]);for(var i=(r=r||{}).strict,o=!1!==r.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var d=l(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),a+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var f=l(r.delimiter||"/"),m=a.slice(-f.length)===f;return i||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+f+"|$)",p(new RegExp("^"+a,u(r)),t)}function h(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}(e,t):n(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(h(e[i],t,r).source);return p(new RegExp("(?:"+n.join("|")+")",u(r)),t)}(e,t,r):function(e,t,r){return d(o(e,r),t,r)}(e,t,r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r(3),i=r(72),o=r(62);function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=r(82);function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,r){return(c=l()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Object(s.a)(i,r.prototype),i}).apply(null,arguments)}function p(e){var t="function"===typeof Map?new Map:void 0;return(p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(s.a)(n,e)})(e)}var u=function(e){function t(t){var r;return r=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,Object(i.a)(r)}return Object(o.a)(t,e),t}(p(Error));function d(e){return Math.round(255*e)}function h(e,t,r){return d(e)+","+d(t)+","+d(r)}function f(e,t,r,n){if(void 0===n&&(n=h),0===t)return n(r,r,r);var i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*t,a=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var p=r-o/2;return n(s+p,l+p,c+p)}var m={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var g=/^#[a-fA-F0-9]{6}$/,y=/^#[a-fA-F0-9]{8}$/,v=/^#[a-fA-F0-9]{3}$/,b=/^#[a-fA-F0-9]{4}$/,S=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,T=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,w=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,E=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function x(e){if("string"!==typeof e)throw new u(3);var t=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return m[t]?"#"+m[t]:e}(e);if(t.match(g))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(y)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(v))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(b)){var n=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:n}}var i=S.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=T.exec(t.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])};var a=w.exec(t);if(a){var s="rgb("+f(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=S.exec(s);if(!l)throw new u(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var c=E.exec(t.substring(0,50));if(c){var p="rgb("+f(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=S.exec(p);if(!d)throw new u(4,t,p);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])}}throw new u(5)}var _=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function k(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function O(e,t,r){if("number"===typeof e&&"number"===typeof t&&"number"===typeof r)return _("#"+k(e)+k(t)+k(r));if("object"===typeof e&&void 0===t&&void 0===r)return _("#"+k(e.red)+k(e.green)+k(e.blue));throw new u(6)}function A(e,t,r,n){if("string"===typeof e&&"number"===typeof t){var i=x(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof r&&"number"===typeof n)return n>=1?O(e,t,r):"rgba("+e+","+t+","+r+","+n+")";if("object"===typeof e&&void 0===t&&void 0===r&&void 0===n)return e.alpha>=1?O(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new u(7)}function C(e,t,r){return function(){var n=r.concat(Array.prototype.slice.call(arguments));return n.length>=t?e.apply(this,n):C(e,t,n)}}function M(e){return C(e,e.length,[])}function P(e,t,r){return Math.max(e,Math.min(t,r))}function R(e,t){if("transparent"===t)return t;var r=x(t),i="number"===typeof r.alpha?r.alpha:1;return A(Object(n.a)({},r,{alpha:P(0,1,+(100*i-100*parseFloat(e)).toFixed(2)/100)}))}var I=M(R)},function(e,t,r){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.d(t,"a",(function(){return i}))},,,,function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignableTypes=t.EnumBaseType=t.ContextualLevelKind=t.ExtraTypes=t.AllTypes=t.TextureTypes=t.LiteralTypes=t.ModuleBaseType=t.RecordConstructorBaseType=t.RecordBaseType=t.EventDataType=t.FunctionBaseType=t.DynamicType=t.NullType=t.AnyType=t.CostumeLiteralBaseType=t.ParallaxLiteralBaseType=t.BackdropLiteralBaseType=t.SoundLiteralBaseType=t.SoundLiteralBaseBaseType=t.TextureLiteralBaseType=t.ArrayLiteralBaseType=t.NumberLiteralBaseType=t.BooleanLiteralBaseType=t.TemplateStringLiteralBaseType=t.StringLiteralBaseType=t.IterableLiteralInterface=t.NumericLiteralInterface=t.UndefinedLiteralType=t.LiteralBaseType=t.EventBaseType=void 0,t.EventBaseType={name:"StageScript.Event",baseType:null,fields:[],events:[],internal:!0},t.LiteralBaseType={name:"StageScript.Literal",baseType:null,fields:[],events:[],internal:!0},t.UndefinedLiteralType={name:"undefined",baseType:t.LiteralBaseType,fields:[],events:[],internal:!0},t.NumericLiteralInterface={name:"numeric",baseType:t.LiteralBaseType,fields:[],events:[],internal:!0},t.IterableLiteralInterface={name:"iterable",baseType:t.LiteralBaseType,fields:[],events:[],internal:!0},t.StringLiteralBaseType={name:"string",baseType:t.LiteralBaseType,implements:[t.NumericLiteralInterface,t.IterableLiteralInterface],fields:[],events:[],internal:!0},t.TemplateStringLiteralBaseType={name:"template-string",baseType:t.StringLiteralBaseType,fields:[],events:[],internal:!0},t.BooleanLiteralBaseType={name:"boolean",baseType:t.LiteralBaseType,fields:[],events:[],internal:!0},t.NumberLiteralBaseType={name:"number",baseType:t.LiteralBaseType,implements:[t.NumericLiteralInterface],fields:[],events:[],internal:!0},t.ArrayLiteralBaseType={name:"array",baseType:t.LiteralBaseType,implements:[t.IterableLiteralInterface],fields:[],events:[],internal:!0},t.TextureLiteralBaseType={name:"texture",baseType:t.LiteralBaseType,fields:[],events:[],internal:!0},t.SoundLiteralBaseBaseType={name:"sound",baseType:t.LiteralBaseType,fields:[],events:[],internal:!0},t.SoundLiteralBaseType={name:"sound",baseType:t.SoundLiteralBaseBaseType,fields:[],events:[],internal:!0},t.BackdropLiteralBaseType={name:"backdrop",baseType:t.TextureLiteralBaseType,fields:[],events:[],internal:!0},t.ParallaxLiteralBaseType={name:"parallax",baseType:t.TextureLiteralBaseType,fields:[],events:[],internal:!0},t.CostumeLiteralBaseType={name:"costume",baseType:t.TextureLiteralBaseType,fields:[],events:[],internal:!0},t.AnyType={name:"any",baseType:null,fields:[],events:[],internal:!0},t.NullType={name:"null",baseType:null,fields:[],events:[],internal:!0},t.DynamicType={name:"dynamic",baseType:null,fields:[],events:[],internal:!0},t.FunctionBaseType={name:"StageScript.Function",baseType:null,fields:[],events:[],internal:!0};t.EventDataType=e=>({name:"StageScript.Event",baseType:null,fields:[{name:"data",type:e}],events:[],internal:!0}),t.RecordBaseType={name:"ScoolcodeRecord",baseType:null,fields:[{name:"type",type:t.StringLiteralBaseType,internal:!0}],events:[],internal:!0},t.RecordConstructorBaseType={name:"ScoolcodeRecordConstructor",baseType:t.FunctionBaseType,fields:[],events:[],internal:!0},t.ModuleBaseType={name:"ScoolcodeModule",baseType:null,fields:[],events:[],internal:!0},t.LiteralTypes={number:t.NumberLiteralBaseType,numeric:t.NumericLiteralInterface,boolean:t.BooleanLiteralBaseType,string:t.StringLiteralBaseType,"template-string":t.TemplateStringLiteralBaseType,array:t.ArrayLiteralBaseType,iterable:t.IterableLiteralInterface},t.TextureTypes={backdrop:t.BackdropLiteralBaseType,costume:t.CostumeLiteralBaseType,parallax:t.ParallaxLiteralBaseType},t.AllTypes=[t.BooleanLiteralBaseType,t.NumberLiteralBaseType,t.NumericLiteralInterface,t.StringLiteralBaseType,t.ArrayLiteralBaseType,t.BackdropLiteralBaseType,t.CostumeLiteralBaseType,t.ParallaxLiteralBaseType,t.SoundLiteralBaseType,t.IterableLiteralInterface],t.ExtraTypes={ClassTypes:[]},function(e){e[e.Stage=0]="Stage",e[e.Actor=1]="Actor",e[e.Function=2]="Function",e[e.When=3]="When",e[e.ThisBinding=4]="ThisBinding",e[e.Literal=5]="Literal",e[e.Block=6]="Block",e[e.Application=7]="Application",e[e.Part=8]="Part",e[e.Scene=9]="Scene",e[e.Record=101]="Record",e[e.CallMethod=10]="CallMethod",e[e.CallFunction=11]="CallFunction",e[e.CallExpression=12]="CallExpression",e[e.ReadVariable=20]="ReadVariable",e[e.ReadProperty=21]="ReadProperty",e[e.DeclareVariable=24]="DeclareVariable",e[e.DeclareVariableList=202]="DeclareVariableList",e[e.PropertyIndexer=25]="PropertyIndexer",e[e.VariableIndexer=26]="VariableIndexer",e[e.ExpressionIndexer=27]="ExpressionIndexer",e[e.PropertyIndexerRange=28]="PropertyIndexerRange",e[e.VariableIndexerRange=29]="VariableIndexerRange",e[e.ExpressionIndexerRange=201]="ExpressionIndexerRange",e[e.Operator=30]="Operator",e[e.Assignment=31]="Assignment",e[e.PrefixUnaryOperator=32]="PrefixUnaryOperator",e[e.PostfixUnaryOperator=33]="PostfixUnaryOperator",e[e.IfStatement=40]="IfStatement",e[e.ForStatement=41]="ForStatement",e[e.WhileStatement=42]="WhileStatement",e[e.DoWhileStatement=43]="DoWhileStatement",e[e.ReturnStatement=44]="ReturnStatement",e[e.BreakStatement=45]="BreakStatement",e[e.ContinueStatement=46]="ContinueStatement",e[e.ForOfStatement=47]="ForOfStatement",e[e.LineCommentStatement=48]="LineCommentStatement",e[e.MultiLineCommentStatement=49]="MultiLineCommentStatement",e[e.StageBinding=50]="StageBinding",e[e.ForInStatement=51]="ForInStatement",e[e.DeleteStatement=52]="DeleteStatement",e[e.PassStatement=53]="PassStatement"}(t.ContextualLevelKind||(t.ContextualLevelKind={})),t.EnumBaseType={name:"enum",baseType:null,fields:[],events:[],internal:!0},t.AssignableTypes=[[t.NumericLiteralInterface,t.NumberLiteralBaseType],[t.NumberLiteralBaseType,t.NumericLiteralInterface],[t.NumericLiteralInterface,t.StringLiteralBaseType],[t.StringLiteralBaseType,t.NumericLiteralInterface]]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockColor=void 0;class n{}t.BlockColor=n,n.LightBlue={fill:"#00aeef",stroke:"#33669a",lightFill:"#1AC8FF"},n.DarkBlue={fill:"#2e507f",stroke:"#1a2a42",lightFill:"#486A99"},n.Motion={fill:"#007FFF",stroke:"#003366",lightFill:"#1A99FF"},n.Looks={fill:"#00CCCC",stroke:"#004C4C",lightFill:"#1AE6E6"},n.Sensing={fill:"#00D497",stroke:"#00402D",lightFill:"#1AEEB1"},n.Sound={fill:"#E500BB",stroke:"#400034",lightFill:"#FF1AD5"},n.Events={fill:"#00CC22",stroke:"#00400B",lightFill:"#1AE63C"},n.Control={fill:"#FFAE00",stroke:"#402B00",lightFill:"#FFC81A"},n.Pen={fill:"#00731F",stroke:"#00260A",lightFill:"#1A8D39"},n.Gamepad={fill:"#8800FF",stroke:"#220040",lightFill:"#A21AFF"},n.Http={fill:"#E38C9C",stroke:"#b8233e",lightFill:"#FFAEBE"},n.Camera={fill:"#C800FF",stroke:"#320040",lightFill:"#E21AFF"},n.Data={fill:"#CC003D",stroke:"#33000F",lightFill:"#E61A57"},n.Variables={fill:"#AA003D",stroke:"#22000F",lightFill:"#E61A57"},n.Operators={fill:"#6B9299",stroke:"#121819",lightFill:"#85ACB3"},n.DarkGreen={fill:"#2c615d",stroke:"#163a36",lightFill:"#467B77"},n.Purple={fill:"#6B558F",stroke:"#4D2766",lightFill:"#856FA9"},n.Cherry={fill:"#a92b65",stroke:"#3D0921",lightFill:"#C3457F"},n.DarkOrange={fill:"#c17e2c",stroke:"#6c501f",lightFill:"#DB9846"},n.Night={fill:"#1e1e1e",stroke:"#e1e1e1",lightFill:"#383838"},n.Minecraft={fill:"#c17e2c",stroke:"#2d8f44",lightFill:"#2d8f44"},n.DarkPurple={fill:"#400642",stroke:"#874983",lightFill:"#E09FBC"}},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&p(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){p(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){p(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(p,0,e)},l.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return o[i]=a,n(i),i++},l.clearImmediate=c}function c(e){delete o[e]}function p(e){if(a)setTimeout(p,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r(47),r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=t.LineInfo=t.DynamicInfo=t.AnyInfo=t.NullInfo=t.ArrayInfo=t.FunctionInfo=t.IterableInfo=t.NumericInfo=t.BooleanInfo=t.CssColorInfo=t.TemplateStringInfo=t.StringInfo=t.AngleInfo=t.NumberInfo=t.ValueTypeInfo=t.UnionTypeInfo=t.ValueTypeInfoBase=t.IterableTypeNames=t.ValueTypeName=void 0;const n=r(2);t.ValueTypeName={Number:"number",Angle:"angle",Color:"color",Numeric:"numeric",String:"string",TemplateString:"template-string",Boolean:"boolean",Function:"function",Array:"array",Null:"null",Any:"any",Dynamic:"dynamic",ActorHack:"actorHack",Line:"string",Iterable:"iterable"},t.IterableTypeNames=[t.ValueTypeName.Array,t.ValueTypeName.String,t.ValueTypeName.Iterable];class i extends n.ClassInfo{}t.ValueTypeInfoBase=i;class o extends n.ClassInfo{constructor(e){super(e.map((e=>e.fullName)).join("|"),null,null),this.possibleTypes=e}static for(...e){return new o(e)}get primary(){return this.possibleTypes[0]}}t.UnionTypeInfo=o;class a extends i{constructor(e,t=null,r,n){super(e,null,{instanceFactory:null,value:t}),this.mixins=[],this.prototype=r,n?this.scopeOrVerification=n:r&&r.constructor&&(this.scopeOrVerification=typeof r.constructor())}applyMixins(e){for(let t of this.mixins){const r=t.implementation(e);for(let t in r)r.hasOwnProperty(t)&&(e[t]=r[t])}}applyMixin(e){if(this.prototype){const t=e.implementation(this.prototype);for(let e in t)t.hasOwnProperty(e)&&(this.prototype[e]=t[e])}}declareAndApplyMixin(e){this.mixins.includes(e)||(n.ScoolcodeMixinManager.declareMixinOnHost({declareAsyncMethod:this.declareAsyncMethod.bind(this),declareMethod:this.declareMethod.bind(this),declareReadOnlyProperty:this.declareReadOnlyProperty.bind(this),declareProperty:this.declareProperty.bind(this),declareEvent:this.declareEvent.bind(this),events:this.events,methods:this.methods,properties:this.properties,original:this},e,!0),this.mixins.push(e),this.applyMixin(e))}init(){}}t.ValueTypeInfo=a;class s extends a{constructor(e=null){super(t.ValueTypeName.Number,e,Number.prototype)}init(){this.declareMethod("toFixed",t.ValueType.String).declareOptionalParameter("digits",t.ValueType.Number)}castTo(e){return+e}}t.NumberInfo=s;class l extends s{constructor(){super(...arguments),this.externalTypeFieldName="NUM"}get externalType(){return"degrees"===this.HeadingInfo.Unit?"math_angle":"minutes"===this.HeadingInfo.Unit?"math_angle_minutes":null}}t.AngleInfo=l,String.prototype.charAt1=function(e){return this.charAt(e-1)};class c extends a{constructor(e=null){super(t.ValueTypeName.String,e,String.prototype)}init(){this.thisType=this}castTo(e){return""+e}}t.StringInfo=c;class p extends c{constructor(e=null){super(e),this.setName(t.ValueTypeName.TemplateString)}castTo(e){return`${e}`}}t.TemplateStringInfo=p;class u extends c{constructor(){super(...arguments),this.externalType="colour_picker",this.externalTypeFieldName="COLOUR"}}t.CssColorInfo=u;class d extends a{constructor(e=null){super(t.ValueTypeName.Boolean,e,Boolean.prototype)}castTo(e){return!!+e}}t.BooleanInfo=d;class h extends a{constructor(e=null){super(t.ValueTypeName.Numeric,e,null)}castTo(e){const t=+e;return t===t?t:""+e}}t.NumericInfo=h;class f extends a{constructor(e=null){super(t.ValueTypeName.Iterable,e,null)}castTo(e){return e}}t.IterableInfo=f;class m extends a{constructor(e=null){super(t.ValueTypeName.Function,e,null)}castTo(e){return e}}t.FunctionInfo=m;class g extends a{constructor(e=null){super(t.ValueTypeName.Array,e,null),this.scopeOrVerification=e=>Array.isArray(e)}init(){this.thisType=r(185).ListsInfo.Type}castTo(e){return e}}t.ArrayInfo=g;class y extends a{constructor(e=null){super(t.ValueTypeName.Null,e,null)}castTo(e){return null}}t.NullInfo=y;class v extends a{constructor(e=null){super(t.ValueTypeName.Any,e,null)}castTo(e){return e}}t.AnyInfo=v;class b extends a{constructor(e=null){super(t.ValueTypeName.Dynamic,e,null),this.options={validateMembers:"none"}}castTo(e){return e}}t.DynamicInfo=b;class S extends c{constructor(e=null){super(e),this.setName(t.ValueTypeName.Line)}castTo(e){return String(e)}}t.LineInfo=S,t.ValueType={Number:new s,Angle:new l,Color:new u,Numeric:new h,Boolean:new d,String:new c,TemplateString:new p,Function:new m,Array:new g,Null:new y,Any:new v,Dynamic:new b,Line:new S,Iterable:new f},n.EventInfo.defaultParameterType=t.ValueType.String},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListsInfo=void 0;const n=r(2);function i(e,t){let r=[];for(let o of t.children)if(o instanceof n.BlockInstance){if(o===e)break;o.action instanceof n.DeclareVariableWithValueAction&&r.push([o.action.variableName,o.action.variableName])}else{if(!(o instanceof n.BlockInstanceList)){console.warn("Unsupported child:",o);break}r=[...r,...i(e,o)]}return r}class o extends n.ScoolcodeEnumInfoBase{constructor(){super("Lists",null,o.Instance),this.valueType=n.ValueType.Array,this.isDynamic=!0,this.providedValueToItemSync=(e,t)=>new n.ReadVariableAction(t),this.itemToProvidedValue=({program:e},t)=>{if(!t)return"";const r=t.name||t.variableName||"";return r?n.LocalisationService.Default.getValue(`challenge:variable:${r}`,r):r},this.valueProvider=({program:e,block:t,resolveReference:r})=>{if(!e)return[];let o=[];if(t&&t.parent&&"undefined"!==t.parent.typeRef){let a=r(t.parent);const s=this.tryResolveScope(a,t,e);if(s)e=s;else{a=t;let e=t;e:for(;;){do{if(a=r(a.parent),a instanceof n.BlockProgram)break e}while(a&&!(a instanceof n.BlockInstanceList));o=[...o,...i(e,a)];if(r(a.parent).target)break;e=a}}}return e.getType().fields.filter((e=>!e.internal)).forEach((e=>o.push([e.name,e.name]))),e instanceof n.ScoolcodeActor&&e.stage.getType().fields.filter((e=>!e.internal)).forEach((e=>{o.find((([t])=>t===e.name))||o.push([e.name,e.name])})),o.map((([e,t])=>[n.LocalisationService.Default.getValue(`challenge:variable:${e}`,e),t])).sort(((e,t)=>e[0].localeCompare(t[0])))}}tryResolveScope(e,t,r){if(e instanceof n.BlockInstance&&(e.action instanceof n.ExecuteAsAction||e.action instanceof n.ExecuteOfAction)){const i=e.action.scope;if(i!==t.action&&i instanceof n.ReadPropertyAction){const e=i.property.getValue(r.stage);if(e instanceof n.ScoolcodeActor)return e}}return null}getStaticInstance(){return o.Instance}}t.ListsInfo=o,o.Type=new o,o.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeObjectBase=t.ScoolcodeObjectBaseInfo=t.ScoolcodeEnumInfoBase=t.ScoolcodeDynamicModuleInfo=t.ScoolcodeModuleObjectInfoBase=t.ScoolcodeBuiltInObjectInfoBase=t.ScoolcodeObjectInfoBase=void 0;const n=r(2);class i extends n.ClassInfo{constructor(){super(...arguments),this.functions=[],this.userMethods=[],this.fields=[],this.assets=[],this.comments=[],this.mixins=[]}declareUserFunction(e,t,r=!1){const n=this.declareMethod(e,t,!0,!0);return n.returnTypeExplicit=r,this.functions.push(n),n}declareUserMethod(e,t,r=!1){const n=this.declareMethod(e,t,!0,!0);return n.returnTypeExplicit=r,this.userMethods.push(n),n}deleteUserFunction(e){const t=this.functions.findIndex((t=>t.name===e));this.deleteMethod(this.functions[t]),this.functions.splice(t,1)}declareUserField(e,t,r=!1,n=!1){const i=this.declareProperty(e,t,!0,!0);return i.internal=r,i.valueTypeExplicit=n,this.fields.push(i),i}deleteUserField(e){const t=this.fields.findIndex((t=>t.name===e));this.deleteProperty(this.fields[t]),this.fields.splice(t,1)}declareUserAsset(e,t){const r=this.declareProperty(e,t,!0,!0);return r.internal=!1,this.assets.push(r),r}deleteUserAsset(e){const t=this.assets.findIndex((t=>t.name===e));this.deleteProperty(this.assets[t]),this.assets.splice(t,1)}declareComment(){let e=0;for(const r of this.comments){const t=r.name.split("_");if(t&&Array.isArray(t)&&2==t.length){const r=+t[1];r>e&&(e=r)}}const t=this.declareProperty(`comment_${e+1}`,n.ValueType.Any,!1,!1);return this.comments.push(t),t}deleteComment(e){const t=this.comments.find((t=>t.name===e));t&&this.deleteProperty(t),this.comments.splice(this.comments.findIndex((t=>t.name===e)),1)}applyMixins(e,t=!1){for(let r of this.mixins){const n=r.implementation(e);for(let r in n)n.hasOwnProperty(r)&&(!t&&e[r]||(e[r]=n[r]))}}declareMixinsFromBase(e){for(let t of e.mixins)this.declareMixinInternal(t,!1)}declareMixin(e){this.declareMixinInternal(e,!0)}declareMixinInternal(e,t){n.ScoolcodeMixinManager.declareMixinOnHost({declareAsyncMethod:this.declareAsyncMethod.bind(this),declareMethod:this.declareMethod.bind(this),declareReadOnlyProperty:this.declareReadOnlyProperty.bind(this),declareProperty:this.declareProperty.bind(this),declareEvent:this.declareEvent.bind(this),declareType:e=>{},events:this.events,methods:this.methods,properties:this.properties,original:this},e,t),this.mixins.push(e)}}t.ScoolcodeObjectInfoBase=i;class o extends i{}t.ScoolcodeBuiltInObjectInfoBase=o;class a extends o{declarationGrammar(){return new n.ImportStatement(this.name,this.path)}}t.ScoolcodeModuleObjectInfoBase=a;t.ScoolcodeDynamicModuleInfo=class extends a{constructor(e){super(e,n.ValueType.Dynamic,null),this.options={validateMembers:"none"}}declarationGrammar(){return new n.ImportStatement(this.name,this.path)}};t.ScoolcodeEnumInfoBase=class extends o{constructor(){super(...arguments),this.valueTypes=[],this.isStrict=!0,this.isDynamic=!1,this.isExtensible=!1,this.isStringValue=!1,this.isLiteral=!1}get itemType(){return this.valueType}get strict(){return this.isStrict}get dynamic(){return this.isDynamic}get extensible(){return this.isExtensible}get stringValue(){return this.isStringValue}get provider(){return this.valueProvider}processSelection(e){return null}itemToProvidedValue(e,t){return t}async providedValueToItemAsync(e,t,r){const n=this.providedValueToItemSync(e,t,!1,r);if(n)return new Promise((e=>{e(n)}))}providedValueToItemSync(e,t,r=!0,n){return r?null:t}itemToProvidedValueSetContext(e,t){return this.enumContext=e,this.itemToProvidedValue(e,t)}async providedValueToItemSetContext(e,t,r){return this.enumContext=e,this.providedValueToItemAsync(e,t,r)}getDefaultItemName(){if(!this.isDynamic)return this.properties&&this.properties.length>0?this.properties[0].name:null;const e=this.valueProvider(this.enumContext);return e.length>0?e[0][1]:""}getDefaultItemAction(){const e=this.getDefaultItemName();if(""!==e){const t=this.providedValueToItemSync(this.enumContext,e,!1);if("string"===typeof t){const e=this.getStaticInstance()[t];if(void 0!=e)return e}return t}return null}getActionByValue(e,t=!0){if("string"===typeof e){if(this.isDynamic){let t=this.providedValueToItemSync(this.enumContext,e,!0);if(null!=t)return t}const t=this.getStaticInstance()[e];if(t)return t}let r=this.providedValueToItemSync(this.enumContext,e,t);return t||null!=r&&""!==r||(r=this.getDefaultItemAction()),r}};class s extends i{constructor(e){super("ScoolcodeObjectBase",null,e)}}t.ScoolcodeObjectBaseInfo=s;class l extends n.ClassInstance{constructor(e,t){super(e),this.eventHandlers=[],this.dispose=async()=>{this.eventHandlers.forEach((e=>e.remove())),await this.internal.manager.stop(),n.ExecutionManager.Default.remove(this.internal.manager),delete this.internal,delete this.eventHandlers},this.internal.parent=t,this.internal.primaryScope=!0;const r=t&&t.internal.manager?t.internal.manager:n.ExecutionManager.Default;this.internal.manager=r.group(!0),t?(this.internal.getIdentifierReference=async e=>" "===e?(n.RuntimeEnvironment.error(null,"UNSELECTED_VARIABLE"),null):this.internal.type.getProperty(e)||this.internal.type.getMethod(e)?{name:e,value:this[e]}:this.internal.parent.internal.getIdentifierReference(e),this.internal.writeVariable=async(e,t)=>{if(" "!==e)return this.internal.type.getProperty(e)?this[e]=t:this.internal.parent.internal.writeVariable(e,t);n.RuntimeEnvironment.error(null,"UNSELECTED_VARIABLE")}):(this.internal.getIdentifierReference=async e=>" "===e?(n.RuntimeEnvironment.error(null,"UNSELECTED_VARIABLE"),null):this.internal.type.getProperty(e)||this.internal.type.getMethod(e)?{name:e,value:this[e]}:null,this.internal.writeVariable=async(e,t)=>{if(" "!==e)return this.internal.type.getProperty(e)?this[e]=t:void n.RuntimeEnvironment.error(null,"UNDECLARED_VARIABLE",null,e);n.RuntimeEnvironment.error(null,"UNSELECTED_VARIABLE")}),this.internal.declareVariable=(e,t,r)=>(this.internal.type.declareUserField(e,t),!0),this.internal.declareReference=(e,t)=>!1,this.internal.deleteVariable=(e,t)=>!1,this.internal.renameVariable=(e,t)=>{var r,n,i,o;if(this[e+".action"]){if(this[t+".action"]=this[e+".action"],delete this[e+".action"],this[t]=this[e],delete this[e],null===(n=null===(r=this.internal)||void 0===r?void 0:r.type)||void 0===n?void 0:n.properties){const r=this.internal.type.properties.find((t=>t.name===e));r&&r.resetName(t)}return(null===(o=null===(i=this.internal)||void 0===i?void 0:i.type)||void 0===o?void 0:o.environment)&&this.internal.type.environment.renameBinding(e,t),!0}return!1}}declareWhen(e,t){e.addHandler(t,this)}deleteWhen(e,t){e.removeHandler(t,this)}}t.ScoolcodeObjectBase=l,l.Type=new s(l)},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}})),l=n[r];r<o;l=n[++r])m(l)||!S(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(r,n){if("undefined"!==typeof e&&!0===e.noDeprecation)return r;if("undefined"===typeof e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var o,a={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),p(n,e,n.depth)}function l(e,t){var r=s.styles[t];return r?"\x1b["+s.colors[r][0]+"m"+e+"\x1b["+s.colors[r][1]+"m":e}function c(e,t){return e}function p(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return y(i)||(i=p(e,i,n)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),w(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(r);if(0===a.length){if(E(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(T(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return u(r)}var c,S="",x=!1,_=["{","}"];(h(r)&&(x=!0,_=["[","]"]),E(r))&&(S=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(S=" "+RegExp.prototype.toString.call(r)),T(r)&&(S=" "+Date.prototype.toUTCString.call(r)),w(r)&&(S=" "+u(r)),0!==a.length||x&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=x?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(d(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return d(e,r,n,s,t,x)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,S,_)):_[0]+S+_[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),A(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(r)?p(e,l.value,null):p(e,l.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"===typeof e}function m(e){return null===e}function g(e){return"number"===typeof e}function y(e){return"string"===typeof e}function v(e){return void 0===e}function b(e){return S(e)&&"[object RegExp]"===x(e)}function S(e){return"object"===typeof e&&null!==e}function T(e){return S(e)&&"[object Date]"===x(e)}function w(e){return S(e)&&("[object Error]"===x(e)||e instanceof Error)}function E(e){return"function"===typeof e}function x(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(v(o)&&(o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var n=e.pid;a[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else a[r]=function(){};return a[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=S,t.isDate=T,t.isError=w,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=r(492);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=r(493),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!==typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(a){r(a)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,r).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(M,t,a)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Speech=t.SpeechInfo=t.VoiceNamesInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("VoiceNames",null,i.Instance),this.baseTypeName="VoiceNamesInfo",this.valueType=n.ValueType.String,this.isDynamic=!0,this.valueProvider=({program:e,block:t,resolveReference:r})=>Object.values(i.Instance).map((e=>[e,e])),this.itemToProvidedValue=({program:e},t)=>{if(t)return t;return Object.values(i.Instance)[0]||""}}getStaticInstance(){return i.Instance}populateStaticInstance(e){i.Instance={},i.Instance=e.reduce(((e,t,r)=>(e[r]=t,e)),i.Instance)}}t.VoiceNamesInfo=i,i.Type=new i,i.Instance={};class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(e){super("Speech",n.ScoolcodeObjectBase.Type,e),this.declareReadOnlyProperty("languages",n.ValueType.Array).declareNameForBlocks("\ud83d\udce2\ufe0f available languages for speech",n.BlockColor.DarkBlue),this.declareMethod("voices",n.ValueType.Array).declareOptionalParameter("language",n.ValueType.String,"en-US").declareBlock("\ud83d\udce2\ufe0f available voices (language: {language})",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareProperty("voice",n.ValueType.String).declareDefaults("en-US").declareNameForBlocks("\ud83d\udce2\ufe0f active voice",n.BlockColor.DarkBlue),this.declareMethod("selectVoice").declareParameter("nameOrLang",i.Type,(()=>new n.StringLiteralAction(String(Object.values(i.Instance)[0]||"")))).declareBlock("\ud83d\udce2\ufe0f select voice: {nameOrLang}",n.BlockColor.DarkBlue),this.declareProperty("rate",n.ValueType.Number).declareDefaults(100,10).declareNameForBlocks("\ud83d\udce2\ufe0f rate of speech",n.BlockColor.DarkBlue),this.declareProperty("pitch",n.ValueType.Number).declareDefaults(100,10).declareNameForBlocks("\ud83d\udce2\ufe0f pitch of speech",n.BlockColor.DarkBlue),this.declareMethod("speak").declareParameter("text",n.ValueType.Any,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("Hello World!"))),!1,!0).declareBlock("\ud83d\udce2\ufe0f speak: {text}",n.BlockColor.DarkBlue),this.declareMethod("speakAndWait").declareParameter("text",n.ValueType.Any,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("Hello World!"))),!1,!0).declareBlock("\ud83d\udce2\ufe0f speak and wait: {text}",n.BlockColor.DarkBlue)}}t.SpeechInfo=o;class a{constructor(e){this.voiceList=[],this._rate=1,this._pitch=1,this.voice="en-US",this.stage=e,"undefined"!==typeof speechSynthesis&&(this.populateVoiceList(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=this.populateVoiceList.bind(this)))}populateVoiceList(){this.voiceList=speechSynthesis.getVoices(),i.Type.populateStaticInstance(this.voiceNames)}findVoice(e){return this.voiceList.find((t=>t.name===e||t.lang===e))||this.voiceList[0]}get voiceNames(){return this.voiceList.map((({name:e})=>e))}selectVoice(e){this.voice=e}get rate(){return 100*this._rate}set rate(e){this._rate=Math.max(.1,Math.min(2,e/100))}get pitch(){return 100*this._pitch}set pitch(e){this._pitch=Math.max(.1,Math.min(2,e/100))}get languages(){return new n.ScoolcodeArray(...new Set(this.voiceList.map((({lang:e})=>e))))}voices(e){return e?new n.ScoolcodeArray(...this.voiceList.filter((({lang:t})=>t===e)).map((({name:e})=>e))):new n.ScoolcodeArray(...this.voiceList.map((({name:e})=>e)))}stop(){a.isSpeaking&&(speechSynthesis.cancel(),speechSynthesis.resume(),a.isSpeaking=!1)}_startUtterance(e){const t=n.Terminal.stringBuilder(e),r=new SpeechSynthesisUtterance(t);r.voice=this.findVoice(this.voice),r.rate=this._rate,r.pitch=this._pitch,r.onend=e=>{a.isSpeaking=!1},r.onerror=e=>{a.isSpeaking=!1},a.isSpeaking=!0,speechSynthesis.speak(r)}speak(e){a.isSpeaking||this._startUtterance(e)}async speakAndWait(e){for(;a.isSpeaking;)await new Promise((e=>setTimeout(e,100)));for(this._startUtterance(e);a.isSpeaking;)await new Promise((e=>setTimeout(e,100)))}}t.Speech=a,a.Type=new o(a),a.isSpeaking=!1},function(e,t,r){const n=r(592),i=r(593);e.exports={compareUnsorted:i,compare:n}},function(e,t,r){var n=r(651),i=r(652),o={float:"cssFloat"},a=r(655);function s(e,t,r){var s=o[t];if("undefined"===typeof s&&(s=function(e){var t=i(e),r=n(t);return o[t]=o[e]=o[r]=r,r}(t)),s){if(void 0===r)return e.style[s];e.style[s]=a(s,r)}}function l(e,t){for(var r in t)t.hasOwnProperty(r)&&s(e,r,t[r])}function c(){2===arguments.length?"string"===typeof arguments[1]?arguments[0].style.cssText=arguments[1]:l(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=c,e.exports.set=c,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,r){return t[r]=s(e,r||""),t}),{}):s(e,t||"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeEnv=void 0,t.runtimeEnv="undefined"!==typeof window&&window&&window._env_?window._env_:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.StageScriptCodeGenerator=void 0;const n=r(4),i=r(666),o=r(191),a=r(138),s="    ",l="undefined"!==typeof e&&o.runtimeEnv&&"test"===o.runtimeEnv.NODE_ENV,c=function(...e){l&&console.log(...e)};var p;!function(e){e[e.Undefined=-1]="Undefined",e[e.Stage=0]="Stage",e[e.Actor=1]="Actor"}(p||(p={}));t.StageScriptCodeGenerator=class{constructor(){this.contextStack=[p.Undefined],this.symbols={}}setSymbol(e,t){this.symbols[e]=t;const r=a.SYMBOL_GROUPS[e];r&&r.forEach((e=>this.symbols[e]=t))}getSymbol(e){return this.symbols[e]}generateNumericLiteral(e,t=""){return+e.value===+e.value?t+n.NumericLiteral.toString(e.value):`${t}"${""+e.value}"`}generateStringLiteral(e,t=""){return`${t}"${e.value}"`}generateTemplateStringLiteral(e,t="",r){return e.expressions.length?`${t}\`\${${e.expressions.map((e=>this.generateExpression(e,r))).join("}${")}}\``:`${t}\`\``}generateBooleanLiteral(e,t=""){return`${t}${e.value?"true":"false"}`}generateArrayLiteral(e,t="",r){return`${t}[ ${e.expressions.map((e=>this.generateExpression(e,r))).join(", ")} ]`}generateNullLiteral(e,t=""){return`${t}null`}generateNothingLiteral(e,t=""){return`${t}`}generateUndefinedLiteral(e,t=""){return`${t}undefined`}generateLineLiteral(e,t=""){return`${t}${e.value}`}generateIndexerExpression(e,t="",r){return"identifier"===e.expression.subKind&&" "===e.expression.name?`${t}[  ][${this.generateExpression(e.indexer,r)}]`:`${this.generateExpression(e.expression,r,t)}[${this.generateExpression(e.indexer,r)}]`}generateIdentifier(e,t="",r){return e instanceof n.PropertyName?e.property.instance?t+(this.getSymbol("DISALLOW_SHADOWING")?"":i.Utils.processThis(e.property,r))+e.name:t+e.property.declaringType.name+"."+e.name:t+e.name}generateAwaitExpression(e,t="",r){return this.generateExpression(e.expression,r,t)}generateAssignment(e,t="",r){return`${t}${this.generateExpression(e.leftHandSide,r)} = ${this.generateExpression(e.rightHandSide,r)}`}generateDot(e,t="",r){var i,o;const a=e.leftHandSide,s=this.generateExpression(e.rightHandSide,{active:!1,type:r.type});let l=(null===(o=null===(i=null===a||void 0===a?void 0:a.property)||void 0===i?void 0:i.valueType)||void 0===o?void 0:o.itemToProvidedValue)&&(s.startsWith("'")||s.startsWith('"'))&&(s.endsWith("'")||s.endsWith('"'))?s.substring(1,s.length-1):s;if(a instanceof n.PropertyName&&a.property.instance&&a.property.valueType instanceof n.ScoolcodeEnumInfoBase&&a.property.valueType.getStaticInstance){const n=a.property.valueType.getStaticInstance();if(+l===+l){const i=Object.keys(n).find((e=>n[e]===+l||n[e]===l));if(i)return`${t}${this.generateExpression(e.leftHandSide,r)}.${i}`}else{const i=Object.keys(n).find((e=>n[e]===l));if(i)return`${t}${this.generateExpression(e.leftHandSide,r)}.${i}`;if(n[l]&&"function"===typeof n[l])return`${t}${this.generateExpression(e.leftHandSide,r)}.${l}()`}}return`${t}${this.generateExpression(e.leftHandSide,r)}.${l}`}generateMethodCall(e,t="",r){return`${t}${this.getSymbol("DISALLOW_SHADOWING")?"":i.Utils.processThis(e.method,r)}${e.method.name}(${e.parameters.map((e=>this.generateExpression(e,r))).join(", ")})`}generateFunctionCall(e,t="",r){return`${t}${e.name}(${e.parameters.map((e=>this.generateExpression(e,r))).join(", ")})`}generateExpressionStatement(e,t,r=""){return`${this.generate(e.expression,t,r)};`}generateWhenStatement(e,t,r=""){if(e.isStageEvent&&"never"===e.name)return"";let n="";e.internal&&(n=`${r}@internal\n`);const i=e.parameters.length?`(${e.parameters.map((e=>this.generateExpression(e,t)))})`:"";return`${n}${r}when ${e.isStageEvent&&"ScoolcodeStage"!==t.type.name?"stage.":""}${e.name}${i} {\n${this.generateStatementList(e.statements,t,s+r)}\n${r}}`}generateIfStatement(e,t="",r){return`${t}if(${this.generateExpression(e.expression,r)}) {\n${this.generateStatementList(e.statements,r,s+t)}\n${t}}`}generateIfElseStatement(e,t="",r){return`${t}if(${this.generateExpression(e.expression,r)}) {\n${this.generateStatementList(e.statements,r,s+t)}\n${t}}\n${t}else {\n${this.generateStatementList(e.statementsElse,r,s+t)}\n${t}}`}generateWhileStatement(e,t="",r){return e.expression&&e.expression instanceof n.UnaryNotOperator&&!e.statements.statements.length?`${t}while(${this.generateExpression(e.expression,r)});`:`${t}while(${this.generateExpression(e.expression,r)}) {\n${this.generateStatementList(e.statements,r,s+t)}\n${t}}`}generateDoWhileStatement(e,t="",r){return`${t}do {\n${this.generateStatementList(e.statements,r,s+t)}\n${t}} while(${this.generateExpression(e.expression,r)});`}generateForStatement(e,t="",r){return`${t}for(${this.generateExpression(e.expression1,r)}; ${this.generateExpression(e.expression2,r)}; ${this.generateExpression(e.expression3,r)}) {\n${this.generateStatementList(e.statements,r,s+t)}\n${t}}`}generateForOfStatement(e,t="",r){return`${t}for(let ${e.variableName} of ${this.generateExpression(e.expression,r)}) {\n${this.generateStatementList(e.statements,r,s+t)}\n${t}}`}generateLineCommentStatement(e,t="",r){let i=e.expression;if(e&&e.expression instanceof n.NumericLiteral){const t=e.expression.value;i=new n.LineLiteral("string"===typeof t?t:t.toString())}const o=this.generateExpression(i,r);return e.macro?`${t}#${o}`:`${t}//${o}`}generateMultiLineCommentStatement(e,t="",r){return`\n${t}/*${this.generateExpression(e.expression,r)}*/`}generateReturnStatement(e,t="",r){return!e.expression||e.expression instanceof n.ValueLiteral&&e.expression.value instanceof n.NothingLiteralAction?`${t}return`:`${t}return ${this.generateExpression(e.expression,r)}`}generateBreakStatement(e,t=""){return`${t}break`}generateContinueStatement(e,t=""){return`${t}continue`}generateTypeAnnotation(e){return e.explicit?`: ${e.fullNames.join("|")}`:""}generateBlockScopedVariableDeclaration(e,t,r=""){return!e.expression||e.expression instanceof n.NothingLiteral?`${r}let ${e.name}${this.generateTypeAnnotation(e.type)};`:`${r}let ${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,t)};`}generateFunctionScopedVariableDeclaration(e,t,r=""){return!e.expression||e.expression instanceof n.NothingLiteral?`${r}var ${e.name}${this.generateTypeAnnotation(e.type)};`:`${r}var ${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,t)};`}generatePropertyDeclaration(e,t,r=""){let i="";return e.internal&&(i=`${r}@internal\n`),!e.expression||e.expression instanceof n.NothingLiteral?`${i}${r}let ${e.name}${this.generateTypeAnnotation(e.type)};`:`${i}${r}let ${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,t)};`}generateBlockScopedVariableDeclarationExpression(e,t="",r){return!e.expression||e.expression instanceof n.NothingLiteral?`${t}let ${e.name}${this.generateTypeAnnotation(e.type)}`:`${t}let ${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,r)}`}generateFunctionScopedVariableDeclarationExpression(e,t="",r){return!e.expression||e.expression instanceof n.NothingLiteral?`${t}var ${e.name}${this.generateTypeAnnotation(e.type)}`:`${t}var ${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,r)}`}generateFunctionDeclaration(e,t,r=""){let n="";return e.internal&&(n=`${r}@internal\n`),e.specification&&(n+=`${r}@block("${e.specification.text||e.specification}")\n`),`${n}${r}function ${e.name}(${e.parameters.map((e=>(e.ref?`ref ${e.name}`:e.name)+this.generateTypeAnnotation(e.type))).join(", ")})${this.generateTypeAnnotation(e.returnType)} {\n${this.generateStatementList(e.statements,t,s+r)}\n${r}}`}generateStatementList(e,t,r=""){return e.statements.length?e.statements.filter((e=>e)).map((e=>this.generateStatement(e,t,r))).join("\n"):r}generateLiteral(e,t,r=""){if(e instanceof n.NumericLiteral)return this.generateNumericLiteral(e,r);if(e instanceof n.StringLiteral)return this.generateStringLiteral(e,r);if(e instanceof n.BooleanLiteral)return this.generateBooleanLiteral(e,r);if(e instanceof n.ArrayLiteral)return this.generateArrayLiteral(e,r,t);if(e instanceof n.NullLiteral)return this.generateNullLiteral(e,r);if(e instanceof n.NothingLiteral)return this.generateNothingLiteral(e,r);if(e instanceof n.UndefinedLiteral)return this.generateUndefinedLiteral(e,r);if(e instanceof n.LineLiteral)return this.generateLineLiteral(e,r);if(e instanceof n.TemplateStringLiteral)return this.generateTemplateStringLiteral(e,r,t);throw c(e),new Error("Unsupported literal entry.")}generateStatement(e,t,r=""){if(e instanceof n.ExpressionStatement)return this.generateExpressionStatement(e,t,r);if(e instanceof n.WhenStatement)return this.generateWhenStatement(e,t,r);if(e instanceof n.IfStatement)return this.generateIfStatement(e,r,t);if(e instanceof n.IfElseStatement)return this.generateIfElseStatement(e,r,t);if(e instanceof n.ForStatement)return this.generateForStatement(e,r,t);if(e instanceof n.ForOfStatement)return this.generateForOfStatement(e,r,t);if(e instanceof n.WhileStatement)return this.generateWhileStatement(e,r,t);if(e instanceof n.DoWhileStatement)return this.generateDoWhileStatement(e,r,t);if(e instanceof n.BlockScopedVariableDeclaration)return this.generateBlockScopedVariableDeclaration(e,t,r);if(e instanceof n.FunctionScopedVariableDeclaration)return this.generateFunctionScopedVariableDeclaration(e,t,r);if(e instanceof n.LineCommentStatement)return this.generateLineCommentStatement(e,r,t);if(e instanceof n.MultiLineCommentStatement)return this.generateMultiLineCommentStatement(e,r,t);if(e instanceof n.FunctionDeclaration)return this.generateFunctionDeclaration(e,t,r);if(e instanceof n.ReturnStatement)return this.generateReturnStatement(e,r,t);if(e instanceof n.BreakStatement)return this.generateBreakStatement(e,r);if(e instanceof n.ContinueStatement)return this.generateContinueStatement(e,r);if(e instanceof n.TextureDeclaration)return this.generateTexture(e,r);if(e instanceof n.SoundDeclaration)return this.generateSound(e,r);if(e instanceof n.Record)return this.generateRecord(e,r);if(e instanceof n.UseDeclaration)return this.generateUse(e,r);if(e instanceof n.ExternalSceneDeclaration)return this.generateExternalScene(e,r);if(e instanceof n.PropertyDeclaration)return this.generatePropertyDeclaration(e,t,r);if(e instanceof n.Actor)return this.generateActor(e,r);if(e instanceof n.ActorPart)return this.generateActorPart(e,r);if(e instanceof n.StagePart)return this.generateStagePart(e,r);if(e instanceof n.Scene)return this.generateScene(e,r);throw c(e),new Error("Unsupported statement entry.")}generateUnaryOperator(e,t="",r){const i=e.leftHandSide instanceof n.Operator&&(e.leftHandSide.priority<e.priority||e.leftHandSide.grouped)?`(${this.generateExpression(e.leftHandSide,r)})`:this.generateExpression(e.leftHandSide,r);if(e instanceof n.PostfixIncrementationOperator)return`${t}${i}++`;if(e instanceof n.PostfixDecrementationOperator)return`${t}${i}--`;if(e instanceof n.UnaryNotOperator)return`${t}!${i}`;if(e instanceof n.UnaryPlusOperator)return`${t}+${i}`;if(e instanceof n.UnaryMinusOperator)return`${t}-${i}`;if(e instanceof n.PrefixIncrementationOperator)return`${t}++${i}`;if(e instanceof n.PrefixDecrementationOperator)return`${t}--${i}`;if(e instanceof n.ReferenceOperator)return`${t}ref ${i}`;throw c(e),new Error("Unsupported operator entry.")}generateBinaryOperator(e,t="",r){const i=e.leftHandSide instanceof n.Operator&&(e.leftHandSide.priority<e.priority||e.leftHandSide.grouped)?`(${this.generateExpression(e.leftHandSide,r)})`:this.generateExpression(e.leftHandSide,r),o=e.rightHandSide instanceof n.Operator&&(e.rightHandSide.priority<e.priority||e.rightHandSide.grouped)?`(${this.generate(e.rightHandSide,r)})`:this.generate(e.rightHandSide,r);let a=null;if(e instanceof n.MultiplicativeOperator)a="*";else if(e instanceof n.DivisiveOperator)a="/";else if(e instanceof n.ModuloOperator)a="%";else if(e instanceof n.AdditiveOperator)a="+";else if(e instanceof n.SubtractiveOperator)a="-";else if(e instanceof n.GreaterThanOperator)a=">";else if(e instanceof n.GreaterThanOrEqualsOperator)a=">=";else if(e instanceof n.LowerThanOperator)a="<";else if(e instanceof n.LowerThanOrEqualsOperator)a="<=";else if(e instanceof n.EqualsOperator)a="==";else if(e instanceof n.NotEqualsOperator)a="!=";else if(e instanceof n.LogicalAndOperator)a="&&";else if(e instanceof n.LogicalOrOperator)a="||";else if(e instanceof n.AssignmentOperator)a="=";else if(e instanceof n.AdditiveAssignmentOperator)a="+=";else if(e instanceof n.SubtractiveAssignmentOperator)a="-=";else if(e instanceof n.MultiplicativeAssignmentOperator)a="*=";else if(e instanceof n.DivisiveAssignmentOperator)a="/=";else{if(!(e instanceof n.ExponentativeOperator))throw c(e),new Error("Unsupported operator entry.");a="**"}return`${t}${i} ${a} ${o}`}generateExpression(e,t,r=""){if(e instanceof n.Identifier)return this.generateIdentifier(e,r,t);if(e instanceof n.BinaryOperator)return this.generateBinaryOperator(e,r,t);if(e instanceof n.UnaryOperator)return this.generateUnaryOperator(e,r,t);if(e instanceof n.AwaitExpression)return this.generateAwaitExpression(e,r,t);if(e instanceof n.CallMethodExpression)return this.generateMethodCall(e,r,t);if(e instanceof n.CallFunctionExpression)return this.generateFunctionCall(e,r,t);if(e instanceof n.AssignmentExpression)return this.generateAssignment(e,r,t);if(e instanceof n.DotExpression)return this.generateDot(e,r,t);if(e instanceof n.Literal)return this.generateLiteral(e,t,r);if(e instanceof n.IndexerExpression)return this.generateIndexerExpression(e,r,t);if(e instanceof n.BlockScopedVariableDeclaration)return this.generateBlockScopedVariableDeclarationExpression(e,r,t);if(e instanceof n.FunctionScopedVariableDeclaration)return this.generateFunctionScopedVariableDeclarationExpression(e,r,t);throw c(e),new Error("Unsupported expression entry.")}generateTexture(e,t=""){const r=this.contextStack[this.contextStack.length-1];let i;!function(e){e[e.Undefined=-1]="Undefined",e[e.Costume=0]="Costume",e[e.Backdrop=1]="Backdrop",e[e.Parallax=2]="Parallax"}(i||(i={}));let o=i.Undefined;switch(r===p.Actor&&e instanceof n.CostumeDeclaration?o=i.Costume:r===p.Stage&&e instanceof n.CostumeDeclaration||e instanceof n.BackdropDeclaration?o=i.Backdrop:e instanceof n.ParallaxDeclaration&&(o=i.Parallax),o){case i.Costume:return`${t}${e.isDefault?"default ":""}costume ${e.name}("${e.path}")`;case i.Backdrop:return`${t}${e.isDefault?"default ":""}backdrop ${e.name}("${e.path}")`;case i.Parallax:return`${t}${e.isDefault?"default ":""}parallax ${e.name}(\n`+e.layers.map((e=>`${t+s}${e.name} ("${e.path}", ${e.relativeSpeed})`)).join(",\n")+"\n"+`${t})`;default:throw c(e),new Error("Unsupported texture entry.")}}generateSound(e,t=""){return`${t}sound ${e.name}("${e.path}")`}generateRecord(e,t=""){return`${t}record ${e.name}(${e.statements.statements.map((e=>e.name+this.generateTypeAnnotation(e.type))).join(", ")})`}generateActor(e,t=""){this.contextStack.push(p.Actor);let r="";e.metadata.hidden&&(r=`${t}@internal\n`);const n=`${t}\n${r}${t}actor ${e.name} {\n${this.generateStatementList(e.statements,{active:!0,type:e.type},t+s)}\n${t}}`;return this.contextStack.pop(),n}generateScene(e,t=""){this.contextStack.push(p.Stage);let r="";e.metadata.preload&&(r=`${t}@preload\n`);const n=`${t}\n${r}${t}scene ${e.name} {\n${this.generateStatementList(e.stage.statements,{active:!0,type:e.stage.type},t+s)}\n${t}}`;return this.contextStack.pop(),n}generateActorPart(e,t=""){let r="";return e.metadata.hidden&&(r=`${t}@internal\n`),`${t}\n${r}${t}part ${e.name} for actor {\n${this.generateStatementList(e.statements,{active:!0,type:e.type},t+s)}\n${t}}`}generateStagePart(e,t=""){return`${t}\n${t}part ${e.name} for stage {\n${this.generateStatementList(e.statements,{active:!0,type:e.type},t+s)}\n${t}}`}generateUse(e,t=""){const r=e.path?` from "${e.path}"`:"";return`${t}use ${e.name}${r}`}generateExternalScene(e,t=""){const r=e.path?` from "${e.path}"`:"";return`${t}scene ${e.name}${r}`}generateStage(e,t=""){this.contextStack.push(p.Stage);const r=`${t}stage {\n${this.generateStatementList(e.statements,{active:!0,type:e.type},s+t)}\n${t}}`;return this.contextStack.pop(),r}generateApplication(e,t="",r){return[this.generateStage(e.stages[0],t),...e.parts.map((e=>this.generate(e,{active:!1,type:null},t))),...r&&r.scenes?r.scenes.filter((e=>"local"===e.kind)).map((e=>{const t="local"===e.kind?e.grammarLocal():e.grammar();return this.generate(t)})):[]].join("\n")}generate(e,t={active:!1,type:null},r="",i=null){if(e instanceof n.Literal)return this.generateLiteral(e,t,r);if(e instanceof n.Expression)return this.generateExpression(e,t,r);if(e instanceof n.StatementList)return this.generateStatementList(e,t,r);if(e instanceof n.ExternalSceneDeclaration)return this.generateExternalScene(e,r);if(e instanceof n.Scene)return this.generateScene(e,r);if(e instanceof n.Statement)return this.generateStatement(e,t,r);if(e instanceof n.Actor)return this.generateActor(e,r);if(e instanceof n.Stage)return this.generateStage(e,r);if(e instanceof n.ActorPart)return this.generateActorPart(e,r);if(e instanceof n.StagePart)return this.generateStagePart(e,r);if(e instanceof n.Application)return this.generateApplication(e,r,i);throw c(e),new Error("Unsupported grammar entry.")}insertAt(e,t,r,n,o,a){const l=r?s.repeat(r):i.Utils.findLastIndent(e,n),{start:c,end:p}=i.Utils.separateAt(e,n),u=this.generate(o,a,l),d=l.length,h=t?e+d+1:e;return{code:c+(t?l+"\n":"")+u+"\n"+p,range:{from:h+d+1,to:h+u.length+1}}}replaceAt(e,t,r,n){const{start:o}=i.Utils.separateAt(e.from,t),{end:a}=i.Utils.separateAt(e.to,t),s=this.generate(r,n);return{code:o+s+a,range:{from:e.from,to:e.from+s.length}}}insertInto({from:e,to:t},r,n,i,o,a=!0){console.log("insertInto",e,t);const s=t===e?e-1:e;return this.insertAt(s,a,o,r,n,i)}insertIntoAtEnd({from:e,to:t},r,n,i,o,a=!0){console.log("insertInto",e,t);const s=t===e?e-1:t-1;return this.insertAt(s,a,o,r,n,i)}insertAfter({to:e},t,r,n){return this.insertAt(e,!1,0,t,r,n)}remove(e,{from:t,to:r}){const{start:n,end:o}=i.Utils.separateAt(r,e),{start:a}=i.Utils.separateAt(t,n);return a+o}}}).call(this,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22).validators,i=r(15);e.exports={tokenType:"macro",name:"macro",canProcess:e=>n.isMacro(e),process(e){e.leaf(),e.item.type="comment",e.item.subtype=e.token.subtype,e.item.value=e.token.data,e.item.options={macro:!0};const t=e.item;if(e.next(),e.levelDown(i.ParserScope.Value),e.expressionProcessor.token(e,["literal"]),e.levelUp(),e.closeLeafRange(),1===t.items.length){const r=t.items[0].value;if(r.startsWith("define ")){const r=t.items[0].value,[,n,i]=r.split(" ");if(n){const r="undefined"===typeof i||i;return e.setSymbol(n,r),t.options.name=n,void(t.options.value=r)}}else if(r.startsWith("undef ")){const r=t.items[0].value,[,n]=r.split(" ");if(n)return e.setSymbol(n,void 0),void(t.options.name=n)}}e.error("INVALID_MACRO")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22).validators,i=r(15);e.exports={tokenType:"comment",name:"comment",canProcess:e=>n.isComment(e),process(e){e.leaf(),e.item.type="comment",e.item.subtype=e.token.subtype,e.item.value=e.token.data;e.item;e.next(),e.levelDown(i.ParserScope.Value),e.expressionProcessor.token(e,["literal"]),e.levelUp(),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenizerState=void 0;const n=r(196),i=r(197);t.TokenizerState=class{constructor(){this.index=0,this.input="",this.allowNewLine=!0,this.processComments=!0,this.char="",this.lookahead="",this.lookahead2="",this.lookback="",this.tokens=[],this.lastToken=null,this.tokenValue="",this.tokenLength=0,this.ok=!0,this.lastError=null,this.line=1,this.charIndex=1,this.charSum=0}begin(e){this.input=e,this.index=0,this.lookback="",this.char=this.input[this.index],this.lookahead=this.input[this.index+1],this.lookahead2=this.input[this.index+2]}nonTerminalMode(){this.allowNewLine=!1}newLine(){return!!this.allowNewLine&&(this.line++,this.charIndex=1,!0)}next(){this.lookback=this.char,this.char=this.input[++this.index],this.lookahead=this.input[this.index+1],this.lookahead2=this.input[this.index+2],this.charIndex++,this.charSum++}add(e=null){e?this.tokenValue+=e:this.char&&(this.tokenValue+=this.char,this.tokenLength+=this.char.length)}skip(e=1){this.tokenLength+=e}token(e,t="",r=!0){this.lastToken=new n.Token(e,t,this.tokenValue,this.line,Math.max(1,r?this.charIndex-this.tokenLength:this.charIndex),r?this.charSum-this.tokenLength:this.charSum,this.charSum),this.tokens.push(this.lastToken),this.tokenValue="",this.tokenLength=0,this.allowNewLine=!0}error(e,...t){this.ok&&(this.lastError=new i.TokenizerError(e,this.line,this.charIndex,...t),this.end(!1))}end(e){this.lookback=null,this.char=null,this.lookahead=null,this.lookahead2=null,e||(this.ok=!1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;t.Token=class{constructor(e,t,r,n,i,o,a){this.type=e,this.subtype=t,this.data=r,this.range={from:o,to:a},this.line=n,this.char=i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenizerError=void 0;const n={UNEXPECTED_EOF:"Unexpected end of input. You should count your brackets and braces... it seems like we need more of them. :/",INVALID_NUMBER:"Invalid number, use decimal digits.",INVALID_NUMBER_HEX:"Invalid number, use hexadecimal digits.",UNEXPECTED_TERMINATOR:"Unexpected line terminator. Hmm... it is very unusual.",UNUSUAL_TOKEN:"Unexpected token ILLEGAL. Hmm... it is very unusual.",MANY_BRACKETS:"You have entered too many brackets. :(",MANY_BRACES:"You have entered too many braces. :(",MANY_ROUND_BRACKETS:"You have entered too many round brackets. :(",RESERVED_WORD:"Reserved word found: {0}. These words are reserved for future use and sadly you cannot use them as names."};class i{constructor(e,t,r,...n){this.code=e,this.message=i.mapCodeToMessage(e,n),this.messageEn=i.mapCodeToMessageEn(e,n),this.line=t,this.char=r}static mapCodeToMessage(e,t){let i=r(4).LocalisationService.Default.getValue("TokenizerError:"+e,n[e]);return i&&t.forEach(((e,t)=>i=i.replace(`{${t}}`,e))),i}static mapCodeToMessageEn(e,t){let i=r(4).LocalisationService.Default.getEnValue("TokenizerError:"+e,n[e]);return i&&t.forEach(((e,t)=>i=i.replace(`{${t}}`,e))),i}}t.TokenizerError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizer=void 0;let n=[],i={};function o(e){n.push(e),i[e.name]=e}function a(e){let t=null;for(let r=0;r<n.length;++r)t=n[r],t.end&&t.end(e)}o(r(717)),o(r(43)),o(r(718)),o(r(719)),o(r(720)),o(r(721)),o(r(722)),o(r(723)),t.tokenizer={processUntil(e,t){let r=null;e:for(;t();){if(!e.char)return!1;for(let t=0;t<n.length;++t)if(r=n[t],r.canProcess(e)){r.process(e);continue e}return e.error("Invalid character found: <"+e.char+">"),!1}return!0},process(e){let t=null;e:for(;;){if(!e.char)return a(e),void e.end(!0);for(let r=0;r<n.length;++r)if(t=n[r],t.canProcess(e)){t.process(e);continue e}break}e.error("Invalid character found: <"+e.char+">")}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(728),t),i(r(729),t),i(r(201),t),i(r(202),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repr=t.str=void 0;const n=r(4);t.str=e=>null==e?"null":"undefined"===typeof e?"":"string"===typeof e?e:"function"===typeof e.__str__?e.__str__():"function"===typeof e.__repr__?e.__repr__():""+e;t.repr=e=>null==e?"null":"undefined"===typeof e?"":"function"===typeof e.__repr__?e.__repr__():e&&"number"===typeof e&&(""+ +e).includes("e")?n.NumericLiteral.toString(e):""+e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveFromListBlockInstance=t.RemoveFromListInfo=void 0;const n=r(4);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("RemoveFromList",null,i.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("first",n.ValueType.String),this.declareReadOnlyProperty("last",n.ValueType.String)}getStaticInstance(){return{first:n.ValueType.Array.getMethod("shift"),last:n.ValueType.Array.getMethod("pop")}}}t.RemoveFromListInfo=i,i.Type=new i,i.Instance={};class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("atPosition",e,"method"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.RemoveFromListBlockInstance=o,o.Definition=()=>new n.BlockDefinition("get and remove {atPosition} from {this}",[new n.BlockParameterInfo("atPosition",i.Type),new n.BlockParameterInfo("this",n.ListsInfo.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Data},"RemoveFromListBlockInstance")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddToListBlockInstance=t.AddToListInfo=void 0;const n=r(4);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("AddToList",null,i.Instance),this.valueType=n.ValueType.Any,this.declareReadOnlyProperty("asLast",n.ValueType.Any),this.declareReadOnlyProperty("asFirst",n.ValueType.Any)}getStaticInstance(){return{asLast:n.ValueType.Array.getMethod("push"),asFirst:n.ValueType.Array.getMethod("unshift")}}}t.AddToListInfo=i,i.Type=new i,i.Instance={};class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("element",e,"parameters.0"),this.parameter("atPosition",e,"method"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.AddToListBlockInstance=o,o.Definition=()=>new n.BlockDefinition("add {element} to {this} {atPosition}",[new n.BlockParameterInfo("element",n.ValueType.Numeric),new n.BlockParameterInfo("atPosition",i.Type),new n.BlockParameterInfo("this",n.ListsInfo.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Data},"AddToListBlockInstance")},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(39),i=r(739),o=r(741),a=r(742),s=r(743),l=r(205),c="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||r(744);e.exports=function(e){return new Promise((function(t,p){var u=e.data,d=e.headers;n.isFormData(u)&&delete d["Content-Type"];var h=new XMLHttpRequest,f="onreadystatechange",m=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in h||s(e.url)||(h=new window.XDomainRequest,f="onload",m=!0,h.onprogress=function(){},h.ontimeout=function(){}),e.auth){var g=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+c(g+":"+y)}if(h.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h[f]=function(){if(h&&(4===h.readyState||m)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:r,config:e,request:h};i(t,p,n),h=null}},h.onerror=function(){p(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){p(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var v=r(745),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in h&&n.forEach(d,(function(e,t){"undefined"===typeof u&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(S){if("json"!==e.responseType)throw S}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),p(e),h=null)})),void 0===u&&(u=null),h.send(u)}))}},function(e,t,r){"use strict";var n=r(740);e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultScoolcodeFeatures=void 0,t.defaultScoolcodeFeatures={stage:!0,designView:!0,layout:"any",programList:!0,programManagement:!0,partsManagement:!1,useExternalParts:!1,useLocalParts:!1,player:"closed",changePlayerLayout:!0,changePlayerSpeed:!0,executeSetupOnStop:!1,strictRuntimeChecking:!0,playerTabs:!1,onlineFirstChallengeMode:!1,testCaseDisplayMode:"auto",useReflexAngle:!1}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(35);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,r){"use strict";var n=r(35),i=r(761),o=r(762),a=r(210),s=r(763),l=r(766),c=r(767),p=r(213),u=r(105),d=r(106);e.exports=function(e){return new Promise((function(t,r){var h,f=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(f)&&delete m["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+S)}var T=s(e.baseURL,e.url);function w(){if(v){var n="getAllResponseHeaders"in v?l(v.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:n,config:e,request:v};i((function(e){t(e),y()}),(function(e){r(e),y()}),o),v=null}}if(v.open(e.method.toUpperCase(),a(T,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(w)},v.onabort=function(){v&&(r(p("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){r(p("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||u.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(p(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},n.isStandardBrowserEnv()){var E=(e.withCredentials||c(T))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;E&&(m[e.xsrfHeaderName]=E)}"setRequestHeader"in v&&n.forEach(m,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete m[t]:v.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),g&&"json"!==g&&(v.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){v&&(r(!e||e&&e.type?new d("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),v.send(f)}))}},function(e,t,r){"use strict";var n=r(211);e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(35);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function a(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function l(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);n.isUndefined(i)&&t!==l||(r[e]=i)})),r}},function(e,t){e.exports={version:"0.23.0"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeEnv=void 0,t.runtimeEnv="undefined"!==typeof window&&window&&window._env_?window._env_:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(773),t),i(r(774),t),i(r(777),t),i(r(830),t),i(r(838),t),i(r(842),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),i=n.utils,o=n.validators,a=r(12);e.exports={tokenType:"comment",name:"comment",canProcess:e=>o.isComment(e),process(e){e.leaf(),e.item.type="comment",e.item.subtype=e.token.subtype,e.item.value=e.token.data;const t=e.item;if(e.next(),e.levelDown(a.ParserScope.Value),e.expressionProcessor.token(e,["literal"]),e.levelUp(),i.endOfLine(e,!0),e.closeLeafRange(),1===t.items.length){const r=t.items[0].value;if(r.startsWith("define ")){const r=t.items[0].value,[,n,i]=r.split(" ");if(n){const r="undefined"===typeof i||i;e.setSymbol(n,r),t.options={macro:!0,name:n,value:r}}}else if(r.startsWith("undef ")){const r=t.items[0].value,[,n]=r.split(" ");n&&(e.setSymbol(n,void 0),t.options={macro:!0,name:n})}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenizerState=void 0;const n=r(221),i=r(222);t.TokenizerState=class{constructor(){this.index=0,this.input="",this.allowNewLine=!0,this.processComments=!0,this.char="",this.lookahead="",this.lookback="",this.tokens=[],this.lastToken=null,this.tokenValue="",this.tokenLength=0,this.ok=!0,this.lastError=null,this.line=1,this.charIndex=1,this.charSum=0,this.insideGroup=!1,this.escapeCharEnabled=!0}get lookahead2(){return this.input[this.index+2]}get endOfFile(){return null===this.char||"undefined"===typeof this.char}begin(e){this.input=e,this.index=0,this.lookback="",this.char=this.input[this.index],this.lookahead=this.input[this.index+1]}nonTerminalMode(){this.allowNewLine=!1}newLine(){return!!this.allowNewLine&&(this.line++,this.charIndex=1,!0)}next(){this.lookback=this.char,this.char=this.input[++this.index],this.lookahead=this.input[this.index+1],this.charIndex++,this.charSum++}add(e=null){e?this.tokenValue+=e:this.char&&(this.tokenValue+=this.char,this.tokenLength+=this.char.length)}skip(e=1){this.tokenLength+=e}token(e,t="",r=!0){return this.lastToken=new n.Token(e,t,this.tokenValue,this.line,Math.max(1,r?this.charIndex-this.tokenLength:this.charIndex),r?this.charSum-this.tokenLength:this.charSum,this.charSum),this.tokens.push(this.lastToken),this.tokenValue="",this.tokenLength=0,this.allowNewLine=!0,this.lastToken}error(e,...t){this.ok&&(this.lastError=new i.TokenizerError(e,this.line,this.charIndex,...t),this.end(!1))}end(e){this.lookback=null,this.char=null,this.lookahead=null,e||(this.ok=!1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;t.Token=class{constructor(e,t,r,n,i,o,a){this.type=e,this.subtype=t,this.data=r,this.range={from:o,to:a},this.line=n,this.char=i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenizerError=void 0;const n={UNEXPECTED_EOF:"Unexpected end of input. You should count your brackets and braces... it seems like we need more of them. :/",INVALID_NUMBER:"Invalid number, use decimal digits.",INVALID_NUMBER_HEX:"Invalid number, use hexadecimal digits.",UNEXPECTED_TERMINATOR:"Unexpected line terminator. Hmm... it is very unusual.",UNUSUAL_TOKEN:"Unexpected token ILLEGAL. Hmm... it is very unusual.",MANY_BRACKETS:"You have entered too many brackets. :(",MANY_BRACES:"You have entered too many braces. :(",MANY_ROUND_BRACKETS:"You have entered too many round brackets. :(",RESERVED_WORD:"Reserved word found: {0}. These words are reserved for future use and sadly you cannot use them as names."};class i{constructor(e,t,r,...n){this.code=e,this.message=i.mapCodeToMessage(e,n),this.messageEn=i.mapCodeToMessageEn(e,n),this.line=t,this.char=r}static mapCodeToMessage(e,t){let i=r(4).LocalisationService.Default.getValue("TokenizerError:"+e,n[e]);return i&&t.forEach(((e,t)=>i=i.replace(`{${t}}`,e))),i}static mapCodeToMessageEn(e,t){let i=r(4).LocalisationService.Default.getEnValue("TokenizerError:"+e,n[e]);return i&&t.forEach(((e,t)=>i=i.replace(`{${t}}`,e))),i}}t.TokenizerError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizer=void 0;let n=[],i={};function o(e){n.push(e),i[e.name]=e}function a(e){let t=null;for(let r=0;r<n.length;++r)t=n[r],t.end&&t.end(e)}o(r(831)),o(r(832)),o(r(69)),o(r(833)),o(r(834)),o(r(835)),o(r(836)),o(r(837)),t.tokenizer={processUntil(e,t){let r=null;e:for(;t();){if(!e.char)return!1;for(let t=0;t<n.length;++t)if(r=n[t],r.canProcess(e)){r.process(e);continue e}return e.error("Invalid character found: <"+e.char+">"),!1}return!0},process(e){let t=null;e.lastError=null;for(let r=0;r<n.length;++r)t=n[r],t.init&&t.init(e);e:for(;;){if(!e.char)return a(e),void e.end(!0);for(let r=0;r<n.length;++r)if(t=n[r],t.canProcess(e)){t.process(e);continue e}break}e.error("INVALID_CHARACTER",e.char)}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(143),t),i(r(225),t),i(r(843),t),i(r(846),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDictInfo=t.PythonDictViewInfo=t.PythonDict=t.PythonDictView=void 0;const n=r(4),i=r(107);class o{constructor(e,t){this.__kind__=e,this.__viewEntriesGetter__=t}*[Symbol.iterator](){for(let e of this.__viewEntriesGetter__())yield e}get length(){return this.__viewEntriesGetter__().length}includes(e){return this.__viewEntriesGetter__().includes(e)}reversed(){return n.ScoolcodeArray.from([...this.__viewEntriesGetter__()].reverse())}toString(){return"items"===this.__kind__?`dict_items([${Array.from(this).map((([e,t])=>`('${e}': ${"string"===typeof t?`'${t}'`:JSON.stringify(t)})`)).join(", ")}])`:`dict_${this.__kind__}([${Array.from(this).map((e=>"string"===typeof e?`'${e}'`:JSON.stringify(e))).join(", ")}])`}}t.PythonDictView=o;class a{constructor(e){"undefined"!==typeof e&&this.update(e)}readProperty(e){const t=this[e];return t||null}*[Symbol.iterator](){for(let e in this)yield e}clear(){for(let e in this)delete this[e]}copy(){const e=new a;for(let t in this)e[t]=this[t];return e}get(e){return this[e]}items(){return new o("items",(()=>Object.keys(this).map((e=>n.ScoolcodeArray.from([e,this[e]])))))}keys(){return new o("keys",(()=>Object.keys(this)))}pop(e,t){const r=this[e]||t;return delete this[e],r}popitem(){const e=Object.keys(this),t=e[e.length-1];if(t){const e=n.ScoolcodeArray.from([t,this[t]]);return delete this[t],e}}reversed(){return this.keys().reversed()}setdefault(e,t=null){return Object.keys(e).includes(e)?this[e]||null:this[e]=t}update(e){const t=e instanceof a?e.items():e;for(let[r,n]of t)this[r]=n}values(){return new o("values",(()=>Object.keys(this).map((e=>this[e]))))}get length(){return Object.keys(this).length}includes(e){return Object.keys(this).includes(e)}__str__(){return`{${Object.keys(this).map((e=>`'${e}': ${(0,i.repr)(this[e])}`)).join(", ")}}`}__repr__(){return`{${Object.keys(this).map((e=>`'${e}': ${(0,i.repr)(this[e])}`)).join(", ")}}`}}t.PythonDict=a;class s extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("dictView",null,o),this.implements.push(n.ValueType.Iterable),this.declareMethod("reversed",n.ValueType.Array)}}t.PythonDictViewInfo=s,s.Type=new s;class l extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("dict",null,a),this.implements.push(n.ValueType.Iterable),this.options={validateMembers:"none"},this.declareMethod("clear"),this.declareMethod("copy",l.Type||this),this.declareMethod("get",l.Type||this).declareParameter("key",n.ValueType.String),this.declareMethod("items",s.Type),this.declareMethod("keys",s.Type),this.declareMethod("values",s.Type),this.declareMethod("pop",n.ValueType.Any).declareOptionalParameter("key",n.ValueType.String).declareOptionalParameter("_default",n.ValueType.String),this.declareMethod("popitem",n.ValueType.Any),this.declareMethod("reversed",n.ValueType.Array),this.declareMethod("setdefault",n.ValueType.Any).declareParameter("key",n.ValueType.String).declareOptionalParameter("default",n.ValueType.Any),this.declareMethod("update",n.ValueType.Array).declareParameter("other",n.ValueType.Any)}}t.PythonDictInfo=l,l.Type=new l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.divmod=t.zip=t.sorted=t.round=t.reversed=t.pow=t.ord=t.oct=t.hex=t.enumerate=t.chr=t.bin=t.any=t.all=t.abs=t.sum=t.max=t.min=void 0;const n=r(4);function*i(e,t){if("number"===typeof e){yield e;for(let e of t)yield e}else for(let r of e)yield r}function o(e){return Math.abs(e)}t.min=function(e,...t){let r=Number.MAX_VALUE;for(let n of i(e,t))n<r&&(r=n);return r},t.max=function(e,...t){let r=Number.NEGATIVE_INFINITY;for(let n of i(e,t))n>r&&(r=n);return r},t.sum=function(e,...t){let r=0;for(let n of i(e,t))r+=n;return r},t.abs=o,t.all=function(e){for(let t of e)if(!t)return!1;return!0},t.any=function(e){for(let t of e)if(t)return!0;return!1},t.bin=function(e){return`${e<0?"-":""}0b${o(e).toString(2)}`},t.chr=function(e){return String.fromCodePoint(e)},t.enumerate=function*(e,t=0){let r=t;for(let n of e)yield[r++,n]},t.hex=function(e){return`${e<0?"-":""}0x${o(e).toString(16)}`},t.oct=function(e){return`${e<0?"-":""}0o${o(e).toString(8)}`},t.ord=function(e){return e.codePointAt(0)},t.pow=function(e,t,r){return"undefined"===typeof r?e**t:e**t%r},t.reversed=function(e){if("string"===typeof e)return e.split("").reverse().join("");if("function"===typeof e.reversed)return e.reversed();{const t=[...e];return"function"===typeof t.reverse?t.reverse():null}},t.round=function(e,t){if(void 0==t)return Math.round(e);const r=10**t;return Math.round(e*r)/r},t.sorted=function(e,t,r=!1){const i=t?(e,n)=>{const i="string"===typeof t?e[t]:t(e),o="string"===typeof t?n[t]:t(n),a=r?-1:1;return i<o?-a:i>o?a:0}:void 0;return n.ScoolcodeArray.from([...e].sort(i))},t.zip=function*(...e){let t=e.map((e=>e[Symbol.iterator]()));for(;;){let e=t.map((e=>e.next()));if(e.some((e=>e.done)))return;yield new n.ScoolcodeArray(...e.map((e=>e.value)))}},t.divmod=function(e,t){const r=e%t;return e<0&&t<0?n.ScoolcodeArray.from([Math.floor(-e/-t),r]):t<0?n.ScoolcodeArray.from([Math.floor(-e/-t),r>0?r+t:r]):n.ScoolcodeArray.from([Math.floor(e/t),r<0?r+t:r])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RealPython=void 0;class n{constructor(){this.reflectionEnabled=!0,this.inited=!1,this.packages={}}get available(){return"function"===typeof loadPyodide}async init(e=[]){if(!this.inited&&this.available){this.pyodide=await loadPyodide({indexURL:"/pyodide/"}),await this.pyodide.loadPackage(["micropip",...e]),this.micropip=this.pyodide.pyimport("micropip"),this.inspect=this.run('import inspect\ndef inspectModule(module):\n    parsedmembers = []\n    for member in inspect.getmembers(module):\n        membertype = "property"\n        typedoc = ""\n        if callable(member[1]):\n            membertype = "method"\n            try:\n                typedoc = str(inspect.signature(member[1]))\n            except ValueError:\n                pass\n            finally:\n                pass\n        parsedmembers.append((member[0], membertype, typedoc, member[1].__doc__))\n    return parsedmembers\ninspectModule');for(let t of e)this.importPackage(t);this.inited=!0}}run(e){return this.pyodide.runPython(e)}importPackage(e){return this.packages[e]||(this.packages[e]=this.pyodide.pyimport(e))}getPackage(e){return this.packages[e]}inspectPackage(e){return this.run(`import ${e}\ninspectModule(${e})`).toJs()}async loadPackage(e,t=!0){try{if(await this.pyodide.loadPackage(e),t)return this.importPackage(e)}catch(r){try{if(t)return this.importPackage(e)}catch(n){try{return this.installPackage(e)}catch(i){return!1}}}}async installPackage(e,t=!0){if(await this.micropip.install(e),t)return this.importPackage(e)}}t.RealPython=n,n.Instance=new n},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this._x=n,this._y=o,this.cb=t,this.scope=r}return e.prototype.clone=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||this.cb,i=r||this.scope;return new e(n,i,this._x,this._y)},e.prototype.set=function(e,t){var r=e||0,n=t||(0!==t?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},e.prototype.copy=function(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},n(e,[{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(146),o=(n=i)&&n.__esModule?n:{default:n};var a=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],l=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],c=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],p=[],u=[];function d(e){return e<0?-1:e>0?1:0}!function(){for(var e=0;e<16;e++){var t=[];u.push(t);for(var r=0;r<16;r++)for(var n=d(a[e]*a[r]+l[e]*s[r]),i=d(s[e]*a[r]+c[e]*s[r]),h=d(a[e]*l[r]+l[e]*c[r]),f=d(s[e]*l[r]+c[e]*c[r]),m=0;m<16;m++)if(a[m]===n&&s[m]===i&&l[m]===h&&c[m]===f){t.push(m);break}}for(var g=0;g<16;g++){var y=new o.default;y.set(a[g],s[g],l[g],c[g],0,0),p.push(y)}}();var h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return a[e]},uY:function(e){return s[e]},vX:function(e){return l[e]},vY:function(e){return c[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return u[e][t]},sub:function(e,t){return u[e][h.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?h.S:h.N:2*Math.abs(t)<=Math.abs(e)?e>0?h.E:h.W:t>0?e>0?h.SE:h.SW:e>0?h.NE:h.NW},matrixAppendRotationInv:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=p[h.inv(t)];i.tx=r,i.ty=n,e.append(i)}};t.default=h},function(e,t){e.exports=function(e,t,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<t.length;n++)i[t[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?e.enableVertexAttribArray(n):e.disableVertexAttribArray(n))}else for(n=0;n<t.length;n++){var a=t[n];e.enableVertexAttribArray(a.attribute.location)}}},function(e,t){var r=function(e,t,r,n,i){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=r||-1,this.format=n||e.RGBA,this.type=i||e.UNSIGNED_BYTE};r.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=e.videoWidth||e.width,n=e.videoHeight||e.height;n!==this.height||r!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=r,this.height=n};var n=!1;r.prototype.uploadData=function(e,t,r){this.bind();var i=this.gl;if(e instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,t,r,0,this.format,this.type,e||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,r,this.format,this.type,e||null),this.width=t,this.height=r},r.prototype.bind=function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},r.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},r.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},r.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(e,t,n){var i=new r(e);return i.premultiplyAlpha=n||!1,i.upload(t),i},r.fromData=function(e,t,n,i){var o=new r(e);return o.uploadData(t,n,i),o},e.exports=r},function(e,t){var r=function(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),null)};e.exports=function(e,t,n,i){var o=r(e,e.VERTEX_SHADER,t),a=r(e,e.FRAGMENT_SHADER,n),s=e.createProgram();if(e.attachShader(s,o),e.attachShader(s,a),i)for(var l in i)e.bindAttribLocation(s,i[l],l);return e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s)),e.deleteProgram(s),s=null),e.deleteShader(o),e.deleteShader(a),s}},function(e,t,r){var n=r(148),i=r(234),o=function(e,t,r,n){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,r||0,n||0)};e.exports=function(e,t){for(var r={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var l=e.getActiveAttrib(t,s),c=n(e,l.type);r[l.name]={type:c,size:i(c),location:e.getAttribLocation(t,l.name),pointer:o}}return r}},function(e,t){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(e){return r[e]}},function(e,t,r){var n=r(148),i=r(236);e.exports=function(e,t){for(var r={},o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=e.getActiveUniform(t,a),l=s.name.replace(/\[.*?\]/,""),c=n(e,s.type);r[l]={type:c,size:s.size,location:e.getUniformLocation(t,l),value:i(c,s.size)}}return r}},function(e,t){var r=function(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t};e.exports=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return r(2*t);case"bvec3":return r(3*t);case"bvec4":return r(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(e,t){e.exports=function(e,t){return"precision"!==e.substring(0,9)?"precision "+t+" float;\n"+e:e}},function(e,t){var r=function(e){return function(){return this.data[e].value}},n={float:function(e,t,r){e.uniform1f(t,r)},vec2:function(e,t,r){e.uniform2f(t,r[0],r[1])},vec3:function(e,t,r){e.uniform3f(t,r[0],r[1],r[2])},vec4:function(e,t,r){e.uniform4f(t,r[0],r[1],r[2],r[3])},int:function(e,t,r){e.uniform1i(t,r)},ivec2:function(e,t,r){e.uniform2i(t,r[0],r[1])},ivec3:function(e,t,r){e.uniform3i(t,r[0],r[1],r[2])},ivec4:function(e,t,r){e.uniform4i(t,r[0],r[1],r[2],r[3])},bool:function(e,t,r){e.uniform1i(t,r)},bvec2:function(e,t,r){e.uniform2i(t,r[0],r[1])},bvec3:function(e,t,r){e.uniform3i(t,r[0],r[1],r[2])},bvec4:function(e,t,r){e.uniform4i(t,r[0],r[1],r[2],r[3])},mat2:function(e,t,r){e.uniformMatrix2fv(t,!1,r)},mat3:function(e,t,r){e.uniformMatrix3fv(t,!1,r)},mat4:function(e,t,r){e.uniformMatrix4fv(t,!1,r)},sampler2D:function(e,t,r){e.uniform1i(t,r)}},i={float:function(e,t,r){e.uniform1fv(t,r)},vec2:function(e,t,r){e.uniform2fv(t,r)},vec3:function(e,t,r){e.uniform3fv(t,r)},vec4:function(e,t,r){e.uniform4fv(t,r)},int:function(e,t,r){e.uniform1iv(t,r)},ivec2:function(e,t,r){e.uniform2iv(t,r)},ivec3:function(e,t,r){e.uniform3iv(t,r)},ivec4:function(e,t,r){e.uniform4iv(t,r)},bool:function(e,t,r){e.uniform1iv(t,r)},bvec2:function(e,t,r){e.uniform2iv(t,r)},bvec3:function(e,t,r){e.uniform3iv(t,r)},bvec4:function(e,t,r){e.uniform4iv(t,r)},sampler2D:function(e,t,r){e.uniform1iv(t,r)}};function o(e,t){return function(r){this.data[e].value=r;var o=this.data[e].location;1===t.size?n[t.type](this.gl,o,r):i[t.type](this.gl,o,r)}}function a(e,t){for(var r=t,n=0;n<e.length-1;n++){var i=r[e[n]]||{data:{}};r[e[n]]=i,r=i}return r}e.exports=function(e,t){var n={data:{}};n.gl=e;for(var i=Object.keys(t),s=0;s<i.length;s++){var l=i[s],c=l.split("."),p=c[c.length-1],u=a(c,n),d=t[l];u.data[p]=d,u.gl=e,Object.defineProperty(u,p,{get:r(p),set:o(p,d)})}return n}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(70)),o=r(13),a=u(r(29)),s=u(r(240)),l=u(r(241)),c=u(r(149)),p=r(30);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this)),n=a.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?s.default:l.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new c.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(this._boundsRect||(this._boundsRect=new p.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new p.Rectangle),e=this._localBoundsRect);var n=this.getBounds(!1,e);return this.parent=r,this.transform=t,n},t.prototype.toGlobal=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,n){return t&&(e=t.toGlobal(e,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.renderWebGL=function(e){},t.prototype.renderCanvas=function(e){},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(t,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),t}(i.default);t.default=d,d.prototype.displayObjectUpdateTransform=d.prototype.updateTransform},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(30),a=r(151);var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return r.position=new o.ObservablePoint(r.onChange,r,0,0),r.scale=new o.ObservablePoint(r.onChange,r,1,1),r.pivot=new o.ObservablePoint(r.onChange,r,0,0),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},i(t,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(30),a=r(151);var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return r.position=new o.Point(0,0),r.scale=new o.Point(1,1),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new o.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},t.prototype.updateLocalTransform=function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},t.prototype.updateTransform=function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._worldID++},t.prototype.setFromMatrix=function(e){e.decompose(this)},i(t,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===e.indexOf("data:"))return"";t=t||window.location,a||(a=document.createElement("a"));a.href=e;var r=!(e=o.default.parse(a.href)).port&&""===t.port||e.port===t.port;if(e.hostname!==t.hostname||!r||e.protocol!==t.protocol)return"anonymous";return""};var n,i=r(243),o=(n=i)&&n.__esModule?n:{default:n};var a=void 0},function(e,t,r){"use strict";var n=r(883),i=r(885);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),p=["'"].concat(c),u=["%","/","?",";","#"].concat(p),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(886);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var S=l.exec(b);if(S)return this.path=b,this.href=b,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var T=a.exec(b);if(T){var w=(T=T[0]).toLowerCase();this.protocol=w,b=b.substr(T.length)}if(r||T||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||T&&g[T]||(b=b.substr(2),this.slashes=!0)}if(!g[T]&&(E||T&&!y[T])){for(var x,_,k=-1,O=0;O<d.length;O++){-1!==(A=b.indexOf(d[O]))&&(-1===k||A<k)&&(k=A)}-1!==(_=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(x=b.slice(0,_),b=b.slice(_+1),this.auth=decodeURIComponent(x)),k=-1;for(O=0;O<u.length;O++){var A;-1!==(A=b.indexOf(u[O]))&&(-1===k||A<k)&&(k=A)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var M=this.hostname.split(/\./),P=(O=0,M.length);O<P;O++){var R=M[O];if(R&&!R.match(h)){for(var I="",B=0,D=R.length;B<D;B++)R.charCodeAt(B)>127?I+="x":I+=R[B];if(!I.match(h)){var L=M.slice(0,O),F=M.slice(O+1),N=R.match(f);N&&(L.push(N[1]),F.unshift(N[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var j=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+j,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(O=0,P=p.length;O<P;O++){var G=p[O];if(-1!==b.indexOf(G)){var U=encodeURIComponent(G);U===G&&(U=escape(G)),b=b.split(G).join(U)}}var W=b.indexOf("#");-1!==W&&(this.hash=b.substr(W),b=b.slice(0,W));var z=b.indexOf("?");if(-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,z)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var H=this.search||"";this.path=j+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var p=l[c];"protocol"!==p&&(r[p]=e[p])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var h=u[d];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),S=e.host||e.pathname&&"/"===e.pathname.charAt(0),T=S||b||r.host&&e.pathname,w=T,E=r.pathname&&r.pathname.split("/")||[],x=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),T=T&&(""===f[0]||""===E[0])),S)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(x)r.hostname=r.host=E.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var _=E.slice(-1)[0],k=(r.host||e.host||E.length>1)&&("."===_||".."===_)||""===_,O=0,A=E.length;A>=0;A--)"."===(_=E[A])?E.splice(A,1):".."===_?(E.splice(A,1),O++):O&&(E.splice(A,1),O--);if(!T&&!w)for(;O--;O)E.unshift("..");!T||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),k&&"/"!==E.join("/").substr(-1)&&E.push("");var C,M=""===E[0]||E[0]&&"/"===E[0].charAt(0);x&&(r.hostname=r.host=M?"":E.length?E.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(T=T||r.host&&E.length)&&!M&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(77)),o=r(23),a=r(155),s=r(13),l=c(r(242));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(r,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(p(this,t),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var o=u(this,e.call(this,r,n));return o.width=r.videoWidth,o.height=r.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=i,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),r.addEventListener("play",o._onPlayStart.bind(o)),r.addEventListener("pause",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(r.addEventListener("canplay",o._onCanPlay),r.addEventListener("canplaythrough",o._onCanPlay)),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},t.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},t.prototype.destroy=function(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),e.prototype.destroy.call(this)},t.fromVideo=function(e,r,n){e._pixiId||(e._pixiId="video_"+(0,o.uid)());var a=o.BaseTextureCache[e._pixiId];return a||(a=new t(e,r,n),i.default.addToCache(a,e._pixiId)),a},t.fromUrl=function(e,r,n,i){var o=document.createElement("video");o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline","");var a=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===n&&0!==a.indexOf("data:")?o.crossOrigin=(0,l.default)(a):n&&(o.crossOrigin="string"===typeof n?n:"anonymous"),Array.isArray(e))for(var s=0;s<e.length;++s)o.appendChild(h(e[s].src||e[s],e[s].mime));else o.appendChild(h(a,e.mime));return o.load(),t.fromVideo(o,r,i)},n(t,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),t}(i.default);function h(e,t){if(!t){var r=e.split("?").shift().toLowerCase();t="video/"+r.substr(r.lastIndexOf(".")+1)}var n=document.createElement("source");return n.src=e,n.type=t,n}t.default=d,d.fromUrls=d.fromUrl},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(229),o=(n=i)&&n.__esModule?n:{default:n};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return e.prototype.set=function(e,t,r){var n=t.width,i=t.height;if(r){var a=e.width/2/n,s=e.height/2/i,l=e.x/n+a,c=e.y/i+s;r=o.default.add(r,o.default.NW),this.x0=l+a*o.default.uX(r),this.y0=c+s*o.default.uY(r),r=o.default.add(r,2),this.x1=l+a*o.default.uX(r),this.y1=c+s*o.default.uY(r),r=o.default.add(r,2),this.x2=l+a*o.default.uX(r),this.y2=c+s*o.default.uY(r),r=o.default.add(r,2),this.x3=l+a*o.default.uX(r),this.y3=c+s*o.default.uY(r)}else this.x0=e.x/n,this.y0=e.y/i,this.x1=(e.x+e.width)/n,this.y1=e.y/i,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/i,this.x3=e.x/n,this.y3=(e.y+e.height)/i;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},e}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(23),o=r(30),a=r(13),s=u(r(29)),l=u(r(87)),c=u(r(156)),p=u(r(70));function u(e){return e&&e.__esModule?e:{default:e}}var d=new o.Matrix,h=function(e){function t(r,n,c,p){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return(0,i.sayHello)(r),"number"===typeof n&&(n=Object.assign({width:n,height:c||s.default.RENDER_OPTIONS.height},p)),n=Object.assign({},s.default.RENDER_OPTIONS,n),u.options=n,u.type=a.RENDERER_TYPE.UNKNOWN,u.screen=new o.Rectangle(0,0,n.width,n.height),u.view=n.view||document.createElement("canvas"),u.resolution=n.resolution||s.default.RESOLUTION,u.transparent=n.transparent,u.autoResize=n.autoResize||!1,u.blendModes=null,u.preserveDrawingBuffer=n.preserveDrawingBuffer,u.clearBeforeRender=n.clearBeforeRender,u.roundPixels=n.roundPixels,u._backgroundColor=0,u._backgroundColorRgba=[0,0,0,0],u._backgroundColorString="#000000",u.backgroundColor=n.backgroundColor||u._backgroundColor,u._tempDisplayObjectParent=new l.default,u._lastObjectRendered=u._tempDisplayObjectParent,u}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=t+"px")},t.prototype.generateTexture=function(e,t,r,n){n=n||e.getLocalBounds();var i=c.default.create(0|n.width,0|n.height,t,r);return d.tx=-n.x,d.ty=-n.y,this.render(e,i,!1,d,!!e.parent),i},t.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(t,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,i.hex2string)(e),(0,i.hex2rgb)(e,this._backgroundColorRgba)}}]),t}(p.default);t.default=h},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(77)),i=o(r(29));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],l=arguments[3];a(this,t);var c=s(this,e.call(this,null,o));return c.resolution=l||i.default.RESOLUTION,c.width=Math.ceil(r),c.height=Math.ceil(n),c.realWidth=c.width*c.resolution,c.realHeight=c.height*c.resolution,c.scaleMode=void 0!==o?o:i.default.SCALE_MODE,c.hasLoaded=!0,c._glRenderTargets={},c._canvasRenderTarget=null,c.valid=!1,c}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),e===this.width&&t===this.height||(this.valid=e>0&&t>0,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.renderer=null},t}(n.default);t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(29),a=(n=o)&&n.__esModule?n:{default:n};var s=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||a.default.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},i(e,[{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),e}();t.default=s},function(e,t,r){"use strict";function n(e){var t=document.createElement("canvas");t.width=6,t.height=1;var r=t.getContext("2d");return r.fillStyle=e,r.fillRect(0,0,6,1),t}t.__esModule=!0,t.default=function(){if("undefined"===typeof document)return!1;var e=n("#ff00ff"),t=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(e,0,0),i.drawImage(t,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(251)),i=r(30),o=(r(48),a(r(252)));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new i.Matrix,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=n,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.apply=function(e,t,r,n){var i=this.maskSprite,a=this.maskSprite.texture;a.valid&&(a.transform||(a.transform=new o.default(a,0)),a.transform.update(),this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.transform.uClampFrame,e.applyFilter(this,t,r,n))},t}(n.default);t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(896)),o=r(23),a=r(13),s=l(r(29));function l(e){return e&&e.__esModule?e:{default:e}}var c={},p=function(){function e(t,r,n){for(var l in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=n||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[l]=this.uniformData[l].value,this.uniformData[l].type&&(this.uniformData[l].type=this.uniformData[l].type.toLowerCase());this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=s.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return e.prototype.apply=function(e,t,r,n,i){e.applyFilter(this,t,r,n)},n(e,[{key:"blendMode",get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),e}();t.default=p},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(146),a=(n=o)&&n.__esModule?n:{default:n};var s=new a.default,l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._texture=t,this.mapCoord=new a.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin="undefined"===typeof r?.5:r}return e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,n=0;n<e.length;n+=2){var i=e[n],o=e[n+1];t[n]=i*r.a+o*r.c+r.tx,t[n+1]=i*r.b+o*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=t.orig,i=t.trim;i&&(s.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(s));var o=t.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(t._frame.x+l+c)/o.width,a[1]=(t._frame.y+l+c)/o.height,a[2]=(t._frame.x+t._frame.width-l+c)/o.width,a[3]=(t._frame.y+t._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,!0},i(e,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),e}();t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(40)),i=o(r(157));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t,r)}return e.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},e.prototype.map=function(e,t){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+t.width/e.width,this.uvs[3]=n,this.uvs[4]=r+t.width/e.width,this.uvs[5]=n+t.height/e.height,this.uvs[6]=r,this.uvs[7]=n+t.height/e.height,r=t.x,n=t.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+t.width,this.vertices[3]=n,this.vertices[4]=r+t.width,this.vertices[5]=n+t.height,this.vertices[6]=r,this.vertices[7]=n+t.height,this},e.prototype.upload=function(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},e}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(13),o=r(23);var a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.styleID=0,this.reset(),u(this,t,t)}return e.prototype.clone=function(){var t={};return u(t,this,a),new e(t)},e.prototype.reset=function(){u(this,a,a)},e.prototype.toFontString=function(){var e="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var r=t.length-1;r>=0;r--){var n=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&s.indexOf(n)<0&&(n='"'+n+'"'),t[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},n(e,[{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=p(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=p(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=p(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),e}();function c(e){return"number"===typeof e?(0,o.hex2string)(e):("string"===typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function p(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=c(e[t]);return e}return c(e)}function u(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(t,r,n,i,o,a,s,l,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=l,this.fontProperties=c}return e.measureText=function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e._canvas;n=void 0===n||null===n?r.wordWrap:n;var o=r.toFontString(),a=e.measureFont(o),s=i.getContext("2d");s.font=o;for(var l=n?e.wordWrap(t,r,i):t,c=l.split(/(?:\r\n|\r|\n)/),p=new Array(c.length),u=0,d=0;d<c.length;d++){var h=s.measureText(c[d]).width+(c[d].length-1)*r.letterSpacing;p[d]=h,u=Math.max(u,h)}var f=u+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);var m=r.lineHeight||a.fontSize+r.strokeThickness,g=Math.max(m,a.fontSize+r.strokeThickness)+(c.length-1)*(m+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new e(t,r,f,g,c,p,m+r.leading,u,a)},e.wordWrap=function(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas,i=n.getContext("2d"),o=0,a="",s="",l={},c=r.letterSpacing,p=r.whiteSpace,u=e.collapseSpaces(p),d=e.collapseNewlines(p),h=!u,f=r.wordWrapWidth+c,m=e.tokenize(t),g=0;g<m.length;g++){var y=m[g];if(e.isNewline(y)){if(!d){s+=e.addLine(a),h=!u,a="",o=0;continue}y=" "}if(u){var v=e.isBreakingSpace(y),b=e.isBreakingSpace(a[a.length-1]);if(v&&b)continue}var S=e.getFromCache(y,c,l,i);if(S>f)if(""!==a&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(y,r.breakWords))for(var T=y.split(""),w=0;w<T.length;w++){for(var E=T[w],x=1;T[w+x];){var _=T[w+x],k=E[E.length-1];if(e.canBreakChars(k,_,y,w,r.breakWords))break;E+=_,x++}w+=E.length-1;var O=e.getFromCache(E,c,l,i);O+o>f&&(s+=e.addLine(a),h=!1,a="",o=0),a+=E,o+=O}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var A=g===m.length-1;s+=e.addLine(y,!A),h=!1,a="",o=0}else S+o>f&&(h=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(y)||h)&&(a+=y,o+=S)}return s+=e.addLine(a,!1)},e.addLine=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.trimRight(t),t=r?t+"\n":t},e.getFromCache=function(e,t,r,n){var i=r[e];if(void 0===i){var o=e.length*t;i=n.measureText(e).width+o,r[e]=i}return i},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!==typeof t)return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"===typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t){return"string"===typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if("string"!==typeof t)return r;for(var i=0;i<t.length;i++){var o=t[i];e.isBreakingSpace(o)||e.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,r,n,i){return!0},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={},n=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),l=2*s;s=s*e.BASELINE_MULTIPLIER|0,n.width=a,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a,l).data,p=c.length,u=4*a,d=0,h=0,f=!1;for(d=0;d<s;++d){for(var m=0;m<u;m+=4)if(255!==c[h+m]){f=!0;break}if(f)break;h+=u}for(r.ascent=s-d,h=p-u,f=!1,d=l;d>s;--d){for(var g=0;g<u;g+=4)if(255!==c[h+g]){f=!0;break}if(f)break;h-=u}return r.descent=d-s,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?delete e._fonts[t]:e._fonts={}},e}();t.default=n;var i=document.createElement("canvas");i.width=i.height=10,n._canvas=i,n._context=i.getContext("2d"),n._fonts={},n.METRICS_STRING="|\xc9q",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(t,r,n,i,o,a,s,l,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lineWidth=t,this.lineAlignment=c,this.nativeLines=s,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=a,this.holes=[],this.shape=l,this.type=l.type}return e.prototype.clone=function(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},e.prototype.addHole=function(e){this.holes.push(e)},e.prototype.destroy=function(){this.shape=null,this.holes=null},e}();t.default=n},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(258),o=c(r(87)),a=r(155),s=c(r(29)),l=r(13);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t,r,n,l,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"number"===typeof t&&(t=Object.assign({width:t,height:r||s.default.RENDER_OPTIONS.height,forceCanvas:!!l,sharedTicker:!!c},n)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,i.autoDetectRenderer)(t),this.stage=new o.default,this._ticker=null,this.ticker=t.sharedTicker?a.shared:new a.Ticker,t.autoStart&&this.start()}return e.prototype.render=function(){this.renderer.render(this.stage)},e.prototype.stop=function(){this._ticker.stop()},e.prototype.start=function(){this._ticker.start()},e.prototype.destroy=function(e,t){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},n(e,[{key:"ticker",set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,l.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),e}();t.default=p},function(e,t,r){"use strict";t.__esModule=!0,t.autoDetectRenderer=function(e,t,r,a){var s=e&&e.forceCanvas;void 0!==a&&(s=a);if(!s&&n.isWebGLSupported())return new o.default(e,t,r);return new i.default(e,t,r)};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(23)),i=a(r(88)),o=a(r(110));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=!0,t.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(e,t,r){"use strict";t.__esModule=!0,t.BitmapText=t.TilingSpriteRenderer=t.TilingSprite=t.AnimatedSprite=void 0;var n=r(928);Object.defineProperty(t,"AnimatedSprite",{enumerable:!0,get:function(){return s(n).default}});var i=r(929);Object.defineProperty(t,"TilingSprite",{enumerable:!0,get:function(){return s(i).default}});var o=r(930);Object.defineProperty(t,"TilingSpriteRenderer",{enumerable:!0,get:function(){return s(o).default}});var a=r(931);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"BitmapText",{enumerable:!0,get:function(){return s(a).default}}),r(932),r(933),r(934)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=l(r(262)),a=l(r(263)),s=l(r(264));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(r,n,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l=l||5;var c=(0,o.default)(l,!0),p=(0,a.default)(l),u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,c,p));return u.resolution=s||i.settings.RESOLUTION,u._quality=0,u.quality=n||4,u.strength=r||8,u.firstRun=!0,u}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.apply=function(e,t,r,n){if(this.firstRun){var i=e.renderer.gl,l=(0,s.default)(i);this.vertexSrc=(0,o.default)(l,!0),this.fragmentSrc=(0,a.default)(l),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{for(var c=e.getRenderTarget(!0),p=t,u=c,d=0;d<this.passes-1;d++){e.applyFilter(this,p,u,!0);var h=u;u=p,p=h}e.applyFilter(this,p,r,n),e.returnRenderTarget(c)}},n(t,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(i.Filter);t.default=c},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=Math.ceil(e/2),i=n,o="",a=void 0;a=t?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var l=a.replace("%index%",s);l=l.replace("%sampleIndex%",s-(r-1)+".0"),o+=l,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",e)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){for(var t=n[e],r=t.length,o=i,a="",s=void 0,l=0;l<e;l++){var c="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",l);s=l,l>=r&&(s=e-l-1),c=c.replace("%value%",t[s]),a+=c,a+="\n"}return o=(o=o.replace("%blur%",a)).replace("%size%",e)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=e.getParameter(e.MAX_VARYING_VECTORS),r=15;for(;r>t;)r-=2;return r}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=l(r(262)),a=l(r(263)),s=l(r(264));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(r,n,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l=l||5;var c=(0,o.default)(l,!1),p=(0,a.default)(l),u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,c,p));return u.resolution=s||i.settings.RESOLUTION,u._quality=0,u.quality=n||4,u.strength=r||8,u.firstRun=!0,u}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.apply=function(e,t,r,n){if(this.firstRun){var i=e.renderer.gl,l=(0,s.default)(i);this.vertexSrc=(0,o.default)(l,!1),this.fragmentSrc=(0,a.default)(l),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{for(var c=e.getRenderTarget(!0),p=t,u=c,d=0;d<this.passes-1;d++){e.applyFilter(this,p,u,!0);var h=u;u=p,p=h}e.applyFilter(this,p,r,n),e.returnRenderTarget(c)}},n(t,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(i.Filter);t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype.copyEvent=function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},n(e,[{key:"pointerId",get:function(){return this.identifier}}]),e}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e}();t.default=n},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},n(e,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(e){this._flags=e}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),e}();t.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(e,t,r){"use strict";t.__esModule=!0,t.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(e,t,r){"use strict";t.__esModule=!0,t.parse=a,t.default=function(){return function(e,t){if(e.data&&e.type===i.Resource.TYPE.XML)if(0!==e.data.getElementsByTagName("page").length&&0!==e.data.getElementsByTagName("info").length&&null!==e.data.getElementsByTagName("info")[0].getAttribute("face")){var r=e.isDataUrl?"":n.dirname(e.url);e.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var o=e.data.getElementsByTagName("page"),s={},l=function(r){s[r.metadata.pageFile]=r.texture,Object.keys(s).length===o.length&&(a(e,s),t())},c=0;c<o.length;++c){var p=o[c].getAttribute("file"),u=r+p,d=!1;for(var h in this.resources){var f=this.resources[h];if(f.url===u){f.metadata.pageFile=p,f.texture?l(f):f.onAfterMiddleware.add(l),d=!0;break}}if(!d){var m={crossOrigin:e.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:p},e.metadata.imageMetadata),parentResource:e};this.add(u,m,l)}}}else t();else t()}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(48)),i=r(91),o=r(260);function a(e,t){e.bitmapFont=o.BitmapText.registerFont(e.data,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,r,n){void 0===r&&(r=!1),i(this,e),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function a(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var s=function(){function e(){i(this,e),this._head=this._tail=void 0}return n(e,[{key:"handlers",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:"has",value:function(e){if(!(e instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!==typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new o(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!==typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new o(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();s.MiniSignalBinding=o,t.default=s,e.exports=t.default},function(e,t,r){"use strict";e.exports=function(e,t){if(e){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(e,t,n){t&&(i[r.q.name][t]=n)})),i}}},function(e,t,r){"use strict";function n(){}function i(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}t.__esModule=!0,t.eachSeries=function(e,t,r,n){var i=0,o=e.length;!function a(s){s||i===o?r&&r(s):n?setTimeout((function(){t(e[i++],a)}),1):t(e[i++],a)}()},t.queue=function(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:t,saturated:n,unsaturated:n,buffer:t/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){r=0,o.drain=n,o.started=!1,o._tasks=[]},unshift:function(e,t){a(e,!0,t)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var t=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),e(t.data,i(s(t)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var e=1;e<=o.concurrency;e++)o.process()}}};function a(e,t,r){if(null!=r&&"function"!==typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==e&&o.idle())setTimeout((function(){return o.drain()}),1);else{var i={data:e,callback:"function"===typeof r?r:n};t?o._tasks.unshift(i):o._tasks.push(i),setTimeout((function(){return o.process()}),1)}}function s(e){return function(){r-=1,e.callback.apply(e,arguments),null!=arguments[0]&&o.error(arguments[0],e.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(e,t,r){"use strict";t.__esModule=!0,t.encodeBinary=n;function n(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<e.length?n[o]=255&e.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[a])}return t}e.exports.default=n},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){return function(e,t){var r=e.name+"_image";if(e.data&&e.type===i.Resource.TYPE.JSON&&e.data.frames&&!this.resources[r]){var n={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},o=l(e,this.baseUrl);this.add(r,o,n,(function(r){if(r.error)t(r.error);else{var n=new s.Spritesheet(r.texture.baseTexture,e.data,e.url);n.parse((function(){e.spritesheet=n,e.textures=n.textures,t()}))}}))}else t()}},t.getResourcePath=l;var n,i=r(91),o=r(243),a=(n=o)&&n.__esModule?n:{default:n},s=r(16);function l(e,t){return e.isDataUrl?e.data.meta.image:a.default.resolve(e.url.replace(t,""),e.data.meta.image)}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){return function(e,t){e.data&&e.type===i.Resource.TYPE.IMAGE&&(e.texture=a.default.fromLoader(e.data,e.url,e.name)),t()}};var n,i=r(91),o=r(64),a=(n=o)&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(92),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e){function t(r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return a._ready=!0,a.verticesX=n||10,a.verticesY=i||10,a.drawMode=o.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._refresh=function(){for(var e=this._texture,t=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,a=this.verticesY-1,s=e.width/o,l=e.height/a,c=0;c<t;c++){var p=c%this.verticesX,u=c/this.verticesX|0;r.push(p*s,u*l),n.push(p/o,u/a)}for(var d=o*a,h=0;h<d;h++){var f=h%o,m=h/o|0,g=m*this.verticesX+f,y=m*this.verticesX+f+1,v=(m+1)*this.verticesX+f,b=(m+1)*this.verticesX+f+1;i.push(g,y,v),i.push(y,b,v)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},t.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t}(o.default);t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();t.default=n},function(e,t,r){var n=r(36);r(11);function i(e,t,r){r=r||{},n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=r.angle||0,this.ratio="number"===typeof r.ratio?r.ratio:1,this.setRatio(this.ratio)}e.exports=i,i.prototype=new n,i.prototype.constructor=i,i.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},i.prototype.setRatio=function(e){var t=this.G;t[2]=e,t[5]=-1,this.ratio=e},i.prototype.setMaxTorque=function(e){this.maxForce=e,this.minForce=-e}},function(e,t,r){e.exports={Polygon:r(962),Point:r(282)}},function(e,t){function r(){}e.exports=r,r.eq=function(e,t,r){return r=r||0,Math.abs(e-t)<r}},function(e,t){function r(){}e.exports=r,r.area=function(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])},r.left=function(e,t,n){return r.area(e,t,n)>0},r.leftOn=function(e,t,n){return r.area(e,t,n)>=0},r.right=function(e,t,n){return r.area(e,t,n)<0},r.rightOn=function(e,t,n){return r.area(e,t,n)<=0};var n=[],i=[];r.collinear=function(e,t,o,a){if(a){var s=n,l=i;s[0]=t[0]-e[0],s[1]=t[1]-e[1],l[0]=o[0]-t[0],l[1]=o[1]-t[1];var c=s[0]*l[0]+s[1]*l[1],p=Math.sqrt(s[0]*s[0]+s[1]*s[1]),u=Math.sqrt(l[0]*l[0]+l[1]*l[1]);return Math.acos(c/(p*u))<a}return 0==r.area(e,t,o)},r.sqdist=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}},function(e,t,r){var n=r(37),i=r(11);function o(e){"number"===typeof arguments[0]&&"number"===typeof arguments[1]&&(e={length:arguments[0],radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),e=e||{},this.length=e.length||1,this.radius=e.radius||1,e.type=n.CAPSULE,n.call(this,e)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(e){var t=this.radius,r=this.length+t,n=2*t;return e*(n*n+r*r)/12},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},o.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var a=i.create();o.prototype.computeAABB=function(e,t,r){var n=this.radius;i.set(a,this.length/2,0),0!==r&&i.rotate(a,a,r),i.set(e.upperBound,Math.max(a[0]+n,-a[0]+n),Math.max(a[1]+n,-a[1]+n)),i.set(e.lowerBound,Math.min(a[0]-n,-a[0]-n),Math.min(a[1]-n,-a[1]-n)),i.add(e.lowerBound,e.lowerBound,t),i.add(e.upperBound,e.upperBound,t)};var s=i.create(),l=i.create(),c=i.create(),p=i.create(),u=i.fromValues(0,1);o.prototype.raycast=function(e,t,r,n){for(var o=t.from,a=t.to,d=(t.direction,s),h=l,f=c,m=p,g=this.length/2,y=0;y<2;y++){var v=this.radius*(2*y-1);if(i.set(f,-g,v),i.set(m,g,v),i.toGlobalFrame(f,f,r,n),i.toGlobalFrame(m,m,r,n),(S=i.getLineSegmentsIntersectionFraction(o,a,f,m))>=0&&(i.rotate(h,u,n),i.scale(h,h,2*y-1),t.reportIntersection(e,S,h,-1),e.shouldStop(t)))return}var b=Math.pow(this.radius,2)+Math.pow(g,2);for(y=0;y<2;y++){i.set(f,g*(2*y-1),0),i.toGlobalFrame(f,f,r,n);var S,T=Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2),w=2*((a[0]-o[0])*(o[0]-f[0])+(a[1]-o[1])*(o[1]-f[1])),E=Math.pow(o[0]-f[0],2)+Math.pow(o[1]-f[1],2)-Math.pow(this.radius,2);if(!((S=Math.pow(w,2)-4*T*E)<0))if(0===S){if(i.lerp(d,o,a,S),i.squaredDistance(d,r)>b&&(i.sub(h,d,f),i.normalize(h,h),t.reportIntersection(e,S,h,-1),e.shouldStop(t)))return}else{var x=Math.sqrt(S),_=1/(2*T),k=(-w-x)*_,O=(-w+x)*_;if(k>=0&&k<=1&&(i.lerp(d,o,a,k),i.squaredDistance(d,r)>b&&(i.sub(h,d,f),i.normalize(h,h),t.reportIntersection(e,k,h,-1),e.shouldStop(t))))return;if(O>=0&&O<=1&&(i.lerp(d,o,a,O),i.squaredDistance(d,r)>b&&(i.sub(h,d,f),i.normalize(h,h),t.reportIntersection(e,O,h,-1),e.shouldStop(t))))return}}}},function(e,t,r){var n=r(118),i=r(78);function o(){i.apply(this,arguments)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.bodyA=e.bodyB=null,this}},function(e,t,r){var n=r(161),i=r(36);function o(e,t,r){if(r=r||{},!(e instanceof n)||!(t instanceof n))throw new Error("First two arguments must be Material instances.");this.id=o.idCounter++,this.materialA=e,this.materialB=t,this.friction="undefined"!==typeof r.friction?Number(r.friction):.3,this.restitution="undefined"!==typeof r.restitution?Number(r.restitution):0,this.stiffness="undefined"!==typeof r.stiffness?Number(r.stiffness):i.DEFAULT_STIFFNESS,this.relaxation="undefined"!==typeof r.relaxation?Number(r.relaxation):i.DEFAULT_RELAXATION,this.frictionStiffness="undefined"!==typeof r.frictionStiffness?Number(r.frictionStiffness):i.DEFAULT_STIFFNESS,this.frictionRelaxation="undefined"!==typeof r.frictionRelaxation?Number(r.frictionRelaxation):i.DEFAULT_RELAXATION,this.surfaceVelocity="undefined"!==typeof r.surfaceVelocity?Number(r.surfaceVelocity):0,this.contactSkinSize=.005}e.exports=o,o.idCounter=0},function(e,t,r){var n=r(66),i=r(36),o=r(11),a=r(27);function s(e,t,r){r=a.defaults(r,{localAnchorA:[0,0],localAnchorB:[0,0]}),n.call(this,e,t,n.DISTANCE,r),this.localAnchorA=o.fromValues(r.localAnchorA[0],r.localAnchorA[1]),this.localAnchorB=o.fromValues(r.localAnchorB[0],r.localAnchorB[1]);var s,l=this.localAnchorA,c=this.localAnchorB;if(this.distance=0,"number"===typeof r.distance)this.distance=r.distance;else{var p=o.create(),u=o.create(),d=o.create();o.rotate(p,l,e.angle),o.rotate(u,c,t.angle),o.add(d,t.position,u),o.sub(d,d,p),o.sub(d,d,e.position),this.distance=o.length(d)}s="undefined"===typeof r.maxForce?Number.MAX_VALUE:r.maxForce;var h=new i(e,t,-s,s);this.equations=[h],this.maxForce=s;d=o.create();var f=o.create(),m=o.create(),g=this;h.computeGq=function(){var e=this.bodyA,t=this.bodyB,r=e.position,n=t.position;return o.rotate(f,l,e.angle),o.rotate(m,c,t.angle),o.add(d,n,m),o.sub(d,d,f),o.sub(d,d,r),o.length(d)-g.distance},this.setMaxForce(s),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}e.exports=s,s.prototype=new n,s.prototype.constructor=s;var l=o.create(),c=o.create(),p=o.create();s.prototype.update=function(){var e=this.equations[0],t=this.bodyA,r=this.bodyB,n=(this.distance,t.position),i=r.position,a=this.equations[0],s=e.G;o.rotate(c,this.localAnchorA,t.angle),o.rotate(p,this.localAnchorB,r.angle),o.add(l,i,p),o.sub(l,l,c),o.sub(l,l,n),this.position=o.length(l);var u=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(a.maxForce=0,a.minForce=-this.maxForce,this.distance=this.upperLimit,u=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(a.maxForce=this.maxForce,a.minForce=0,this.distance=this.lowerLimit,u=!0),!this.lowerLimitEnabled&&!this.upperLimitEnabled||u){a.enabled=!0,o.normalize(l,l);var d=o.crossLength(c,l),h=o.crossLength(p,l);s[0]=-l[0],s[1]=-l[1],s[2]=-d,s[3]=l[0],s[4]=l[1],s[5]=h}else a.enabled=!1},s.prototype.setMaxForce=function(e){var t=this.equations[0];t.minForce=-e,t.maxForce=e},s.prototype.getMaxForce=function(){return this.equations[0].maxForce}},function(e,t,r){var n=r(94),i=r(78);function o(){i.apply(this,arguments)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.bodyA=e.bodyB=null,this}},function(e,t,r){var n=r(66),i=(r(36),r(279));r(11);function o(e,t,r){r=r||{},n.call(this,e,t,n.GEAR,r),this.ratio=void 0!==r.ratio?r.ratio:1,this.angle=void 0!==r.angle?r.angle:t.angle-this.ratio*e.angle,r.angle=this.angle,r.ratio=this.ratio,this.equations=[new i(e,t,r)],void 0!==r.maxTorque&&this.setMaxTorque(r.maxTorque)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.update=function(){var e=this.equations[0];e.ratio!==this.ratio&&e.setRatio(this.ratio),e.angle=this.angle},o.prototype.setMaxTorque=function(e){this.equations[0].setMaxTorque(e)},o.prototype.getMaxTorque=function(e){return this.equations[0].maxForce}},function(e,t,r){var n=r(11),i=r(162),o=r(27),a=r(94);function s(e){i.call(this,e,i.GS),e=e||{},this.iterations=e.iterations||10,this.tolerance=e.tolerance||1e-7,this.arrayStep=30,this.lambda=new o.ARRAY_TYPE(this.arrayStep),this.Bs=new o.ARRAY_TYPE(this.arrayStep),this.invCs=new o.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=void 0!==e.frictionIterations?0:e.frictionIterations,this.usedIterations=0}e.exports=s,s.prototype=new i,s.prototype.constructor=s,s.prototype.solve=function(e,t){this.sortEquations();var r=0,i=this.iterations,l=this.frictionIterations,c=this.equations,p=c.length,u=Math.pow(this.tolerance*p,2),d=t.bodies,h=t.bodies.length,f=(n.add,n.set,this.useZeroRHS),m=this.lambda;if(this.usedIterations=0,p)for(var g=0;g!==h;g++){d[g].updateSolveMassProperties()}m.length<p&&(m=this.lambda=new o.ARRAY_TYPE(p+this.arrayStep),this.Bs=new o.ARRAY_TYPE(p+this.arrayStep),this.invCs=new o.ARRAY_TYPE(p+this.arrayStep)),function(e){for(var t=e.length;t--;)e[t]=0}(m);var y,v,b=this.invCs,S=this.Bs;for(m=this.lambda,g=0;g!==c.length;g++){var T;((T=c[g]).timeStep!==e||T.needsUpdate)&&(T.timeStep=e,T.update()),S[g]=T.computeB(T.a,T.b,e),b[g]=T.computeInvC(T.epsilon)}if(0!==p){for(g=0;g!==h;g++){d[g].resetConstraintVelocity()}if(l){for(r=0;r!==l;r++){for(y=0,v=0;v!==p;v++){T=c[v];var w=s.iterateEquation(v,T,T.epsilon,S,b,m,f,e,r);y+=Math.abs(w)}if(this.usedIterations++,y*y<=u)break}for(s.updateMultipliers(c,m,1/e),v=0;v!==p;v++){var E=c[v];if(E instanceof a){for(var x=0,_=0;_!==E.contactEquations.length;_++)x+=E.contactEquations[_].multiplier;x*=E.frictionCoefficient/E.contactEquations.length,E.maxForce=x,E.minForce=-x}}}for(r=0;r!==i;r++){for(y=0,v=0;v!==p;v++){T=c[v];w=s.iterateEquation(v,T,T.epsilon,S,b,m,f,e,r);y+=Math.abs(w)}if(this.usedIterations++,y*y<=u)break}for(g=0;g!==h;g++)d[g].addConstraintVelocity();s.updateMultipliers(c,m,1/e)}},s.updateMultipliers=function(e,t,r){for(var n=e.length;n--;)e[n].multiplier=t[n]*r},s.iterateEquation=function(e,t,r,n,i,o,a,s,l){var c=n[e],p=i[e],u=o[e],d=t.computeGWlambda(),h=t.maxForce,f=t.minForce;a&&(c=0);var m=p*(c-d-r*u),g=u+m;return g<f*s?m=f*s-u:g>h*s&&(m=h*s-u),o[e]+=m,t.addToWlambda(m),m}},function(e,t,r){var n=r(37),i=r(11);function o(e){"number"===typeof arguments[0]&&(e={length:arguments[0]},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),e=e||{},this.length=e.length||1,e.type=n.LINE,n.call(this,e)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(e){return e*Math.pow(this.length,2)/12},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var a=[i.create(),i.create()];o.prototype.computeAABB=function(e,t,r){var n=this.length/2;i.set(a[0],-n,0),i.set(a[1],n,0),e.setFromPoints(a,t,r,0)};i.create();var s=i.create(),l=i.create(),c=i.create(),p=i.fromValues(0,1);o.prototype.raycast=function(e,t,r,n){var o=t.from,a=t.to,u=l,d=c,h=this.length/2;i.set(u,-h,0),i.set(d,h,0),i.toGlobalFrame(u,u,r,n),i.toGlobalFrame(d,d,r,n);var f=i.getLineSegmentsIntersectionFraction(u,d,o,a);if(f>=0){var m=s;i.rotate(m,p,n),t.reportIntersection(e,f,m,-1)}}},function(e,t,r){var n=r(66),i=r(11),o=r(36);function a(e,t,r){r=r||{},n.call(this,e,t,n.LOCK,r);var a="undefined"===typeof r.maxForce?Number.MAX_VALUE:r.maxForce,s=(r.localAngleB,new o(e,t,-a,a)),l=new o(e,t,-a,a),c=new o(e,t,-a,a),p=i.create(),u=i.create(),d=this;s.computeGq=function(){return i.rotate(p,d.localOffsetB,e.angle),i.sub(u,t.position,e.position),i.sub(u,u,p),u[0]},l.computeGq=function(){return i.rotate(p,d.localOffsetB,e.angle),i.sub(u,t.position,e.position),i.sub(u,u,p),u[1]};var h=i.create(),f=i.create();c.computeGq=function(){return i.rotate(h,d.localOffsetB,t.angle-d.localAngleB),i.scale(h,h,-1),i.sub(u,e.position,t.position),i.add(u,u,h),i.rotate(f,h,-Math.PI/2),i.normalize(f,f),i.dot(u,f)},this.localOffsetB=i.create(),r.localOffsetB?i.copy(this.localOffsetB,r.localOffsetB):(i.sub(this.localOffsetB,t.position,e.position),i.rotate(this.localOffsetB,this.localOffsetB,-e.angle)),this.localAngleB=0,"number"===typeof r.localAngleB?this.localAngleB=r.localAngleB:this.localAngleB=t.angle-e.angle,this.equations.push(s,l,c),this.setMaxForce(a)}e.exports=a,a.prototype=new n,a.prototype.constructor=a,a.prototype.setMaxForce=function(e){for(var t=this.equations,r=0;r<this.equations.length;r++)t[r].maxForce=e,t[r].minForce=-e},a.prototype.getMaxForce=function(){return this.equations[0].maxForce};var s=i.create(),l=i.create(),c=i.create(),p=i.fromValues(1,0),u=i.fromValues(0,1);a.prototype.update=function(){var e=this.equations[0],t=this.equations[1],r=this.equations[2],n=this.bodyA,o=this.bodyB;i.rotate(s,this.localOffsetB,n.angle),i.rotate(l,this.localOffsetB,o.angle-this.localAngleB),i.scale(l,l,-1),i.rotate(c,l,Math.PI/2),i.normalize(c,c),e.G[0]=-1,e.G[1]=0,e.G[2]=-i.crossLength(s,p),e.G[3]=1,t.G[0]=0,t.G[1]=-1,t.G[2]=-i.crossLength(s,u),t.G[4]=1,r.G[0]=-c[0],r.G[1]=-c[1],r.G[3]=c[0],r.G[4]=c[1],r.G[5]=i.crossLength(l,c)}},function(e,t,r){var n=r(11),i=n.sub,o=n.add,a=n.dot,s=(r(27),r(284)),l=r(287),c=r(293),p=r(36),u=(r(118),r(94),r(117)),d=r(93),h=r(37),f=(r(65),r(294));e.exports=D;var m=n.fromValues(0,1),g=n.fromValues(0,0),y=n.fromValues(0,0),v=n.fromValues(0,0),b=n.fromValues(0,0),S=n.fromValues(0,0),T=n.fromValues(0,0),w=n.fromValues(0,0),E=n.fromValues(0,0),x=n.fromValues(0,0),_=n.fromValues(0,0),k=n.fromValues(0,0),O=n.fromValues(0,0),A=n.fromValues(0,0),C=n.fromValues(0,0),M=n.fromValues(0,0),P=n.fromValues(0,0),R=n.fromValues(0,0),I=n.fromValues(0,0),B=[];function D(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new s({size:32}),this.frictionEquationPool=new l({size:64}),this.restitution=0,this.stiffness=p.DEFAULT_STIFFNESS,this.relaxation=p.DEFAULT_RELAXATION,this.frictionStiffness=p.DEFAULT_STIFFNESS,this.frictionRelaxation=p.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new c,this.contactSkinSize=.01}var L=n.create(),F=n.create();function N(e,t){n.set(e.vertices[0],.5*-t.length,-t.radius),n.set(e.vertices[1],.5*t.length,-t.radius),n.set(e.vertices[2],.5*t.length,t.radius),n.set(e.vertices[3],.5*-t.length,t.radius)}D.prototype.bodiesOverlap=function(e,t){for(var r=L,n=F,i=0,o=e.shapes.length;i!==o;i++){var a=e.shapes[i];e.toWorldFrame(r,a.position);for(var s=0,l=t.shapes.length;s!==l;s++){var c=t.shapes[s];if(t.toWorldFrame(n,c.position),this[a.type|c.type](e,a,r,a.angle+e.angle,t,c,n,c.angle+t.angle,!0))return!0}}return!1},D.prototype.collidedLastStep=function(e,t){var r=0|e.id,n=0|t.id;return!!this.collidingBodiesLastStep.get(r,n)},D.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var e=this.contactEquations,t=e.length;t--;){var r=e[t],n=r.bodyA.id,i=r.bodyB.id;this.collidingBodiesLastStep.set(n,i,!0)}for(var o=this.contactEquations,a=this.frictionEquations,s=0;s<o.length;s++)this.contactEquationPool.release(o[s]);for(s=0;s<a.length;s++)this.frictionEquationPool.release(a[s]);this.contactEquations.length=this.frictionEquations.length=0},D.prototype.createContactEquation=function(e,t,r,n){var i=this.contactEquationPool.get();return i.bodyA=e,i.bodyB=t,i.shapeA=r,i.shapeB=n,i.restitution=this.restitution,i.firstImpact=!this.collidedLastStep(e,t),i.stiffness=this.stiffness,i.relaxation=this.relaxation,i.needsUpdate=!0,i.enabled=this.enabledEquations,i.offset=this.contactSkinSize,i},D.prototype.createFrictionEquation=function(e,t,r,n){var i=this.frictionEquationPool.get();return i.bodyA=e,i.bodyB=t,i.shapeA=r,i.shapeB=n,i.setSlipForce(this.slipForce),i.frictionCoefficient=this.frictionCoefficient,i.relativeVelocity=this.surfaceVelocity,i.enabled=this.enabledEquations,i.needsUpdate=!0,i.stiffness=this.frictionStiffness,i.relaxation=this.frictionRelaxation,i.contactEquations.length=0,i},D.prototype.createFrictionFromContact=function(e){var t=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB);return n.copy(t.contactPointA,e.contactPointA),n.copy(t.contactPointB,e.contactPointB),n.rotate90cw(t.t,e.normalA),t.contactEquations.push(e),t},D.prototype.createFrictionFromAverage=function(e){var t=this.contactEquations[this.contactEquations.length-1],r=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB),i=t.bodyA;t.bodyB;n.set(r.contactPointA,0,0),n.set(r.contactPointB,0,0),n.set(r.t,0,0);for(var o=0;o!==e;o++)(t=this.contactEquations[this.contactEquations.length-1-o]).bodyA===i?(n.add(r.t,r.t,t.normalA),n.add(r.contactPointA,r.contactPointA,t.contactPointA),n.add(r.contactPointB,r.contactPointB,t.contactPointB)):(n.sub(r.t,r.t,t.normalA),n.add(r.contactPointA,r.contactPointA,t.contactPointB),n.add(r.contactPointB,r.contactPointB,t.contactPointA)),r.contactEquations.push(t);var a=1/e;return n.scale(r.contactPointA,r.contactPointA,a),n.scale(r.contactPointB,r.contactPointB,a),n.normalize(r.t,r.t),n.rotate90cw(r.t,r.t),r},D.prototype[h.LINE|h.CONVEX]=D.prototype.convexLine=function(e,t,r,n,i,o,a,s,l){return!l&&0},D.prototype[h.LINE|h.BOX]=D.prototype.lineBox=function(e,t,r,n,i,o,a,s,l){return!l&&0};var j=new f({width:1,height:1}),V=n.create();D.prototype[h.CAPSULE|h.CONVEX]=D.prototype[h.CAPSULE|h.BOX]=D.prototype.convexCapsule=function(e,t,r,i,o,a,s,l,c){var p=V;n.set(p,a.length/2,0),n.rotate(p,p,l),n.add(p,p,s);var u=this.circleConvex(o,a,p,l,e,t,r,i,c,a.radius);n.set(p,-a.length/2,0),n.rotate(p,p,l),n.add(p,p,s);var d=this.circleConvex(o,a,p,l,e,t,r,i,c,a.radius);if(c&&(u||d))return!0;var h=j;return N(h,a),this.convexConvex(e,t,r,i,o,h,s,l,c)+u+d},D.prototype[h.CAPSULE|h.LINE]=D.prototype.lineCapsule=function(e,t,r,n,i,o,a,s,l){return!l&&0};var G=n.create(),U=n.create(),W=new f({width:1,height:1});D.prototype[h.CAPSULE|h.CAPSULE]=D.prototype.capsuleCapsule=function(e,t,r,i,o,a,s,l,c){for(var p=G,u=U,d=0,h=0;h<2;h++){n.set(p,(0===h?-1:1)*t.length/2,0),n.rotate(p,p,i),n.add(p,p,r);for(var f=0;f<2;f++){n.set(u,(0===f?-1:1)*a.length/2,0),n.rotate(u,u,l),n.add(u,u,s),this.enableFrictionReduction&&(v=this.enableFriction,this.enableFriction=!1);var m=this.circleCircle(e,t,p,i,o,a,u,l,c,t.radius,a.radius);if(this.enableFrictionReduction&&(this.enableFriction=v),c&&m)return!0;d+=m}}this.enableFrictionReduction&&(v=this.enableFriction,this.enableFriction=!1);var g=W;N(g,t);var y=this.convexCapsule(e,g,r,i,o,a,s,l,c);if(this.enableFrictionReduction&&(this.enableFriction=v),c&&y)return!0;if(d+=y,this.enableFrictionReduction){var v=this.enableFriction;this.enableFriction=!1}N(g,a);var b=this.convexCapsule(o,g,s,l,e,t,r,i,c);return this.enableFrictionReduction&&(this.enableFriction=v),!(!c||!b)||(d+=b,this.enableFrictionReduction&&d&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(d)),d)},D.prototype[h.LINE|h.LINE]=D.prototype.lineLine=function(e,t,r,n,i,o,a,s,l){return!l&&0},D.prototype[h.PLANE|h.LINE]=D.prototype.planeLine=function(e,t,r,s,l,c,p,u,d){var h=g,f=y,_=v,k=b,O=S,A=T,C=w,M=E,P=x,R=B,I=0;n.set(h,-c.length/2,0),n.set(f,c.length/2,0),n.rotate(_,h,u),n.rotate(k,f,u),o(_,_,p),o(k,k,p),n.copy(h,_),n.copy(f,k),i(O,f,h),n.normalize(A,O),n.rotate90cw(P,A),n.rotate(M,m,s),R[0]=h,R[1]=f;for(var D=0;D<R.length;D++){var L=R[D];i(C,L,r);var F=a(C,M);if(F<0){if(d)return!0;var N=this.createContactEquation(e,l,t,c);I++,n.copy(N.normalA,M),n.normalize(N.normalA,N.normalA),n.scale(C,M,F),i(N.contactPointA,L,C),i(N.contactPointA,N.contactPointA,e.position),i(N.contactPointB,L,p),o(N.contactPointB,N.contactPointB,p),i(N.contactPointB,N.contactPointB,l.position),this.contactEquations.push(N),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(N))}}return!d&&(this.enableFrictionReduction||I&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(I)),I)},D.prototype[h.PARTICLE|h.CAPSULE]=D.prototype.particleCapsule=function(e,t,r,n,i,o,a,s,l){return this.circleLine(e,t,r,n,i,o,a,s,l,o.radius,0)},D.prototype[h.CIRCLE|h.LINE]=D.prototype.circleLine=function(e,t,r,s,l,c,p,u,d,h,f){h=h||0,f="undefined"!==typeof f?f:t.radius;var m=g,M=y,P=v,R=b,I=S,D=T,L=w,F=E,N=x,j=_,V=k,G=O,U=A,W=C,z=B;n.set(F,-c.length/2,0),n.set(N,c.length/2,0),n.rotate(j,F,u),n.rotate(V,N,u),o(j,j,p),o(V,V,p),n.copy(F,j),n.copy(N,V),i(D,N,F),n.normalize(L,D),n.rotate90cw(I,L),i(G,r,F);var H=a(G,I);i(R,F,p),i(U,r,p);var $=f+h;if(Math.abs(H)<$){n.scale(m,I,H),i(P,r,m),n.scale(M,I,a(I,U)),n.normalize(M,M),n.scale(M,M,h),o(P,P,M);var X=a(L,P),Y=a(L,F),K=a(L,N);if(X>Y&&X<K){if(d)return!0;var q=this.createContactEquation(e,l,t,c);return n.scale(q.normalA,m,-1),n.normalize(q.normalA,q.normalA),n.scale(q.contactPointA,q.normalA,f),o(q.contactPointA,q.contactPointA,r),i(q.contactPointA,q.contactPointA,e.position),i(q.contactPointB,P,p),o(q.contactPointB,q.contactPointB,p),i(q.contactPointB,q.contactPointB,l.position),this.contactEquations.push(q),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(q)),1}}z[0]=F,z[1]=N;for(var J=0;J<z.length;J++){var Z=z[J];if(i(G,Z,r),n.squaredLength(G)<Math.pow($,2)){if(d)return!0;q=this.createContactEquation(e,l,t,c);return n.copy(q.normalA,G),n.normalize(q.normalA,q.normalA),n.scale(q.contactPointA,q.normalA,f),o(q.contactPointA,q.contactPointA,r),i(q.contactPointA,q.contactPointA,e.position),i(q.contactPointB,Z,p),n.scale(W,q.normalA,-h),o(q.contactPointB,q.contactPointB,W),o(q.contactPointB,q.contactPointB,p),i(q.contactPointB,q.contactPointB,l.position),this.contactEquations.push(q),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(q)),1}}return 0},D.prototype[h.CIRCLE|h.CAPSULE]=D.prototype.circleCapsule=function(e,t,r,n,i,o,a,s,l){return this.circleLine(e,t,r,n,i,o,a,s,l,o.radius)},D.prototype[h.CIRCLE|h.CONVEX]=D.prototype[h.CIRCLE|h.BOX]=D.prototype.circleConvex=function(e,t,r,a,s,l,c,p,u,d){d="number"===typeof d?d:t.radius;for(var h=g,f=y,m=v,T=b,w=S,E=_,x=k,O=A,R=C,I=M,B=P,D=!1,L=Number.MAX_VALUE,F=l.vertices,N=0;N!==F.length+1;N++){var j=F[N%F.length],V=F[(N+1)%F.length];if(n.rotate(h,j,p),n.rotate(f,V,p),o(h,h,c),o(f,f,c),i(m,f,h),n.normalize(T,m),n.rotate90cw(w,T),n.scale(R,w,-t.radius),o(R,R,r),Y(R,l,c,p)){n.sub(I,h,R);var G=Math.abs(n.dot(I,w));G<L&&(n.copy(B,R),L=G,n.scale(O,w,G),n.add(O,O,R),D=!0)}}if(D){if(u)return!0;var U=this.createContactEquation(e,s,t,l);return n.sub(U.normalA,B,r),n.normalize(U.normalA,U.normalA),n.scale(U.contactPointA,U.normalA,d),o(U.contactPointA,U.contactPointA,r),i(U.contactPointA,U.contactPointA,e.position),i(U.contactPointB,O,c),o(U.contactPointB,U.contactPointB,c),i(U.contactPointB,U.contactPointB,s.position),this.contactEquations.push(U),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(U)),1}if(d>0)for(N=0;N<F.length;N++){var W=F[N];if(n.rotate(x,W,p),o(x,x,c),i(E,x,r),n.squaredLength(E)<Math.pow(d,2)){if(u)return!0;U=this.createContactEquation(e,s,t,l);return n.copy(U.normalA,E),n.normalize(U.normalA,U.normalA),n.scale(U.contactPointA,U.normalA,d),o(U.contactPointA,U.contactPointA,r),i(U.contactPointA,U.contactPointA,e.position),i(U.contactPointB,x,c),o(U.contactPointB,U.contactPointB,c),i(U.contactPointB,U.contactPointB,s.position),this.contactEquations.push(U),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(U)),1}}return 0};var z=n.create(),H=n.create(),$=n.create(),X=n.create();function Y(e,t,r,a){for(var s=z,l=H,c=$,p=X,u=e,d=t.vertices,h=null,f=0;f!==d.length+1;f++){var m=d[f%d.length],g=d[(f+1)%d.length];n.rotate(s,m,a),n.rotate(l,g,a),o(s,s,r),o(l,l,r),i(c,s,u),i(p,l,u);var y=n.crossLength(c,p);if(null===h&&(h=y),y*h<=0)return!1;h=y}return!0}D.prototype[h.PARTICLE|h.CONVEX]=D.prototype[h.PARTICLE|h.BOX]=D.prototype.particleConvex=function(e,t,r,s,l,c,p,u,d){var h=g,f=y,m=v,E=b,x=S,k=T,O=w,C=_,M=A,P=R,B=I,D=Number.MAX_VALUE,L=!1,F=c.vertices;if(!Y(r,c,p,u))return 0;if(d)return!0;for(var N=0;N!==F.length+1;N++){var j=F[N%F.length],V=F[(N+1)%F.length];n.rotate(h,j,u),n.rotate(f,V,u),o(h,h,p),o(f,f,p),i(m,f,h),n.normalize(E,m),n.rotate90cw(x,E),i(C,r,h);a(C,x);i(k,h,p),i(O,r,p),n.sub(P,h,r);var G=Math.abs(n.dot(P,x));G<D&&(D=G,n.scale(M,x,G),n.add(M,M,r),n.copy(B,x),L=!0)}if(L){var U=this.createContactEquation(e,l,t,c);return n.scale(U.normalA,B,-1),n.normalize(U.normalA,U.normalA),n.set(U.contactPointA,0,0),o(U.contactPointA,U.contactPointA,r),i(U.contactPointA,U.contactPointA,e.position),i(U.contactPointB,M,p),o(U.contactPointB,U.contactPointB,p),i(U.contactPointB,U.contactPointB,l.position),this.contactEquations.push(U),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(U)),1}return 0},D.prototype[h.CIRCLE]=D.prototype.circleCircle=function(e,t,r,a,s,l,c,p,u,d,h){var f=g;d=d||t.radius,h=h||l.radius;i(f,r,c);var m=d+h;if(n.squaredLength(f)>Math.pow(m,2))return 0;if(u)return!0;var y=this.createContactEquation(e,s,t,l);return i(y.normalA,c,r),n.normalize(y.normalA,y.normalA),n.scale(y.contactPointA,y.normalA,d),n.scale(y.contactPointB,y.normalA,-h),o(y.contactPointA,y.contactPointA,r),i(y.contactPointA,y.contactPointA,e.position),o(y.contactPointB,y.contactPointB,c),i(y.contactPointB,y.contactPointB,s.position),this.contactEquations.push(y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(y)),1},D.prototype[h.PLANE|h.CONVEX]=D.prototype[h.PLANE|h.BOX]=D.prototype.planeConvex=function(e,t,r,s,l,c,p,u,d){var h=g,f=y,b=v,S=0;n.rotate(f,m,s);for(var T=0;T!==c.vertices.length;T++){var w=c.vertices[T];if(n.rotate(h,w,u),o(h,h,p),i(b,h,r),a(b,f)<=0){if(d)return!0;S++;var E=this.createContactEquation(e,l,t,c);i(b,h,r),n.copy(E.normalA,f);var x=a(b,E.normalA);n.scale(b,E.normalA,x),i(E.contactPointB,h,l.position),i(E.contactPointA,h,b),i(E.contactPointA,E.contactPointA,e.position),this.contactEquations.push(E),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(E))}}return this.enableFrictionReduction&&this.enableFriction&&S&&this.frictionEquations.push(this.createFrictionFromAverage(S)),S},D.prototype[h.PARTICLE|h.PLANE]=D.prototype.particlePlane=function(e,t,r,o,s,l,c,p,u){var d=g,h=y;p=p||0,i(d,r,c),n.rotate(h,m,p);var f=a(d,h);if(f>0)return 0;if(u)return!0;var v=this.createContactEquation(s,e,l,t);return n.copy(v.normalA,h),n.scale(d,v.normalA,f),i(v.contactPointA,r,d),i(v.contactPointA,v.contactPointA,s.position),i(v.contactPointB,r,e.position),this.contactEquations.push(v),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(v)),1},D.prototype[h.CIRCLE|h.PARTICLE]=D.prototype.circleParticle=function(e,t,r,a,s,l,c,p,u){var d=g;if(i(d,c,r),n.squaredLength(d)>Math.pow(t.radius,2))return 0;if(u)return!0;var h=this.createContactEquation(e,s,t,l);return n.copy(h.normalA,d),n.normalize(h.normalA,h.normalA),n.scale(h.contactPointA,h.normalA,t.radius),o(h.contactPointA,h.contactPointA,r),i(h.contactPointA,h.contactPointA,e.position),i(h.contactPointB,c,s.position),this.contactEquations.push(h),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(h)),1};var K=new u({radius:1}),q=n.create(),J=n.create();n.create();D.prototype[h.PLANE|h.CAPSULE]=D.prototype.planeCapsule=function(e,t,r,i,a,s,l,c,p){var u,d=q,h=J,f=K;n.set(d,-s.length/2,0),n.rotate(d,d,c),o(d,d,l),n.set(h,s.length/2,0),n.rotate(h,h,c),o(h,h,l),f.radius=s.radius,this.enableFrictionReduction&&(u=this.enableFriction,this.enableFriction=!1);var m=this.circlePlane(a,f,d,0,e,t,r,i,p),g=this.circlePlane(a,f,h,0,e,t,r,i,p);if(this.enableFrictionReduction&&(this.enableFriction=u),p)return m||g;var y=m+g;return this.enableFrictionReduction&&y&&this.frictionEquations.push(this.createFrictionFromAverage(y)),y},D.prototype[h.CIRCLE|h.PLANE]=D.prototype.circlePlane=function(e,t,r,s,l,c,p,u,d){var h=e,f=t,b=r,S=l,T=p,w=u;w=w||0;var E=g,x=y,_=v;i(E,b,T),n.rotate(x,m,w);var k=a(x,E);if(k>f.radius)return 0;if(d)return!0;var O=this.createContactEquation(S,h,c,t);return n.copy(O.normalA,x),n.scale(O.contactPointB,O.normalA,-f.radius),o(O.contactPointB,O.contactPointB,b),i(O.contactPointB,O.contactPointB,h.position),n.scale(_,O.normalA,k),i(O.contactPointA,E,_),o(O.contactPointA,O.contactPointA,T),i(O.contactPointA,O.contactPointA,S.position),this.contactEquations.push(O),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(O)),1},D.prototype[h.CONVEX]=D.prototype[h.CONVEX|h.BOX]=D.prototype[h.BOX]=D.prototype.convexConvex=function(e,t,r,s,l,c,p,u,d,h){var f=g,m=y,T=v,_=b,k=S,O=w,A=E,C=x,M=0;h="number"===typeof h?h:0;if(!D.findSeparatingAxis(t,r,s,c,p,u,f))return 0;i(A,p,r),a(f,A)>0&&n.scale(f,f,-1);var P=D.getClosestEdge(t,s,f,!0),R=D.getClosestEdge(c,u,f);if(-1===P||-1===R)return 0;for(var I=0;I<2;I++){var B,L=P,F=R,N=t,j=c,V=r,G=p,U=s,W=u,z=e,H=l;if(0===I)B=L,L=F,F=B,B=N,N=j,j=B,B=V,V=G,G=B,B=U,U=W,W=B,B=z,z=H,H=B;for(var $=F;$<F+2;$++){var X=j.vertices[($+j.vertices.length)%j.vertices.length];n.rotate(m,X,W),o(m,m,G);for(var Y=0,K=L-1;K<L+2;K++){var q=N.vertices[(K+N.vertices.length)%N.vertices.length],J=N.vertices[(K+1+N.vertices.length)%N.vertices.length];n.rotate(T,q,U),n.rotate(_,J,U),o(T,T,V),o(_,_,V),i(k,_,T),n.rotate90cw(C,k),n.normalize(C,C),i(A,m,T);var Z=a(C,A);(K===L&&Z<=h||K!==L&&Z<=0)&&Y++}if(Y>=3){if(d)return!0;var Q=this.createContactEquation(z,H,N,j);M++;q=N.vertices[L%N.vertices.length],J=N.vertices[(L+1)%N.vertices.length];n.rotate(T,q,U),n.rotate(_,J,U),o(T,T,V),o(_,_,V),i(k,_,T),n.rotate90cw(Q.normalA,k),n.normalize(Q.normalA,Q.normalA),i(A,m,T);Z=a(Q.normalA,A);n.scale(O,Q.normalA,Z),i(Q.contactPointA,m,V),i(Q.contactPointA,Q.contactPointA,O),o(Q.contactPointA,Q.contactPointA,V),i(Q.contactPointA,Q.contactPointA,z.position),i(Q.contactPointB,m,G),o(Q.contactPointB,Q.contactPointB,G),i(Q.contactPointB,Q.contactPointB,H.position),this.contactEquations.push(Q),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Q))}}}return this.enableFrictionReduction&&this.enableFriction&&M&&this.frictionEquations.push(this.createFrictionFromAverage(M)),M};var Z=n.fromValues(0,0);D.projectConvexOntoAxis=function(e,t,r,i,o){var s,l,c=null,p=null,u=Z;n.rotate(u,i,-r);for(var d=0;d<e.vertices.length;d++)s=e.vertices[d],l=a(s,u),(null===c||l>c)&&(c=l),(null===p||l<p)&&(p=l);if(p>c){var h=p;p=c,c=h}var f=a(t,i);n.set(o,p+f,c+f)};var Q=n.fromValues(0,0),ee=n.fromValues(0,0),te=n.fromValues(0,0),re=n.fromValues(0,0),ne=n.fromValues(0,0),ie=n.fromValues(0,0);D.findSeparatingAxis=function(e,t,r,o,a,s,l){var c=null,p=!1,u=!1,d=Q,h=ee,m=te,g=re,y=ne,v=ie;if(e instanceof f&&o instanceof f)for(var b=0;2!==b;b++){var S=e,T=r;1===b&&(S=o,T=s);for(var w=0;2!==w;w++){0===w?n.set(g,0,1):1===w&&n.set(g,1,0),0!==T&&n.rotate(g,g,T),D.projectConvexOntoAxis(e,t,r,g,y),D.projectConvexOntoAxis(o,a,s,g,v);var E=y,x=v;y[0]>v[0]&&(x=y,E=v,!0),p=(_=x[0]-E[1])<=0,(null===c||_>c)&&(n.copy(l,g),c=_,u=p)}}else for(b=0;2!==b;b++){S=e,T=r;1===b&&(S=o,T=s);for(w=0;w!==S.vertices.length;w++){n.rotate(h,S.vertices[w],T),n.rotate(m,S.vertices[(w+1)%S.vertices.length],T),i(d,m,h),n.rotate90cw(g,d),n.normalize(g,g),D.projectConvexOntoAxis(e,t,r,g,y),D.projectConvexOntoAxis(o,a,s,g,v);var _;E=y,x=v;y[0]>v[0]&&(x=y,E=v,!0),p=(_=x[0]-E[1])<=0,(null===c||_>c)&&(n.copy(l,g),c=_,u=p)}}return u};var oe=n.fromValues(0,0),ae=n.fromValues(0,0),se=n.fromValues(0,0);D.getClosestEdge=function(e,t,r,o){var s=oe,l=ae,c=se;n.rotate(s,r,-t),o&&n.scale(s,s,-1);for(var p=-1,u=e.vertices.length,d=-1,h=0;h!==u;h++){i(l,e.vertices[(h+1)%u],e.vertices[h%u]),n.rotate90cw(c,l),n.normalize(c,c);var f=a(c,s);(-1===p||f>d)&&(p=h%u,d=f)}return p};var le=n.create(),ce=n.create(),pe=n.create(),ue=n.create(),de=n.create(),he=n.create(),fe=n.create();D.prototype[h.CIRCLE|h.HEIGHTFIELD]=D.prototype.circleHeightfield=function(e,t,r,a,s,l,c,p,u,d){var h=l.heights,f=(d=d||t.radius,l.elementWidth),m=ce,g=le,y=de,v=fe,b=he,S=pe,T=ue,w=Math.floor((r[0]-d-c[0])/f),E=Math.ceil((r[0]+d-c[0])/f);w<0&&(w=0),E>=h.length&&(E=h.length-1);for(var x=h[w],_=h[E],k=w;k<E;k++)h[k]<_&&(_=h[k]),h[k]>x&&(x=h[k]);if(r[1]-d>x)return!u&&0;var O=!1;for(k=w;k<E;k++){n.set(S,k*f,h[k]),n.set(T,(k+1)*f,h[k+1]),n.add(S,S,c),n.add(T,T,c),n.sub(b,T,S),n.rotate(b,b,Math.PI/2),n.normalize(b,b),n.scale(g,b,-d),n.add(g,g,r),n.sub(m,g,S);var A=n.dot(m,b);if(g[0]>=S[0]&&g[0]<T[0]&&A<=0){if(u)return!0;O=!0,n.scale(m,b,-A),n.add(y,g,m),n.copy(v,b);var C=this.createContactEquation(s,e,l,t);n.copy(C.normalA,v),n.scale(C.contactPointB,C.normalA,-d),o(C.contactPointB,C.contactPointB,r),i(C.contactPointB,C.contactPointB,e.position),n.copy(C.contactPointA,y),n.sub(C.contactPointA,C.contactPointA,s.position),this.contactEquations.push(C),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(C))}}if(O=!1,d>0)for(k=w;k<=E;k++)if(n.set(S,k*f,h[k]),n.add(S,S,c),n.sub(m,r,S),n.squaredLength(m)<Math.pow(d,2)){if(u)return!0;O=!0;C=this.createContactEquation(s,e,l,t);n.copy(C.normalA,m),n.normalize(C.normalA,C.normalA),n.scale(C.contactPointB,C.normalA,-d),o(C.contactPointB,C.contactPointB,r),i(C.contactPointB,C.contactPointB,e.position),i(C.contactPointA,S,c),o(C.contactPointA,C.contactPointA,c),i(C.contactPointA,C.contactPointA,s.position),this.contactEquations.push(C),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(C))}return O?1:0};var me=n.create(),ge=n.create(),ye=n.create(),ve=new d({vertices:[n.create(),n.create(),n.create(),n.create()]});D.prototype[h.BOX|h.HEIGHTFIELD]=D.prototype[h.CONVEX|h.HEIGHTFIELD]=D.prototype.convexHeightfield=function(e,t,r,i,o,a,s,l,c){var p=a.heights,u=a.elementWidth,d=me,h=ge,f=ye,m=ve,g=Math.floor((e.aabb.lowerBound[0]-s[0])/u),y=Math.ceil((e.aabb.upperBound[0]-s[0])/u);g<0&&(g=0),y>=p.length&&(y=p.length-1);for(var v=p[g],b=p[y],S=g;S<y;S++)p[S]<b&&(b=p[S]),p[S]>v&&(v=p[S]);if(e.aabb.lowerBound[1]>v)return!c&&0;var T=0;for(S=g;S<y;S++){n.set(d,S*u,p[S]),n.set(h,(S+1)*u,p[S+1]),n.add(d,d,s),n.add(h,h,s);n.set(f,.5*(h[0]+d[0]),.5*(h[1]+d[1]-100)),n.sub(m.vertices[0],h,f),n.sub(m.vertices[1],d,f),n.copy(m.vertices[2],m.vertices[1]),n.copy(m.vertices[3],m.vertices[0]),m.vertices[2][1]-=100,m.vertices[3][1]-=100,T+=this.convexConvex(e,t,r,i,o,m,f,0,c)}return T}},function(e,t,r){var n=r(27);function i(){this.data={},this.keys=[]}e.exports=i,i.prototype.getKey=function(e,t){return(0|(e|=0))===(0|(t|=0))?-1:0|((0|e)>(0|t)?e<<16|65535&t:t<<16|65535&e)},i.prototype.getByKey=function(e){return e|=0,this.data[e]},i.prototype.get=function(e,t){return this.data[this.getKey(e,t)]},i.prototype.set=function(e,t,r){if(!r)throw new Error("No data!");var n=this.getKey(e,t);return this.data[n]||this.keys.push(n),this.data[n]=r,n},i.prototype.reset=function(){for(var e=this.data,t=this.keys,r=t.length;r--;)delete e[t[r]];t.length=0},i.prototype.copy=function(e){this.reset(),n.appendArray(this.keys,e.keys);for(var t=e.keys.length;t--;){var r=e.keys[t];this.data[r]=e.data[r]}}},function(e,t,r){var n=r(11),i=r(37),o=r(93);function a(e){"number"===typeof arguments[0]&&"number"===typeof arguments[1]&&(e={width:arguments[0],height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })")),e=e||{};var t=this.width=e.width||1,r=this.height=e.height||1,a=[n.fromValues(-t/2,-r/2),n.fromValues(t/2,-r/2),n.fromValues(t/2,r/2),n.fromValues(-t/2,r/2)],s=[n.fromValues(1,0),n.fromValues(0,1)];e.vertices=a,e.axes=s,e.type=i.BOX,o.call(this,e)}e.exports=a,a.prototype=new o,a.prototype.constructor=a,a.prototype.computeMomentOfInertia=function(e){var t=this.width,r=this.height;return e*(r*r+t*t)/12},a.prototype.updateBoundingRadius=function(){var e=this.width,t=this.height;this.boundingRadius=Math.sqrt(e*e+t*t)/2};n.create(),n.create(),n.create(),n.create();a.prototype.computeAABB=function(e,t,r){e.setFromPoints(this.vertices,t,r,0)},a.prototype.updateArea=function(){this.area=this.width*this.height}},function(e,t,r){var n=r(66),i=r(36),o=r(296),a=r(297),s=r(11);e.exports=h;var l=s.create(),c=s.create(),p=s.fromValues(1,0),u=s.fromValues(0,1),d=s.create();function h(e,t,r){r=r||{},n.call(this,e,t,n.REVOLUTE,r);var h=this.maxForce="undefined"!==typeof r.maxForce?r.maxForce:Number.MAX_VALUE;this.pivotA=s.create(),this.pivotB=s.create(),r.worldPivot?(s.sub(this.pivotA,r.worldPivot,e.position),s.sub(this.pivotB,r.worldPivot,t.position),s.rotate(this.pivotA,this.pivotA,-e.angle),s.rotate(this.pivotB,this.pivotB,-t.angle)):(s.copy(this.pivotA,r.localPivotA),s.copy(this.pivotB,r.localPivotB));var f=this.equations=[new i(e,t,-h,h),new i(e,t,-h,h)],m=f[0],g=f[1],y=this;m.computeGq=function(){return s.rotate(l,y.pivotA,e.angle),s.rotate(c,y.pivotB,t.angle),s.add(d,t.position,c),s.sub(d,d,e.position),s.sub(d,d,l),s.dot(d,p)},g.computeGq=function(){return s.rotate(l,y.pivotA,e.angle),s.rotate(c,y.pivotB,t.angle),s.add(d,t.position,c),s.sub(d,d,e.position),s.sub(d,d,l),s.dot(d,u)},g.minForce=m.minForce=-h,g.maxForce=m.maxForce=h,this.motorEquation=new o(e,t),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new a(e,t),this.lowerLimitEquation=new a(e,t),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}h.prototype=new n,h.prototype.constructor=h,h.prototype.setLimits=function(e,t){"number"===typeof e?(this.lowerLimit=e,this.lowerLimitEnabled=!0):(this.lowerLimit=e,this.lowerLimitEnabled=!1),"number"===typeof t?(this.upperLimit=t,this.upperLimitEnabled=!0):(this.upperLimit=t,this.upperLimitEnabled=!1)},h.prototype.update=function(){var e,t=this.bodyA,r=this.bodyB,n=this.pivotA,i=this.pivotB,o=this.equations,a=(o[0],o[1],o[0]),d=o[1],h=this.upperLimit,f=this.lowerLimit,m=this.upperLimitEquation,g=this.lowerLimitEquation,y=this.angle=r.angle-t.angle;this.upperLimitEnabled&&y>h?(m.angle=h,-1===o.indexOf(m)&&o.push(m)):-1!==(e=o.indexOf(m))&&o.splice(e,1);this.lowerLimitEnabled&&y<f?(g.angle=f,-1===o.indexOf(g)&&o.push(g)):-1!==(e=o.indexOf(g))&&o.splice(e,1);s.rotate(l,n,t.angle),s.rotate(c,i,r.angle),a.G[0]=-1,a.G[1]=0,a.G[2]=-s.crossLength(l,p),a.G[3]=1,a.G[4]=0,a.G[5]=s.crossLength(c,p),d.G[0]=0,d.G[1]=-1,d.G[2]=-s.crossLength(l,u),d.G[3]=0,d.G[4]=1,d.G[5]=s.crossLength(c,u)},h.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},h.prototype.disableMotor=function(){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations.splice(e,1),this.motorEnabled=!1}},h.prototype.motorIsEnabled=function(){return!!this.motorEnabled},h.prototype.setMotorSpeed=function(e){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations[t].relativeVelocity=e}},h.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},function(e,t,r){var n=r(36);r(11);function i(e,t){n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}e.exports=i,i.prototype=new n,i.prototype.constructor=i,i.prototype.computeB=function(e,t,r){var n=this.G;n[2]=-1,n[5]=this.ratio;var i=this.computeGiMf();return-this.computeGW()*t-r*i}},function(e,t,r){var n=r(36),i=r(11);function o(e,t,r){r=r||{},n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=r.angle||0;var i=this.G;i[2]=1,i[5]=-1}e.exports=o,o.prototype=new n,o.prototype.constructor=o;var a=i.create(),s=i.create(),l=i.fromValues(1,0),c=i.fromValues(0,1);o.prototype.computeGq=function(){return i.rotate(a,l,this.bodyA.angle+this.angle),i.rotate(s,c,this.bodyB.angle),i.dot(a,s)}},function(e,t,r){var n=r(66),i=r(118),o=r(36),a=r(11),s=r(297);function l(e,t,r){r=r||{},n.call(this,e,t,n.PRISMATIC,r);var l=a.fromValues(0,0),c=a.fromValues(1,0),p=a.fromValues(0,0);r.localAnchorA&&a.copy(l,r.localAnchorA),r.localAxisA&&a.copy(c,r.localAxisA),r.localAnchorB&&a.copy(p,r.localAnchorB),this.localAnchorA=l,this.localAnchorB=p,this.localAxisA=c;var u=this.maxForce="undefined"!==typeof r.maxForce?r.maxForce:Number.MAX_VALUE,d=new o(e,t,-u,u),h=new a.create,f=new a.create,m=new a.create,g=new a.create;if(d.computeGq=function(){return a.dot(m,g)},d.updateJacobian=function(){var r=this.G,n=e.position,i=t.position;a.rotate(h,l,e.angle),a.rotate(f,p,t.angle),a.add(m,i,f),a.sub(m,m,n),a.sub(m,m,h),a.rotate(g,c,e.angle+Math.PI/2),r[0]=-g[0],r[1]=-g[1],r[2]=-a.crossLength(h,g)+a.crossLength(g,m),r[3]=g[0],r[4]=g[1],r[5]=a.crossLength(f,g)},this.equations.push(d),!r.disableRotationalLock){var y=new s(e,t,-u,u);this.equations.push(y)}this.position=0,this.velocity=0,this.lowerLimitEnabled="undefined"!==typeof r.lowerLimit,this.upperLimitEnabled="undefined"!==typeof r.upperLimit,this.lowerLimit="undefined"!==typeof r.lowerLimit?r.lowerLimit:0,this.upperLimit="undefined"!==typeof r.upperLimit?r.upperLimit:1,this.upperLimitEquation=new i(e,t),this.lowerLimitEquation=new i(e,t),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=u,this.motorEquation=new o(e,t),this.motorEnabled=!1,this.motorSpeed=0;var v=this,b=this.motorEquation;b.computeGW;b.computeGq=function(){return 0},b.computeGW=function(){var e=this.G,t=this.bodyA,r=this.bodyB,n=t.velocity,i=r.velocity,o=t.angularVelocity,a=r.angularVelocity;return this.gmult(e,n,o,i,a)+v.motorSpeed}}e.exports=l,l.prototype=new n,l.prototype.constructor=l;var c=a.create(),p=a.create(),u=a.create(),d=a.create(),h=a.create(),f=a.create();l.prototype.update=function(){var e=this.equations,t=e[0],r=this.upperLimit,n=this.lowerLimit,i=this.upperLimitEquation,o=this.lowerLimitEquation,s=this.bodyA,l=this.bodyB,m=this.localAxisA,g=this.localAnchorA,y=this.localAnchorB;t.updateJacobian(),a.rotate(c,m,s.angle),a.rotate(d,g,s.angle),a.add(p,d,s.position),a.rotate(h,y,l.angle),a.add(u,h,l.position);var v,b=this.position=a.dot(u,c)-a.dot(p,c);if(this.motorEnabled){var S=this.motorEquation.G;S[0]=c[0],S[1]=c[1],S[2]=a.crossLength(c,h),S[3]=-c[0],S[4]=-c[1],S[5]=-a.crossLength(c,d)}this.upperLimitEnabled&&b>r?(a.scale(i.normalA,c,-1),a.sub(i.contactPointA,p,s.position),a.sub(i.contactPointB,u,l.position),a.scale(f,c,r),a.add(i.contactPointA,i.contactPointA,f),-1===e.indexOf(i)&&e.push(i)):-1!==(v=e.indexOf(i))&&e.splice(v,1);this.lowerLimitEnabled&&b<n?(a.scale(o.normalA,c,1),a.sub(o.contactPointA,p,s.position),a.sub(o.contactPointB,u,l.position),a.scale(f,c,n),a.sub(o.contactPointB,o.contactPointB,f),-1===e.indexOf(o)&&e.push(o)):-1!==(v=e.indexOf(o))&&e.splice(v,1)},l.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},l.prototype.disableMotor=function(){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations.splice(e,1),this.motorEnabled=!1}},l.prototype.setLimits=function(e,t){"number"===typeof e?(this.lowerLimit=e,this.lowerLimitEnabled=!0):(this.lowerLimit=e,this.lowerLimitEnabled=!1),"number"===typeof t?(this.upperLimit=t,this.upperLimitEnabled=!0):(this.upperLimit=t,this.upperLimitEnabled=!1)}},function(e,t,r){var n=r(27),i=r(116);function o(){i.call(this,i.SAP),this.axisList=[],this.axisIndex=0;var e=this;this._addBodyHandler=function(t){e.axisList.push(t.body)},this._removeBodyHandler=function(t){var r=e.axisList.indexOf(t.body);-1!==r&&e.axisList.splice(r,1)}}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.setWorld=function(e){this.axisList.length=0,n.appendArray(this.axisList,e.bodies),e.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),e.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=e},o.sortAxisList=function(e,t){t|=0;for(var r=1,n=e.length;r<n;r++){for(var i=e[r],o=r-1;o>=0&&!(e[o].aabb.lowerBound[t]<=i.aabb.lowerBound[t]);o--)e[o+1]=e[o];e[o+1]=i}return e},o.prototype.sortList=function(){var e=this.axisList,t=this.axisIndex;o.sortAxisList(e,t)},o.prototype.getCollisionPairs=function(e){var t=this.axisList,r=this.result,n=this.axisIndex;r.length=0;for(var o=t.length;o--;){var a=t[o];a.aabbNeedsUpdate&&a.updateAABB()}this.sortList();for(var s=0,l=0|t.length;s!==l;s++)for(var c=t[s],p=s+1;p<l;p++){var u=t[p];if(!(u.aabb.lowerBound[n]<=c.aabb.upperBound[n]))break;i.canCollide(c,u)&&this.boundingVolumeCheck(c,u)&&r.push(c,u)}return r},o.prototype.aabbQuery=function(e,t,r){r=r||[],this.sortList();var n=this.axisIndex,i="x";1===n&&(i="y"),2===n&&(i="z");for(var o=this.axisList,a=(t.lowerBound[i],t.upperBound[i],0);a<o.length;a++){var s=o[a];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(t)&&r.push(s)}return r}},function(e,t,r){var n=r(11),i=r(165);r(27);function o(e,t,r){r=r||{},i.call(this,e,t,r),this.localAnchorA=n.fromValues(0,0),this.localAnchorB=n.fromValues(0,0),r.localAnchorA&&n.copy(this.localAnchorA,r.localAnchorA),r.localAnchorB&&n.copy(this.localAnchorB,r.localAnchorB),r.worldAnchorA&&this.setWorldAnchorA(r.worldAnchorA),r.worldAnchorB&&this.setWorldAnchorB(r.worldAnchorB);var o=n.create(),a=n.create();this.getWorldAnchorA(o),this.getWorldAnchorB(a);var s=n.distance(o,a);this.restLength="number"===typeof r.restLength?r.restLength:s}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.setWorldAnchorA=function(e){this.bodyA.toLocalFrame(this.localAnchorA,e)},o.prototype.setWorldAnchorB=function(e){this.bodyB.toLocalFrame(this.localAnchorB,e)},o.prototype.getWorldAnchorA=function(e){this.bodyA.toWorldFrame(e,this.localAnchorA)},o.prototype.getWorldAnchorB=function(e){this.bodyB.toWorldFrame(e,this.localAnchorB)};var a=n.create(),s=n.create(),l=n.create(),c=n.create(),p=n.create(),u=n.create(),d=n.create(),h=n.create(),f=n.create();o.prototype.applyForce=function(){var e=this.stiffness,t=this.damping,r=this.restLength,i=this.bodyA,o=this.bodyB,m=a,g=s,y=l,v=c,b=f,S=p,T=u,w=d,E=h;this.getWorldAnchorA(S),this.getWorldAnchorB(T),n.sub(w,S,i.position),n.sub(E,T,o.position),n.sub(m,T,S);var x=n.len(m);n.normalize(g,m),n.sub(y,o.velocity,i.velocity),n.crossZV(b,o.angularVelocity,E),n.add(y,y,b),n.crossZV(b,i.angularVelocity,w),n.sub(y,y,b),n.scale(v,g,-e*(x-r)-t*n.dot(y,g)),n.sub(i.force,i.force,v),n.add(o.force,o.force,v);var _=n.crossLength(w,v),k=n.crossLength(E,v);i.angularForce-=_,o.angularForce+=k}},function(e,t,r){r(11);var n=r(165);function i(e,t,r){r=r||{},n.call(this,e,t,r),this.restAngle="number"===typeof r.restAngle?r.restAngle:t.angle-e.angle}e.exports=i,i.prototype=new n,i.prototype.constructor=i,i.prototype.applyForce=function(){var e=this.stiffness,t=this.damping,r=this.restAngle,n=this.bodyA,i=this.bodyB,o=-e*(i.angle-n.angle-r)-t*(i.angularVelocity-n.angularVelocity)*0;n.angularForce-=o,i.angularForce+=o}},function(e){e.exports=JSON.parse('{"name":"p2","version":"0.7.1","description":"A JavaScript 2D physics engine.","author":"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)","keywords":["p2.js","p2","physics","engine","2d"],"main":"./src/p2.js","engines":{"node":"*"},"repository":{"type":"git","url":"https://github.com/schteppe/p2.js.git"},"bugs":{"url":"https://github.com/schteppe/p2.js/issues"},"licenses":[{"type":"MIT"}],"devDependencies":{"grunt":"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},"dependencies":{"poly-decomp":"0.1.1"}}')},function(e,t){function r(e,t,r,n){this.shapeA=t,this.shapeB=n,this.bodyA=e,this.bodyB=r}e.exports=r,r.prototype.set=function(e,t,n,i){r.call(this,e,t,n,i)}},function(e,t,r){var n=r(65);function i(){this.equations=[],this.bodies=[]}e.exports=i,i.prototype.reset=function(){this.equations.length=this.bodies.length=0};var o=[];i.prototype.getBodies=function(e){var t=e||[],r=this.equations;o.length=0;for(var n=0;n!==r.length;n++){var i=r[n];-1===o.indexOf(i.bodyA.id)&&(t.push(i.bodyA),o.push(i.bodyA.id)),-1===o.indexOf(i.bodyB.id)&&(t.push(i.bodyB),o.push(i.bodyB.id))}return t},i.prototype.wantsToSleep=function(){for(var e=0;e<this.bodies.length;e++){var t=this.bodies[e];if(t.type===n.DYNAMIC&&!t.wantsToSleep)return!1}return!0},i.prototype.sleep=function(){for(var e=0;e<this.bodies.length;e++){this.bodies[e].sleep()}return!0}},function(e,t){function r(e){this.body=e,this.neighbors=[],this.equations=[],this.visited=!1}e.exports=r,r.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(41),i=r(978),o=r(980),a=r(981),s=r(982),l=r(308);e.exports=function(e){return new Promise((function(t,c){var p=e.data,u=e.headers;n.isFormData(p)&&delete u["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",f=e.auth.password||"";u.Authorization="Basic "+btoa(h+":"+f)}if(d.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,c,n),d=null}},d.onerror=function(){c(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var m=r(983),g=(e.withCredentials||s(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(u[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&n.forEach(u,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete u[t]:d.setRequestHeader(t,e)})),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(y){if("json"!==e.responseType)throw y}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),c(e),d=null)})),void 0===p&&(p=null),d.send(p)}))}},function(e,t,r){"use strict";var n=r(979);e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=r.exec(e||""),s={},l=14;l--;)s[n[l]]=a[l]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,s.path),s.queryKey=function(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,s.query),s}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(t){e.exports=function(e){return r&&t.isBuffer(e)||n&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var r="function"===typeof t&&"function"===typeof t.isBuffer,n="function"===typeof ArrayBuffer}).call(this,r(169).Buffer)},function(e,t,r){var n=r(1010),i=r(320),o=r(79),a=r(168),s=r(321),l=r(322),c=r(120)("socket.io-client:manager"),p=r(319),u=r(1026),d=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||a;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=s(r,"open",(function(){i.onopen(),e&&e()})),a=s(r,"error",(function(t){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var l=this._timeout;c("connect attempt will timeout after %d",l),0===l&&o.destroy();var p=setTimeout((function(){c("connect attempt timed out after %d",l),o.destroy(),r.close(),r.emit("error","timeout"),i.emitAll("connect_timeout",l)}),l);this.subs.push({destroy:function(){clearTimeout(p)}})}return this.subs.push(o),this.subs.push(a),this},h.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",l(this,"ondata"))),this.subs.push(s(e,"ping",l(this,"onping"))),this.subs.push(s(e,"pong",l(this,"onpong"))),this.subs.push(s(e,"error",l(this,"onerror"))),this.subs.push(s(e,"close",l(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",l(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var n=this;r.on("connecting",o),r.on("connect",(function(){r.id=n.generateId(e)})),this.autoConnect&&o()}function o(){~p(n.connecting,r)||n.connecting.push(r)}return r},h.prototype.destroy=function(e){var t=p(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(r)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,r){var n=r(170),i=r(1013),o=r(1022),a=r(1023);t.polling=function(e){var t=!1,r=!1,a=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,l=location.port;l||(l=s?443:80),t=e.hostname!==location.hostname||l!==e.port,r=e.secure!==s}if(e.xdomain=t,e.xscheme=r,"open"in new n(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},t.websocket=a},function(e,t,r){var n=r(172),i=r(121),o=r(80),a=r(122),s=r(318),l=r(123)("engine.io-client:polling");e.exports=p;var c=null!=new(r(170))({xdomain:!1}).responseType;function p(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),n.call(this,e)}a(p,n),p.prototype.name="polling",p.prototype.doOpen=function(){this.poll()},p.prototype.pause=function(e){var t=this;function r(){l("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",(function(){l("pre-pause polling complete"),--n||r()}))),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",(function(){l("pre-pause writing complete"),--n||r()})))}else r()},p.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},p.prototype.onData=function(e){var t=this;l("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,(function(e,r,n){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},p.prototype.doClose=function(){var e=this;function t(){l("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},p.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,r)}))},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(r=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e}},function(e,t,r){(function(t){var n=r(1015),i=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(r){if(!r||"object"!==typeof r)return!1;if(n(r)){for(var i=0,s=r.length;i<s;i++)if(e(r[i]))return!0;return!1}if("function"===typeof t&&t.isBuffer&&t.isBuffer(r)||"function"===typeof ArrayBuffer&&r instanceof ArrayBuffer||o&&r instanceof Blob||a&&r instanceof File)return!0;if(r.toJSON&&"function"===typeof r.toJSON&&1===arguments.length)return e(r.toJSON(),!0);for(var l in r)if(Object.prototype.hasOwnProperty.call(r,l)&&e(r[l]))return!0;return!1}}).call(this,r(169).Buffer)},function(e,t,r){"use strict";var n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0;function l(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=l(+new Date);return e!==n?(a=0,n=e):e+"."+l(a++)}for(;s<64;s++)o[i[s]]=s;c.encode=l,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+o[e.charAt(s)];return t},e.exports=c},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(168),i=r(79),o=r(1025),a=r(321),s=r(322),l=r(120)("socket.io-client:socket"),c=r(121),p=r(317);e.exports=h;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function h(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}i(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(u.hasOwnProperty(e))return d.apply(this,arguments),this;var t=o(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:p(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===typeof this.query?c.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},h.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===n.ERROR&&"/"===e.nsp;if(t||r)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var i=o(arguments);l("sending ack %j",i),t.packet({type:p(i)?n.BINARY_ACK:n.ACK,id:e,data:i})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},function(e,t){var r=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,"a",(function(){return n}))},function(e,t){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var p=e[c],u=t[c];if(!1===(i=r?r.call(n,p,u,c):void 0)||void 0===i&&p!==u)return!1}return!0}},function(e,t,r){"use strict";t.a=function(e){function t(e,n,l,c,d){for(var h,f,m,g,S,w=0,E=0,x=0,_=0,k=0,R=0,B=m=h=0,L=0,F=0,N=0,j=0,V=l.length,G=V-1,U="",W="",z="",H="";L<V;){if(f=l.charCodeAt(L),L===G&&0!==E+_+x+w&&(0!==E&&(f=47===E?10:47),_=x=w=0,V++,G++),0===E+_+x+w){if(L===G&&(0<F&&(U=U.replace(u,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(L)}f=59}switch(f){case 123:for(h=(U=U.trim()).charCodeAt(0),m=1,j=++L;L<V;){switch(f=l.charCodeAt(L)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(L+1)){case 42:case 47:e:{for(B=L+1;B<G;++B)switch(l.charCodeAt(B)){case 47:if(42===f&&42===l.charCodeAt(B-1)&&L+2!==B){L=B+1;break e}break;case 10:if(47===f){L=B+1;break e}}L=B}}break;case 91:f++;case 40:f++;case 34:case 39:for(;L++<G&&l.charCodeAt(L)!==f;);}if(0===m)break;L++}switch(m=l.substring(j,L),0===h&&(h=(U=U.replace(p,"").trim()).charCodeAt(0)),h){case 64:switch(0<F&&(U=U.replace(u,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:F=n;break;default:F=P}if(j=(m=t(n,F,m,f,d+1)).length,0<I&&(S=s(3,m,F=r(P,U,N),n,A,O,j,f,d,c),U=F.join(""),void 0!==S&&0===(j=(m=S.trim()).length)&&(f=0,m="")),0<j)switch(f){case 115:U=U.replace(T,a);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(y,"$1 $2"))+"{"+m+"}",m=1===M||2===M&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===c&&(W+=m,m="")}else m="";break;default:m=t(n,r(n,U,N),m,c,d+1)}z+=m,m=N=F=B=h=0,U="",f=l.charCodeAt(++L);break;case 125:case 59:if(1<(j=(U=(0<F?U.replace(u,""):U).trim()).length))switch(0===B&&(h=U.charCodeAt(0),45===h||96<h&&123>h)&&(j=(U=U.replace(" ",":")).length),0<I&&void 0!==(S=s(1,U,n,e,A,O,W.length,c,d,c))&&0===(j=(U=S.trim()).length)&&(U="\0\0"),h=U.charCodeAt(0),f=U.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){H+=U+l.charAt(L);break}default:58!==U.charCodeAt(j-1)&&(W+=i(U,h,f,U.charCodeAt(2)))}N=F=B=h=0,U="",f=l.charCodeAt(++L)}}switch(f){case 13:case 10:47===E?E=0:0===1+h&&107!==c&&0<U.length&&(F=1,U+="\0"),0<I*D&&s(0,U,n,e,A,O,W.length,c,d,c),O=1,A++;break;case 59:case 125:if(0===E+_+x+w){O++;break}default:switch(O++,g=l.charAt(L),f){case 9:case 32:if(0===_+w+E)switch(k){case 44:case 58:case 9:case 32:g="";break;default:32!==f&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===_+E+w&&(F=N=1,g="\f"+g);break;case 108:if(0===_+E+w+C&&0<B)switch(L-B){case 2:112===k&&58===l.charCodeAt(L-3)&&(C=k);case 8:111===R&&(C=R)}break;case 58:0===_+E+w&&(B=L);break;case 44:0===E+x+_+w&&(F=1,g+="\r");break;case 34:case 39:0===E&&(_=_===f?0:0===_?f:_);break;case 91:0===_+E+x&&w++;break;case 93:0===_+E+x&&w--;break;case 41:0===_+E+w&&x--;break;case 40:if(0===_+E+w){if(0===h)switch(2*k+3*R){case 533:break;default:h=1}x++}break;case 64:0===E+x+_+w+B+m&&(m=1);break;case 42:case 47:if(!(0<_+w+x))switch(E){case 0:switch(2*f+3*l.charCodeAt(L+1)){case 235:E=47;break;case 220:j=L,E=42}break;case 42:47===f&&42===k&&j+2!==L&&(33===l.charCodeAt(j+2)&&(W+=l.substring(j,L+1)),g="",E=0)}}0===E&&(U+=g)}R=k,k=f,L++}if(0<(j=W.length)){if(F=n,0<I&&(void 0!==(S=s(2,W,F,e,A,O,j,c,d,c))&&0===(W=S).length))return H+W+z;if(W=F.join(",")+"{"+W+"}",0!==M*C){switch(2!==M||o(W,2)||(C=0),C){case 111:W=W.replace(b,":-moz-$1")+W;break;case 112:W=W.replace(v,"::-webkit-input-$1")+W.replace(v,"::-moz-$1")+W.replace(v,":-ms-input-$1")+W}C=0}}return H+W+z}function r(e,t,r){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===M||2===M&&o(l,1)?"-webkit-"+l+l:l}if(0===M||2===M&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return h.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(S,"tb");break;case 232:l=a.replace(S,"tb-rl");break;case 220:l=a.replace(S,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),B(2!==t?n:n.replace(x,"$1"),r,t)}function a(e,t){var r=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,i,o,a,s,l,p){for(var u,d=0,h=t;d<I;++d)switch(u=R[d].call(c,e,h,r,n,i,o,a,s,l,p)){case void 0:case!1:case!0:case null:break;default:h=u}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(B=null,e?"function"!==typeof e?M=1:(M=2,B=e):M=0),l}function c(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<I){var i=s(-1,r,n,n,A,O,0,0,0,0);void 0!==i&&"string"===typeof i&&(r=i)}var o=t(P,n,r,0,0);return 0<I&&(void 0!==(i=s(-2,o,n,n,A,O,o.length,0,0,0))&&(o=i)),"",C=0,O=A=1,o}var p=/^\0+/g,u=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,f=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,S=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,E=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,O=1,A=1,C=0,M=1,P=[],R=[],I=0,B=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:I=R.length=0;break;default:if("function"===typeof t)R[I++]=t;else if("object"===typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else D=0|!!t}return e},c.set=l,void 0!==e&&l(e),c}},function(e,t,r){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var n,i=r(648),o=(n=i)&&n.__esModule?n:{default:n};t.default=o.default,t.Scrollbars=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeV1Importer=void 0;const n=r(4),i=r(71),o=r(99),a=r(859),s=r(860),l=r(4);class c extends Error{constructor(e){super(e)}}const p={e:"5a8704d391bf168dcd937a33",a:"5ae3231e47aece9e40f9f05d",a2:"5ae3240c47aece9e40f9f05e",b:"5ae3251b47aece9e40f9f05f",b2:"5ae3260a47aece9e40f9f060",c:"5ae326fa47aece9e40f9f061",b5:"5ae3285247aece9e40f9f062",m:"5ae3295447aece9e40f9f063",a3:"5ae32a3c47aece9e40f9f064",b3:"5ae326fa47aece9e40f9f061",a4:"5ae32c4047aece9e40f9f066"},u={whenGreenFlag:n.ScoolcodeStage.Type.getEvent("started"),whenKeyPressed:n.ScoolcodeStage.Type.getEvent("keyPressed"),whenClicked:n.ScoolcodeActor.Type.getEvent("clicked"),whenCloned:n.ScoolcodeActor.Type.getEvent("cloned"),whenSceneStarts:n.ScoolcodeStage.Type.getEvent("sceneChanged"),whenIReceive:n.ScoolcodeStage.Type.getEvent("signalReceived")};class d{static parseActionList(e,t){return new n.ActionList(...e.map((e=>d.parseBlock(e,t))))}static async parseProject(e,t){if(console.log(e),1.1!==e.Version)throw new c(`unsupported project version: ${e.Version}`);const r=new n.ScoolcodeApplication([]),i=new o.ScoolcodeProject;i.application=r,"blocks"===e.Binary.mode?i.blockPaletteId=p[e.Properties["ScoolcodeWeb.BlocksEditor.Palette"]]:i.blockPaletteId=p.m;const{headingUnit:a,defaultActorX:s,defaultActorY:l,playerWidth:u,playerHeight:h,playerScale:f,playerCoordinates:m,mathLevel:g}=await t(i.blockPaletteId);if(n.HeadingInfo.Unit=a||"degrees",n.MathInfo.Level=g,n.ScoolcodeActor.DefaultX=s,n.ScoolcodeActor.DefaultY=l,"blocks"===e.Binary.mode){const t=this.declareStage(e.Binary),{stage:o}=d.parseStage(e.Binary,t);i.mode="blox",o.playerSpeed=3,n.ExecutionManager.Default.bloxMode=!0,r.addStage(o)}else{const t=d.transformSourceCode(e.Source);i.source=t,i.mode="mix";try{const{stage:e}=await d.compileSourceCode(t);e.playerSpeed=4,n.ExecutionManager.Default.bloxMode=!1,r.addStage(e)}catch(v){r.addStage(new n.ScoolcodeStage({}))}}const y=i.application.stage;return y.width=u,y.height=h,n.ScoolcodeStage.DefaultWidth=u,n.ScoolcodeStage.DefaultHeight=h,n.ScoolcodeStage.DefaultScale=f,y.scale=f,n.ScoolcodeStage.DefaultCoordinateSystem=o.coordinateHash[m],y.coordinateSystem=o.coordinateHash[m],y.actors.forEach((e=>{e.setPosition(s,l),e.resetSize()})),y.populateListsFromCode(),i}static async compileSourceCode(e){try{const t=new i.Tokenizer,r=new i.Parser,{StageBaseType:o,ActorBaseType:a}=n.ContextualTypeProvider.getBaseTypes("stagescript"),s=new n.ContextualParser(o,a,new l.DummyPartLoader),c=new n.RuntimeBuilder("stagescript"),p=t.tokenize(e);if(p){const e=r.parse(p);if(e){const t=await s.parse(e.root);if(t){const{stage:e}=c.buildApplication(t);return{stage:e,Stage:e.getType()}}}}}catch(t){throw t.source=e,t}return null}static transformSourceCode(e){for(let t=0,r=s.mixSourceTransformMap.length;t<r;t++){let{pattern:r,replacer:n}=s.mixSourceTransformMap[t];e=e.replace(r,n)}return e}static parseCostume(e){const t=new n.ScoolcodeCostume(e.costumeName,e.extension.path);return t.setCenterX(e.rotationCenterX),t.setCenterY(e.rotationCenterY),t}static parseSound(e){return new n.ScoolcodeSound(e.soundName,e.extension.path)}static parseBackdrop(e){return new n.ScoolcodeBackdrop(e.costumeName,e.extension.path)}static declareStage(e){const t=new n.ScoolcodeStageInfo,r=t.createInstance([{}]);e.costumes.forEach((e=>t.addTexture(r,d.parseBackdrop(e)))),e.sounds.forEach((e=>t.addSound(r,d.parseSound(e))));const i=a.BlockMatrix.create(r,t);e.variables.forEach((e=>t.addUserField(r,e.name,d.parseParameter(e.value,i),e.type)));for(let[,,n]of e.scripts)"procDef"==n[0]&&this.declareFunction(n,t);return e.children.forEach((e=>d.declareActor(e,r))),{Stage:t,stage:r}}static parseStage(e,{stage:t,Stage:r}){return e.children.forEach((e=>d.parseActor(e,t,t[e.objName]))),d.parseScripts(e.scripts,t,a.BlockMatrix.create(t,r)),{Stage:r,stage:t}}static declareActor(e,t){const r=t.declareActor(e.objName),n=r.getType();e.costumes.forEach((e=>n.addTexture(r,d.parseCostume(e)))),e.sounds.forEach((e=>n.addSound(r,d.parseSound(e))));const i=a.BlockMatrix.create(t,t.getType(),n);e.variables.forEach((e=>n.addUserField(r,e.name,d.parseParameter(e.value,i),e.type)));for(let[,,o]of e.scripts)"procDef"==o[0]&&this.declareFunction(o,n);return r}static parseActor(e,t,r){return d.parseScripts(e.scripts,r,a.BlockMatrix.create(t,t.getType(),r.getType())),r}static parseScripts(e,t,r){e.forEach((e=>d.parseBlockListWithMetaInfo(e,t,r)))}static parseBlockListWithMetaInfo([e,t,r],n,i){d.preParseBlockListLike(r,n,i,{x:e,y:t})}static declareFunction(e,t){const[[,r,i]]=e,o=i.split(","),a=t.declareUserFunction(r,n.ValueType.Any);o.forEach((e=>a.declareParameter(e,n.ValueType.Any)))}static preParseBlockListLike(e,t,r,i={x:0,y:0}){if(!e.length)return;const[[o,a,s,l]]=e;if(o.startsWith("when")){const s=void 0!==a?[d.parseParameter(a,r)]:[],l=new n.EventHandlerAction(u[o],s,d.parseActionList(e.slice(1),r));l.position=i,t.defineEventHandler(l)}else{if("procDef"!==o)throw new c(`invalid script type. allowed: 'when' or 'procDef'. received: '${o}'`);{const e=t.getType().getMethod(a),o=new n.DefineFunctionAction(e,d.parseActionList(l,r));o.position=i,t.defineUserFunction(o)}}}static parseParameter(e,t){if(Array.isArray(e)){const[r]=e;return Array.isArray(r)||!e.length?d.parseActionList(e,t):"list"===r?d.parseParameter(e[1],t):d.parseBlock(e,t)}switch(typeof e){case"string":return+e!==+e?new n.NumericLiteralAction(e):new n.ExplicitStringLiteralAction(e);case"number":return new n.NumericLiteralAction(e);case"boolean":return new n.BooleanLiteralAction(e);case"object":if("list"in e)return new n.ArrayLiteralAction(e.list.map((e=>d.parseParameter(e,t))));throw new c("object literals are not yet supported")}}static parseBlock(e,t){const r=e.shift(),n=t[r];if(n){const i=n(...e.map((e=>d.parseParameter(e,t))));return console.log(r,e,i),i}throw new c(`unknown block type: ${r}`)}}t.ScoolcodeV1Importer=d},function(e,t,r){"use strict";var n=r(132).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?n:n.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,r){var n=r(1002),i=r(168),o=r(314),a=r(120)("socket.io-client");e.exports=t=l;var s=t.managers={};function l(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var r,i=n(e),l=i.source,c=i.id,p=i.path,u=s[c]&&p in s[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(a("ignoring socket cache for %s",l),r=o(l,t)):(s[c]||(a("new io instance for %s",l),s[c]=o(l,t)),r=s[c]),i.query&&!t.query&&(t.query=i.query),r.socket(i.path,t)}t.protocol=i.protocol,t.connect=l,t.Manager=r(314),t.Socket=r(320)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r.n(n),o=r(176),a=r(7),s=r.n(a),l=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function p(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(r,n){e=r,t.forEach((function(t){return t(e,n)}))}}}var u=i.a.createContext||function(e,t){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",u=function(e){function r(){var t;return(t=e.apply(this,arguments)||this).emitter=p(t.props.value),t}Object(o.a)(r,e);var n=r.prototype;return n.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var r,n=this.props.value,i=e.value;((o=n)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?r=0:(r="function"===typeof t?t(n,i):l,0!==(r|=0)&&this.emitter.set(e.value,r))}var o,a},n.render=function(){return this.props.children},r}(n.Component);u.childContextTypes=((r={})[a]=s.a.object.isRequired,r);var d=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,r){0!==((0|e.observedBits)&r)&&e.setState({value:e.getValue()})},e}Object(o.a)(r,t);var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function(){return this.context[a]?this.context[a].get():e},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},r}(n.Component);return d.contextTypes=((i={})[a]=s.a.object,i),{Provider:u,Consumer:d}};t.a=u}).call(this,r(47))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0),o=(n=i)&&"object"===typeof n&&"default"in n?n.default:n,a=new(r(1029)),s=a.getBrowser(),l=(a.getCPU(),a.getDevice()),c=a.getEngine(),p=a.getOS(),u=a.getUA(),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},h=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},f=function(e){var t=h();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var x="mobile",_="tablet",k="smarttv",O="console",A="wearable",C=void 0,M={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},P={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},R={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},I=function(e,t,r,n){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{vendor:d(t.vendor),model:d(t.model),os:d(r.name),osVersion:d(r.version),ua:d(n)})},B=function(e){switch(e){case x:return{isMobile:!0};case _:return{isTablet:!0};case k:return{isSmartTV:!0};case O:return{isConsole:!0};case A:return{isWearable:!0};case C:return{isBrowser:!0};default:return R}}(l.type);var D=function(){return"string"===typeof u&&-1!==u.indexOf("Edg/")},L=function(){return l.type===C},F=function(){return s.name===M.Edge},N=function(){return f("iPad")},j=l.type===k,V=l.type===O,G=l.type===A,U=s.name===M.MobileSafari||N(),W=s.name===M.Chromium,z=function(){switch(l.type){case x:case _:return!0;default:return!1}}()||N(),H=l.type===x,$=l.type===_||N(),X=L(),Y=L(),K=p.name===P.Android,q=p.name===P.WindowsPhone,J=p.name===P.IOS||N(),Z=s.name===M.Chrome,Q=s.name===M.Firefox,ee=s.name===M.Safari||s.name===M.MobileSafari,te=s.name===M.Opera,re=s.name===M.InternetExplorer||s.name===M.Ie,ne=d(p.version),ie=d(p.name),oe=d(s.version),ae=d(s.major),se=d(s.name),le=d(l.vendor),ce=d(l.model),pe=d(c.name),ue=d(c.version),de=d(u),he=F()||D(),fe=s.name===M.Yandex,me=d(l.type,"browser"),ge=function(){var e=h();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream}(),ye=N(),ve=f("iPhone"),be=f("iPod"),Se=function(){var e=h(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"===typeof t&&/electron/.test(t)}(),Te=D(),we=F()&&!D(),Ee=p.name===P.Windows,xe=p.name===P.MAC_OS,_e=s.name===M.MIUI,ke=s.name===M.SamsungBrowser;t.AndroidView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return K?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.BrowserTypes=M,t.BrowserView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return X?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.ConsoleView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return V?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.CustomView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=e.condition,l=w(e,["renderWithFragment","children","viewClassName","style","condition"]);return s?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},l),r):null},t.IEView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return re?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.IOSView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return J?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.MobileOnlyView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return H?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.MobileView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return z?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.OsTypes=P,t.SmartTVView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return j?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.TabletView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return $?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.WearableView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return G?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.WinPhoneView=function(e){var t=e.renderWithFragment,r=e.children,n=e.viewClassName,a=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return q?t?o.createElement(i.Fragment,null,r):o.createElement("div",v({className:n,style:a},s),r):null},t.browserName=se,t.browserVersion=ae,t.deviceDetect=function(){var e=B.isBrowser,t=B.isMobile,r=B.isTablet,n=B.isSmartTV,i=B.isConsole,o=B.isWearable;return e?function(e,t,r,n,i){return{isBrowser:e,browserMajorVersion:d(t.major),browserFullVersion:d(t.version),browserName:d(t.name),engineName:d(r.name),engineVersion:d(r.version),osName:d(n.name),osVersion:d(n.version),userAgent:d(i)}}(e,s,c,p,u):n?function(e,t,r,n){return{isSmartTV:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(r.name),osVersion:d(r.version),userAgent:d(n)}}(n,c,p,u):i?function(e,t,r,n){return{isConsole:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(r.name),osVersion:d(r.version),userAgent:d(n)}}(i,c,p,u):t||r?I(B,l,p,u):o?function(e,t,r,n){return{isWearable:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(r.name),osVersion:d(r.version),userAgent:d(n)}}(o,c,p,u):void 0},t.deviceType=me,t.engineName=pe,t.engineVersion=ue,t.fullBrowserVersion=oe,t.getUA=de,t.isAndroid=K,t.isBrowser=X,t.isChrome=Z,t.isChromium=W,t.isConsole=V,t.isDesktop=Y,t.isEdge=he,t.isEdgeChromium=Te,t.isElectron=Se,t.isFirefox=Q,t.isIE=re,t.isIOS=J,t.isIOS13=ge,t.isIPad13=ye,t.isIPhone13=ve,t.isIPod13=be,t.isLegacyEdge=we,t.isMIUI=_e,t.isMacOs=xe,t.isMobile=z,t.isMobileOnly=H,t.isMobileSafari=U,t.isOpera=te,t.isSafari=ee,t.isSamsungBrowser=ke,t.isSmartTV=j,t.isTablet=$,t.isWearable=G,t.isWinPhone=q,t.isWindows=Ee,t.isYandex=fe,t.mobileModel=ce,t.mobileVendor=le,t.osName=ie,t.osVersion=ne,t.withOrientationChange=function(e){return function(t){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?E(e):t}(this,S(r).call(this,e))).isEventListenerAdded=!1,t.handleOrientationChange=t.handleOrientationChange.bind(E(t)),t.onOrientationChange=t.onOrientationChange.bind(E(t)),t.onPageLoad=t.onPageLoad.bind(E(t)),t.state={isLandscape:!1,isPortrait:!1},t}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(r,t),n=r,(i=[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:0===e,isLandscape:90===e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){void 0!==("undefined"===typeof window?"undefined":m(window))&&z&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return o.createElement(e,v({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}])&&g(n.prototype,i),a&&g(n,a),r}(o.Component)}},function(e,t,r){"use strict";(function(e){var r="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,n=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(r&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=r&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),n))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?e:l(s(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var p=r&&!(!window.MSInputMethodContext||!document.documentMode),u=r&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?p:10===e?u:p||u}function h(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===a(r,"position")?h(r):r:e?e.ownerDocument.documentElement:document.documentElement}function f(e){return null!==e.parentNode?f(e.parentNode):e}function m(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,o=document.createRange();o.setStart(n,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||n.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}(a)?a:h(a);var s=f(e);return s.host?m(s.host,t):m(e,f(t).host)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[r]}return e[r]}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=g(t,"top"),i=g(t,"left"),o=r?-1:1;return e.top+=n*o,e.bottom+=n*o,e.left+=i*o,e.right+=i*o,e}function v(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function b(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],d(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function S(e){var t=e.body,r=e.documentElement,n=d(10)&&getComputedStyle(r);return{height:b("Height",t,r,n),width:b("Width",t,r,n)}}var T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),E=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var r=g(e,"top"),n=g(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(h){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?S(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,l=o.height||e.clientHeight||i.height,c=e.offsetWidth-s,p=e.offsetHeight-l;if(c||p){var u=a(e);c-=v(u,"x"),p-=v(u,"y"),i.width-=c,i.height-=p}return _(i)}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=d(10),i="HTML"===t.nodeName,o=k(e),s=k(t),c=l(e),p=a(t),u=parseFloat(p.borderTopWidth),h=parseFloat(p.borderLeftWidth);r&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=_({top:o.top-s.top-u,left:o.left-s.left-h,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!n&&i){var m=parseFloat(p.marginTop),g=parseFloat(p.marginLeft);f.top-=u-m,f.bottom-=u-m,f.left-=h-g,f.right-=h-g,f.marginTop=m,f.marginLeft=g}return(n&&!r?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(f=y(f,t)),f}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=O(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),o=Math.max(r.clientHeight,window.innerHeight||0),a=t?0:g(r),s=t?0:g(r,"left"),l={top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:o};return _(l)}function C(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var r=s(e);return!!r&&C(r)}function M(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function P(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?M(e):m(e,c(t));if("viewport"===n)o=A(a,i);else{var p=void 0;"scrollParent"===n?"BODY"===(p=l(s(t))).nodeName&&(p=e.ownerDocument.documentElement):p="window"===n?e.ownerDocument.documentElement:n;var u=O(p,a,i);if("HTML"!==p.nodeName||C(a))o=u;else{var d=S(e.ownerDocument),h=d.height,f=d.width;o.top+=u.top-u.marginTop,o.bottom=h+u.top,o.left+=u.left-u.marginLeft,o.right=f+u.left}}var g="number"===typeof(r=r||0);return o.left+=g?r:r.left||0,o.top+=g?r:r.top||0,o.right-=g?r:r.right||0,o.bottom-=g?r:r.bottom||0,o}function R(e){return e.width*e.height}function I(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=P(r,n,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return x({key:e},s[e],{area:R(s[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),p=c.length>0?c[0].key:l[0].key,u=e.split("-")[1];return p+(u?"-"+u:"")}function B(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?M(t):m(t,c(r));return O(r,i,n)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function L(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function F(e,t,r){r=r.split("-")[0];var n=D(e),i={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[a]=t[a]+t[l]/2-n[l]/2,i[s]=r===s?t[s]-n[c]:t[L(s)],i}function N(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=N(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&o(r)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=r(t,e))})),t}function V(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=B(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=I(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function G(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function U(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],o=i?""+i+r:e;if("undefined"!==typeof document.body.style[o])return o}return null}function W(){return this.state.isDestroyed=!0,G(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function z(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,r,n){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,r,{passive:!0}),i||H(l(o.parentNode),t,r,n),n.push(o)}function $(e,t,r,n){r.updateBound=n,z(e).addEventListener("resize",r.updateBound,{passive:!0});var i=l(e);return H(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function X(){this.state.eventsEnabled||(this.state=$(this.reference,this.options,this.state,this.scheduleUpdate))}function Y(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function K(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&K(t[r])&&(n="px"),e.style[r]=t[r]+n}))}var J=r&&/Firefox/i.test(navigator.userAgent);function Z(e,t,r){var n=N(e,(function(e){return e.name===t})),i=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!i){var o="`"+t+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=Q.slice(3);function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ee.indexOf(e),n=ee.slice(r+1).concat(ee.slice(0,r));return t?n.reverse():n}var re="flip",ne="clockwise",ie="counterclockwise";function oe(e,t,r,n){var i=[0,0],o=-1!==["right","left"].indexOf(n),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(N(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(e,n){var i=(1===n?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}return _(s)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,r)}))}))).forEach((function(e,t){e.forEach((function(r,n){K(r)&&(i[t]+=r*("-"===e[n-1]?-1:1))}))})),i}var ae={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(r),l=s?"left":"top",c=s?"width":"height",p={start:E({},l,o[l]),end:E({},l,o[l]+o[c]-a[c])};e.offsets.popper=x({},a,p[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=n.split("-")[0],l=void 0;return l=K(+r)?[+r,0]:oe(r,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||h(e.instance.popper);e.instance.reference===r&&(r=h(r));var n=U("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[n];i.top="",i.left="",i[n]="";var l=P(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=o,i.left=a,i[n]=s,t.boundaries=l;var c=t.priority,p=e.offsets.popper,u={primary:function(e){var r=p[e];return p[e]<l[e]&&!t.escapeWithReference&&(r=Math.max(p[e],l[e])),E({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=p[r];return p[e]>l[e]&&!t.escapeWithReference&&(n=Math.min(p[r],l[e]-("right"===e?p.width:p.height))),E({},r,n)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";p=x({},p,u[t](e))})),e.offsets.popper=p,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return r[s]<o(n[l])&&(e.offsets.popper[l]=o(n[l])-r[c]),r[l]>o(n[s])&&(e.offsets.popper[l]=o(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!Z(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"===typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(i),p=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),h=c?"left":"top",f=c?"bottom":"right",m=D(n)[p];l[f]-m<s[d]&&(e.offsets.popper[d]-=s[d]-(l[f]-m)),l[d]+m>s[f]&&(e.offsets.popper[d]+=l[d]+m-s[f]),e.offsets.popper=_(e.offsets.popper);var g=l[d]+l[p]/2-m/2,y=a(e.instance.popper),v=parseFloat(y["margin"+u]),b=parseFloat(y["border"+u+"Width"]),S=g-e.offsets.popper[d]-v-b;return S=Math.max(Math.min(s[p]-m,S),0),e.arrowElement=n,e.offsets.arrow=(E(r={},d,Math.round(S)),E(r,h,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(G(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=P(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],i=L(n),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case re:a=[n,i];break;case ne:a=te(n);break;case ie:a=te(n,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(n!==s||a.length===l+1)return e;n=e.placement.split("-")[0],i=L(n);var c=e.offsets.popper,p=e.offsets.reference,u=Math.floor,d="left"===n&&u(c.right)>u(p.left)||"right"===n&&u(c.left)<u(p.right)||"top"===n&&u(c.bottom)>u(p.top)||"bottom"===n&&u(c.top)<u(p.bottom),h=u(c.left)<u(r.left),f=u(c.right)>u(r.right),m=u(c.top)<u(r.top),g=u(c.bottom)>u(r.bottom),y="left"===n&&h||"right"===n&&f||"top"===n&&m||"bottom"===n&&g,v=-1!==["top","bottom"].indexOf(n),b=!!t.flipVariations&&(v&&"start"===o&&h||v&&"end"===o&&f||!v&&"start"===o&&m||!v&&"end"===o&&g),S=!!t.flipVariationsByContent&&(v&&"start"===o&&f||v&&"end"===o&&h||!v&&"start"===o&&g||!v&&"end"===o&&m),T=b||S;(d||y||T)&&(e.flipped=!0,(d||y)&&(n=a[l+1]),T&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=n+(o?"-"+o:""),e.offsets.popper=x({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,o=n.reference,a=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return i[a?"left":"top"]=o[r]-(s?i[a?"width":"height"]:0),e.placement=L(t),e.offsets.popper=_(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Z(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=N(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,i=e.offsets.popper,o=N(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=h(e.instance.popper),l=k(s),c={position:i.position},p=function(e,t){var r=e.offsets,n=r.popper,i=r.reference,o=Math.round,a=Math.floor,s=function(e){return e},l=o(i.width),c=o(n.width),p=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),d=t?p||u||l%2===c%2?o:a:s,h=t?o:s;return{left:d(l%2===1&&c%2===1&&!u&&t?n.left-1:n.left),top:h(n.top),bottom:h(n.bottom),right:d(n.right)}}(e,window.devicePixelRatio<2||!J),u="bottom"===r?"top":"bottom",d="right"===n?"left":"right",f=U("transform"),m=void 0,g=void 0;if(g="bottom"===u?"HTML"===s.nodeName?-s.clientHeight+p.bottom:-l.height+p.bottom:p.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+p.right:-l.width+p.right:p.left,a&&f)c[f]="translate3d("+m+"px, "+g+"px, 0)",c[u]=0,c[d]=0,c.willChange="transform";else{var y="bottom"===u?-1:1,v="right"===d?-1:1;c[u]=g*y,c[d]=m*v,c.willChange=u+", "+d}var b={"x-placement":e.placement};return e.attributes=x({},b,e.attributes),e.styles=x({},c,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return q(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach((function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,i){var o=B(i,t,e,r.positionFixed),a=I(r.placement,o,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",a),q(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},se=function(){function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=i(this.update.bind(this)),this.options=x({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){n.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return V.call(this)}},{key:"destroy",value:function(){return W.call(this)}},{key:"enableEventListeners",value:function(){return X.call(this)}},{key:"disableEventListeners",value:function(){return Y.call(this)}}]),e}();se.Utils=("undefined"!==typeof window?window:e).PopperUtils,se.placements=Q,se.Defaults=ae,t.a=se}).call(this,r(47))},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return G}));var n=r(0),i=r(129);function o(e){var t={},r="";for(var n in e){var a=e[n];if("$unique"===n)t[i.IS_UNIQUE]=a;else if("$nest"===n){var s=a;for(var l in s){var c=s[l];t[l]=o(c).result}}else"$debugName"===n?r=a:t[n]=a}return{result:t,debugName:r}}var a="undefined"===typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"===typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return!!e})).join(" ")}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r={},n=0,i=e;n<i.length;n++){var o=i[n];if(null!=o&&!1!==o)for(var a in o){var s=o[a];(s||0===s)&&("$nest"===a&&s?r[a]=r.$nest?l(r.$nest,s):s:-1!==a.indexOf("&")||0===a.indexOf("@media")?r[a]=r[a]?l(r[a],s):s:r[a]=s)}}return r}var c=function(){return i.create(void 0,!0)},p=function(){function e(e){var t=e.autoGenerateTag,r=this;this.cssRaw=function(e){e&&(r._raw+=e||"",r._pendingRawChange=!0,r._styleUpdated())},this.cssRule=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=o(l.apply(void 0,t)).result;r._freeStyle.registerRule(e,i),r._styleUpdated()},this.forceRenderStyles=function(){var e=r._getTag();e&&(e.textContent=r.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=r._freeStyle,i=0,o=e;i<o.length;i++){var a=o[i];n.registerRule("@font-face",a)}r._styleUpdated()},this.getStyles=function(){return(r._raw||"")+r._freeStyle.getStyles()},this.keyframes=function(e){var t=function(e){var t={$debugName:void 0,keyframes:{}};for(var r in e){var n=e[r];"$debugName"===r?t.$debugName=n:t.keyframes[r]=n}return t}(e),n=t.keyframes,i=t.$debugName,o=r._freeStyle.registerKeyframes(n,i);return r._styleUpdated(),o},this.reinit=function(){var e=c();r._freeStyle=e,r._lastFreeStyleChangeId=e.changeId,r._raw="",r._pendingRawChange=!1;var t=r._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){r._tag&&(r._tag.textContent=""),r._tag=e,r.forceRenderStyles()},this.style=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r._freeStyle,i=o(l.apply(void 0,e)),a=i.result,s=i.debugName,c=s?n.registerStyle(a,s):n.registerStyle(a);return r._styleUpdated(),c},this.stylesheet=function(e){for(var t={},n=0,i=Object.getOwnPropertyNames(e);n<i.length;n++){var o=i[n],a=e[o];a&&(a.$debugName=o,t[o]=r.style(a))}return t};var n=c();this._autoGenerateTag=t,this._freeStyle=n,this._lastFreeStyleChangeId=n.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var r=this._pending;a((function(){r===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"===typeof window?{textContent:""}:document.createElement("style");return"undefined"!==typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,r=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==r)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e}(),u=(r(180),new p({autoGenerateTag:!0})),d=(u.setStylesTarget,u.cssRaw),h=(u.cssRule,u.forceRenderStyles,u.fontFace,u.getStyles,u.keyframes,u.reinit,u.style);u.stylesheet;var f=r(49),m=r(4);const g=[];g[8]="backspace",g[9]="tab",g[13]="enter",g[16]="shift",g[17]="ctrl",g[18]="alt",g[19]="pause/break",g[20]="caps lock",g[27]="esc",g[32]="space",g[33]="page up",g[34]="page down",g[35]="end",g[36]="home",g[37]="left arrow",g[38]="up arrow",g[39]="right arrow",g[40]="down arrow",g[45]="insert",g[46]="delete",g[112]="f1",g[113]="f2",g[114]="f3",g[115]="f4",g[116]="f5",g[117]="f6",g[118]="f7",g[119]="f8",g[120]="f9",g[121]="f10",g[122]="f11",g[123]="f12";class y{constructor(){this.PressedKeys=[],this.events={keypress:[]},this.initKeyboard(),this.initRepeater()}on(e,t){this.events[e].push(t)}off(e,t){this.events[e].splice(this.events[e].indexOf(t),1)}reset(e){if(e)for(const t of e){const e=this.PressedKeys.findIndex((e=>e.key===t));e>-1&&this.PressedKeys.splice(e,1)}else this.PressedKeys=[]}isKeyPressed(e,t=!1,r=null){if("any"===e&&this.PressedKeys.length)return!0;if(t){for(let n,i=0;i<this.PressedKeys.length;++i)if(((n=this.PressedKeys[i]).key==e||""+n.keyCode==e)&&n.continuous)return!0}else for(let n,i=0;i<this.PressedKeys.length;++i)if((n=this.PressedKeys[i]).key==e||""+n.keyCode==e)return!0;return!1}getPressedKey(){let e=this.getPressedKeys();return e.length?e[0]:null}getPressedKeys(){return this.PressedKeys.map((e=>e.key))}async initRepeater(){for(;;){const e=performance.now();this.PressedKeys.forEach((t=>{(!m.ExecutionManager.Default.bloxMode||e-t.added>500)&&this.events.keypress.forEach((e=>e(t)))})),await m.Timer.Default.delay(100)}}initKeyboard(){window.addEventListener("keydown",(e=>{let t=(e=e||window.event).keyCode||e.charCode,r=String.fromCharCode(t),n={key:g[t]||r.toLowerCase()||"unsupported",keyCode:t,added:performance.now(),continuous:!1,triggered:[]};if("unsupported"!==n.key){this.events.keypress.forEach((e=>e(n)));let e=-1;for(let r=0;r<this.PressedKeys.length;++r)if(this.PressedKeys[r].keyCode==t){e=r,n.continuous=!0,n.triggered=this.PressedKeys[r].triggered;break}-1==e?this.PressedKeys.push(n):this.PressedKeys[e]=n}return!0}),!1),window.addEventListener("keyup",(e=>{let t=(e=e||window.event).keyCode||e.charCode,r=-1;for(let n=0;n<this.PressedKeys.length;++n)if(this.PressedKeys[n].keyCode==t){r=n;break}return r>=0&&this.PressedKeys.splice(r,1),!0}),!1)}}d("\n.prompt-form {\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    animation: fade-in 0.2s;\n    z-index: 23; /* because of player */\n    color: white;\n    padding: 0 15px;\n}\n\n@keyframes fade-in {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n.prompt-input {\n    padding: 6px 10px;\n    border-radius: 18px;\n    border: none;\n    margin: 0 10px 0 0;\n    color: white;\n    flex: 1;\n    font-size: 16px;\n    font-family: inherit;\n}\n\n.prompt-input:focus {\n    outline: none;\n}\n\n.prompt-inner {\n    position: relative;\n    border-radius: 4px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px -3px 6px;\n    margin-bottom: 50px;\n    animation: slide-in 0.4s;\n    animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);\n    padding: 15px;\n}\n\n.prompt-flex {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    min-width: 200px;\n    display: flex;\n}\n\n.prompt-triangle {\n    position: absolute;\n    background-color: transparent;\n}\n\n.prompt-triangle path {\n    stroke-linejoin: round;\n    stroke-width: 8px;\n}\n\n@keyframes slide-in {\n    0% {\n        transform: translateY(25px);\n        opacity: 0;\n    }\n\n    100% {\n        transform: translateY(0);\n        opacity: 1;\n    }\n}\n\n.prompt-important-icon {\n    font-size: 80px;\n    margin-right: 20px;\n}\n\n.prompt-text-wrap {\n    display: flex;\n    align-items: center;\n}\n\n.prompt-text-wrap >p {\n    margin-bottom: 0;\n}\n");const v=h({alignItems:"center",border:0,cursor:"pointer",padding:"5px 15px",transition:"all .2s ease-in",fontSize:16,fontFamily:"inherit",$nest:{"&:focus":{outline:"none"}}});class b extends n.PureComponent{constructor(){super(...arguments),this.state={speedHandler:null,speed:0,imageUrl:"",imageHandler:null}}componentDidMount(){const e=e=>{this.setState({speed:e.playerSpeed})};m.SpriteManager.Default.on("speed",e),this.state.speedHandler=e,this.state.speed=this.props.playerSpeed,this.state.imageUrl=this.getImageUrl(),this.state.imageHandler=e=>{if(e&&e.sprite&&e.sprite._texture&&e.sprite._texture.baseTexture){const t=e.sprite._texture.baseTexture.imageUrl;console.log(`NewUrl: ${t}`),this.setState({imageUrl:t})}},this.props.actor&&this.props.actor.on(m.ScoolcodeActorEvents.textureChange,this.state.imageHandler)}componentWillUnmount(){this.state.speedHandler&&m.SpriteManager.Default.off("speed",this.state.speedHandler),this.state.imageHandler&&this.props.actor&&this.props.actor.off(m.ScoolcodeActorEvents.textureChange,this.state.imageHandler)}getImageUrl(){if(!this.props.actor)return null;let e=null;const t=this.props.actor.sprite;if(this.props.actor.sprite&&t._texture&&t._texture.baseTexture){e=this.props.actor.sprite._texture.baseTexture.imageUrl;const t=this.props.actor.sprite,r=this;if(!e||""===e){console.log("Wait for image load!");const e=n=>{r.setState({imageUrl:n.baseTexture.imageUrl}),t.off("frameChange",e)};t.on("frameChange",e)}}return e}render(){const{theme:{colors:e},question:t,answer:r,onChange:i,onListenForAnswer:o}=this.props;return n.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"1%"}},n.createElement("form",{onSubmit:e=>{e.preventDefault(),o()},style:{position:"static",pointerEvents:"auto"}},n.createElement("div",{className:s("prompt-inner ",h({display:"flex",color:this.props.fontColor,marginBottom:0,maxWidth:"none",padding:"1.5%",boxShadow:"rgb(0, 0, 0, 0.2) 0px 0px 6px",backgroundColor:e.primary.fill,opacity:.9,maxHeight:"200px",overflowY:"auto",$nest:{"&::-webkit-scrollbar":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#485366",borderRadius:"20px"},"&::-webkit-scrollbar-button":{display:"none"}}}))},this.props.actor&&n.createElement("div",{style:{alignSelf:"center",height:"100%"}},n.createElement("img",{style:{marginRight:"10px",width:"50px",height:"50px",objectFit:"contain"},src:this.state.imageUrl})),n.createElement("div",{style:{position:"relative",width:"100%"}},n.createElement("p",{style:{wordBreak:"break-word",marginBottom:"5px",color:this.props.fontColor}},""+t),n.createElement("div",{className:"prompt-flex"},n.createElement("input",{autoFocus:!0,type:"text",className:"prompt-input",value:r,onChange:e=>i(e.target.value),style:{backgroundColor:e.secondary.fill,color:e.secondary.text,opacity:.9}}),n.createElement("button",{type:"submit",disabled:0===this.state.speed,className:s(v,h({opacity:.9,borderRadius:30,backgroundColor:e.secondary.fill,color:e.secondary.text,$nest:{"&:hover, &:focus":{backgroundColor:e.secondary.hover}}}))},"ok"))))))}}var S=r(329),T=r.n(S);class w extends n.PureComponent{constructor(){super(...arguments),this.state={}}componentDidMount(){this.scrollbar.scrollToBottom()}componentDidUpdate({output:e}){e!==this.props.output&&this.scrollbar.scrollToBottom()}render(){const{width:e,height:t,output:r}=this.props,{}=this.state,i=e=>"error"===e?"#ff8888":"warning"===e?"#73C751":"white";return n.createElement(T.a,{style:{width:e,height:t,position:"relative",top:0},ref:e=>this.scrollbar=e},n.createElement("main",{style:{minWidth:e,minHeight:t,position:"relative",padding:5,backgroundColor:"black",color:"white"}},r.map(((e,t)=>n.createElement("code",{key:t},n.createElement("span",{style:{color:i(e.code)}},"#\xa0"),e.count?n.createElement(n.Fragment,null,n.createElement("span",{style:{color:"black",backgroundColor:i(e.code)}},"\xa0",e.count,"\xa0"),"\xa0"):null,n.createElement("span",{style:{color:i(e.code)}},e.text),n.createElement("br",null))))))}}class E extends n.PureComponent{constructor(){super(...arguments),this.state={}}render(){const{show:e=!0,output:t,time:r}=this.props,{}=this.state,i=e=>"error"===e?"#ff8888":"warning"===e?"#73C751":"white";return e?n.createElement("div",{style:{maxHeight:"50%",position:"absolute",bottom:5,left:5,right:5,pointerEvents:"none",zIndex:24}},t.map(((e,t)=>n.createElement("div",{key:Object(f.generate)(),style:{margin:0,fontSize:12}},e.count&&n.createElement(n.Fragment,null,n.createElement("code",{style:{background:i(e.code),opacity:(6-t)/6-r,color:"rgba(0,0,0,0.7)",padding:4,borderRadius:5,lineHeight:"24px"}},e.count),"\xa0"),n.createElement("code",{style:{background:"rgba(0,0,0,0.7)",opacity:(6-t)/6-r,color:i(e.code),padding:4,borderRadius:5,lineHeight:"24px"}},e.text))))):null}}class x extends n.PureComponent{constructor(e){super(e),this.state={fontSize:16,color:"#ffffff",background:"#000000",position:{x:null,y:null},value:"",keepOnScreen:!1,clientWidth:null,clientHeight:null,parentWidth:null,parentHeight:null},this.containerRef=n.createRef()}registerMonitor(){this.props.monitor.onChange=(e,t)=>{this.setState({[e]:t},(()=>{if(!["color","background"].includes(e)&&(this.storeDimensions(),this.state.clientWidth&&this.state.clientHeight)){const e=this.state.fontSize+2;this.size={x:this.state.clientWidth?this.state.clientWidth:this.size?this.size.x:e,y:this.state.clientHeight?this.state.clientHeight:this.size?this.size.y:e}}}))},this.props.monitor.getSize=()=>{if(this.storeDimensions(),this.state.clientWidth&&this.state.clientHeight&&this.state.parentWidth&&this.state.parentHeight){const e={x:this.state.clientWidth/this.state.parentWidth,y:this.state.clientHeight/this.state.parentHeight};return this.props.monitor.storeData(e.x,e.y,{clientWidth:this.state.clientWidth,clientHeight:this.state.clientHeight,parentWidth:this.state.parentWidth,parentHeight:this.state.parentHeight}),e}return{x:null,y:null}},this.props.monitor.update()}componentDidMount(){this.setState({fontSize:this.props.monitor.fontSize,color:this.props.monitor.color,background:this.props.monitor.background,value:this.props.monitor.value,position:this.props.monitor.position},this.registerMonitor)}componentDidUpdate({monitor:e}){e!==this.props.monitor&&this.registerMonitor(),this.storeDimensions()}componentWillUnmount(){this.props.monitor.onChange=()=>null}storeDimensions(){const e={clientWidth:this.clientWidth,clientHeight:this.clientHeight,parentWidth:this.parentWidth,parentHeight:this.parentHeight};e&&this.setState(e)}get clientWidth(){var e;return(null===(e=null===this||void 0===this?void 0:this.containerRef)||void 0===e?void 0:e.current)&&this.containerRef.current.clientWidth?this.containerRef.current.clientWidth:this.props.monitor.lastRawDimensions?this.props.monitor.lastRawDimensions.clientWidth:this.state.clientWidth}get clientHeight(){var e;return(null===(e=null===this||void 0===this?void 0:this.containerRef)||void 0===e?void 0:e.current)&&this.containerRef.current.clientHeight?this.containerRef.current.clientHeight:this.props.monitor.lastRawDimensions?this.props.monitor.lastRawDimensions.clientHeight:this.state.clientHeight}get parentWidth(){var e,t,r;return(null===(r=null===(t=null===(e=null===this||void 0===this?void 0:this.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.parentElement)||void 0===r?void 0:r.parentElement)&&this.containerRef.current.parentElement.parentElement.clientWidth?this.containerRef.current.parentElement.parentElement.clientWidth:this.props.monitor.lastRawDimensions?this.props.monitor.lastRawDimensions.parentWidth:this.state.parentWidth}get parentHeight(){var e,t,r;return(null===(r=null===(t=null===(e=null===this||void 0===this?void 0:this.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.parentElement)||void 0===r?void 0:r.parentElement)&&this.containerRef.current.parentElement.parentElement.clientHeight?this.containerRef.current.parentElement.parentElement.clientHeight:this.props.monitor.lastRawDimensions?this.props.monitor.lastRawDimensions.parentHeight:this.state.parentHeight}render(){const{delta:e,scale:t,name:r,monitor:i}=this.props,{value:o,fontSize:a,background:s,color:l,position:{x:c,y:p},keepOnScreen:u}=this.state;let d={x:c||0,y:p||0};if(this.clientWidth&&this.clientHeight){const e=a+2;this.size={x:this.clientWidth?this.clientWidth:this.size?this.size.x:e,y:this.clientHeight?this.clientHeight:this.size?this.size.y:e}}if(u)if(this.parentWidth&&this.parentHeight&&this.size){const t={x:this.parentWidth,y:this.parentHeight};d.x=Math.max(Math.min(t.x-this.size.x,d.x*e),0),d.y=Math.max(Math.min(t.y-this.size.y,d.y*e),0)}else console.error("Container missing!!!");else d.x=d.x*e,d.y=d.y*e;const f="stage"===i.anchor&&i.autoZoom?i.stage.camera.props.size/100:1;return n.createElement("div",{className:h({margin:4})},n.createElement("span",{ref:this.containerRef,className:h({display:"inline-block",padding:4*e*t*f,background:s,color:l,fontSize:a*e*t*f,borderRadius:5*e*t*f,position:c||p?"absolute":"static",left:d.x,top:d.y,whiteSpace:u||!i.wrapText?"nowrap":"unset"})},r?`${r}: `:"",(()=>{let e=o;for(;e.includes("\\n");)e=e.replace("\\n","\n");for(;e.includes("\\\\");)e=e.replace("\\\\","\\");for(;e.includes("\\'");)e=e.replace("\\'","'");for(;e.includes('\\"');)e=e.replace('\\"','"');const t=[];let r="";for(const i of e)switch(i){case"\n":r.length&&t.push(r),t.push(n.createElement("br",null)),r="";break;default:r+=i}return r.length&&t.push(r),n.createElement(n.Fragment,null,t.map((e=>e)))})()))}}var _=r(71);const k=r(734).default,O=h({$nest:{"& input":{backgroundColor:"#3d3935",color:"#eee",border:"none",padding:5,borderRadius:3},"& input:focus":{outline:"none"}}});class A extends n.PureComponent{constructor(){super(...arguments),this.state={}}render(){const{title:e,details:t,detailsPlaceholder:r,onProjectDetailsChange:i,onProjectTitleChange:o,onBlur:a,maxWidth:s,editable:l,titlePlaceholder:c}=this.props,{}=this.state,p=(e,t,r)=>{if(e.length>0&&(e=e.substr(0,t),r)){const t=_.removeRegexpSpecialChars(e);if(null!=t)return t}return e};return n.createElement("div",{style:{position:"absolute",bottom:0,left:0,zIndex:1,display:"flex",flexDirection:"column",margin:8,pointerEvents:"auto",textAlign:"left"}},n.createElement(k,{className:O,type:"text",disabled:!l,value:e,onBlur:a,placeholder:c,onChange:e=>o(p(e.target.value,32,!0)),inputStyle:{fontSize:16,maxWidth:s}}),n.createElement(k,{className:O,type:"text",disabled:!l,value:t,onBlur:a,placeholder:r,onChange:e=>i(p(e.target.value,3e3,!1)),inputStyle:{marginTop:3,fontSize:11,maxWidth:s}}))}}const C=(e=2)=>{return t=1,r=Math.max(2,e),Math.floor(Math.random()*(r-t+1))+t;var t,r},M=(e,t)=>{if("reference"===e.type){const r=e,n=Object.assign(Object.assign(Object.assign({},t.local||{}),t.variables),{dice:C});return Function(`\n            let window = undefined, document = undefined;\n            try {\n                with(this) {\n                    return ${r.operation}\n                }\n            }\n            catch(e) {\n                return null\n            }\n        `).call(n)}return e};function P(e,t){if("or"===e.type){for(let r of e.conditions)if(P(r,t))return!0;return!1}if("and"===e.type){for(let r of e.conditions)if(!P(r,t))return!1;return!0}{const r=M(e.leftSide,t),n=M(e.rightSide,t);switch(e.type){case"eq":return r==n;case"ne":return r!=n;case"gt":return+r>+n;case"gte":return+r>=+n;case"lt":return+r<+n;case"lte":return+r<=+n}}}async function R(e,t){if(!e)return null;const r={variables:t.variables};let n=e.next;switch(e.type){case"broadcast":const i=e.messages.map((e=>M(e,r)));for(let e of i)if("number"===typeof e.typingFor)await t.player.think(e.typingFor);else{if(e.attachment)throw new Error("Messages with attachments are not supported by this runtime.");{let r=e.text?e.text:e;await t.player.say(r)}}break;case"question":const o=M(e.text,r),a=(e.keywordSpotting?function(e,t){t=t.toLowerCase().trim();const r={};for(let o of e){let e=o.title.toLowerCase().trim();(t.startsWith(e)||-1!==t.indexOf(` ${e}`))&&(r[o.value]=(r[o.value]||0)+1)}let n="",i=0;for(let{value:o}of e){const e=r[o];e>i&&(i=e,n=o)}return Object.keys(r).filter((e=>r[e]===i)).length>1?"":n}(e.options.map((e=>Object.assign(Object.assign({},e),{title:M(e.title,r)}))),await t.player.askWithFreeText(o,e.timeoutMS||0)):await t.player.ask(o,e.options.filter((e=>e.value)).map((e=>Object.assign(Object.assign({},e),{title:M(e.title,r)}))),e.timeoutMS||0))||e.defaultValue||e.options[0].value;if(a){const t=e.outputs.find((e=>e.id===a));t&&(n=t.next)}break;case"decision":P(e.condition,r)||(n=e.elseNext);break;case"block":const s={variables:t.variables,actions:e.actions,player:t.player},l=e.sequential?e.actions[0]:e.actions.find((e=>"start"===e.type));if(!l)throw new Error("Every non-sequential block must have a start action.");const c=await R(l,s);if(c){const t=e.outputs.find((e=>e.id===c));t&&(n=t.next)}break;case"set-variable":{const n=M(e.name,r);let i=M(e.value,r);Number.isNaN(+i)||(i=+i),n&&(t.variables[n]=i,await t.player.setVariable(n,i));break}case"raise-event":{const n=M(e.name,r),i=M(e.payload,r);await t.player.raiseEvent(n,i,e.waitForCompletion);break}case"output":return e.value}return R("string"===typeof n?t.actions.find((e=>e.id===n)):n,t)}class I{constructor(e){this.player=e}async play(e){if(!e.actions)throw new Error("A Start Action is required in every Scoolcode Dialog.");const t=e.actions.find((e=>"start"===e.type));if(!t)throw new Error("A Start Action is required in every Scoolcode Dialog.");return R(t,{variables:Object.assign({},e.initialVariables),actions:e.actions,player:this.player})}}var B=r(43),D=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};class L extends n.PureComponent{constructor(e){super(e),this.state={isPreviewOpen:!1,previewValue:{},currentText:"",speedHandler:null,speed:0,timeoutTime:0,remainingTime:-1,timeoutInterval:null,imageUrl:"",imageIsWide:!1,imageIsSquare:!1,imageHandler:null},this.renderThumb=e=>t=>{var{style:r}=t,i=D(t,["style"]);const o={backgroundColor:e.scrollbar,borderRadius:"inherit",cursor:"pointer"};return n.createElement("div",Object.assign({style:Object.assign(Object.assign({},r),o)},i))},this.inputRef=n.createRef()}componentDidMount(){this.startConversation();const e=e=>{this.setState({speed:e.playerSpeed})};if(m.SpriteManager.Default.on("speed",e),this.state.speedHandler=e,this.state.speed=this.props.playerSpeed,this.state.remainingTime=-1,this.state.imageUrl=this.getImageUrl(),this.state.imageUrl){const e=new Image;e.src=this.state.imageUrl,e.onload=()=>{this.setState({imageIsWide:e.width>1.2*e.height,imageIsSquare:e.width>=.75*e.height&&e.width<=1.2*e.height})}}this.state.imageHandler=e=>{e&&e.sprite&&e.sprite._texture&&e.sprite._texture.baseTexture&&this.setState({imageUrl:e.sprite._texture.baseTexture.imageUrl})},this.props.actor&&this.props.actor.on(m.ScoolcodeActorEvents.textureChange,this.state.imageHandler),this.state.timeoutInterval=setInterval((()=>{const e=this.state.timeoutTime-Date.now();e>=0?this.setState({remainingTime:Math.floor(e/1e3)}):-1!==e&&this.setState({remainingTime:-1})}),200)}componentWillUnmount(){this.state.speedHandler&&m.SpriteManager.Default.off("speed",this.state.speedHandler),this.state.timeoutInterval&&clearInterval(this.state.timeoutInterval),this.state.imageHandler&&this.props.actor&&this.props.actor.off(m.ScoolcodeActorEvents.textureChange,this.state.imageHandler)}componentDidUpdate(e,t){this.state.previewValue&&"end"===this.state.previewValue.kind&&this.props.handleConversationEnd(this.state.previewValue.output)}getImageUrl(){if(!this.props.actor)return null;let e=null;const t=this.props.actor.sprite;if(this.props.actor.sprite&&t._texture&&t._texture.baseTexture){e=this.props.actor.sprite._texture.baseTexture.imageUrl;const t=this.props.actor.sprite,r=this;if(!e||""===e){console.log("Wait for image load!");const e=n=>{r.setState({imageUrl:n.baseTexture.imageUrl}),t.off("frameChange",e)};t.on("frameChange",e)}}return e}async startConversation(){try{const e=await this.getConversation(this.props.conversationId);this.executeConversation(e)}catch(e){console.error("Invalid conversation!",e),this.props.handleConversationEnd("")}}async getConversation(e){const t=await m.SpriteManager.Default.ConversationProvider.getConversation(e);return JSON.parse(t.definition)}async executeConversation(e){if(!e)return;const t=new I({say:e=>(this.setState({timeoutTime:-1}),new Promise((t=>{this.setState({previewValue:{kind:"say",text:e,resolve:t}})}))),think:async e=>(this.setState({timeoutTime:-1}),new Promise((t=>{this.setState({previewValue:{kind:"think"}}),setTimeout(t,1e3*e)}))),ask:(e,t,r)=>{this.setState({timeoutTime:-1});const n=new Promise((r=>{this.setState({previewValue:{kind:"ask",text:e,options:t,resolve:r}})}));return r?(this.setState({timeoutTime:r+Date.now()}),Promise.race([n,new Promise((e=>setTimeout((()=>e("")),r)))])):n},askWithFreeText:(e,t)=>{this.setState({timeoutTime:-1});const r=new Promise((t=>{this.setState({previewValue:{kind:"free-text",text:e,resolve:t},currentText:""})}));return t?(this.setState({timeoutTime:t+Date.now()}),Promise.race([r,new Promise((e=>setTimeout((()=>e("")),t)))])):r},raiseEvent:async(e,t,r)=>new Promise((async n=>{n(r?await this.props.broadcastAndWait(e,t):await this.props.broadcast(e,t))})),setVariable:async(e,t)=>new Promise((async r=>{this.props.setVariable(e,t),r()}))});e.initialVariables=this.props.variables;let r=null;try{r=await t.play(e)}catch(n){console.warn(n)}finally{this.setState({previewValue:{kind:"end",output:r}})}}render(){var e,t,r,i,o;const{theme:{colors:a},conversationMode:l}=this.props,{previewValue:c}=this.state,p=(null===(t=null===(e=this.props)||void 0===e?void 0:e.actor)||void 0===t?void 0:t.texture)&&"ForSpeach"!==(null===(r=this.props)||void 0===r?void 0:r.actor.name);let u=l;"centerBubble"!==u&&"centerBubbleOptions"!==u||p||(u="center"),"centerBubbleOptions"!==u||c.options||(u="centerBubble");const d=c.text?c.text.length:0;let f=0,g=0;c.options&&c.options.map((e=>{e.title.length>f&&(f=e.title.length),g+=e.title.length}));const y=c.options&&g<d&&(c.options.length<=2&&g<30||3==c.options.length&&g<35||4==c.options.length&&g<35),v=e=>{const t=["A","G","H","M","m","O","R","W","w"];let r=0;for(const n of e)(t.includes(n)||n.match(/[\u3040-\u9FBF]/)||n.match(/[\u1100-\u11ff]/))&&r++;return r>e.length/4},b=!(!c.text||d<50)&&v(c.text),S=!!c.text&&v(c.text),T=(()=>{if(!c.options)return!1;for(const e of c.options)if(e.title.length>30&&v(e.title))return!0;return!1})(),w=d>=47||f>35||y&&g>30,E=(()=>!!c.options&&("center"===u?c.options.length>2&&!y:"centerBubble"===u?y?b&&c.options.length>2&&!this.state.imageIsWide:(d>40||b||T)&&(w&&c.options.length>2||4==c.options.length):"centerBubbleOptions"===u?w&&(c.options.length>2||b||T||d>60)||4==c.options.length:c.options.length>2))(),x=["center","centerBubble","centerBubbleOptions"].includes(this.props.conversationMode),_=e=>["center","centerBubble","centerBubbleOptions","bottomScaled"].includes(this.props.conversationMode)?e*this.props.delta*this.props.scale:e,k=e=>`${_(e)}px`,O=h({width:x?"100%":"bottomScaled"===u?void 0:`calc(100% - ${k(60)})`,minHeight:k(50),overflowY:"auto",top:"0px",maxHeight:x?`calc(100% - ${k(20)})`:k(180),display:x?"flex":void 0,flexDirection:x?"column":void 0,justifyContent:x?"center":void 0,alignItems:x?"center":void 0,$nest:{"&::-webkit-scrollbar":{width:"7px"},"&::-webkit-scrollbar-track":{opacity:0},"&::-webkit-scrollbar-thumb":{backgroundColor:a.secondary.fill,borderRadius:"3px"}}}),A=h({display:"flex",alignItems:"center",flexDirection:"row",flex:1}),C=h({margin:x?k(0)+" "+k(40)+" "+k(5)+" "+k(40):k(0)+" "+k(5)+" "+k(5)+" "+k(0),display:"flex",justifyContent:x?"center":void 0}),M=h({objectFit:"contain",width:"100%",height:(()=>{switch(u){case"centerBubble":return k(150);case"centerBubbleOptions":return"100%";case"bottomScaled":return"unset";default:return k(50)}})(),verticalAlign:"centerBubbleOptions"===u?"top":"middle",marginRight:k(10)}),P=h({display:x?"flex":void 0,flexDirection:x?"row":void 0,justifyContent:x?"center":void 0,flex:"centerBubble"===u?4:1}),R=h({alignItems:"center",border:0,cursor:"pointer",padding:k(5)+" "+k(15),transition:"all .2s ease-in",fontSize:this.state.imageUrl&&p?k(14):k(20),fontFamily:"inherit",$nest:{"&:focus":{outline:"none"}}}),I={opacity:"centerBubbleOptions"===u?.95:.8,borderRadius:"30px",fontSize:k(16),backgroundColor:"centerBubbleOptions"===u&&c.options?"#dddddd":a.secondary.fill,color:"centerBubbleOptions"===u&&c.options?"#000000":a.secondary.text,$nest:{"&:hover, &:focus":{backgroundColor:"centerBubbleOptions"===u&&c.options?"#888888":a.secondary.hover}}},D={opacity:"centerBubbleOptions"===u?.95:.8,borderRadius:"30px",fontSize:this.state.imageUrl&&p?k(T?12:14):k(20),backgroundColor:"centerBubbleOptions"===u&&c.options?"#dddddd":a.secondary.fill,color:"centerBubbleOptions"===u&&c.options?"#000000":a.secondary.text,textAlign:"centerBubble"===u||"centerBubbleOptions"===u?"left":"center",$nest:{"&:hover, &:focus":{backgroundColor:"centerBubbleOptions"===u&&c.options?"#888888":a.secondary.hover}}},L=h({display:"flex",alignItems:"center",opacity:.9,padding:k(10),borderRadius:k(5),position:"absolute",pointerEvents:"auto",zIndex:23,left:k(20),bottom:k(20),width:`calc(100% - ${k(40)})`}),F=h({opacity:"centerBubbleOptions"===l?.95:.98,padding:k(10),borderRadius:k(5),position:"absolute",pointerEvents:"auto",zIndex:23,left:w?"5%":"15%",width:w?"90%":"70%",bottom:E?"5%":"15%",height:E?"90%":"70%",backgroundImage:"centerBubbleOptions"===u?`linear-gradient(${a.primary.fill}, ${a.primary.fill}, ${a.primary.fill}, ${a.primary.fill}ff, ${a.primary.fill}00)`:void 0}),N=h({display:"flex",alignItems:"center",flexDirection:"column",height:"20%"}),j=h({display:"flex",alignItems:"center",flexDirection:"row"}),V=h({display:x?"flex":void 0,flexDirection:x?"column":void 0,justifyContent:x?"center":void 0,alignItems:x?"center":void 0,width:x?"100%":void 0}),G=x?F:L,U=x?n.createElement("div",{id:"emptyLine",style:{height:k(16)}}):null,W=()=>{if(this.state.imageUrl&&p){const e=[0,3,1.5,w?2:1.2,1.5],t=c.options?e[c.options.length]:2.5;return n.createElement("div",{style:{marginTop:(()=>"center"===u?k(!y&&d>60?15:40):"centerBubble"===u?c.options?!y&&c.options&&this.state.imageIsWide&&(E||d<40)&&(c.options.length>2||d<40)?k(-10*c.options.length):0:k(25):"centerBubbleOptions"===u?k(this.state.imageIsSquare?-25:-50):0)(),marginRight:k(10),marginLeft:"centerBubbleOptions"===u?k(0):void 0,width:(()=>{switch(u){case"centerBubbleOptions":return this.state.imageIsSquare?k(50*t):this.state.imageIsWide?k(70*t):void 0;case"centerBubble":return k(150);case"bottomScaled":if(this.state.imageIsWide)return d>60||b?k(150):g>40&&c.options.length>2?k(4==c.options.length&&g>70?150:75):k(50);default:return k(50)}})(),height:(()=>{switch(u){case"centerBubbleOptions":return k(70*t);case"bottomScaled":return"unset";default:return}})()}},n.createElement("img",{className:s(M),src:this.state.imageUrl}))}return"center"===u?n.createElement("span",{style:{width:k(5),height:this.state.imageUrl&&p?k(50):k(y?35:d>40||b?15:25)}}):null},z=()=>"centerBubble"===u||"centerBubbleOptions"===u?null:n.createElement(n.Fragment,null,n.createElement("div",{className:s(C)},B.removeEscapeChars(c.text)),U);return n.createElement(n.Fragment,null,n.createElement("div",{className:s(G),style:{color:this.props.fontColor,backgroundColor:"centerBubbleOptions"===u?void 0:a.primary.fill,fontSize:this.state.imageUrl&&p?k(16):k(20)}},("centerBubble"===u||"centerBubbleOptions"===u)&&n.createElement("div",{className:s(N)},n.createElement("div",{className:s(A),style:{marginTop:(()=>{if("centerBubble"===u&&(!b||c.options&&2==c.options.length)&&(this.state.imageIsWide||E||d<50||c.options&&3==c.options.length))return k(15);if("centerBubbleOptions"===u&&c.options)if(this.state.imageIsWide||this.state.imageIsSquare){if(b&&!y&&c.options.length<4)return k(15);if(4==c.options.length&&b&&!y&&E)return k(15)}else if(c.options.length<4&&!y){if(E||d<50)return k(b?15:0);if(2==c.options.length)return k(-10)}})(),marginBottom:"2px"}},n.createElement("b",null,`~\xa0${null===(i=this.props.actor)||void 0===i?void 0:i.name}\xa0~`)),(()=>{if(!c.text)return null;let e=c.text;if("centerBubbleOptions"===u&&c.options){const t=f>30,r=S?30:w?60:50;let n=r+(S?0:.25*Math.max(r-e.length,0)),i="";const o="\xa0";for(let l=0;l<n;l++)l<e.length?" "===e[l]?i+=o:i+=e[l]:i+=o;for(let l=n;l<e.length;l++)i+=e[l];e=i;const a=d<12||d<20&&e.length<65||d<25&&e.length<60;let s=[0,3,w?b?5:t||!a?4:3:a?4:5,w?y?3:b?7:6:a?6:7,w?y?3:a?t?7:6:b?10:7:a?t?8:7:9][c.options.length];y&&s>4&&(s=4),e+="\n".repeat(s)}const t=window.Universe.captureBubble(B.removeEscapeChars(e),"centerBubbleOptions"===u?b?22:28:b?26:32,"centerBubble"===u?900:700,"centerBubble"===u?1e3:void 0,"centerBubble"===u?120:void 0,"centerBubble"===u?w?50:130:void 0,"centerBubble"===u?120:void 0);return t&&t.length>0?n.createElement(n.Fragment,null,n.createElement("div",{style:{width:`calc(100% - ${k(50)})`}},n.createElement("img",{src:t,style:{width:"100%",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, .3))",flex:3,display:"centerBubbleOptions"===u?"block":void 0,marginLeft:"centerBubbleOptions"===u?k(30):void 0,marginRight:"centerBubbleOptions"===u?"auto":void 0}})),"centerBubbleOptions"===u&&n.createElement("div",{style:{alignSelf:"baseline",padding:"-10"}},W())):null})()),n.createElement("div",{className:s(j)},"center"!==u&&"centerBubbleOptions"!==u&&W(),-1!==this.state.remainingTime&&n.createElement("div",{style:{textAlign:"center",borderRadius:"50%",width:k(20),height:k(20),border:`1px solid ${a.primary.text}`,position:"absolute",right:k(5),top:k(5)}},this.state.remainingTime),n.createElement("div",{id:"conversationContent",className:s(O),style:{marginTop:-1===this.state.remainingTime?k(0):k(20)}},!["centerBubble","centerBubbleOptions"].includes(u)&&n.createElement("div",{className:s(A)},"center"===u&&W(),p&&n.createElement("div",{style:{marginBottom:k(2),marginTop:"center"===u?k(!y&&d>60?25:40):void 0}},n.createElement("b",null,`~\xa0${null===(o=this.props.actor)||void 0===o?void 0:o.name}\xa0~`))),p&&n.createElement(n.Fragment,null,"centerBubble"===u&&n.createElement("div",{id:"margiCenterBubble",style:{height:k(d<40?20:40)}}),"centerBubbleOptions"===u&&!c.options&&n.createElement("div",{id:"marginCenterBubbleOptionsPlain",style:{height:k("free-text"===c.kind?70:100)}}),"centerBubbleOptions"===u&&c.options&&(w||y)&&n.createElement("div",{id:"marginCenterBubbleOptionsWide",style:{height:k(y?b?10:15:b?30:10)}})),("centerBubbleOptions"!==u||!c.options||w||!E)&&U,"ask"===c.kind&&n.createElement("div",null,z(),n.createElement("div",{className:s(P)},"centerBubbleOptions"===u&&n.createElement("span",{style:{width:k(50),height:k(10)}}),n.createElement("form",null,c.options.map((e=>n.createElement(n.Fragment,null,n.createElement("button",{key:e.title,disabled:0===this.state.speed,type:"button",autoFocus:!1,style:{margin:k(0)+" "+k(5)+" "+k(5)+" "+k("centerBubbleOptions"!==u||y?0:30)},className:s(R,h("bottom"===u?I:D)),onClick:t=>{t.preventDefault(),c.resolve(e.value)}},B.removeEscapeChars(e.title)),x&&!y?n.createElement("br",null):null)))))),"say"===c.kind&&n.createElement("div",null,z(),n.createElement("form",{onSubmit:e=>{var t;const r=null===(t=this.inputRef.current)||void 0===t?void 0:t.value;e.preventDefault(),c.resolve(r)}},n.createElement("div",{className:s(P)},n.createElement("button",{disabled:0===this.state.speed,autoFocus:!0,type:"submit",className:s(R,h(I))},m.LocalisationService.Default.getValue("next"))))),"free-text"===c.kind&&n.createElement("div",null,z(),n.createElement("form",{className:s(V),onSubmit:e=>{var t;const r=null===(t=this.inputRef.current)||void 0===t?void 0:t.value;e.preventDefault(),c.resolve(r)}},n.createElement("input",{autoFocus:!0,className:"prompt-input",style:{margin:k(0)+" "+k(5)+" "+k(5)+" "+k(0),backgroundColor:a.secondary.fill,color:a.secondary.text,opacity:.8,fontSize:this.state.imageUrl&&p?k(16):k(20),width:x?"center"===u?"80%":"150%":void 0},ref:this.inputRef,type:"text"}),x&&n.createElement("div",{className:s(P)},n.createElement("button",{disabled:0===this.state.speed,type:"submit",className:s(R,h(I))},m.LocalisationService.Default.getValue("next"))),!x&&n.createElement("button",{disabled:0===this.state.speed,type:"submit",className:s(R,h(I))},m.LocalisationService.Default.getValue("next")))),"think"===c.kind&&n.createElement("div",null,n.createElement("div",null,`${m.LocalisationService.Default.getValue("thinking")}`))))))}}var F=r(81);class N{constructor(){this.name="hand",this.active=!1,this.lastGestureName=""}async enable(e,t){return this.recognizer=await F.b.createFromOptions(e,{baseOptions:{modelAssetPath:(null===t||void 0===t?void 0:t.modelAssetPath)||"https://storage.googleapis.com/mediapipe-tasks/gesture_recognizer/gesture_recognizer.task"},numHands:(null===t||void 0===t?void 0:t.numHands)||1,runningMode:"VIDEO"}),this.lastGestureName="",this.active=!0,!0}async disable(){return this.active=!1,this.recognizer&&(this.recognizer.close(),this.recognizer=null),!0}recognise(e,t){const r=this.recognizer.recognizeForVideo(e,t);m.SpriteManager.Default.visionData.handLandmarks=function(e){return e.landmarks[0]?e.landmarks[0].map((e=>({x:1-e.x,y:e.y,z:e.z}))):[]}(r),m.SpriteManager.Default.visionData.gesture=r.gestures[0]?function(e){const t=e.gestures[0][0],r=e.handednesses[0][0];return{type:t.categoryName,score:t.score,handedness:r.categoryName.toLowerCase(),hand:t.index}}(r):null;const n=m.SpriteManager.Default.visionData.gesture;n?n.type!==this.lastGestureName&&(this.lastGestureName=n.type,m.SpriteManager.Default.triggerGesture(n)):this.lastGestureName=""}}class j{constructor(){this.name="body",this.active=!1}async enable(e,t){return this.recognizer=await F.c.createFromOptions(e,{baseOptions:{modelAssetPath:(null===t||void 0===t?void 0:t.modelAssetPath)||"https://storage.googleapis.com/mediapipe-models/pose_landmarker/pose_landmarker_lite/float16/1/pose_landmarker_lite.task",delegate:"GPU"},numPoses:(null===t||void 0===t?void 0:t.numPoses)||1,runningMode:"VIDEO"}),this.active=!0,!0}async disable(){return this.active=!1,this.recognizer&&(this.recognizer.close(),this.recognizer=null),!0}recognise(e,t){const r=this.recognizer.detectForVideo(e,t);m.SpriteManager.Default.visionData.poseLandmarks=function(e){return e.landmarks[0]?e.landmarks[0].map((e=>({x:1-e.x,y:e.y,z:e.z}))):[]}(r)}}class V extends n.PureComponent{constructor(e){super(e),this.state={stream:null,webcam:{bounds:{x:0,y:0,width:.25,height:.25},opacity:1,mask:null}},this.activeCount=0,this.stopped=!1,this.recognisers=[new N,new j],this.lastVideoTime=-1,this.counter=0,this.recognisionLoop=()=>{const e=this.videoRef.current;if(this.state.stream&&e&&4==e.readyState&&e.currentTime>this.lastVideoTime+.1){this.lastVideoTime=e.currentTime;for(let t of this.recognisers)t.active&&(this.counter++,t.recognise(e,this.counter))}},this.videoRef=n.createRef(),this.state.webcam=m.SpriteManager.Default.visionData.webcam,m.SpriteManager.Default.VisionProvider={enable:async(e,t)=>{const r=this.recognisers.find((t=>t.name===e));if(!r)return!1;this.fileset||(this.fileset=await F.a.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm")),this.stopped=!1;const n=await r.enable(this.fileset,t);return n&&(this.activeCount||await this.enableVideo(),this.activeCount++),n},disable:async e=>{const t=this.recognisers.find((t=>t.name===e));if(!t)return!1;const r=await t.disable();return r&&(this.activeCount--,this.activeCount||this.disableVideo()),r}},m.SpriteManager.Default.on("stop",(async()=>{this.stopped=!0,this.disableVideo();for(let e of this.recognisers)await e.disable();this.activeCount=0})),m.SpriteManager.Default.on("webcam",(async()=>{this.stopped||this.setState({webcam:m.SpriteManager.Default.visionData.webcam})}))}async enableVideo(){var e;const t=navigator.mediaDevices.getSupportedConstraints(),r={};t.facingMode&&(r.facingMode="user"),t.aspectRatio&&(r.aspectRatio=this.props.width/this.props.height);const n=await navigator.mediaDevices.getUserMedia({video:r});(null===(e=null===this||void 0===this?void 0:this.videoRef)||void 0===e?void 0:e.current)&&(this.videoRef.current.srcObject=n,this.setState({stream:n}))}disableVideo(){var e;m.SpriteManager.Default.off("loop",this.recognisionLoop),(null===(e=null===this||void 0===this?void 0:this.videoRef)||void 0===e?void 0:e.current)&&(this.videoRef.current.srcObject=null),this.state.stream&&(this.state.stream.getVideoTracks()[0].stop(),this.setState({stream:null}))}initLoop(){m.SpriteManager.Default.on("loop",this.recognisionLoop)}componentDidMount(){this.initLoop()}componentWillUnmount(){this.state.stream&&(this.state.stream.getVideoTracks()[0].stop(),this.state.stream=null)}render(){const{width:e,height:t}=this.props,{webcam:r}=this.state,i=this.state.stream?"block":"none";return n.createElement("div",{className:h({top:t*r.bounds.y+"px",left:e*r.bounds.x+"px",width:e*r.bounds.width+"px",height:t*r.bounds.height+"px",position:"absolute",display:i})},n.createElement("video",{ref:this.videoRef,width:e*r.bounds.width,height:t*r.bounds.height,style:{filter:`opacity(${100*r.opacity}%)`},className:h({transform:"scaleX(-1)"}),autoPlay:!0}))}}class G extends n.PureComponent{constructor(){super(...arguments),this.state={question:"",answer:"",variables:{},showPrompt:!1,showConversation:!1,conversationId:"",actor:null,monitors:[],terminalOutput:[],terminalPreviewOutput:[],broadcast:null,broadcastAndWait:null,playerSpeed:0,time:0,handleAnswerClick:()=>null,handleConversationEnd:()=>null,setVariable:Function,pressedKeysBeforeAsk:[],conversationMode:"bottom"},this.lastStage=null,this.handleUpdate=async()=>{const{stage:e,onUpdate:t}=this.props;(this.lastStage&&this.lastStage!==e||m.ExecutionManager.Default.bloxMode)&&(this.lastStage=e,await t(e))},this.handleStop=()=>{this.timer&&clearTimeout(this.timer),this.interactionManager.reset(),this.state.handleConversationEnd({result:"",variables:{}}),this.setState({showConversation:!1,conversationId:""}),this.setState({monitors:[],terminalOutput:[],terminalPreviewOutput:[]},(()=>{this.state.showPrompt&&this.state.handleAnswerClick()}))},this.handleMonitor=e=>{this.setState((({monitors:t})=>({monitors:[...t,e]}))),e.onDelete=()=>this.setState((({monitors:t})=>({monitors:t.filter((t=>t.id!=e.id))})))},this.handleKeyPress=e=>{const{stage:t}=this.props,r=t.getType();t.isStageRunning()&&(r.OnKeyPress.emit([e.key],t),t.texture instanceof m.ScoolcodeScene&&r.OnKeyPress.emit([e.key],t.texture.stage),t.currentScreen&&r.OnKeyPress.emit([e.key],t.currentScreen.stage))},this.interactionManager=new y,this.handleConversation=(e,t,r,n,i,o,a,s)=>e?(this.setState({showConversation:!0,conversationId:e,actor:t,variables:r,broadcast:i,broadcastAndWait:o,setVariable:n,playerSpeed:a,conversationMode:s}),new Promise(((e,t)=>{this.setState({handleConversationEnd:t=>{this.setState({showConversation:!1,conversationId:"",conversationMode:s}),e(t)}})}))):new Promise(((e,t)=>{e("")})),this.readPressedKeys=()=>{const e=this.interactionManager.getPressedKeys(),t={space:" "};for(const r in e){const n=t[e[r]];n&&(e[r]=n)}return e},this.handleAsk=(e,t,r)=>(this.setState({showPrompt:!0,question:e,playerSpeed:t,actor:r,pressedKeysBeforeAsk:this.readPressedKeys()}),new Promise((e=>{this.setState({handleAnswerClick:()=>{if(0==this.state.answer.length&&this.state.pressedKeysBeforeAsk&&this.state.pressedKeysBeforeAsk.includes("enter"))this.setState({pressedKeysBeforeAsk:[]});else{const t=this.state.answer;e(t),this.setState({showPrompt:!1,question:"",answer:"",pressedKeysBeforeAsk:[]})}this.interactionManager.reset(["enter"])}})}))),this.updateTime=()=>{const e=this.state.time+.1;this.setState({time:e}),e<5&&(this.timer&&clearTimeout(this.timer),this.timer=window.setTimeout(this.updateTime,100))},this.handleTerminalClear=()=>this.setState({terminalOutput:[]}),this.handleTerminalWriteInternal=e=>{this.timer&&clearTimeout(this.timer);const{data:t}=m.Terminal,r=[];let n=null,i=1;for(const a of t)a.text===n&&r.length>0?(i++,r[r.length-1].count=i):(i=1,r.push({text:a.text,code:a.code})),n=a.text;const o=r.length>6?r.slice(r.length-6,r.length).reverse():Array.from(r).reverse();this.setState((({terminalOutput:e})=>({terminalPreviewOutput:o,time:0,terminalOutput:r})))},this.handleTerminalWrite=(e,t)=>{this.handleTerminalWriteInternal({text:e,code:t}),this.timer=window.setTimeout(this.updateTime,1200)},this.handleTerminalWriteAndWait=e=>{2==e.length&&(this.handleTerminalWriteInternal(e[0]),this.timer=window.setTimeout(this.updateTime,1e3*e[1]))}}async componentDidMount(){const{width:e,height:t,stage:r,onResize:n,onReady:i,onApply:o}=this.props,a=Math.max(0,e),s=Math.max(0,t);r.setRenderSize(a,s),await o(this.element,r,{matterElement:this.collisionElement,dimensions:{width:a,height:s}}),n(a,s),console.log("Player mounted!"),m.SpriteManager.Default.ConversationProvider.prompt=this.handleConversation,m.SpriteManager.Default.DialogProvider.prompt=this.handleAsk,m.SpriteManager.Default.on("setup",this.handleUpdate),m.SpriteManager.Default.on("stop",this.handleStop),m.SpriteManager.Default.on("monitor",this.handleMonitor),m.Terminal.subscribe("clear",this.handleTerminalClear),m.Terminal.subscribe("write",this.handleTerminalWrite),m.Terminal.subscribe("writeForSeconds",this.handleTerminalWriteAndWait),this.interactionManager.on("keypress",this.handleKeyPress),m.SpriteManager.Default.KeyInfoProvider.isPressed=e=>"any"===e?!!this.interactionManager.getPressedKeys().length:-1!==this.interactionManager.getPressedKeys().indexOf(e),await this.handleUpdate(),i&&i()}componentWillUnmount(){this.timer&&clearTimeout(this.timer),m.SpriteManager.Default.DialogProvider.prompt=e=>Promise.resolve(""),m.SpriteManager.Default.off("stop",this.handleStop),m.SpriteManager.Default.off("setup",this.handleUpdate),m.SpriteManager.Default.off("monitor",this.handleMonitor),m.Terminal.unsubscribe("clear",this.handleTerminalClear),m.Terminal.unsubscribe("write",this.handleTerminalWrite),m.Terminal.unsubscribe("writeForSeconds",this.handleTerminalWriteAndWait),this.interactionManager.off("keypress",this.handleKeyPress),this.props.onUpdate(null)}async componentDidUpdate(e){const{width:t,height:r,onResize:n,stage:i}=this.props;e.height===r&&e.width===t||n(t,r),e.stage!==i&&(this.lastStage=e.stage),i.setRenderSize(t,r)}render(){const{stage:e,width:t,height:r,tab:i,theme:o,isFullScreen:a,title:l,details:c,showMetadata:p=!0,editableMetadata:u=!1,onTitleChange:d=(()=>null),onDetailsChange:g=(()=>null),onMetadataBlur:y=(()=>null),titlePlaceholder:v,detailsPlaceholder:S,projectId:T,variant:_,thumbnailAsString:k,showThumbnailOnStop:O}=this.props,{question:C,answer:M,showPrompt:P,handleConversationEnd:R,setVariable:I,showConversation:B,monitors:D,time:F,terminalOutput:N,terminalPreviewOutput:j}=this.state,G=(a?1.7*(window.innerHeight-20-38-50):t)/Math.min(640,e.width);return n.createElement("article",{className:s("player-font",h({width:t,height:r,position:"relative",fontFamily:"'proxima-nova', sans-serif",fontWeight:400}))},n.createElement(U,null,n.createElement("div",{className:h({position:"relative",display:"renderer"===i||"collision-renderer"===i?"block":"none"}),ref:e=>this.element=e,style:{width:t,height:r}})),n.createElement(U,{disablePointerEvents:!0},n.createElement(V,{width:t,height:r})),n.createElement(U,{disablePointerEvents:!0},n.createElement("canvas",{className:h({display:"collision-renderer"!==i?"none":"block"}),width:t,height:r,ref:e=>this.collisionElement=e})),n.createElement(U,{disablePointerEvents:!0},"terminal"===i&&n.createElement(w,{output:N,width:t,height:r})),n.createElement(U,{disablePointerEvents:!0},"renderer"===i&&D.map((t=>{const{name:r}=t;return n.createElement(x,{key:Object(f.generate)(),delta:G,name:r,scale:e.scale,monitor:t})}))),n.createElement(U,{disablePointerEvents:!0},n.createElement(E,{show:"renderer"===i,time:F,output:j})),n.createElement(U,{disablePointerEvents:!0},P&&n.createElement(b,{theme:o,fontColor:o.colors.primary.text,actor:this.state.actor,question:C,answer:M,playerSpeed:this.state.playerSpeed,onListenForAnswer:this.state.handleAnswerClick,onChange:e=>{const t=[],r=this.readPressedKeys();for(const n of this.state.pressedKeysBeforeAsk)r.indexOf(n)>-1?e.startsWith(n)&&(e=e.substring(1,e.length)):t.push(n);this.setState({answer:e,pressedKeysBeforeAsk:t})}})),n.createElement(U,{disablePointerEvents:!0},B&&n.createElement(L,{theme:o,fontColor:o.colors.primary.text,variables:this.state.variables,broadcast:this.state.broadcast,broadcastAndWait:this.state.broadcastAndWait,playerSpeed:this.state.playerSpeed,actor:this.state.actor,conversationId:this.state.conversationId,handleConversationEnd:R,setVariable:I,delta:G,scale:e.scale,conversationMode:this.state.conversationMode})),n.createElement(U,{disablePointerEvents:!0},O&&null==m.RuntimeEnvironment.selectedChallenge&&n.createElement("img",{src:k&&k.src&&k.src.length>0?k.src:`${m.runtimeEnv.REACT_APP_API_URL}/files/${T}/thumbnail${_?`.${_}`:""}`,style:{width:"100%",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, .3))"}})),n.createElement(U,{disablePointerEvents:!0},p&&n.createElement(A,{title:l,titlePlaceholder:v,details:c,detailsPlaceholder:S,onProjectTitleChange:d,onProjectDetailsChange:g,onBlur:y,maxWidth:t-25,editable:u})))}}const U=({children:e,disablePointerEvents:t})=>n.createElement("div",{className:h({position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"hidden",pointerEvents:t?"none":"auto"})},e)},function(e,t,r){"use strict";var n=r(24),i=r(6),o=r(1032),a=r(46),s=r(3);function l(e,t,r){var i;return Object(s.a)({gutters:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Object(s.a)({paddingLeft:t(2),paddingRight:t(2)},r,Object(n.a)({},e.up("sm"),Object(s.a)({paddingLeft:t(3),paddingRight:t(3)},r[e.up("sm")])))},toolbar:(i={minHeight:56},Object(n.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(n.a)(i,e.up("sm"),{minHeight:64}),i)},r)}var c=r(341),p={black:"#000",white:"#fff"},u={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},v=r(25),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:p.white,default:u[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:p.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:u[800],default:"#303030"},action:{active:p.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function T(e,t,r,n){var i=n.light||n,o=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=Object(v.d)(e.main,i):"dark"===t&&(e.dark=Object(v.b)(e.main,o)))}function w(e){var t=e.primary,r=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,n=e.secondary,a=void 0===n?{light:h.A200,main:h.A400,dark:h.A700}:n,l=e.error,w=void 0===l?{light:f[300],main:f[500],dark:f[700]}:l,E=e.warning,x=void 0===E?{light:m[300],main:m[500],dark:m[700]}:E,_=e.info,k=void 0===_?{light:g[300],main:g[500],dark:g[700]}:_,O=e.success,A=void 0===O?{light:y[300],main:y[500],dark:y[700]}:O,C=e.type,M=void 0===C?"light":C,P=e.contrastThreshold,R=void 0===P?3:P,I=e.tonalOffset,B=void 0===I?.2:I,D=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return Object(v.c)(e,S.text.primary)>=R?S.text.primary:b.text.primary}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(s.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(c.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(c.a)(5,JSON.stringify(e.main)));return T(e,"light",r,B),T(e,"dark",n,B),e.contrastText||(e.contrastText=L(e.main)),e},N={dark:S,light:b};return Object(o.a)(Object(s.a)({common:p,type:M,primary:F(r),secondary:F(a,"A400","A200","A700"),error:F(w),warning:F(x),info:F(k),success:F(A),grey:u,contrastThreshold:R,getContrastText:L,augmentColor:F,tonalOffset:B},N[M]),D)}function E(e){return Math.round(1e5*e)/1e5}function x(e){return E(e)}var _={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function O(e,t){var r="function"===typeof t?t(e):t,n=r.fontFamily,a=void 0===n?k:n,l=r.fontSize,c=void 0===l?14:l,p=r.fontWeightLight,u=void 0===p?300:p,d=r.fontWeightRegular,h=void 0===d?400:d,f=r.fontWeightMedium,m=void 0===f?500:f,g=r.fontWeightBold,y=void 0===g?700:g,v=r.htmlFontSize,b=void 0===v?16:v,S=r.allVariants,T=r.pxToRem,w=Object(i.a)(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var O=c/14,A=T||function(e){return"".concat(e/b*O,"rem")},C=function(e,t,r,n,i){return Object(s.a)({fontFamily:a,fontWeight:e,fontSize:A(t),lineHeight:r},a===k?{letterSpacing:"".concat(E(n/t),"em")}:{},i,S)},M={h1:C(u,96,1.167,-1.5),h2:C(u,60,1.2,-.5),h3:C(h,48,1.167,0),h4:C(h,34,1.235,.25),h5:C(h,24,1.334,0),h6:C(m,20,1.6,.15),subtitle1:C(h,16,1.75,.15),subtitle2:C(m,14,1.57,.1),body1:C(h,16,1.5,.15),body2:C(h,14,1.43,.15),button:C(m,14,1.75,.4,_),caption:C(h,12,1.66,.4),overline:C(h,12,2.66,1,_)};return Object(o.a)(Object(s.a)({htmlFontSize:b,pxToRem:A,round:x,fontFamily:a,fontSize:c,fontWeightLight:u,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:y},M),w,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var C=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],M={borderRadius:4},P=r(1090);function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(P.a)({spacing:e}),r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return 0===r.length?t(1):1===r.length?t(r[0]):r.map((function(e){if("string"===typeof e)return e;var r=t(e);return"number"===typeof r?"".concat(r,"px"):r})).join(" ")};return Object.defineProperty(r,"unit",{get:function(){return e}}),r.mui=!0,r}var I=r(55),B=r(126);function D(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,n=e.mixins,s=void 0===n?{}:n,c=e.palette,p=void 0===c?{}:c,u=e.spacing,d=e.typography,h=void 0===d?{}:d,f=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),m=w(p),g=Object(a.a)(r),y=R(u),v=Object(o.a)({breakpoints:g,direction:"ltr",mixins:l(g,y,s),overrides:{},palette:m,props:{},shadows:C,typography:O(m,h),spacing:y,shape:M,transitions:I.a,zIndex:B.a},f),b=arguments.length,S=new Array(b>1?b-1:0),T=1;T<b;T++)S[T-1]=arguments[T];return v=S.reduce((function(e,t){return Object(o.a)(e,t)}),v)}t.a=D},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(17);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var a=r(0),s=r.n(a),l=r(34);r(7);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var u=r(38),d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=Object(l.a)(t.props),t}return o(t,e),t.prototype.render=function(){return s.a.createElement(n.c,{history:this.history,children:this.props.children})},t}(s.a.Component);s.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},f=function(e,t){return"string"===typeof e?Object(l.c)(e,null,null,t):e},m=function(e){return e},g=s.a.forwardRef;"undefined"===typeof g&&(g=m);var y=g((function(e,t){var r=e.innerRef,n=e.navigate,i=e.onClick,o=p(e,["innerRef","navigate","onClick"]),a=o.target,l=c({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return l.ref=m!==g&&t||r,s.a.createElement("a",l)}));var v=g((function(e,t){var r=e.component,i=void 0===r?y:r,o=e.replace,a=e.to,d=e.innerRef,v=p(e,["component","replace","to","innerRef"]);return s.a.createElement(n.e.Consumer,null,(function(e){e||Object(u.a)(!1);var r=e.history,n=f(h(a,e.location),e.location),p=n?r.createHref(n):"",y=c({},v,{href:p,navigate:function(){var t=h(a,e.location),n=Object(l.e)(e.location)===Object(l.e)(f(t));(o||n?r.replace:r.push)(t)}});return m!==g?y.ref=t||d:y.innerRef=d,s.a.createElement(i,y)}))})),b=function(e){return e},S=s.a.forwardRef;"undefined"===typeof S&&(S=b);S((function(e,t){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,a=void 0===o?"active":o,l=e.activeStyle,d=e.className,m=e.exact,g=e.isActive,y=e.location,T=e.sensitive,w=e.strict,E=e.style,x=e.to,_=e.innerRef,k=p(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.a.createElement(n.e.Consumer,null,(function(e){e||Object(u.a)(!1);var r=y||e.location,o=f(h(x,r),r),p=o.pathname,O=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=O?Object(n.f)(r.pathname,{path:O,exact:m,sensitive:T,strict:w}):null,C=!!(g?g(A,r):A),M="function"===typeof d?d(C):d,P="function"===typeof E?E(C):E;C&&(M=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(M,a),P=c({},P,l));var R=c({"aria-current":C&&i||null,className:M,style:P,to:o},k);return b!==S?R.ref=t||_:R.innerRef=_,s.a.createElement(v,R)}))}))},function(e,t,r){"use strict";var n=r(0),i=r.n(n),o={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},a={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},s=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],l={CSS:{},springs:{}};function c(e,t,r){return Math.min(Math.max(e,t),r)}function p(e,t){return e.indexOf(t)>-1}function u(e,t){return e.apply(null,t)}var d={arr:function(e){return Array.isArray(e)},obj:function(e){return p(Object.prototype.toString.call(e),"Object")},pth:function(e){return d.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||d.svg(e)},str:function(e){return"string"===typeof e},fnc:function(e){return"function"===typeof e},und:function(e){return"undefined"===typeof e},nil:function(e){return d.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return d.hex(e)||d.rgb(e)||d.hsl(e)},key:function(e){return!o.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function h(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function f(e,t){var r=h(e),n=c(d.und(r[0])?1:r[0],.1,100),i=c(d.und(r[1])?100:r[1],.1,100),o=c(d.und(r[2])?10:r[2],.1,100),a=c(d.und(r[3])?0:r[3],.1,100),s=Math.sqrt(i/n),p=o/(2*Math.sqrt(i*n)),u=p<1?s*Math.sqrt(1-p*p):0,f=p<1?(p*s-a)/u:-a+s;function m(e){var r=t?t*e/1e3:e;return r=p<1?Math.exp(-r*p*s)*(1*Math.cos(u*r)+f*Math.sin(u*r)):(1+f*r)*Math.exp(-r*s),0===e||1===e?e:1-r}return t?m:function(){var t=l.springs[e];if(t)return t;for(var r=1/6,n=0,i=0;;)if(1===m(n+=r)){if(++i>=16)break}else i=0;var o=n*r*1e3;return l.springs[e]=o,o}}function m(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var g=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function n(e){return 3*e}function i(e,i,o){return((t(i,o)*e+r(i,o))*e+n(i))*e}function o(e,i,o){return 3*t(i,o)*e*e+2*r(i,o)*e+n(i)}return function(t,r,n,a){if(0<=t&&t<=1&&0<=n&&n<=1){var s=new Float32Array(11);if(t!==r||n!==a)for(var l=0;l<11;++l)s[l]=i(l*e,t,n);return function(e){return t===r&&n===a||0===e||1===e?e:i(c(e),r,a)}}function c(r){for(var a=0,l=1;10!==l&&s[l]<=r;++l)a+=e;--l;var c=a+(r-s[l])/(s[l+1]-s[l])*e,p=o(c,t,n);return p>=.001?function(e,t,r,n){for(var a=0;a<4;++a){var s=o(t,r,n);if(0===s)return t;t-=(i(t,r,n)-e)/s}return t}(r,c,t,n):0===p?c:function(e,t,r,n,o){var a,s,l=0;do{(a=i(s=t+(r-t)/2,n,o)-e)>0?r=s:t=s}while(Math.abs(a)>1e-7&&++l<10);return s}(r,a,a+e,t,n)}}}(),y=function(){var e={linear:function(){return function(e){return e}}},t={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var r=c(e,1,10),n=c(t,.1,2);return function(e){return 0===e||1===e?e:-r*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/n)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,r){t[e]=function(){return function(e){return Math.pow(e,r+2)}}})),Object.keys(t).forEach((function(r){var n=t[r];e["easeIn"+r]=n,e["easeOut"+r]=function(e,t){return function(r){return 1-n(e,t)(1-r)}},e["easeInOut"+r]=function(e,t){return function(r){return r<.5?n(e,t)(2*r)/2:1-n(e,t)(-2*r+2)/2}},e["easeOutIn"+r]=function(e,t){return function(r){return r<.5?(1-n(e,t)(1-2*r))/2:(n(e,t)(2*r-1)+1)/2}}})),e}();function v(e,t){if(d.fnc(e))return e;var r=e.split("(")[0],n=y[r],i=h(e);switch(r){case"spring":return f(e,t);case"cubicBezier":return u(g,i);case"steps":return u(m,i);default:return u(n,i)}}function b(e){try{return document.querySelectorAll(e)}catch(t){return}}function S(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<r;o++)if(o in e){var a=e[o];t.call(n,a,o,e)&&i.push(a)}return i}function T(e){return e.reduce((function(e,t){return e.concat(d.arr(t)?T(t):t)}),[])}function w(e){return d.arr(e)?e:(d.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function E(e,t){return e.some((function(e){return e===t}))}function x(e){var t={};for(var r in e)t[r]=e[r];return t}function _(e,t){var r=x(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function k(e,t){var r=x(e);for(var n in t)r[n]=d.und(e[n])?t[n]:e[n];return r}function O(e){return d.rgb(e)?function(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}(e):d.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"}(e):d.hsl(e)?function(e){var t,r,n,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1;function c(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0==a)t=r=n=s;else{var p=s<.5?s*(1+a):s+a-s*a,u=2*s-p;t=c(u,p,o+1/3),r=c(u,p,o),n=c(u,p,o-1/3)}return"rgba("+255*t+","+255*r+","+255*n+","+l+")"}(e):void 0}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function C(e,t){return d.fnc(e)?e(t.target,t.id,t.total):e}function M(e,t){return e.getAttribute(t)}function P(e,t,r){if(E([r,"deg","rad","turn"],A(t)))return t;var n=l.CSS[t+r];if(!d.und(n))return n;var i=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+r;var a=100/i.offsetWidth;o.removeChild(i);var s=a*parseFloat(t);return l.CSS[t+r]=s,s}function R(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?P(e,i,r):i}}function I(e,t){return d.dom(e)&&!d.inp(e)&&(!d.nil(M(e,t))||d.svg(e)&&e[t])?"attribute":d.dom(e)&&E(s,t)?"transform":d.dom(e)&&"transform"!==t&&R(e,t)?"css":null!=e[t]?"object":void 0}function B(e){if(d.dom(e)){for(var t,r=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map;t=n.exec(r);)i.set(t[1],t[2]);return i}}function D(e,t,r,n){var i=p(t,"scale")?1:0+function(e){return p(e,"translate")||"perspective"===e?"px":p(e,"rotate")||p(e,"skew")?"deg":void 0}(t),o=B(e).get(t)||i;return r&&(r.transforms.list.set(t,o),r.transforms.last=t),n?P(e,o,n):o}function L(e,t,r,n){switch(I(e,t)){case"transform":return D(e,t,n,r);case"css":return R(e,t,r);case"attribute":return M(e,t);default:return e[t]||0}}function F(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=A(e)||0,i=parseFloat(t),o=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return i+o+n;case"-":return i-o+n;case"*":return i*o+n}}function N(e,t){if(d.col(e))return O(e);if(/\s/g.test(e))return e;var r=A(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function j(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function V(e){for(var t,r=e.points,n=0,i=0;i<r.numberOfItems;i++){var o=r.getItem(i);i>0&&(n+=j(t,o)),t=o}return n}function G(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*M(e,"r")}(e);case"rect":return function(e){return 2*M(e,"width")+2*M(e,"height")}(e);case"line":return function(e){return j({x:M(e,"x1"),y:M(e,"y1")},{x:M(e,"x2"),y:M(e,"y2")})}(e);case"polyline":return V(e);case"polygon":return function(e){var t=e.points;return V(e)+j(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function U(e,t){var r=t||{},n=r.el||function(e){for(var t=e.parentNode;d.svg(t)&&d.svg(t.parentNode);)t=t.parentNode;return t}(e),i=n.getBoundingClientRect(),o=M(n,"viewBox"),a=i.width,s=i.height,l=r.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:a,h:s,vW:l[2],vH:l[3]}}function W(e,t,r){function n(r){void 0===r&&(r=0);var n=t+r>=1?t+r:0;return e.el.getPointAtLength(n)}var i=U(e.el,e.svg),o=n(),a=n(-1),s=n(1),l=r?1:i.w/i.vW,c=r?1:i.h/i.vH;switch(e.property){case"x":return(o.x-i.x)*l;case"y":return(o.y-i.y)*c;case"angle":return 180*Math.atan2(s.y-a.y,s.x-a.x)/Math.PI}}function z(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=N(d.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:d.str(e)||t?n.split(r):[]}}function H(e){return S(e?T(d.arr(e)?e.map(w):w(e)):[],(function(e,t,r){return r.indexOf(e)===t}))}function $(e){var t=H(e);return t.map((function(e,r){return{target:e,id:r,total:t.length,transforms:{list:B(e)}}}))}function X(e,t){var r=x(t);if(/^spring/.test(r.easing)&&(r.duration=f(r.easing)),d.arr(e)){var n=e.length;2===n&&!d.obj(e[0])?e={value:e}:d.fnc(t.duration)||(r.duration=t.duration/n)}var i=d.arr(e)?e:[e];return i.map((function(e,r){var n=d.obj(e)&&!d.pth(e)?e:{value:e};return d.und(n.delay)&&(n.delay=r?0:t.delay),d.und(n.endDelay)&&(n.endDelay=r===i.length-1?t.endDelay:0),n})).map((function(e){return k(e,r)}))}function Y(e,t){var r=[],n=t.keyframes;for(var i in n&&(t=k(function(e){for(var t=S(T(e.map((function(e){return Object.keys(e)}))),(function(e){return d.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),r={},n=function(n){var i=t[n];r[i]=e.map((function(e){var t={};for(var r in e)d.key(r)?r==i&&(t.value=e[r]):t[r]=e[r];return t}))},i=0;i<t.length;i++)n(i);return r}(n),t)),t)d.key(i)&&r.push({name:i,tweens:X(t[i],e)});return r}function K(e,t){var r;return e.tweens.map((function(n){var i=function(e,t){var r={};for(var n in e){var i=C(e[n],t);d.arr(i)&&1===(i=i.map((function(e){return C(e,t)}))).length&&(i=i[0]),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(n,t),o=i.value,a=d.arr(o)?o[1]:o,s=A(a),l=L(t.target,e.name,s,t),c=r?r.to.original:l,p=d.arr(o)?o[0]:c,u=A(p)||A(l),h=s||u;return d.und(a)&&(a=c),i.from=z(p,h),i.to=z(F(a,p),h),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=v(i.easing,i.duration),i.isPath=d.pth(o),i.isPathTargetInsideSVG=i.isPath&&d.svg(t.target),i.isColor=d.col(i.from.original),i.isColor&&(i.round=1),r=i,i}))}var q={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,i){if(n.list.set(t,r),t===n.last||i){var o="";n.list.forEach((function(e,t){o+=t+"("+e+") "})),e.style.transform=o}}};function J(e,t){$(e).forEach((function(e){for(var r in t){var n=C(t[r],e),i=e.target,o=A(n),a=L(i,r,o,e),s=F(N(n,o||A(a)),a),l=I(i,r);q[l](i,r,s,e.transforms,!0)}}))}function Z(e,t){return S(T(e.map((function(e){return t.map((function(t){return function(e,t){var r=I(e.target,t.name);if(r){var n=K(t,e),i=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!d.und(e)}))}function Q(e,t){var r=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,e.map((function(e){return n(e)+e.duration}))):t.duration,i.delay=r?Math.min.apply(Math,e.map((function(e){return n(e)+e.delay}))):t.delay,i.endDelay=r?i.duration-Math.max.apply(Math,e.map((function(e){return n(e)+e.duration-e.endDelay}))):t.endDelay,i}var ee=0;var te=[],re=function(){var e;function t(r){for(var n=te.length,i=0;i<n;){var o=te[i];o.paused?(te.splice(i,1),n--):(o.tick(r),i++)}e=i>0?requestAnimationFrame(t):void 0}return"undefined"!==typeof document&&document.addEventListener("visibilitychange",(function(){ie.suspendWhenDocumentHidden&&(ne()?e=cancelAnimationFrame(e):(te.forEach((function(e){return e._onDocumentVisibility()})),re()))})),function(){e||ne()&&ie.suspendWhenDocumentHidden||!(te.length>0)||(e=requestAnimationFrame(t))}}();function ne(){return!!document&&document.hidden}function ie(e){void 0===e&&(e={});var t,r=0,n=0,i=0,s=0,l=null;function p(e){var t=window.Promise&&new Promise((function(e){return l=e}));return e.finished=t,t}var u=function(e){var t=_(o,e),r=_(a,e),n=Y(r,e),i=$(e.targets),s=Z(i,n),l=Q(s,r),c=ee;return ee++,k(t,{id:c,children:[],animatables:i,animations:s,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(e);p(u);function d(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function h(e){return u.reversed?u.duration-e:e}function f(){r=0,n=h(u.currentTime)*(1/ie.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function g(e){for(var t=0,r=u.animations,n=r.length;t<n;){var i=r[t],o=i.animatable,a=i.tweens,s=a.length-1,l=a[s];s&&(l=S(a,(function(t){return e<t.end}))[0]||l);for(var p=c(e-l.start-l.delay,0,l.duration)/l.duration,d=isNaN(p)?1:l.easing(p),h=l.to.strings,f=l.round,m=[],g=l.to.numbers.length,y=void 0,v=0;v<g;v++){var b=void 0,T=l.to.numbers[v],w=l.from.numbers[v]||0;b=l.isPath?W(l.value,d*T,l.isPathTargetInsideSVG):w+d*(T-w),f&&(l.isColor&&v>2||(b=Math.round(b*f)/f)),m.push(b)}var E=h.length;if(E){y=h[0];for(var x=0;x<E;x++){h[x];var _=h[x+1],k=m[x];isNaN(k)||(y+=_?k+_:k+" ")}}else y=m[0];q[i.type](o.target,i.property,y,o.transforms),i.currentValue=y,t++}}function y(e){u[e]&&!u.passThrough&&u[e](u)}function v(e){var o=u.duration,a=u.delay,f=o-u.endDelay,v=h(e);u.progress=c(v/o*100,0,100),u.reversePlayback=v<u.currentTime,t&&function(e){if(u.reversePlayback)for(var r=s;r--;)m(e,t[r]);else for(var n=0;n<s;n++)m(e,t[n])}(v),!u.began&&u.currentTime>0&&(u.began=!0,y("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,y("loopBegin")),v<=a&&0!==u.currentTime&&g(0),(v>=f&&u.currentTime!==o||!o)&&g(o),v>a&&v<f?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,y("changeBegin")),y("change"),g(v)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,y("changeComplete")),u.currentTime=c(v,0,o),u.began&&y("update"),e>=o&&(n=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(r=i,y("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&d()):(u.paused=!0,u.completed||(u.completed=!0,y("loopComplete"),y("complete"),!u.passThrough&&"Promise"in window&&(l(),p(u)))))}return u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var r=s=t.length;r--;)u.children[r].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,g(u.reversed?u.duration:0)},u._onDocumentVisibility=f,u.set=function(e,t){return J(e,t),u},u.tick=function(e){i=e,r||(r=i),v((i+(n-r))*ie.speed)},u.seek=function(e){v(h(e))},u.pause=function(){u.paused=!0,f()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,te.push(u),f(),re())},u.reverse=function(){d(),u.completed=!u.reversed,f()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){ae(H(e),u)},u.reset(),u.autoplay&&u.play(),u}function oe(e,t){for(var r=t.length;r--;)E(e,t[r].animatable.target)&&t.splice(r,1)}function ae(e,t){var r=t.animations,n=t.children;oe(e,r);for(var i=n.length;i--;){var o=n[i],a=o.animations;oe(e,a),a.length||o.children.length||n.splice(i,1)}r.length||n.length||t.pause()}ie.version="3.2.1",ie.speed=1,ie.suspendWhenDocumentHidden=!0,ie.running=te,ie.remove=function(e){for(var t=H(e),r=te.length;r--;){ae(t,te[r])}},ie.get=L,ie.set=J,ie.convertPx=P,ie.path=function(e,t){var r=d.str(e)?b(e)[0]:e,n=t||100;return function(e){return{property:e,el:r,svg:U(r),totalLength:G(r)*(n/100)}}},ie.setDashoffset=function(e){var t=G(e);return e.setAttribute("stroke-dasharray",t),t},ie.stagger=function(e,t){void 0===t&&(t={});var r=t.direction||"normal",n=t.easing?v(t.easing):null,i=t.grid,o=t.axis,a=t.from||0,s="first"===a,l="center"===a,c="last"===a,p=d.arr(e),u=p?parseFloat(e[0]):parseFloat(e),h=p?parseFloat(e[1]):0,f=A(p?e[1]:e)||0,m=t.start||0+(p?u:0),g=[],y=0;return function(e,t,d){if(s&&(a=0),l&&(a=(d-1)/2),c&&(a=d-1),!g.length){for(var v=0;v<d;v++){if(i){var b=l?(i[0]-1)/2:a%i[0],S=l?(i[1]-1)/2:Math.floor(a/i[0]),T=b-v%i[0],w=S-Math.floor(v/i[0]),E=Math.sqrt(T*T+w*w);"x"===o&&(E=-T),"y"===o&&(E=-w),g.push(E)}else g.push(Math.abs(a-v));y=Math.max.apply(Math,g)}n&&(g=g.map((function(e){return n(e/y)*y}))),"reverse"===r&&(g=g.map((function(e){return o?e<0?-1*e:-e:Math.abs(y-e)})))}return m+(p?(h-u)/y:u)*(Math.round(100*g[t])/100)+f}},ie.timeline=function(e){void 0===e&&(e={});var t=ie(e);return t.duration=0,t.add=function(r,n){var i=te.indexOf(t),o=t.children;function s(e){e.passThrough=!0}i>-1&&te.splice(i,1);for(var l=0;l<o.length;l++)s(o[l]);var c=k(r,_(a,e));c.targets=c.targets||e.targets;var p=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=d.und(n)?p:F(n,p),s(t),t.seek(c.timelineOffset);var u=ie(c);s(u),o.push(u);var h=Q(o,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ie.easing=v,ie.penner=y,ie.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var se=ie;function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(e){var t=[];return ue(e,t),t}function ue(e,t){for(var r=0;r<e.length;r++){var n=e[r];Array.isArray(n)?ue(n,t):t.push(n)}}t.a=function(e){var t=Object(n.useRef)([]),r=Object(n.useRef)([]),o=Object(n.useRef)(null),a=Object(n.useRef)(new Set),s=Object(n.useCallback)((function(){t.current.length>0&&void 0!==o&&se.remove(t),t.current=[];for(var n,i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(r.current);!(n=i()).done;){var s=n.value;s.current&&!a.current.has(s.current)&&t.current.push(s.current)}var l=le({},e,{targets:t.current,complete:function(t){e.complete&&e.complete(t),t.animatables.map((function(e){return a.current.add(e.target)}))}});delete l.children,delete l.svg,o.current=se(l)}),[e]);Object(n.useEffect)((function(){s()}),[s]);var l=r.current,c=Array.isArray(e.children)?e.children:[e.children];return c=pe(c),i.a.createElement(n.Fragment,null,c.map((function(t,r){return l.push(i.a.createRef()),i.a.createElement(e.svg?"g":"div",{ref:l[l.length-1],key:"__anime__"+r},t)})))}},function(e,t,r){"use strict";function n(e){for(var t="https://material-ui.com/production-error/?code="+e,r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0),i=r.n(n),o=r(127);function a(){return i.a.useContext(o.a)}},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=r.n(o),s=(r(7),r(28)),l=r(8),c=r(21),p=r(58),u=r(10),d=r(130),h=r(52),f=r(67),m=r(72),g=r(62),y=r(85);function v(e,t){var r=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),r}function b(e,t,r){return null!=r[t]?r[t]:e.props[t]}function S(e,t,r){var n=v(e.children),i=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(n=0;n<i[l].length;n++){var c=i[l][n];s[i[l][n]]=r(c)}s[l]=r(l)}for(n=0;n<o.length;n++)s[o[n]]=r(o[n]);return s}(t,n);return Object.keys(i).forEach((function(a){var s=i[a];if(Object(o.isValidElement)(s)){var l=a in t,c=a in n,p=t[a],u=Object(o.isValidElement)(p)&&!p.props.in;!c||l&&!u?c||!l||u?c&&l&&Object(o.isValidElement)(p)&&(i[a]=Object(o.cloneElement)(s,{onExited:r.bind(null,s),in:p.props.in,exit:b(s,"exit",e),enter:b(s,"enter",e)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:b(s,"exit",e),enter:b(s,"enter",e)})}})),i}var T=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},w=function(e){function t(t,r){var n,i=(n=e.call(this,t,r)||this).handleExited.bind(Object(m.a)(n));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}Object(g.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,n,i=t.children,a=t.handleExited;return{children:t.firstRender?(r=e,n=a,v(r.children,(function(e){return Object(o.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:b(e,"appear",r),enter:b(e,"enter",r),exit:b(e,"exit",r)})}))):S(e,i,a),firstRender:!1}},r.handleExited=function(e,t){var r=v(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=Object(n.a)({},t.children);return delete r[e.key],{children:r}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=Object(f.a)(e,["component","childFactory"]),i=this.state.contextValue,o=T(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?a.a.createElement(y.a.Provider,{value:i},o):a.a.createElement(y.a.Provider,{value:i},a.a.createElement(t,n,o))},t}(a.a.Component);w.propTypes={},w.defaultProps={component:"div",childFactory:function(e){return e}};var E=w,x="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var _=function(e){var t=e.classes,r=e.pulsate,n=void 0!==r&&r,i=e.rippleX,a=e.rippleY,s=e.rippleSize,c=e.in,u=e.onExited,d=void 0===u?function(){}:u,h=e.timeout,f=o.useState(!1),m=f[0],g=f[1],y=Object(l.a)(t.ripple,t.rippleVisible,n&&t.ripplePulsate),v={width:s,height:s,top:-s/2+a,left:-s/2+i},b=Object(l.a)(t.child,m&&t.childLeaving,n&&t.childPulsate),S=Object(p.a)(d);return x((function(){if(!c){g(!0);var e=setTimeout(S,h);return function(){clearTimeout(e)}}}),[S,c,h]),o.createElement("span",{className:y,style:v},o.createElement("span",{className:b}))},k=o.forwardRef((function(e,t){var r=e.center,a=void 0!==r&&r,s=e.classes,c=e.className,p=Object(i.a)(e,["center","classes","className"]),u=o.useState([]),d=u[0],f=u[1],m=o.useRef(0),g=o.useRef(null);o.useEffect((function(){g.current&&(g.current(),g.current=null)}),[d]);var y=o.useRef(!1),v=o.useRef(null),b=o.useRef(null),S=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var T=o.useCallback((function(e){var t=e.pulsate,r=e.rippleX,n=e.rippleY,i=e.rippleSize,a=e.cb;f((function(e){return[].concat(Object(h.a)(e),[o.createElement(_,{key:m.current,classes:s,timeout:550,pulsate:t,rippleX:r,rippleY:n,rippleSize:i})])})),m.current+=1,g.current=a}),[s]),w=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=t.pulsate,i=void 0!==n&&n,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var p,u,d,h=c?null:S.current,f=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)p=Math.round(f.width/2),u=Math.round(f.height/2);else{var m=e.touches?e.touches[0]:e,g=m.clientX,w=m.clientY;p=Math.round(g-f.left),u=Math.round(w-f.top)}if(s)(d=Math.sqrt((2*Math.pow(f.width,2)+Math.pow(f.height,2))/3))%2===0&&(d+=1);else{var E=2*Math.max(Math.abs((h?h.clientWidth:0)-p),p)+2,x=2*Math.max(Math.abs((h?h.clientHeight:0)-u),u)+2;d=Math.sqrt(Math.pow(E,2)+Math.pow(x,2))}e.touches?null===b.current&&(b.current=function(){T({pulsate:i,rippleX:p,rippleY:u,rippleSize:d,cb:r})},v.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):T({pulsate:i,rippleX:p,rippleY:u,rippleSize:d,cb:r})}}),[a,T]),x=o.useCallback((function(){w({},{pulsate:!0})}),[w]),k=o.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&b.current)return e.persist(),b.current(),b.current=null,void(v.current=setTimeout((function(){k(e,t)})));b.current=null,f((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:x,start:w,stop:k}}),[x,w,k]),o.createElement("span",Object(n.a)({className:Object(l.a)(s.root,c),ref:S},p),o.createElement(E,{component:null,exit:!0},d))})),O=Object(u.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(k)),A=o.forwardRef((function(e,t){var r=e.action,a=e.buttonRef,u=e.centerRipple,h=void 0!==u&&u,f=e.children,m=e.classes,g=e.className,y=e.component,v=void 0===y?"button":y,b=e.disabled,S=void 0!==b&&b,T=e.disableRipple,w=void 0!==T&&T,E=e.disableTouchRipple,x=void 0!==E&&E,_=e.focusRipple,k=void 0!==_&&_,A=e.focusVisibleClassName,C=e.onBlur,M=e.onClick,P=e.onFocus,R=e.onFocusVisible,I=e.onKeyDown,B=e.onKeyUp,D=e.onMouseDown,L=e.onMouseLeave,F=e.onMouseUp,N=e.onTouchEnd,j=e.onTouchMove,V=e.onTouchStart,G=e.onDragLeave,U=e.tabIndex,W=void 0===U?0:U,z=e.TouchRippleProps,H=e.type,$=void 0===H?"button":H,X=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=o.useRef(null);var K=o.useRef(null),q=o.useState(!1),J=q[0],Z=q[1];S&&J&&Z(!1);var Q=Object(d.a)(),ee=Q.isFocusVisible,te=Q.onBlurVisible,re=Q.ref;function ne(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return Object(p.a)((function(n){return t&&t(n),!r&&K.current&&K.current[e](n),!0}))}o.useImperativeHandle(r,(function(){return{focusVisible:function(){Z(!0),Y.current.focus()}}}),[]),o.useEffect((function(){J&&k&&!w&&K.current.pulsate()}),[w,k,J]);var ie=ne("start",D),oe=ne("stop",G),ae=ne("stop",F),se=ne("stop",(function(e){J&&e.preventDefault(),L&&L(e)})),le=ne("start",V),ce=ne("stop",N),pe=ne("stop",j),ue=ne("stop",(function(e){J&&(te(e),Z(!1)),C&&C(e)}),!1),de=Object(p.a)((function(e){Y.current||(Y.current=e.currentTarget),ee(e)&&(Z(!0),R&&R(e)),P&&P(e)})),he=function(){var e=s.findDOMNode(Y.current);return v&&"button"!==v&&!("A"===e.tagName&&e.href)},fe=o.useRef(!1),me=Object(p.a)((function(e){k&&!fe.current&&J&&K.current&&" "===e.key&&(fe.current=!0,e.persist(),K.current.stop(e,(function(){K.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!S&&(e.preventDefault(),M&&M(e))})),ge=Object(p.a)((function(e){k&&" "===e.key&&K.current&&J&&!e.defaultPrevented&&(fe.current=!1,e.persist(),K.current.stop(e,(function(){K.current.pulsate(e)}))),B&&B(e),M&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&M(e)})),ye=v;"button"===ye&&X.href&&(ye="a");var ve={};"button"===ye?(ve.type=$,ve.disabled=S):("a"===ye&&X.href||(ve.role="button"),ve["aria-disabled"]=S);var be=Object(c.a)(a,t),Se=Object(c.a)(re,Y),Te=Object(c.a)(be,Se),we=o.useState(!1),Ee=we[0],xe=we[1];o.useEffect((function(){xe(!0)}),[]);var _e=Ee&&!w&&!S;return o.createElement(ye,Object(n.a)({className:Object(l.a)(m.root,g,J&&[m.focusVisible,A],S&&m.disabled),onBlur:ue,onClick:M,onFocus:de,onKeyDown:me,onKeyUp:ge,onMouseDown:ie,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ce,onTouchMove:pe,onTouchStart:le,ref:Te,tabIndex:S?-1:W},ve,X),f,_e?o.createElement(O,Object(n.a)({ref:K,center:h},z)):null)}));t.a=Object(u.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(A)},function(e,t,r){"use strict";var n=r(67),i=r(62),o=(r(7),r(0)),a=r.n(o),s=r(28),l=r.n(s),c=!1,p=r(85),u="unmounted",d="exited",h="entering",f="entered",m="exiting",g=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,o=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?o?(i=d,n.appearStatus=h):i=f:i=t.unmountOnExit||t.mountOnEnter?u:d,n.state={status:i},n.nextCallback=null,n}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:d}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==h&&r!==f&&(t=h):r!==h&&r!==f||(t=m)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:u})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[l.a.findDOMNode(this),n],o=i[0],a=i[1],s=this.getTimeouts(),p=n?s.appear:s.enter;!e&&!r||c?this.safeSetState({status:f},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:h},(function(){t.props.onEntering(o,a),t.onTransitionEnd(p,(function(){t.safeSetState({status:f},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:l.a.findDOMNode(this);t&&!c?(this.props.onExit(n),this.safeSetState({status:m},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,r=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(n.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(p.a.Provider,{value:null},"function"===typeof r?r(e,i):a.a.cloneElement(a.a.Children.only(r),i))},t}(a.a.Component);function y(){}g.contextType=p.a,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},g.UNMOUNTED=u,g.EXITED=d,g.ENTERING=h,g.ENTERED=f,g.EXITING=m;t.a=g},,,,,,,,function(e,t,r){"use strict";var n=r(102),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,p=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function S(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||v}function T(){}function w(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||v}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=S.prototype;var E=w.prototype=new T;E.constructor=w,n(E,S.prototype),E.isPureReactComponent=!0;var x={current:null},_=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,n)&&!k.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),p=0;p<l;p++)c[p]=arguments[p+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:x.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var C=/\/+/g,M=[];function P(e,t,r,n){if(M.length){var i=M.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function I(e,t,r,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return r(n,e,""===t?"."+D(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=t+D(i=e[l],l);s+=I(i,c,r,n)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(i=e.next()).done;)s+=I(i=i.value,c=t+D(i,l++),r,n);else if("object"===i)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}function B(e,t,r){return null==e?0:I(e,"",t,r)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,n,r,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+r)),n.push(e))}function N(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(C,"$&/")+"/"),B(e,F,t=P(t,o,n,i)),R(t)}var j={current:null};function V(){var e=j.current;if(null===e)throw Error(y(321));return e}var G={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return N(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;B(e,L,t=P(null,null,t,r)),R(t)},count:function(e){return B(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(y(143));return e}},t.Component=S,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(y(267,e));var i=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(p in t)_.call(t,p)&&!k.hasOwnProperty(p)&&(i[p]=void 0===t[p]&&void 0!==c?c[p]:t[p])}var p=arguments.length-2;if(1===p)i.children=r;else if(1<p){c=Array(p);for(var u=0;u<p;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:p,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return V().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,r){return V().useReducer(e,t,r)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},function(e,t,r){"use strict";var n=r(0),i=r(102),o=r(354);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));function s(e,t,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(p){this.onError(p)}}var l=!1,c=null,p=!1,u=null,d={onError:function(e){l=!0,c=e}};function h(e,t,r,n,i,o,a,p,u){l=!1,c=null,s.apply(d,arguments)}var f=null,m=null,g=null;function y(e,t,r){var n=e.type||"unknown-event";e.currentTarget=g(r),function(e,t,r,n,i,o,s,d,f){if(h.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,p||(p=!0,u=m)}}(n,t,void 0,e),e.currentTarget=null}var v=null,b={};function S(){if(v)for(var e in b){var t=b[e],r=v.indexOf(e);if(!(-1<r))throw Error(a(96,e));if(!w[r]){if(!t.extractEvents)throw Error(a(97,e));for(var n in w[r]=t,r=t.eventTypes){var i=void 0,o=r[n],s=t,l=n;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&T(c[i],s,l);i=!0}else o.registrationName?(T(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,n,e))}}}}function T(e,t,r){if(x[e])throw Error(a(100,e));x[e]=t,_[e]=t.eventTypes[r].dependencies}var w=[],E={},x={},_={};function k(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!b.hasOwnProperty(t)||b[t]!==n){if(b[t])throw Error(a(102,t));b[t]=n,r=!0}}r&&S()}var O=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,C=null,M=null;function P(e){if(e=m(e)){if("function"!==typeof A)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),A(e.stateNode,e.type,t))}}function R(e){C?M?M.push(e):M=[e]:C=e}function I(){if(C){var e=C,t=M;if(M=C=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function B(e,t){return e(t)}function D(e,t,r,n,i){return e(t,r,n,i)}function L(){}var F=B,N=!1,j=!1;function V(){null===C&&null===M||(L(),I())}function G(e,t,r){if(j)return e(t,r);j=!0;try{return F(e,t,r)}finally{j=!1,V()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,z={},H={};function $(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var X={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){X[e]=new $(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];X[t]=new $(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){X[e]=new $(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){X[e]=new $(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){X[e]=new $(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){X[e]=new $(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){X[e]=new $(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){X[e]=new $(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){X[e]=new $(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,K);X[t]=new $(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,K);X[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,K);X[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){X[e]=new $(e,1,!1,e.toLowerCase(),null,!1)})),X.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){X[e]=new $(e,1,!1,e.toLowerCase(),null,!0)}));var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,r,n){var i=X.hasOwnProperty(t)?X[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!W.call(H,e)||!W.call(z,e)&&(U.test(e)?H[e]=!0:(z[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}q.hasOwnProperty("ReactCurrentDispatcher")||(q.ReactCurrentDispatcher={current:null}),q.hasOwnProperty("ReactCurrentBatchConfig")||(q.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,ee=Q?Symbol.for("react.element"):60103,te=Q?Symbol.for("react.portal"):60106,re=Q?Symbol.for("react.fragment"):60107,ne=Q?Symbol.for("react.strict_mode"):60108,ie=Q?Symbol.for("react.profiler"):60114,oe=Q?Symbol.for("react.provider"):60109,ae=Q?Symbol.for("react.context"):60110,se=Q?Symbol.for("react.concurrent_mode"):60111,le=Q?Symbol.for("react.forward_ref"):60112,ce=Q?Symbol.for("react.suspense"):60113,pe=Q?Symbol.for("react.suspense_list"):60120,ue=Q?Symbol.for("react.memo"):60115,de=Q?Symbol.for("react.lazy"):60116,he=Q?Symbol.for("react.block"):60121,fe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case ie:return"Profiler";case ne:return"StrictMode";case ce:return"Suspense";case pe:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ue:return ge(e.type);case he:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=ge(e.type);r=null,n&&(r=ge(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Se(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=be(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function we(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ve(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function _e(e,t){xe(e,t);var r=ve(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,r):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Oe(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ce(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ve(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ve(r)}}function Re(e,t){var r=ve(t.value),n=ve(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Be="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ne,je,Ve=(je=function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Ne=Ne||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ne.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return je(e,t)}))}:je);function Ge(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ue(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var We={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},ze={},He={};function $e(e){if(ze[e])return ze[e];if(!We[e])return e;var t,r=We[e];for(t in r)if(r.hasOwnProperty(t)&&t in He)return ze[e]=r[t];return e}O&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Xe=$e("animationend"),Ye=$e("animationiteration"),Ke=$e("animationstart"),qe=$e("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ze=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=Ze.get(e);return void 0===t&&(t=new Map,Ze.set(e,t)),t}function et(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(et(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return rt(i),e;if(o===n)return rt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var at=null;function st(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)y(e,t[n],r[n]);else t&&y(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(at=it(at,e)),e=at,at=null,e){if(ot(e,st),at)throw Error(a(95));if(p)throw e=u,p=!1,u=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function pt(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ut=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function ht(e,t,r,n){if(ut.length){var i=ut.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function ft(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=Mr(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=ct(e.nativeEvent);n=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===r&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(n,t,o,i,a))&&(s=it(s,c))}lt(s)}}function mt(e,t,r){if(!r.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":pt(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&Yt(e,t)}r.set(e,null)}}var gt,yt,vt,bt=!1,St=[],Tt=null,wt=null,Et=null,xt=new Map,_t=new Map,kt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),At="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function Mt(e,t){switch(e){case"focus":case"blur":Tt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Pt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=Ct(t,r,n,i,o),null!==t&&(null!==(t=Pr(t))&&yt(t)),e):(e.eventSystemFlags|=n,e)}function Rt(e){var t=Mr(e.target);if(null!==t){var r=et(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=tt(r)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Pr(t);return null!==r&&yt(r),e.blockedOn=t,!1}return!0}function Bt(e,t,r){It(e)&&r.delete(t)}function Dt(){for(bt=!1;0<St.length;){var e=St[0];if(null!==e.blockedOn){null!==(e=Pr(e.blockedOn))&&gt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:St.shift()}null!==Tt&&It(Tt)&&(Tt=null),null!==wt&&It(wt)&&(wt=null),null!==Et&&It(Et)&&(Et=null),xt.forEach(Bt),_t.forEach(Bt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Dt)))}function Ft(e){function t(t){return Lt(t,e)}if(0<St.length){Lt(St[0],e);for(var r=1;r<St.length;r++){var n=St[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Tt&&Lt(Tt,e),null!==wt&&Lt(wt,e),null!==Et&&Lt(Et,e),xt.forEach(t),_t.forEach(t),r=0;r<kt.length;r++)(n=kt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<kt.length&&null===(r=kt[0]).blockedOn;)Rt(r),null===r.blockedOn&&kt.shift()}var Nt={},jt=new Map,Vt=new Map,Gt=["abort","abort",Xe,"animationEnd",Ye,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qe,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:t},Vt.set(n,t),jt.set(n,o),Nt[i]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Gt,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Wt.length;zt++)Vt.set(Wt[zt],0);var Ht=o.unstable_UserBlockingPriority,$t=o.unstable_runWithPriority,Xt=!0;function Yt(e,t){Kt(t,e,!1)}function Kt(e,t,r){var n=Vt.get(t);switch(void 0===n?2:n){case 0:n=qt.bind(null,t,1,e);break;case 1:n=Jt.bind(null,t,1,e);break;default:n=Zt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function qt(e,t,r,n){N||L();var i=Zt,o=N;N=!0;try{D(i,e,t,r,n)}finally{(N=o)||V()}}function Jt(e,t,r,n){$t(Ht,Zt.bind(null,e,t,r,n))}function Zt(e,t,r,n){if(Xt)if(0<St.length&&-1<Ot.indexOf(e))e=Ct(null,e,t,r,n),St.push(e);else{var i=Qt(e,t,r,n);if(null===i)Mt(e,n);else if(-1<Ot.indexOf(e))e=Ct(i,e,t,r,n),St.push(e);else if(!function(e,t,r,n,i){switch(t){case"focus":return Tt=Pt(Tt,e,t,r,n,i),!0;case"dragenter":return wt=Pt(wt,e,t,r,n,i),!0;case"mouseover":return Et=Pt(Et,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return xt.set(o,Pt(xt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,_t.set(o,Pt(_t.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n)){Mt(e,n),e=ht(e,n,null,t);try{G(ft,e)}finally{dt(e)}}}}function Qt(e,t,r,n){if(null!==(r=Mr(r=ct(n)))){var i=et(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=tt(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=ht(e,n,r,t);try{G(ft,e)}finally{dt(e)}return null}var er={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];function rr(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||er.hasOwnProperty(e)&&er[e]?(""+t).trim():t+"px"}function nr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=rr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(er).forEach((function(e){tr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),er[t]=er[e]}))}));var ir=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function or(e,t){if(t){if(ir[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function ar(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sr=Be;function lr(e,t){var r=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var n=0;n<t.length;n++)mt(t[n],e,r)}function cr(){}function pr(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var r,n=ur(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ur(n)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=pr();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=pr((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr="$?",yr="$!",vr=null,br=null;function Sr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Tr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wr="function"===typeof setTimeout?setTimeout:void 0,Er="function"===typeof clearTimeout?clearTimeout:void 0;function xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function _r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||r===yr||r===gr){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var kr=Math.random().toString(36).slice(2),Or="__reactInternalInstance$"+kr,Ar="__reactEventHandlers$"+kr,Cr="__reactContainere$"+kr;function Mr(e){var t=e[Or];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cr]||r[Or]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=_r(e);null!==e;){if(r=e[Or])return r;e=_r(e)}return t}r=(e=r).parentNode}return null}function Pr(e){return!(e=e[Or]||e[Cr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Rr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ir(e){return e[Ar]||null}function Br(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t){var r=e.stateNode;if(!r)return null;var n=f(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}function Lr(e,t,r){(t=Dr(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=it(r._dispatchListeners,t),r._dispatchInstances=it(r._dispatchInstances,e))}function Fr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Br(t);for(t=r.length;0<t--;)Lr(r[t],"captured",e);for(t=0;t<r.length;t++)Lr(r[t],"bubbled",e)}}function Nr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Dr(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=it(r._dispatchListeners,t),r._dispatchInstances=it(r._dispatchInstances,e))}function jr(e){e&&e.dispatchConfig.registrationName&&Nr(e._targetInst,null,e)}function Vr(e){ot(e,Fr)}var Gr=null,Ur=null,Wr=null;function zr(){if(Wr)return Wr;var e,t,r=Ur,n=r.length,i="value"in Gr?Gr.value:Gr.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return Wr=i.slice(e,1<t?1-t:void 0)}function Hr(){return!0}function $r(){return!1}function Xr(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Hr:$r,this.isPropagationStopped=$r,this}function Yr(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Kr(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qr(e){e.eventPool=[],e.getPooled=Yr,e.release=Kr}i(Xr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){this.isPersistent=Hr},isPersistent:$r,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=$r,this._dispatchInstances=this._dispatchListeners=null}}),Xr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xr.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,qr(r),r},qr(Xr);var Jr=Xr.extend({data:null}),Zr=Xr.extend({data:null}),Qr=[9,13,27,32],en=O&&"CompositionEvent"in window,tn=null;O&&"documentMode"in document&&(tn=document.documentMode);var rn=O&&"TextEvent"in window&&!tn,nn=O&&(!en||tn&&8<tn&&11>=tn),on=String.fromCharCode(32),an={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sn=!1;function ln(e,t){switch(e){case"keyup":return-1!==Qr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var pn=!1;var un={eventTypes:an,extractEvents:function(e,t,r,n){var i;if(en)e:{switch(e){case"compositionstart":var o=an.compositionStart;break e;case"compositionend":o=an.compositionEnd;break e;case"compositionupdate":o=an.compositionUpdate;break e}o=void 0}else pn?ln(e,r)&&(o=an.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=an.compositionStart);return o?(nn&&"ko"!==r.locale&&(pn||o!==an.compositionStart?o===an.compositionEnd&&pn&&(i=zr()):(Ur="value"in(Gr=n)?Gr.value:Gr.textContent,pn=!0)),o=Jr.getPooled(o,t,r,n),i?o.data=i:null!==(i=cn(r))&&(o.data=i),Vr(o),i=o):i=null,(e=rn?function(e,t){switch(e){case"compositionend":return cn(t);case"keypress":return 32!==t.which?null:(sn=!0,on);case"textInput":return(e=t.data)===on&&sn?null:e;default:return null}}(e,r):function(e,t){if(pn)return"compositionend"===e||!en&&ln(e,t)?(e=zr(),Wr=Ur=Gr=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nn&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Zr.getPooled(an.beforeInput,t,r,n)).data=e,Vr(t)):t=null,null===i?t:null===t?i:[i,t]}},dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!dn[e.type]:"textarea"===t}var fn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function mn(e,t,r){return(e=Xr.getPooled(fn.change,e,t,r)).type="change",R(r),Vr(e),e}var gn=null,yn=null;function vn(e){lt(e)}function bn(e){if(Te(Rr(e)))return e}function Sn(e,t){if("change"===e)return t}var Tn=!1;function wn(){gn&&(gn.detachEvent("onpropertychange",En),yn=gn=null)}function En(e){if("value"===e.propertyName&&bn(yn))if(e=mn(yn,e,ct(e)),N)lt(e);else{N=!0;try{B(vn,e)}finally{N=!1,V()}}}function xn(e,t,r){"focus"===e?(wn(),yn=r,(gn=t).attachEvent("onpropertychange",En)):"blur"===e&&wn()}function _n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return bn(yn)}function kn(e,t){if("click"===e)return bn(t)}function On(e,t){if("input"===e||"change"===e)return bn(t)}O&&(Tn=pt("input")&&(!document.documentMode||9<document.documentMode));var An={eventTypes:fn,_isInputEventSupported:Tn,extractEvents:function(e,t,r,n){var i=t?Rr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Sn;else if(hn(i))if(Tn)a=On;else{a=_n;var s=xn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=kn);if(a&&(a=a(e,t)))return mn(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},Cn=Xr.extend({view:null,detail:null}),Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mn[e])&&!!t[e]}function Rn(){return Pn}var In=0,Bn=0,Dn=!1,Ln=!1,Fn=Cn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=In;return In=e.screenX,Dn?"mousemove"===e.type?e.screenX-t:0:(Dn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Bn;return Bn=e.screenY,Ln?"mousemove"===e.type?e.screenY-t:0:(Ln=!0,0)}}),Nn=Fn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vn={eventTypes:jn,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=r.relatedTarget||r.toElement)?Mr(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Fn,l=jn.mouseLeave,c=jn.mouseEnter,p="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Nn,l=jn.pointerLeave,c=jn.pointerEnter,p="pointer");if(e=null==a?o:Rr(a),o=null==t?o:Rr(t),(l=s.getPooled(l,a,r,n)).type=p+"leave",l.target=e,l.relatedTarget=o,(r=s.getPooled(c,t,r,n)).type=p+"enter",r.target=o,r.relatedTarget=e,p=t,(n=a)&&p)e:{for(c=p,a=0,e=s=n;e;e=Br(e))a++;for(e=0,t=c;t;t=Br(t))e++;for(;0<a-e;)s=Br(s),a--;for(;0<e-a;)c=Br(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Br(s),c=Br(c)}s=null}else s=null;for(c=s,s=[];n&&n!==c&&(null===(a=n.alternate)||a!==c);)s.push(n),n=Br(n);for(n=[];p&&p!==c&&(null===(a=p.alternate)||a!==c);)n.push(p),p=Br(p);for(p=0;p<s.length;p++)Nr(s[p],"bubbled",l);for(p=n.length;0<p--;)Nr(n[p],"captured",r);return 0===(64&i)?[l]:[l,r]}};var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Un=Object.prototype.hasOwnProperty;function Wn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Un.call(t,r[n])||!Gn(e[r[n]],t[r[n]]))return!1;return!0}var zn=O&&"documentMode"in document&&11>=document.documentMode,Hn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},$n=null,Xn=null,Yn=null,Kn=!1;function qn(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kn||null==$n||$n!==pr(r)?null:("selectionStart"in(r=$n)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Yn&&Wn(Yn,r)?null:(Yn=r,(e=Xr.getPooled(Hn.select,Xn,e,t)).type="select",e.target=$n,Vr(e),e))}var Jn={eventTypes:Hn,extractEvents:function(e,t,r,n,i,o){if(!(o=!(i=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{i=Qe(i),o=_.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Rr(t):window,e){case"focus":(hn(i)||"true"===i.contentEditable)&&($n=i,Xn=t,Yn=null);break;case"blur":Yn=Xn=$n=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kn=!1,qn(r,n);case"selectionchange":if(zn)break;case"keydown":case"keyup":return qn(r,n)}return null}},Zn=Xr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Qn=Xr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Cn.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ni={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Cn.extend({key:function(e){if(e.key){var t=ri[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ni[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),oi=Fn.extend({dataTransfer:null}),ai=Cn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rn}),si=Xr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),li=Fn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:Nt,extractEvents:function(e,t,r,n){var i=jt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(r))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=oi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ai;break;case Xe:case Ye:case Ke:e=Zn;break;case qe:e=si;break;case"scroll":e=Cn;break;case"wheel":e=li;break;case"copy":case"cut":case"paste":e=Qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Nn;break;default:e=Xr}return Vr(t=e.getPooled(i,t,r,n)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S(),f=Ir,m=Pr,g=Rr,k({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Vn,ChangeEventPlugin:An,SelectEventPlugin:Jn,BeforeInputEventPlugin:un});var pi=[],ui=-1;function di(e){0>ui||(e.current=pi[ui],pi[ui]=null,ui--)}function hi(e,t){ui++,pi[ui]=e.current,e.current=t}var fi={},mi={current:fi},gi={current:!1},yi=fi;function vi(e,t){var r=e.type.contextTypes;if(!r)return fi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Si(){di(gi),di(mi)}function Ti(e,t,r){if(mi.current!==fi)throw Error(a(168));hi(mi,t),hi(gi,r)}function wi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},r,{},n)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,yi=mi.current,hi(mi,e),hi(gi,gi.current),!0}function xi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=wi(e,t,yi),n.__reactInternalMemoizedMergedChildContext=e,di(gi),di(mi),hi(mi,e)):di(gi),hi(gi,r)}var _i=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Oi=o.unstable_cancelCallback,Ai=o.unstable_requestPaint,Ci=o.unstable_now,Mi=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Ii=o.unstable_NormalPriority,Bi=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Li={},Fi=o.unstable_shouldYield,Ni=void 0!==Ai?Ai:function(){},ji=null,Vi=null,Gi=!1,Ui=Ci(),Wi=1e4>Ui?Ci:function(){return Ci()-Ui};function zi(){switch(Mi()){case Pi:return 99;case Ri:return 98;case Ii:return 97;case Bi:return 96;case Di:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Ii;case 96:return Bi;case 95:return Di;default:throw Error(a(332))}}function $i(e,t){return e=Hi(e),_i(e,t)}function Xi(e,t,r){return e=Hi(e),ki(e,t,r)}function Yi(e){return null===ji?(ji=[e],Vi=ki(Pi,qi)):ji.push(e),Li}function Ki(){if(null!==Vi){var e=Vi;Vi=null,Oi(e)}qi()}function qi(){if(!Gi&&null!==ji){Gi=!0;var e=0;try{var t=ji;$i(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),ji=null}catch(r){throw null!==ji&&(ji=ji.slice(e+1)),ki(Pi,Ki),r}finally{Gi=!1}}}function Ji(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Zi(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Qi={current:null},eo=null,to=null,ro=null;function no(){ro=to=eo=null}function io(e){var t=Qi.current;di(Qi),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ao(e,t){eo=e,ro=to=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ba=!0),e.firstContext=null)}function so(e,t){if(ro!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ro=e,t=1073741823),t={context:e,observedBits:t,next:null},null===to){if(null===eo)throw Error(a(308));to=t,eo.dependencies={expirationTime:0,firstContext:t,responders:null}}else to=to.next=t;return e._currentValue}var lo=!1;function co(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function uo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ho(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function fo(e,t){var r=e.alternate;null!==r&&po(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function mo(e,t,r,n){var o=e.updateQueue;lo=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,p=0,u=null,d=null,h=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<n){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===h?(d=h=m,u=c):h=h.next=m,s>p&&(p=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),hl(s,f.suspenseConfig);e:{var g=e,y=f;switch(s=t,m=r,y.tag){case 1:if("function"===typeof(g=y.payload)){c=g.call(m,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=y.payload)?g.call(m,c,s):g)||void 0===s)break e;c=i({},c,s);break e;case 2:lo=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===h?u=c:h.next=d,o.baseState=u,o.baseQueue=h,fl(p),e.expirationTime=p,e.memoizedState=c}}function go(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!==typeof n)throw Error(a(191,n));n.call(i)}}}var yo=q.ReactCurrentBatchConfig,vo=(new n.Component).refs;function bo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var So={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=el(),i=yo.suspense;(i=uo(n=tl(n,e,i),i)).payload=t,void 0!==r&&null!==r&&(i.callback=r),ho(e,i),rl(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=el(),i=yo.suspense;(i=uo(n=tl(n,e,i),i)).tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),ho(e,i),rl(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=el(),n=yo.suspense;(n=uo(r=tl(r,e,n),n)).tag=2,void 0!==t&&null!==t&&(n.callback=t),ho(e,n),rl(e,r)}};function To(e,t,r,n,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Wn(r,n)||!Wn(i,o))}function wo(e,t,r){var n=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(i=bi(t)?yi:mi.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?vi(e,i):fi),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=So,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Eo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function xo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=vo,co(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=so(o):(o=bi(t)?yi:mi.current,i.context=vi(e,o)),mo(e,r,i,n),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(bo(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&So.enqueueReplaceState(i,i.state,null),mo(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var _o=Array.isArray;function ko(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===vo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Oo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ao(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Fl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=ko(e,t,r),n.return=e,n):((n=Dl(r.type,r.key,r.props,null,e.mode,n)).ref=ko(e,t,r),n.return=e,n)}function p(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Nl(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function u(e,t,r,n,o){return null===t||7!==t.tag?((t=Ll(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Fl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=Dl(t.type,t.key,t.props,null,e.mode,r)).ref=ko(e,null,t),r.return=e,r;case te:return(t=Nl(t,e.mode,r)).return=e,t}if(_o(t)||me(t))return(t=Ll(t,e.mode,r,null)).return=e,t;Oo(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===i?r.type===re?u(e,t,r.props.children,n,i):c(e,t,r,n):null;case te:return r.key===i?p(e,t,r,n):null}if(_o(r)||me(r))return null!==i?null:u(e,t,r,n,null);Oo(e,r)}return null}function f(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?u(t,e,n.props.children,i,n.key):c(t,e,n,i);case te:return p(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(_o(n)||me(n))return u(t,e=e.get(r)||null,n,i,null);Oo(t,n)}return null}function m(i,a,s,l){for(var c=null,p=null,u=a,m=a=0,g=null;null!==u&&m<s.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var y=h(i,u,s[m],l);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(i,u),a=o(y,a,m),null===p?c=y:p.sibling=y,p=y,u=g}if(m===s.length)return r(i,u),c;if(null===u){for(;m<s.length;m++)null!==(u=d(i,s[m],l))&&(a=o(u,a,m),null===p?c=u:p.sibling=u,p=u);return c}for(u=n(i,u);m<s.length;m++)null!==(g=f(u,i,m,s[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),a=o(g,a,m),null===p?c=g:p.sibling=g,p=g);return e&&u.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var p=me(l);if("function"!==typeof p)throw Error(a(150));if(null==(l=p.call(l)))throw Error(a(151));for(var u=p=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=h(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===u?p=b:u.sibling=b,u=b,m=y}if(v.done)return r(i,m),p;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=o(v,s,g),null===u?p=v:u.sibling=v,u=v);return p}for(m=n(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===u?p=v:u.sibling=v,u=v);return e&&m.forEach((function(e){return t(i,e)})),p}return function(e,n,o,l){var c="object"===typeof o&&null!==o&&o.type===re&&null===o.key;c&&(o=o.props.children);var p="object"===typeof o&&null!==o;if(p)switch(o.$$typeof){case ee:e:{for(p=o.key,c=n;null!==c;){if(c.key===p){switch(c.tag){case 7:if(o.type===re){r(e,c.sibling),(n=i(c,o.props.children)).return=e,e=n;break e}break;default:if(c.elementType===o.type){r(e,c.sibling),(n=i(c,o.props)).ref=ko(e,c,o),n.return=e,e=n;break e}}r(e,c);break}t(e,c),c=c.sibling}o.type===re?((n=Ll(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Dl(o.type,o.key,o.props,null,e.mode,l)).ref=ko(e,n,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Nl(o,e.mode,l)).return=e,e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=Fl(o,e.mode,l)).return=e,e=n),s(e);if(_o(o))return m(e,n,o,l);if(me(o))return g(e,n,o,l);if(p&&Oo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Co=Ao(!0),Mo=Ao(!1),Po={},Ro={current:Po},Io={current:Po},Bo={current:Po};function Do(e){if(e===Po)throw Error(a(174));return e}function Lo(e,t){switch(hi(Bo,t),hi(Io,e),hi(Ro,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}di(Ro),hi(Ro,t)}function Fo(){di(Ro),di(Io),di(Bo)}function No(e){Do(Bo.current);var t=Do(Ro.current),r=Fe(t,e.type);t!==r&&(hi(Io,e),hi(Ro,r))}function jo(e){Io.current===e&&(di(Ro),di(Io))}var Vo={current:0};function Go(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||r.data===gr||r.data===yr))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Uo(e,t){return{responder:e,props:t}}var Wo=q.ReactCurrentDispatcher,zo=q.ReactCurrentBatchConfig,Ho=0,$o=null,Xo=null,Yo=null,Ko=!1;function qo(){throw Error(a(321))}function Jo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gn(e[r],t[r]))return!1;return!0}function Zo(e,t,r,n,i,o){if(Ho=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Wo.current=null===e||null===e.memoizedState?Ta:wa,e=r(n,i),t.expirationTime===Ho){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Yo=Xo=null,t.updateQueue=null,Wo.current=Ea,e=r(n,i)}while(t.expirationTime===Ho)}if(Wo.current=Sa,t=null!==Xo&&null!==Xo.next,Ho=0,Yo=Xo=$o=null,Ko=!1,t)throw Error(a(300));return e}function Qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?$o.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function ea(){if(null===Xo){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Yo?$o.memoizedState:Yo.next;if(null!==t)Yo=t,Xo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Yo?$o.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function ta(e,t){return"function"===typeof t?t(e):t}function ra(e){var t=ea(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=Xo,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=s=o=null,c=i;do{var p=c.expirationTime;if(p<Ho){var u={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=u,o=n):l=l.next=u,p>$o.expirationTime&&($o.expirationTime=p,fl(p))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),hl(p,c.suspenseConfig),n=c.eagerReducer===e?c.eagerState:e(n,c.action);c=c.next}while(null!==c&&c!==i);null===l?o=n:l.next=s,Gn(n,t.memoizedState)||(Ba=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function na(e){var t=ea(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Gn(o,t.memoizedState)||(Ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ia(e){var t=Qo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e}).dispatch=ba.bind(null,$o,e),[t.memoizedState,e]}function oa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=$o.updateQueue)?(t={lastEffect:null},$o.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function aa(){return ea().memoizedState}function sa(e,t,r,n){var i=Qo();$o.effectTag|=e,i.memoizedState=oa(1|t,r,void 0,void 0===n?null:n)}function la(e,t,r,n){var i=ea();n=void 0===n?null:n;var o=void 0;if(null!==Xo){var a=Xo.memoizedState;if(o=a.destroy,null!==n&&Jo(n,a.deps))return void oa(t,r,o,n)}$o.effectTag|=e,i.memoizedState=oa(1|t,r,o,n)}function ca(e,t){return sa(516,4,e,t)}function pa(e,t){return la(516,4,e,t)}function ua(e,t){return la(4,2,e,t)}function da(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ha(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,la(4,2,da.bind(null,t,e),r)}function fa(){}function ma(e,t){return Qo().memoizedState=[e,void 0===t?null:t],e}function ga(e,t){var r=ea();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Jo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ya(e,t){var r=ea();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Jo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function va(e,t,r){var n=zi();$i(98>n?98:n,(function(){e(!0)})),$i(97<n?97:n,(function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),r()}finally{zo.suspense=n}}))}function ba(e,t,r){var n=el(),i=yo.suspense;i={expirationTime:n=tl(n,e,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===$o||null!==o&&o===$o)Ko=!0,i.expirationTime=Ho,$o.expirationTime=Ho;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.eagerReducer=o,i.eagerState=s,Gn(s,a))return}catch(l){}rl(e,n)}}var Sa={readContext:so,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useResponder:qo,useDeferredValue:qo,useTransition:qo},Ta={readContext:so,useCallback:ma,useContext:so,useEffect:ca,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,sa(4,2,da.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sa(4,2,e,t)},useMemo:function(e,t){var r=Qo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ba.bind(null,$o,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Qo().memoizedState=e},useState:ia,useDebugValue:fa,useResponder:Uo,useDeferredValue:function(e,t){var r=ia(e),n=r[0],i=r[1];return ca((function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=ia(!1),r=t[0];return t=t[1],[ma(va.bind(null,t,e),[t,e]),r]}},wa={readContext:so,useCallback:ga,useContext:so,useEffect:pa,useImperativeHandle:ha,useLayoutEffect:ua,useMemo:ya,useReducer:ra,useRef:aa,useState:function(){return ra(ta)},useDebugValue:fa,useResponder:Uo,useDeferredValue:function(e,t){var r=ra(ta),n=r[0],i=r[1];return pa((function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=ra(ta),r=t[0];return t=t[1],[ga(va.bind(null,t,e),[t,e]),r]}},Ea={readContext:so,useCallback:ga,useContext:so,useEffect:pa,useImperativeHandle:ha,useLayoutEffect:ua,useMemo:ya,useReducer:na,useRef:aa,useState:function(){return na(ta)},useDebugValue:fa,useResponder:Uo,useDeferredValue:function(e,t){var r=na(ta),n=r[0],i=r[1];return pa((function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=na(ta),r=t[0];return t=t[1],[ga(va.bind(null,t,e),[t,e]),r]}},xa=null,_a=null,ka=!1;function Oa(e,t){var r=Rl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Aa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ca(e){if(ka){var t=_a;if(t){var r=t;if(!Aa(e,t)){if(!(t=xr(r.nextSibling))||!Aa(e,t))return e.effectTag=-1025&e.effectTag|2,ka=!1,void(xa=e);Oa(xa,r)}xa=e,_a=xr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ka=!1,xa=e}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xa=e}function Pa(e){if(e!==xa)return!1;if(!ka)return Ma(e),ka=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Tr(t,e.memoizedProps))for(t=_a;t;)Oa(e,t),t=xr(t.nextSibling);if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){_a=xr(e.nextSibling);break e}t--}else"$"!==r&&r!==yr&&r!==gr||t++}e=e.nextSibling}_a=null}}else _a=xa?xr(e.stateNode.nextSibling):null;return!0}function Ra(){_a=xa=null,ka=!1}var Ia=q.ReactCurrentOwner,Ba=!1;function Da(e,t,r,n){t.child=null===e?Mo(t,null,r,n):Co(t,e.child,r,n)}function La(e,t,r,n,i){r=r.render;var o=t.ref;return ao(t,i),n=Zo(e,t,r,n,o,i),null===e||Ba?(t.effectTag|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Za(e,t,i))}function Fa(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!==typeof a||Il(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Dl(r.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:Wn)(i,n)&&e.ref===t.ref)?Za(e,t,o):(t.effectTag|=1,(e=Bl(a,n)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,r,n,i,o){return null!==e&&Wn(e.memoizedProps,n)&&e.ref===t.ref&&(Ba=!1,i<o)?(t.expirationTime=e.expirationTime,Za(e,t,o)):Va(e,t,r,n,o)}function ja(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Va(e,t,r,n,i){var o=bi(r)?yi:mi.current;return o=vi(t,o),ao(t,i),r=Zo(e,t,r,n,o,i),null===e||Ba?(t.effectTag|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Za(e,t,i))}function Ga(e,t,r,n,i){if(bi(r)){var o=!0;Ei(t)}else o=!1;if(ao(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wo(t,r,n),xo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=r.contextType;"object"===typeof c&&null!==c?c=so(c):c=vi(t,c=bi(r)?yi:mi.current);var p=r.getDerivedStateFromProps,u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==c)&&Eo(t,a,n,c),lo=!1;var d=t.memoizedState;a.state=d,mo(t,n,a,i),l=t.memoizedState,s!==n||d!==l||gi.current||lo?("function"===typeof p&&(bo(t,r,p,n),l=t.memoizedState),(s=lo||To(t,r,s,n,d,l,c))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,po(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Zi(t.type,s),l=a.context,"object"===typeof(c=r.contextType)&&null!==c?c=so(c):c=vi(t,c=bi(r)?yi:mi.current),(u="function"===typeof(p=r.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==c)&&Eo(t,a,n,c),lo=!1,l=t.memoizedState,a.state=l,mo(t,n,a,i),d=t.memoizedState,s!==n||l!==d||gi.current||lo?("function"===typeof p&&(bo(t,r,p,n),d=t.memoizedState),(p=lo||To(t,r,s,n,l,d,c))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=c,n=p):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Ua(e,t,r,n,o,i)}function Ua(e,t,r,n,i,o){ja(e,t);var a=0!==(64&t.effectTag);if(!n&&!a)return i&&xi(t,r,!1),Za(e,t,o);n=t.stateNode,Ia.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Da(e,t,s,o),t.memoizedState=n.state,i&&xi(t,r,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Lo(e,t.containerInfo)}var za,Ha,$a,Xa={dehydrated:null,retryTime:0};function Ya(e,t,r){var n,i=t.mode,o=t.pendingProps,a=Vo.current,s=!1;if((n=0!==(64&t.effectTag))||(n=0!==(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),hi(Vo,1&a),null===e){if(void 0!==o.fallback&&Ca(t),s){if(s=o.fallback,(o=Ll(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Ll(s,i,r,null)).return=t,o.sibling=r,t.memoizedState=Xa,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=Mo(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(r=Bl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=Bl(i,o)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=Xa,t.child=r,i}return r=Co(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,(o=Ll(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Ll(s,i,r,null)).return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Xa,t.child=o,r}return t.memoizedState=null,t.child=Co(t,e,o.children,r)}function Ka(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),oo(e.return,t)}function qa(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ja(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Da(e,t,n.children,r),0!==(2&(n=Vo.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,r);else if(19===e.tag)Ka(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hi(Vo,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Go(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),qa(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Go(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}qa(t,!0,r,null,o,t.lastEffect);break;case"together":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&fl(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Bl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Bl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Qa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function es(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bi(t.type)&&Si(),null;case 3:return Fo(),di(gi),di(mi),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Pa(t)||(t.effectTag|=4),null;case 5:jo(t),r=Do(Bo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ha(e,t,o,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(Ro.current),Pa(t)){n=t.stateNode,o=t.type;var s=t.memoizedProps;switch(n[Or]=t,n[Ar]=s,o){case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(e=0;e<Je.length;e++)Yt(Je[e],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"form":Yt("reset",n),Yt("submit",n);break;case"details":Yt("toggle",n);break;case"input":Ee(n,s),Yt("invalid",n),lr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",n),lr(r,"onChange");break;case"textarea":Pe(n,s),Yt("invalid",n),lr(r,"onChange")}for(var l in or(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(e=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(e=["children",""+c]):x.hasOwnProperty(l)&&null!=c&&lr(r,l)}switch(o){case"input":Se(n),ke(n,s,!0);break;case"textarea":Se(n),Ie(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=cr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,e===sr&&(e=Le(o)),e===sr?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(o,{is:n.is}):(e=l.createElement(o),"select"===o&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,o),e[Or]=t,e[Ar]=n,za(e,t),t.stateNode=e,l=ar(o,n),o){case"iframe":case"object":case"embed":Yt("load",e),c=n;break;case"video":case"audio":for(c=0;c<Je.length;c++)Yt(Je[c],e);c=n;break;case"source":Yt("error",e),c=n;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),c=n;break;case"form":Yt("reset",e),Yt("submit",e),c=n;break;case"details":Yt("toggle",e),c=n;break;case"input":Ee(e,n),c=we(e,n),Yt("invalid",e),lr(r,"onChange");break;case"option":c=Ae(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},c=i({},n,{value:void 0}),Yt("invalid",e),lr(r,"onChange");break;case"textarea":Pe(e,n),c=Me(e,n),Yt("invalid",e),lr(r,"onChange");break;default:c=n}or(o,c);var p=c;for(s in p)if(p.hasOwnProperty(s)){var u=p[s];"style"===s?nr(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&Ve(e,u):"children"===s?"string"===typeof u?("textarea"!==o||""!==u)&&Ge(e,u):"number"===typeof u&&Ge(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?null!=u&&lr(r,s):null!=u&&J(e,s,u,l))}switch(o){case"input":Se(e),ke(e,n,!1);break;case"textarea":Se(e),Ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ve(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?Ce(e,!!n.multiple,r,!1):null!=n.defaultValue&&Ce(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cr)}Sr(o,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)$a(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));r=Do(Bo.current),Do(Ro.current),Pa(t)?(r=t.stateNode,n=t.memoizedProps,r[Or]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Or]=t,t.stateNode=r)}return null;case 13:return di(Vo),n=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Pa(t):(n=null!==(o=e.memoizedState),r||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Vo.current)?Ds===As&&(Ds=Cs):(Ds!==As&&Ds!==Cs||(Ds=Ms),0!==Vs&&null!==Rs&&(Gl(Rs,Bs),Ul(Rs,Vs)))),(r||n)&&(t.effectTag|=4),null);case 4:return Fo(),null;case 10:return io(t),null;case 17:return bi(t.type)&&Si(),null;case 19:if(di(Vo),null===(n=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=n.rendering)){if(o)Qa(n,!1);else if(Ds!==As||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Go(s))){for(t.effectTag|=64,Qa(n,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return hi(Vo,1&Vo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Go(s))){if(t.effectTag|=64,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),Qa(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,o=!0,Qa(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=n.last)?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Wi()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Wi(),r.sibling=null,t=Vo.current,hi(Vo,o?1&t|2:1&t),r):null}throw Error(a(156,t.tag))}function ts(e){switch(e.tag){case 1:bi(e.type)&&Si();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fo(),di(gi),di(mi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return jo(e),null;case 13:return di(Vo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return di(Vo),null;case 4:return Fo(),null;case 10:return io(e),null;default:return null}}function rs(e,t){return{value:e,source:t,stack:ye(t)}}za=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ha=function(e,t,r,n,o){var a=e.memoizedProps;if(a!==n){var s,l,c=t.stateNode;switch(Do(Ro.current),e=null,r){case"input":a=we(c,a),n=we(c,n),e=[];break;case"option":a=Ae(c,a),n=Ae(c,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=Me(c,a),n=Me(c,n),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(c.onclick=cr)}for(s in or(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var p=n[s];if(c=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&p!==c&&(null!=p||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||p&&p.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in p)p.hasOwnProperty(l)&&c[l]!==p[l]&&(r||(r={}),r[l]=p[l])}else r||(e||(e=[]),e.push(s,r)),r=p;else"dangerouslySetInnerHTML"===s?(p=p?p.__html:void 0,c=c?c.__html:void 0,null!=p&&c!==p&&(e=e||[]).push(s,p)):"children"===s?c===p||"string"!==typeof p&&"number"!==typeof p||(e=e||[]).push(s,""+p):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(x.hasOwnProperty(s)?(null!=p&&lr(o,s),e||c===p||(e=[])):(e=e||[]).push(s,p))}r&&(e=e||[]).push("style",r),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},$a=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var ns="function"===typeof WeakSet?WeakSet:Set;function is(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=ye(r)),null!==r&&ge(r.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function os(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){kl(e,r)}else t.current=null}function as(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Zi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function ls(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function cs(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void ls(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Zi(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&go(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}go(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&Sr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Ft(r)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function ps(e,t,r){switch("function"===typeof Ml&&Ml(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;$i(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(o){kl(i,o)}}e=e.next}while(e!==n)}))}break;case 1:os(t),"function"===typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){kl(e,r)}}(t,r);break;case 5:os(t);break;case 4:gs(e,t,r)}}function us(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&us(t)}function ds(e){return 5===e.tag||3===e.tag||4===e.tag}function hs(e){e:{for(var t=e.return;null!==t;){if(ds(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(Ge(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ds(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?fs(e,r,t):ms(e,r,t)}function fs(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=cr));else if(4!==n&&null!==(e=e.child))for(fs(e,t,r),e=e.sibling;null!==e;)fs(e,t,r),e=e.sibling}function ms(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ms(e,t,r),e=e.sibling;null!==e;)ms(e,t,r),e=e.sibling}function gs(e,t,r){for(var n,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,p=r,u=c;;)if(ps(l,u,p),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(l=n,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ps(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Ar]=n,"input"===e&&"radio"===n.type&&null!=n.name&&xe(r,n),ar(e,i),t=ar(e,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?nr(r,l):"dangerouslySetInnerHTML"===s?Ve(r,l):"children"===s?Ge(r,l):J(r,s,l,t)}switch(e){case"input":_e(r,n);break;case"textarea":Re(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Ce(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Ce(r,!!n.multiple,n.defaultValue,!0):Ce(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Us=Wi()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=rr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void vs(t);case 19:return void vs(t);case 17:return}throw Error(a(163))}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ns),t.forEach((function(t){var n=Al.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var bs="function"===typeof WeakMap?WeakMap:Map;function Ss(e,t,r){(r=uo(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zs||(zs=!0,Hs=n),is(e,t)},r}function Ts(e,t,r){(r=uo(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return is(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===$s?$s=new Set([this]):$s.add(this),is(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var ws,Es=Math.ceil,xs=q.ReactCurrentDispatcher,_s=q.ReactCurrentOwner,ks=16,Os=32,As=0,Cs=3,Ms=4,Ps=0,Rs=null,Is=null,Bs=0,Ds=As,Ls=null,Fs=1073741823,Ns=1073741823,js=null,Vs=0,Gs=!1,Us=0,Ws=null,zs=!1,Hs=null,$s=null,Xs=!1,Ys=null,Ks=90,qs=null,Js=0,Zs=null,Qs=0;function el(){return 0!==(48&Ps)?1073741821-(Wi()/10|0):0!==Qs?Qs:Qs=1073741821-(Wi()/10|0)}function tl(e,t,r){if(0===(2&(t=t.mode)))return 1073741823;var n=zi();if(0===(4&t))return 99===n?1073741823:1073741822;if(0!==(Ps&ks))return Bs;if(null!==r)e=Ji(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Ji(e,150,100);break;case 97:case 96:e=Ji(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Rs&&e===Bs&&--e,e}function rl(e,t){if(50<Js)throw Js=0,Zs=null,Error(a(185));if(null!==(e=nl(e,t))){var r=zi();1073741823===t?0!==(8&Ps)&&0===(48&Ps)?sl(e):(ol(e),0===Ps&&Ki()):ol(e),0===(4&Ps)||98!==r&&99!==r||(null===qs?qs=new Map([[e,t]]):(void 0===(r=qs.get(e))||r>t)&&qs.set(e,t))}}function nl(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Rs===i&&(fl(t),Ds===Ms&&Gl(i,Bs)),Ul(i,t)),i}function il(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Vl(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function ol(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(sl.bind(null,e));else{var t=il(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=el();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Li&&Oi(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Yi(sl.bind(null,e)):Xi(n,al.bind(null,e),{timeout:10*(1073741821-t)-Wi()}),e.callbackNode=t}}}function al(e,t){if(Qs=0,t)return Wl(e,t=el()),ol(e),null;var r=il(e);if(0!==r){if(t=e.callbackNode,0!==(48&Ps))throw Error(a(327));if(El(),e===Rs&&r===Bs||pl(e,r),null!==Is){var n=Ps;Ps|=ks;for(var i=dl();;)try{gl();break}catch(l){ul(e,l)}if(no(),Ps=n,xs.current=i,1===Ds)throw t=Ls,pl(e,r),Gl(e,r),ol(e),t;if(null===Is)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Ds,Rs=null,n){case As:case 1:throw Error(a(345));case 2:Wl(e,2<r?2:r);break;case Cs:if(Gl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bl(i)),1073741823===Fs&&10<(i=Us+500-Wi())){if(Gs){var o=e.lastPingedTime;if(0===o||o>=r){e.lastPingedTime=r,pl(e,r);break}}if(0!==(o=il(e))&&o!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=wr(Sl.bind(null,e),i);break}Sl(e);break;case Ms:if(Gl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bl(i)),Gs&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,pl(e,r);break}if(0!==(i=il(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Ns?n=10*(1073741821-Ns)-Wi():1073741823===Fs?n=0:(n=10*(1073741821-Fs)-5e3,0>(n=(i=Wi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Es(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=wr(Sl.bind(null,e),n);break}Sl(e);break;case 5:if(1073741823!==Fs&&null!==js){o=Fs;var s=js;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(o=Wi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+n-o),10<n){Gl(e,r),e.timeoutHandle=wr(Sl.bind(null,e),n);break}}Sl(e);break;default:throw Error(a(329))}if(ol(e),e.callbackNode===t)return al.bind(null,e)}}return null}function sl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ps))throw Error(a(327));if(El(),e===Rs&&t===Bs||pl(e,t),null!==Is){var r=Ps;Ps|=ks;for(var n=dl();;)try{ml();break}catch(i){ul(e,i)}if(no(),Ps=r,xs.current=n,1===Ds)throw r=Ls,pl(e,t),Gl(e,t),ol(e),r;if(null!==Is)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Rs=null,Sl(e),ol(e)}return null}function ll(e,t){var r=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=r)&&Ki()}}function cl(e,t){var r=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=r)&&Ki()}}function pl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Er(r)),null!==Is)for(r=Is.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Si();break;case 3:Fo(),di(gi),di(mi);break;case 5:jo(n);break;case 4:Fo();break;case 13:case 19:di(Vo);break;case 10:io(n)}r=r.return}Rs=e,Is=Bl(e.current,null),Bs=t,Ds=As,Ls=null,Ns=Fs=1073741823,js=null,Vs=0,Gs=!1}function ul(e,t){for(;;){try{if(no(),Wo.current=Sa,Ko)for(var r=$o.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(Ho=0,Yo=Xo=$o=null,Ko=!1,null===Is||null===Is.return)return Ds=1,Ls=t,Is=null;e:{var i=e,o=Is.return,a=Is,s=t;if(t=Bs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var p=0!==(1&Vo.current),u=o;do{var d;if(d=13===u.tag){var h=u.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var f=u.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!p)}}if(d){var m=u.updateQueue;if(null===m){var g=new Set;g.add(l),u.updateQueue=g}else m.add(l);if(0===(2&u.mode)){if(u.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(1073741823,null);y.tag=2,ho(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var v=i.pingCache;if(null===v?(v=i.pingCache=new bs,s=new Set,v.set(l,s)):void 0===(s=v.get(l))&&(s=new Set,v.set(l,s)),!s.has(a)){s.add(a);var b=Ol.bind(null,i,l,a);l.then(b,b)}u.effectTag|=4096,u.expirationTime=t;break e}u=u.return}while(null!==u);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==Ds&&(Ds=2),s=rs(s,a),u=o;do{switch(u.tag){case 3:l=s,u.effectTag|=4096,u.expirationTime=t,fo(u,Ss(u,l,t));break e;case 1:l=s;var S=u.type,T=u.stateNode;if(0===(64&u.effectTag)&&("function"===typeof S.getDerivedStateFromError||null!==T&&"function"===typeof T.componentDidCatch&&(null===$s||!$s.has(T)))){u.effectTag|=4096,u.expirationTime=t,fo(u,Ts(u,l,t));break e}}u=u.return}while(null!==u)}Is=vl(Is)}catch(w){t=w;continue}break}}function dl(){var e=xs.current;return xs.current=Sa,null===e?Sa:e}function hl(e,t){e<Fs&&2<e&&(Fs=e),null!==t&&e<Ns&&2<e&&(Ns=e,js=t)}function fl(e){e>Vs&&(Vs=e)}function ml(){for(;null!==Is;)Is=yl(Is)}function gl(){for(;null!==Is&&!Fi();)Is=yl(Is)}function yl(e){var t=ws(e.alternate,e,Bs);return e.memoizedProps=e.pendingProps,null===t&&(t=vl(e)),_s.current=null,t}function vl(e){Is=e;do{var t=Is.alternate;if(e=Is.return,0===(2048&Is.effectTag)){if(t=es(t,Is,Bs),1===Bs||1!==Is.childExpirationTime){for(var r=0,n=Is.child;null!==n;){var i=n.expirationTime,o=n.childExpirationTime;i>r&&(r=i),o>r&&(r=o),n=n.sibling}Is.childExpirationTime=r}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Is.firstEffect),null!==Is.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Is.firstEffect),e.lastEffect=Is.lastEffect),1<Is.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Is:e.firstEffect=Is,e.lastEffect=Is))}else{if(null!==(t=ts(Is)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Is.sibling))return t;Is=e}while(null!==Is);return Ds===As&&(Ds=5),null}function bl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Sl(e){var t=zi();return $i(99,Tl.bind(null,e,t)),null}function Tl(e,t){do{El()}while(null!==Ys);if(0!==(48&Ps))throw Error(a(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=bl(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Rs&&(Is=Rs=null,Bs=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Ps;Ps|=Os,_s.current=null,vr=Xt;var s=fr();if(mr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var p=c.anchorOffset,u=c.focusNode;c=c.focusOffset;try{l.nodeType,u.nodeType}catch(k){l=null;break e}var d=0,h=-1,f=-1,m=0,g=0,y=s,v=null;t:for(;;){for(var b;y!==l||0!==p&&3!==y.nodeType||(h=d+p),y!==u||0!==c&&3!==y.nodeType||(f=d+c),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===s)break t;if(v===l&&++m===p&&(h=d),v===u&&++g===c&&(f=d),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}l=-1===h||-1===f?null:{start:h,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;br={activeElementDetached:null,focusedElem:s,selectionRange:l},Xt=!1,Ws=i;do{try{wl()}catch(k){if(null===Ws)throw Error(a(330));kl(Ws,k),Ws=Ws.nextEffect}}while(null!==Ws);Ws=i;do{try{for(s=e,l=t;null!==Ws;){var S=Ws.effectTag;if(16&S&&Ge(Ws.stateNode,""),128&S){var T=Ws.alternate;if(null!==T){var w=T.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&S){case 2:hs(Ws),Ws.effectTag&=-3;break;case 6:hs(Ws),Ws.effectTag&=-3,ys(Ws.alternate,Ws);break;case 1024:Ws.effectTag&=-1025;break;case 1028:Ws.effectTag&=-1025,ys(Ws.alternate,Ws);break;case 4:ys(Ws.alternate,Ws);break;case 8:gs(s,p=Ws,l),us(p)}Ws=Ws.nextEffect}}catch(k){if(null===Ws)throw Error(a(330));kl(Ws,k),Ws=Ws.nextEffect}}while(null!==Ws);if(w=br,T=fr(),S=w.focusedElem,l=w.selectionRange,T!==S&&S&&S.ownerDocument&&hr(S.ownerDocument.documentElement,S)){null!==l&&mr(S)&&(T=l.start,void 0===(w=l.end)&&(w=T),"selectionStart"in S?(S.selectionStart=T,S.selectionEnd=Math.min(w,S.value.length)):(w=(T=S.ownerDocument||document)&&T.defaultView||window).getSelection&&(w=w.getSelection(),p=S.textContent.length,s=Math.min(l.start,p),l=void 0===l.end?s:Math.min(l.end,p),!w.extend&&s>l&&(p=l,l=s,s=p),p=dr(S,s),u=dr(S,l),p&&u&&(1!==w.rangeCount||w.anchorNode!==p.node||w.anchorOffset!==p.offset||w.focusNode!==u.node||w.focusOffset!==u.offset)&&((T=T.createRange()).setStart(p.node,p.offset),w.removeAllRanges(),s>l?(w.addRange(T),w.extend(u.node,u.offset)):(T.setEnd(u.node,u.offset),w.addRange(T))))),T=[];for(w=S;w=w.parentNode;)1===w.nodeType&&T.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof S.focus&&S.focus(),S=0;S<T.length;S++)(w=T[S]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xt=!!vr,br=vr=null,e.current=r,Ws=i;do{try{for(S=e;null!==Ws;){var E=Ws.effectTag;if(36&E&&cs(S,Ws.alternate,Ws),128&E){T=void 0;var x=Ws.ref;if(null!==x){var _=Ws.stateNode;switch(Ws.tag){case 5:T=_;break;default:T=_}"function"===typeof x?x(T):x.current=T}}Ws=Ws.nextEffect}}catch(k){if(null===Ws)throw Error(a(330));kl(Ws,k),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Ni(),Ps=o}else e.current=r;if(Xs)Xs=!1,Ys=e,Ks=t;else for(Ws=i;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,Ws=t;if(0===(t=e.firstPendingTime)&&($s=null),1073741823===t?e===Zs?Js++:(Js=0,Zs=e):Js=0,"function"===typeof Cl&&Cl(r.stateNode,n),ol(e),zs)throw zs=!1,e=Hs,Hs=null,e;return 0!==(8&Ps)||Ki(),null}function wl(){for(;null!==Ws;){var e=Ws.effectTag;0!==(256&e)&&as(Ws.alternate,Ws),0===(512&e)||Xs||(Xs=!0,Xi(97,(function(){return El(),null}))),Ws=Ws.nextEffect}}function El(){if(90!==Ks){var e=97<Ks?97:Ks;return Ks=90,$i(e,xl)}}function xl(){if(null===Ys)return!1;var e=Ys;if(Ys=null,0!==(48&Ps))throw Error(a(331));var t=Ps;for(Ps|=Os,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ss(5,r),ls(5,r)}}catch(n){if(null===e)throw Error(a(330));kl(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return Ps=t,Ki(),!0}function _l(e,t,r){ho(e,t=Ss(e,t=rs(r,t),1073741823)),null!==(e=nl(e,1073741823))&&ol(e)}function kl(e,t){if(3===e.tag)_l(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){_l(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===$s||!$s.has(n))){ho(r,e=Ts(r,e=rs(t,e),1073741823)),null!==(r=nl(r,1073741823))&&ol(r);break}}r=r.return}}function Ol(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Rs===e&&Bs===r?Ds===Ms||Ds===Cs&&1073741823===Fs&&Wi()-Us<500?pl(e,Bs):Gs=!0:Vl(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,ol(e)))}function Al(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=tl(t=el(),e,null)),null!==(e=nl(e,t))&&ol(e)}ws=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||gi.current)Ba=!0;else{if(n<r){switch(Ba=!1,t.tag){case 3:Wa(t),Ra();break;case 5:if(No(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&Ei(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,hi(Qi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?Ya(e,t,r):(hi(Vo,1&Vo.current),null!==(t=Za(e,t,r))?t.sibling:null);hi(Vo,1&Vo.current);break;case 19:if(n=t.childExpirationTime>=r,0!==(64&e.effectTag)){if(n)return Ja(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),hi(Vo,Vo.current),!n)return null}return Za(e,t,r)}Ba=!1}}else Ba=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=vi(t,mi.current),ao(t,r),i=Zo(null,t,n,e,i,r),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(n)){var o=!0;Ei(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,co(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&bo(t,n,s,e),i.updater=So,t.stateNode=i,i._reactInternalFiber=t,xo(t,n,e,r),t=Ua(null,t,n,!0,o,r)}else t.tag=0,Da(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Il(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===ue)return 14}return 2}(i),e=Zi(i,e),o){case 0:t=Va(null,t,i,e,r);break e;case 1:t=Ga(null,t,i,e,r);break e;case 11:t=La(null,t,i,e,r);break e;case 14:t=Fa(null,t,i,Zi(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Va(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ga(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 3:if(Wa(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,po(e,t),mo(t,n,null,r),(n=t.memoizedState.element)===i)Ra(),t=Za(e,t,r);else{if((i=t.stateNode.hydrate)&&(_a=xr(t.stateNode.containerInfo.firstChild),xa=t,i=ka=!0),i)for(r=Mo(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Da(e,t,n,r),Ra();t=t.child}return t;case 5:return No(t),null===e&&Ca(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Tr(n,i)?s=null:null!==o&&Tr(n,o)&&(t.effectTag|=16),ja(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Da(e,t,s,r),t=t.child),t;case 6:return null===e&&Ca(t),null;case 13:return Ya(e,t,r);case 4:return Lo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Co(t,null,n,r):Da(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,La(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 7:return Da(e,t,t.pendingProps,r),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(hi(Qi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Gn(l,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!gi.current){t=Za(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var p=c.firstContext;null!==p;){if(p.context===n&&0!==(p.observedBits&o)){1===l.tag&&((p=uo(r,null)).tag=2,ho(l,p)),l.expirationTime<r&&(l.expirationTime=r),null!==(p=l.alternate)&&p.expirationTime<r&&(p.expirationTime=r),oo(l.return,r),c.expirationTime<r&&(c.expirationTime=r);break}p=p.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Da(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,ao(t,r),n=n(i=so(i,o.unstable_observedBits)),t.effectTag|=1,Da(e,t,n,r),t.child;case 14:return o=Zi(i=t.type,t.pendingProps),Fa(e,t,i,o=Zi(i.type,o),n,r);case 15:return Na(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(n)?(e=!0,Ei(t)):e=!1,ao(t,r),wo(t,n,i),xo(t,n,i,r),Ua(null,t,n,!0,e,r);case 19:return Ja(e,t,r)}throw Error(a(156,t.tag))};var Cl=null,Ml=null;function Pl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Rl(e,t,r,n){return new Pl(e,t,r,n)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bl(e,t){var r=e.alternate;return null===r?((r=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dl(e,t,r,n,i,o){var s=2;if(n=e,"function"===typeof e)Il(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case re:return Ll(r.children,i,o,t);case se:s=8,i|=7;break;case ne:s=8,i|=1;break;case ie:return(e=Rl(12,r,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Rl(13,r,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case pe:return(e=Rl(19,r,t,i)).elementType=pe,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case ue:s=14;break e;case de:s=16,n=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=o,t}function Ll(e,t,r,n){return(e=Rl(7,e,n,t)).expirationTime=r,e}function Fl(e,t,r){return(e=Rl(6,e,null,t)).expirationTime=r,e}function Nl(e,t,r){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Vl(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Gl(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ul(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Wl(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function zl(e,t,r,n){var i=t.current,o=el(),s=yo.suspense;o=tl(o,i,s);e:if(r){t:{if(et(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(bi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var c=r.type;if(bi(c)){r=wi(r,c,l);break e}}r=l}else r=fi;return null===t.context?t.context=r:t.pendingContext=r,(t=uo(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ho(i,t),rl(i,o),o}function Hl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $l(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Xl(e,t){$l(e,t),(e=e.alternate)&&$l(e,t)}function Yl(e,t,r){var n=new jl(e,t,r=null!=r&&!0===r.hydrate),i=Rl(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,co(i),e[Cr]=n.current,r&&0!==t&&function(e,t){var r=Qe(t);Ot.forEach((function(e){mt(e,t,r)})),At.forEach((function(e){mt(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ql(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Hl(a);s.call(e)}}zl(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Yl(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Hl(a);l.call(e)}}cl((function(){zl(t,a,e,i)}))}return Hl(a)}function Jl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Zl(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kl(t))throw Error(a(200));return Jl(e,t,null,r)}Yl.prototype.render=function(e){zl(e,this._internalRoot,null,null)},Yl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;zl(null,e,null,(function(){t[Cr]=null}))},gt=function(e){if(13===e.tag){var t=Ji(el(),150,100);rl(e,t),Xl(e,t)}},yt=function(e){13===e.tag&&(rl(e,3),Xl(e,3))},vt=function(e){if(13===e.tag){var t=el();rl(e,t=tl(t,e,null)),Xl(e,t)}},A=function(e,t,r){switch(t){case"input":if(_e(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ir(n);if(!i)throw Error(a(90));Te(n),_e(n,i)}}}break;case"textarea":Re(e,r);break;case"select":null!=(t=r.value)&&Ce(e,!!r.multiple,t,!1)}},B=ll,D=function(e,t,r,n,i){var o=Ps;Ps|=4;try{return $i(98,e.bind(null,t,r,n,i))}finally{0===(Ps=o)&&Ki()}},L=function(){0===(49&Ps)&&(function(){if(null!==qs){var e=qs;qs=null,e.forEach((function(e,t){Wl(t,e),ol(t)})),Ki()}}(),El())},F=function(e,t){var r=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=r)&&Ki()}};var Ql={Events:[Pr,Rr,Ir,k,E,Vr,function(e){ot(e,jr)},R,I,Zt,lt,El,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Cl=function(e){try{t.onCommitFiberRoot(r,e,void 0,64===(64&e.current.effectTag))}catch(n){}},Ml=function(e){try{t.onCommitFiberUnmount(r,e)}catch(n){}}}catch(n){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mr,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ql,t.createPortal=Zl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ps))throw Error(a(187));var r=Ps;Ps|=1;try{return $i(99,e.bind(null,t))}finally{Ps=r,Ki()}},t.hydrate=function(e,t,r){if(!Kl(t))throw Error(a(200));return ql(null,e,t,!0,r)},t.render=function(e,t,r){if(!Kl(t))throw Error(a(200));return ql(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[Cr]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_createPortal=function(e,t){return Zl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Kl(r))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return ql(e,t,r,!1,n)},t.version="16.14.0"},function(e,t,r){"use strict";e.exports=r(355)},function(e,t,r){"use strict";var n,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,p=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(r){throw setTimeout(p,0),r}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(p,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var v=!1,b=null,S=-1,T=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):T=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,x=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();w=e+T;try{b(!0,e)?x.postMessage(null):(v=!1,b=null)}catch(r){throw x.postMessage(null),r}}else v=!1},n=function(e){b=e,v||(v=!0,x.postMessage(null))},i=function(e,r){S=f((function(){e(t.unstable_now())}),r)},o=function(){m(S),S=-1}}function _(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<A(i,t)))break e;e[n]=t,e[r]=i,r=n}}function k(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>A(a,r))void 0!==l&&0>A(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==l&&0>A(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function A(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var C=[],M=[],P=1,R=null,I=3,B=!1,D=!1,L=!1;function F(e){for(var t=k(M);null!==t;){if(null===t.callback)O(M);else{if(!(t.startTime<=e))break;O(M),t.sortIndex=t.expirationTime,_(C,t)}t=k(M)}}function N(e){if(L=!1,F(e),!D)if(null!==k(C))D=!0,n(j);else{var t=k(M);null!==t&&i(N,t.startTime-e)}}function j(e,r){D=!1,L&&(L=!1,o()),B=!0;var n=I;try{for(F(r),R=k(C);null!==R&&(!(R.expirationTime>r)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,I=R.priorityLevel;var l=s(R.expirationTime<=r);r=t.unstable_now(),"function"===typeof l?R.callback=l:R===k(C)&&O(C),F(r)}else O(C);R=k(C)}if(null!==R)var c=!0;else{var p=k(M);null!==p&&i(N,p.startTime-r),c=!1}return c}finally{R=null,I=n,B=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||B||(D=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return k(C)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var r=I;I=t;try{return e()}finally{I=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=I;I=e;try{return t()}finally{I=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:V(e)}else a=V(e),l=s;return e={id:P++,callback:r,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,_(M,e),null===k(C)&&e===k(M)&&(L?o():L=!0,i(N,l-s))):(e.sortIndex=a,_(C,e),D||B||(D=!0,n(j))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var r=k(C);return r!==R&&null!==R&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=I;return function(){var r=I;I=t;try{return e.apply(this,arguments)}finally{I=r}}}},function(e,t,r){"use strict";var n=r(357);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=r(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,p=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(p=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:p,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,p=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case p:case h:case y:case g:case c:return e;default:return t}}case o:return t}}}function E(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=p,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||w(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===p},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===l||e===s||e===f||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===p||e.$$typeof===h||e.$$typeof===b||e.$$typeof===S||e.$$typeof===T||e.$$typeof===v)},t.typeOf=w},function(e,t,r){"use strict";var n=r(103),i=r(362),o=r(366),a=r(367)||0;function s(){return i(a)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return n.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&n.characters(e),n.shuffled()},e.exports.isValid=o},function(e,t,r){"use strict";var n=1;e.exports={nextValue:function(){return(n=(9301*n+49297)%233280)/233280},seed:function(e){n=e}}},function(e,t,r){"use strict";var n,i,o=r(363);r(103);e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1567752802062));return r===i?n++:(n=0,i=r),t+=o(7),t+=o(e),n>0&&(t+=o(n)),t+=o(r)}},function(e,t,r){"use strict";var n=r(103),i=r(364),o=r(365);e.exports=function(e){for(var t,r=0,a="";!t;)a+=o(i,n.get(),1),t=e<Math.pow(16,r+1),r++;return a}},function(e,t,r){"use strict";var n,i="object"===typeof window&&(window.crypto||window.msCrypto);n=i&&i.getRandomValues?function(e){return i.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=n},function(e,t){e.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*r/t.length),o="";;)for(var a=e(i),s=i;s--;)if((o+=t[a[s]&n]||"").length===+r)return o}},function(e,t,r){"use strict";var n=r(103);e.exports=function(e){return!(!e||"string"!==typeof e||e.length<6)&&!new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},function(e,t,r){"use strict";e.exports=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCOOLCODE_RUNTIME_SYMBOL=void 0,t.SCOOLCODE_RUNTIME_SYMBOL=Symbol("SCOOLCODE_RUNTIME_SYMBOL")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageMixinCollection=void 0;t.LanguageMixinCollection=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeWarning=t.RuntimeError=t.RuntimeErrorBase=void 0;const n=r(2),i={ERROR_TYPE:"RUNTIME ERROR",INVALID_TARGET:"Invalid reference target.",FUNCTION_BOUNDARY:"Jump target cannot cross function boundary.",INVALID_FUNCTION:"Attempt to call a non-function: {0}",INVALID_FUNCTION_SCOPE:"Cannot execute in the provided scope: {0}.{1}",UNDECLARED_VARIABLE:"Attempt to read undeclared variable: {0}.",UNDECLARED_PROPERTY:"Attempt to write undeclared property: {0}",REDECLARATION_METHOD:"Cannot redeclare method {0} in {1}.",REDECLARATION_PROPERTY:"Cannot redeclare property {0} in {1}.",REDECLARATION_EVENT:"Cannot redeclare event {0} in {1}.",MISSING_PARAMETER:"You have provided too few parameters for the method {0}.",ACCESS_CONSTRUCTOR:"Cannot instantiate {0}. The class has no public constructor.",ACCESS_ASYNC_METHOD:"The method {0} is not async.",ACCESS_GET_PROPERTY:"The property {0} has no getter defined.",ACCESS_SET_PROPERTY:"The property {0} has no setter defined.",EVENT_DATA:"Event data is unavailable.",UNSELECTED_VARIABLE:"Please select a variable name from the dropdown.",UNSELECTED_FUNCTION:"Please select a function name from the dropdown.",FOREVER_SETUP:"Looping forever is ignored in the setup event. Use the started event for infinite loops.",MISSING_REFERENCE:"A reference parameter is expected with {0}.",UNEXPECTED_TOKEN:"Unexpected token ILLEGAL. Hmm... you should check your code.",INVALID_ARGUMENT:"Function {0} is called with an invalid argument."};class o{constructor(e,t,r=null,...n){this.actionListScope=e,this.code=t,this.range=r,this.message=o.mapCodeToMessage(t,n)||t}get line(){return this.range.line}get char(){return this.range.char}static mapCodeToMessage(e,t){o.errorType||(o.errorType=n.LocalisationService.Default.getValue("RuntimeError:ERROR_TYPE",i.ERROR_TYPE));const r="RuntimeError:"+e;let a=n.LocalisationService.Default.hasValue(r)?n.LocalisationService.Default.getValue(r,i[e]):e;return a&&t.forEach(((e,t)=>a=a.replace(`{${t}}`,e))),a}}t.RuntimeErrorBase=o;t.RuntimeError=class extends o{};t.RuntimeWarning=class extends o{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeObject=void 0;t.RuntimeObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeRegistry=void 0;class n{static getAll(){return Object.values(n.types).filter((e=>!e.disabled))}static register(e,t){this.types[e]=t}static unregister(e){this.types[e]=null,delete this.types[e]}static resolve(e){return this.types[this.overrides[e]||e]||null}static registerOverride(e,t){this.overrides[e]=t}static deleteOverride(e){delete this.overrides[e]}static rename(e,t){const r=this.types[e];r&&(delete this.types[e],this.types[t]=r)}}t.TypeRegistry=n,n.types={},n.overrides={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemberInfo=t.MemberType=void 0,t.MemberType={Event:"event",Method:"function",Property:"variable",TypeInfo:"type"};t.MemberInfo=class{constructor(e,t){this.private=!1,this.disabled=!1,this.setName(e),this.type=t,this.blockDefinitions=[]}markAsPrivate(){return this.private=!0,this}get blockDefinition(){return this.blockDefinitions[0]}set blockDefinition(e){this.blockDefinitions.push(e)}getBlockForParams(e=0){if(e)for(const t of this.blockDefinitions)if(t.paramCount==e)return t;return this.blockDefinition}get name(){return this._name}setName(e){this._name=this.localeName=e}get fullName(){return this.declaringType?`${this.declaringType.fullName}.${this.name}`:this.name}get fullLocaleName(){return this.declaringType?`${this.declaringType.fullLocaleName}.${this.localeName}`:this.localeName}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationOrAction=t.InfoItemWrapperAction=t.ValueLiteralAction=t.BaseLiteralAction=t.LiteralAction=t.UnaryOperatorAction=t.OperatorAction=t.ReadIndexerAction=t.UpdatableAction=t.LoopAction=t.ActionBase=void 0;class n{description(){return""}get parameters(){return null}}t.ActionBase=n;t.LoopAction=class extends n{};class i extends n{constructor(){super(...arguments),this.getter=e=>this.executor(e)}get blockColor(){return this._blockColor}}t.UpdatableAction=i;t.ReadIndexerAction=class extends i{};t.OperatorAction=class extends n{constructor(e,t,r=!1){super(),this.left=e,this.right=t,this.grouped=r}};t.UnaryOperatorAction=class extends n{constructor(e,t=!1){super(),this.action=e,this.grouped=t}description(){return this.action?this.action.description():""}};class o extends n{get value(){return this._value}set value(e){this._value=e}}t.LiteralAction=o;class a extends o{executor(){const e=this;return async()=>e.value}block(e){return null}get value(){return this._value}set value(e){this._value=e}}t.BaseLiteralAction=a;t.ValueLiteralAction=class extends a{};t.InfoItemWrapperAction=class extends n{constructor(e){super(),this.action=e}executor(e){return this.action.executor(e)}grammar(){return this.action.grammar()}block(e){const t=this.action.block(e);return t.action=this,t}};t.DeclarationOrAction=class extends n{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlFlowException=t.ControlFlowCommand=void 0,function(e){e[e.Break=10]="Break",e[e.Continue=11]="Continue",e[e.Return=20]="Return",e[e.Deactivate=25]="Deactivate",e[e.Terminate=30]="Terminate"}(t.ControlFlowCommand||(t.ControlFlowCommand={}));t.ControlFlowException=class{constructor(e,t){this.command=e,this.value=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallAliasingRuleManager=t.CallAliasingRule=void 0;class n{constructor(e,t,r,n){this.method=e,this.alias=t,this.language=r,this.verifyScope="function"===typeof n?n:e=>typeof e===n}}t.CallAliasingRule=n;class i{static register(e,t,r,i){this.rules.push(new n(e,t,r,i))}static findForMethod(e,t,r){return e.declaringType?this.rules.find((r=>r.method===e&&r.language===t)):this.findForMethodName(e.name,t,r)}static findForMethodName(e,t,r){const n=this.rules.find((r=>r.method.name===e&&r.language===t));return n&&"undefined"!==typeof r?n.verifyScope(r)?n:null:n}}t.CallAliasingRuleManager=i,i.rules=[]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseEscapes=void 0;class State{constructor(){this.index=0,this.input="",this.char="",this.lookahead="",this.lookahead2="",this.lookback="",this.value=""}begin(e){this.input=e,this.index=0,this.lookback="",this.char=this.input[this.index],this.lookahead=this.input[this.index+1],this.lookahead2=this.input[this.index+2]}next(){this.lookback=this.char,this.char=this.input[++this.index],this.lookahead=this.input[this.index+1],this.lookahead2=this.input[this.index+2]}add(e=null){e?this.value+=e:this.char&&(this.value+=this.char)}}const constants={zeroCharacter:"0",nul:"\0",escapeMarker:"\\",escapeCharacters:"'\"\\bfnrtv",hexMarker:"x",unicodeMarker:"u",hexDigits:"0123456789abcdefABCDEF",digits:"0123456789"},utils={hexEscape:function(state){state.next();let hexValue="";for(let e=0;e<2;e++)hexValue+=state.char,state.next();state.add(eval('"\\x'+hexValue+'""'))},unicodeEscape:function(state){state.next();let hexValue="";for(let e=0;e<4;e++)hexValue+=state.char,state.next();state.add(eval('"\\u'+hexValue+'"'))},decimalEscape:function(state){state.next();let hexValue="";for(;-1!==constants.digits.indexOf(state.char);)hexValue+=state.char,state.next();state.add(eval('"\\'+constants.nul+hexValue+'"'))}};function parseEscapes(input){const state=new State;for(state.begin(input);state.char;)state.char===constants.escapeMarker?(state.next(),state.char===constants.hexMarker?utils.hexEscape(state):state.char===constants.unicodeMarker?utils.unicodeEscape(state):state.char===constants.zeroCharacter?utils.decimalEscape(state):-1!==constants.escapeCharacters.indexOf(state.char)?(state.add(eval('"\\'+state.char+'"')),state.next()):(state.add(),state.next())):(state.add(),state.next());return state.value}exports.parseEscapes=parseEscapes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockParameterBinding=void 0;class n{constructor(e,t,r,n,i,o=!0){this.getter=e,this.setter=t,this.block=r,this.propertyKey=n,this.targetObject=i,this.isShadow=o}read(){return this.getter()}write(e){this.setter(e),this.block.reset()}clone(e=null){return new n(this.getter,this.setter,e||this.block,this.propertyKey,this.targetObject)}}t.BlockParameterBinding=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImmutableReference=void 0;t.ImmutableReference=class{static for(e){return e?{id:e.id,typeRef:e.typeRef}:{id:"undefined",typeRef:"undefined"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockProgramList=void 0;const n=r(49);class i{constructor(e,t=[]){this.typeRef="BlockProgram",this.id=n.generate(),this.target=e,this.children=t||[]}child(e){return this.children.push(e),this}clone(){const e=new i(this.target,[...this.children]);return e.id=this.id,e}}t.BlockProgramList=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DummyPartLoader=void 0;t.DummyPartLoader=class{compileSource(e,t){return Promise.resolve(null)}loadPartContainer(e){return Promise.resolve(null)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualParserUtils=void 0;t.ContextualParserUtils=class{static isInContext(e,t){if(!e)return!1;let r=e;do{if(r.type&&r.type.name===t)return!0;r=r.parent}while(r);return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafeArray=void 0;t.SafeArray=class extends Array{constructor(){super(...arguments),this.taskQueue=[],this.processing=!1}tick(){if(!this.processing){for(this.processing=!0;this.taskQueue.length;)this.taskQueue.shift()();this.processing=!1}}async addAsync(...e){return new Promise((t=>{this.taskQueue.push((()=>t(this.push(...e)))),this.tick()}))}async popAsync(){return new Promise((e=>{this.taskQueue.push((()=>e(this.pop()))),this.tick()}))}async shiftAsync(){return new Promise((e=>{this.taskQueue.push((()=>e(this.shift()))),this.tick()}))}async removeAsync(e){return new Promise((t=>{this.taskQueue.push((()=>{const r=this.indexOf(e);-1!==r&&this.splice(r,1),t()})),this.tick()}))}async findAndRemoveAsync(e){return new Promise((t=>{this.taskQueue.push((()=>{const r=this.findIndex(e);-1!==r&&this.splice(r,1),t()})),this.tick()}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeEnv=void 0,t.runtimeEnv="undefined"!==typeof window&&window&&window._env_?window._env_:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIndexRange=t.deleteRange=t.indexRange=void 0,t.indexRange=function(e,t,r){return Array.isArray(r)||"string"===typeof r||"function"===typeof(null===r||void 0===r?void 0:r.slice)&&"number"===typeof(null===r||void 0===r?void 0:r.length)?(e=null===e?0:e,t=null===t?r.length:t,r.slice(e,t)):null},t.deleteRange=function(e,t,r){return Array.isArray(r)||"string"===typeof r||"function"===typeof(null===r||void 0===r?void 0:r.slice)&&"number"===typeof(null===r||void 0===r?void 0:r.length)?(e=null===e?0:e,t=null===t?r.length:t,r.splice(e,t-e)):null},t.setIndexRange=function(e,t,r,n){e=null===e?0:e;const i=(t=null===t?r.length:t)-e;if(Array.isArray(r)||"function"===typeof(null===r||void 0===r?void 0:r.splice)&&"number"===typeof(null===r||void 0===r?void 0:r.length))return r.splice(e,i,...n),r;if("string"===typeof r){const t=[...r];return t.splice(e,i,...n),t.join("")}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;class n{constructor(){this.handlers=[]}emit(e){this.handlers.forEach((t=>t(...e)))}emitAsync(e){return Promise.all(this.handlers.map((t=>t(...e))))}}t.EventEmitter=class{constructor(){this.events={},this.enabled=!0,this.on=(e,t)=>{const r=this.events[e]||(this.events[e]=new n);r.disabled||r.handlers.push(t)},this.off=(e,t)=>{const r=this.events[e];if(r){const e=r.handlers.indexOf(t);-1!==e&&r.handlers.splice(e,1)}},this.emitAsync=async(e,...t)=>{if(this.enabled){const r=this.events[e];if(r)return await r.emitAsync(t)}},this.emit=(e,...t)=>{if(this.enabled){const r=this.events[e];r&&r.emit(t)}},this.disable=e=>{const t=this.events[e];t&&(t.disabled=!0,t.handlers=[])}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LexicalEnvironment=t.Reference=void 0;class n{constructor(e,t=!0,r=!0){this._value=void 0,this._name=e,this._mutable=t,this._deletable=r}get name(){return this._name}get isMutable(){return this._mutable}get isDeletable(){return this._deletable}get value(){return this._value}setValue(e){return!(!this._mutable&&this.initialised)&&(this._value=e,this.initialised=!0)}rename(e){this._name=e}}class i{constructor(e,t){this.name=e,this.value=t}}t.Reference=i;t.LexicalEnvironment=class{constructor(e,t=!1){this.bindings=[],this._parent=e}getBinding(e){return this.bindings.find((t=>t.name===e))}attach(e){this.bindings=e.bindings}hasBinding(e){return!!this.getBinding(e)}createMutableBinding(e,t=!0){return!this.hasBinding(e)&&(this.bindings.push(new n(e,!0,t)),!0)}setMutableBinding(e,t){const r=this.getBinding(e);return!!r&&r.setValue(t)}createImmutableBinding(e){return!this.hasBinding(e)&&(this.bindings.push(new n(e,!1,!1)),!0)}initializeImmutableBinding(e,t){const r=this.getBinding(e);return!!r&&r.setValue(t)}getBindingValue(e){const t=this.getBinding(e);if(t)return t.value}deleteBinding(e,t=!1){const r=this.getBinding(e);return!r||((r.isDeletable||t)&&this.bindings.splice(this.bindings.indexOf(r),1),r.isDeletable||t)}renameBinding(e,t){const r=this.getBinding(e);return!!r&&(r.rename(t),!0)}get implicitThisValue(){return this.getBindingValue("this")}get parent(){return this._parent}get isGlobal(){return null===this._parent}get isBlockOnly(){return this._blockOnly}get nonBlockOnlyParent(){let e=this;do{e=e.parent}while(e.isBlockOnly);return e}async getIdentifierReference(e){const t=this.getBinding(e);return t?new i(e,t.value):this.parent?this.parent.getIdentifierReference(e):null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartCache=void 0;const n=r(2);class i{constructor(){this.partContainerCache={},n.runtimeEnv&&"test"===n.runtimeEnv.NODE_ENV||setInterval((()=>this.clear()),3e5)}resolve(e){return this.partContainerCache[e]||{ct:!1,builder:!1}}store(e,t){this.partContainerCache[e]=t}clear(){this.partContainerCache={},console.log("PartCache: clear")}}t.PartCache=i,i.Instance=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeUtils=void 0;const n=r(2);class i{static extractRuntimeBinding(e){if(e.alternatives){const t=[];if(e.alternatives.forEach((e=>{t.includes(e.name)||t.push(e.name)})),1==t.length)return e.alternatives[0].runtimeBinding}return e!==e.original&&e.original?i.extractRuntimeBinding(e.original):e!==e.returnType&&e.returnType?i.extractRuntimeBinding(e.returnType):"ActorParts"===e.name?e.baseType.runtimeBinding:e.runtimeBinding}static stringify(e){return"union"===e.name||e.guess?`(${e.alternatives.map((e=>i.stringify(e))).join("|")})`:e.name}static cloneType(e,t=!1){return{name:e.name,baseType:e.baseType,implements:e.implements?[...e.implements]:void 0,fields:e.fields,events:e.events,internal:e.internal,hash:e.hash,guid:e.guid,mutable:e.mutable,guess:t}}static deepCloneType(e,t=[],r=!1){const n=i.cloneType(e,r);return n.fields=i.deepReplace(e.fields,e,n,t),n}static deepReplace(e,t,r,n=[]){const i=[t],o=[r],a=e=>{const t=i.indexOf(e);if(-1!==t){return e!==o[t]&&o[t]}i.push(e);const r=i.length-1;let s=!1;if(Array.isArray(e)){const t=[];return o.push(t),t.push(...e.map((e=>{const t=a(e);return t?(s=!0,t):e}))),s?t:(o[r]=e,!1)}if("object"===typeof e&&(null===e||void 0===e?void 0:e.hasOwnProperty)&&!n.includes(e)){const t={};o.push(t);for(let r in e)if(e.hasOwnProperty(r)){const n=e[r];if("runtimeBinding"===r||"options"===r)t[r]=n;else if(Array.isArray(n)||"object"===typeof n){const e=a(n);e?(s=!0,t[r]=e):t[r]=n}else t[r]=n}return s?t:(o[r]=e,!1)}return o[r]=e,!1},s=a(e);return s||e}static constructGuess(e=null,t=!1){const r=[];if(e){for(let t of e)t&&!r.includes(t)&&r.push(t);if(!r.length)return null;if(1===r.length)return r[0]}const n=[],i=[];for(let o of r)o&&o.baseType&&!i.includes(o.baseType.name)&&(i.push(o.baseType.name),n.push(o.baseType));return{name:`(${r.map((e=>e.name)).sort().join("|")})`,baseType:1===n.length?n[0]:null,fields:[],events:[],guess:!t,alternatives:r}}static guessField(e,t,r){if(e.alternatives){if(e.baseType){const n=i.getField(e.baseType,t,r);if(n)return n}let n=[],o=[];for(let a of e.alternatives){const e=i.getField(a,t,r);e&&!o.some((t=>t===e))&&(o.push(e),n.push(a))}if(1===n.length){const t=n[0];return e.original=t,e.name=t.name,e.baseType=t.baseType,e.implements=t.implements,e.fields=t.fields,e.events=t.events,e.internal=t.internal,e.hash=t.hash,e.guid=t.guid,e.mutable=!0,e.guess=!1,e.alternatives=null,o[0]}if(n.length){const r=o.map((e=>e.type));if(0===o.length)return o[0];const a={name:t,type:{name:`[guess for ${t}]`,baseType:null,fields:[],events:[],guess:!0,mutable:!0,returnType:i.constructGuess(r.map((e=>e.returnType))),alternatives:r},value:null};return e.guess&&(e.alternatives=n,e.name=`(${n.map((e=>e.name)).sort().join("|")})`),e.fields.push(a),a}return null}const n=i.resolveIdentifierAnywhere(r,t);if(1===n.length){const t=n[0].type;return e.original=t,e.name=t.name,e.baseType=t.baseType,e.implements=t.implements,e.fields=t.fields,e.events=t.events,e.internal=t.internal,e.hash=t.hash,e.guid=t.guid,e.mutable=!0,e.guess=!1,e.alternatives=null,n[0].field}if(n.length){e.guess&&(e.alternatives=n.map((e=>e.type)),e.name=`(${e.alternatives.map((e=>e.name)).sort().join("|")})`);const r={name:t,type:{name:`[guess for ${t}]`,baseType:null,fields:[],events:[],guess:!0,mutable:!0,alternatives:n.map((e=>e.field.type))},value:null};return e.fields.push(r),r}return null}static getEvent(e,t){return e?e.events.find((e=>e.name===t))||i.getEvent(e.baseType,t):null}static getField(e,t,r){return e?e===n.AnyType?{name:t,type:n.AnyType}:e===n.DynamicType?{name:t,type:n.DynamicType}:e.alternatives?i.guessField(e,t,r):e.fields.find((e=>e.name===t))||i.getField(e.baseType,t,r):null}static getFieldExplicit(e,t){if(!e)return null;if(e===n.AnyType)return null;if(e===n.DynamicType)return null;if(e.alternatives){if(e.guess){let r=[],n=[];for(let o of e.alternatives){const e=i.getFieldExplicit(o,t);e&&(n.some((t=>t===e))||n.push(e),r.push(o))}return e.alternatives=r,e.name=`(${r.map((e=>e.name)).sort().join("|")})`,1===n.length?n[0]:n.length?{name:t,type:i.constructGuess(n.map((e=>e.type))),options:{blockRoot:n.every((e=>{var t;return null===(t=e.options)||void 0===t?void 0:t.blockRoot})),readOnly:n.every((e=>{var t;return null===(t=e.options)||void 0===t?void 0:t.readOnly}))}}:null}for(let r of e.alternatives){const e=i.getFieldExplicit(r,t);if(e)return e}}return e.fields.find((e=>e.name===t))||i.getFieldExplicit(e.baseType,t)}static isMember(e,t){return!(!e.properties||!e.properties.find((e=>e.name===t)))||(!(!e.methods||!e.methods.find((e=>e.name===t)))||!(!e.userMethods||!e.userMethods.find((e=>e.name===t))))}static isBuiltInObjectype(e){return e&&e instanceof n.ScoolcodeBuiltInObjectInfoBase}static getTypeDefinition(e,t){return e.find((e=>e.name===t))}static resolveThisType(e){return e.kind===n.ContextualLevelKind.Actor||e.kind===n.ContextualLevelKind.Stage?e.type:i.resolveThisType(e.parent)}static resolveStageType(e){return e.kind===n.ContextualLevelKind.Stage?e.type:i.resolveStageType(e.parent)}static resolveThisContext(e){return e.kind===n.ContextualLevelKind.Actor||e.kind===n.ContextualLevelKind.Stage?e:e.parent?i.resolveThisContext(e.parent):null}static resolveStageContext(e){return e.kind===n.ContextualLevelKind.Stage?e:e.parent?i.resolveStageContext(e.parent):null}static resolveTopStageContext(e,t){return e.kind===n.ContextualLevelKind.Stage&&(t=e),e.parent?i.resolveTopStageContext(e.parent,t):t}static resolveActorParentType(e){return e.kind===n.ContextualLevelKind.Actor?e.type:i.resolveThisType(e.parent)}static listAvailableIdentifiers(e){if(!e)return[];let t=[];if(e.returnedType)return e.returnedType.fields.filter((e=>!t.find((t=>t.name===e.name))));e.references&&t.push(...e.references.filter((e=>!t.find((t=>t.name===e.name))))),e.kind!==n.ContextualLevelKind.Function&&e.kind!==n.ContextualLevelKind.When||t.push(...e.type.fields.filter((e=>!t.find((t=>t.name===e.name)))));let r=e.parent;for(;r;)r.references&&t.push(...r.references.filter((e=>!t.find((t=>t.name===e.name))))),r=r.parent;for(r=e;r;)r.kind!==n.ContextualLevelKind.Actor&&r.kind!==n.ContextualLevelKind.Stage||t.push(...r.type.fields.filter((e=>!t.find((t=>t.name===e.name))))),r=r.parent;return t}static listAvailableFields(e){if(!e)return[];if(e.returnType)return i.listAvailableFields(e.returnType);let t=[];for(;e;)t.push(...e.fields.filter((e=>!t.find((t=>t.name===e.name))))),e=e.baseType;return t}static resolveIdentifier(e,t,r){if(!e)return null;if(e.returnedType){const n=i.getField(e.returnedType,t,r);if(n)return n}const o=(e.references||[]).find((e=>{var r;return e.name===t&&!(null===(r=e.options)||void 0===r?void 0:r.unresolved)}));if(o)return o;if(e.kind===n.ContextualLevelKind.Function||e.kind===n.ContextualLevelKind.When){const n=i.getField(e.type,t,r);if(n)return n}let a=e.parent;for(;a;){const e=(a.references||[]).find((e=>{var r;return e.name===t&&!(null===(r=e.options)||void 0===r?void 0:r.unresolved)}));if(e)return e;a=a.parent}return null}static resolvePrimaryContextUp(e){return e.kind===n.ContextualLevelKind.Actor||e.kind===n.ContextualLevelKind.Stage||e.kind===n.ContextualLevelKind.When||e.kind===n.ContextualLevelKind.Function||e.kind===n.ContextualLevelKind.Part||e.kind===n.ContextualLevelKind.Scene?e:e.parent?i.resolvePrimaryContextUp(e.parent):void 0}static resolveIdentifierUp(e,t,r){if(e.returnedType){const n=i.getField(e.returnedType,t,r);if(n)return{field:n,context:e}}if(e.kind===n.ContextualLevelKind.Actor||e.kind===n.ContextualLevelKind.Stage){const n=i.getField(e.type,t,r);if(n)return{field:n,context:e}}return e.parent?i.resolveIdentifierUp(e.parent,t,r):null}static resolveIdentifierOnStage(e,t,r){if(e.kind===n.ContextualLevelKind.Stage){const n=i.getField(e.type,t,r);if(n)return{field:n,context:e}}return e.parent?i.resolveIdentifierOnStage(e.parent,t,r):null}static isAnyOrDynamic(e){var t;return e===n.AnyType||e===n.DynamicType||(null===(t=e.alternatives)||void 0===t?void 0:t.some((e=>i.isAnyOrDynamic(e))))}static isAny(e){var t;return e===n.AnyType||(null===(t=e.alternatives)||void 0===t?void 0:t.some((e=>i.isAny(e))))}static narrowToAnyOrDynamic(e){if(e===n.AnyType||e===n.DynamicType)return e;for(let t of e.alternatives)if(i.isAnyOrDynamic(t))return i.narrowToAnyOrDynamic(t);return e}static isStronglyDerivedFrom(e,t,r=-1){var n,o,a;return 0!==r&&(e&&(e.name===t.name||t.alternatives&&(null===(n=t.alternatives)||void 0===n?void 0:n.some((t=>i.isStronglyDerivedFrom(e,t,r))))||e.alternatives&&(null===(o=e.alternatives)||void 0===o?void 0:o.some((e=>i.isStronglyDerivedFrom(e,t,r))))||i.isStronglyDerivedFrom(e.baseType,t,r-1)||(null===(a=e.implements)||void 0===a?void 0:a.some((e=>i.isStronglyDerivedFrom(e,t,r))))))}static isDerivedFrom(e,t){var r,o,a;return e&&t&&(e===n.AnyType||e===n.DynamicType||e.name===t.name||t.alternatives&&(null===(r=t.alternatives)||void 0===r?void 0:r.some((t=>i.isDerivedFrom(e,t))))||e.alternatives&&(null===(o=e.alternatives)||void 0===o?void 0:o.some((e=>i.isDerivedFrom(e,t))))||i.isDerivedFrom(e.baseType,t)||(null===(a=e.implements)||void 0===a?void 0:a.some((e=>i.isDerivedFrom(e,t)))))}static isLiteralType(e){if(e.alternatives)return e.alternatives.every((e=>i.isLiteralType(e)));for(const t in n.LiteralTypes)if(i.isStronglyDerivedFrom(e,n.LiteralTypes[t]))return!0;return!!e.name&&!!n.LiteralTypes[e.name.toLowerCase()]}static resolveIdentifierAnywhere(e,t,r=null){const o=new Set;for(let n of e.types)n.baseType&&(o.add(n.baseType),n.baseType.fields.map((e=>o.add(e.type.returnType||e.type))));const a=[...n.AllTypes,...e.types,...Array.from(o),...n.ExtraTypes.ClassTypes],s=[];for(let n of a){let e=i.getFieldExplicit(n,t);if(e&&((!r||e.type&&i.isDerivedFrom(e.type,r))&&e)){for(s.some((e=>i.isSame(e.type,n)))||s.push({type:n,field:e});n.baseType;){const r=i.getFieldExplicit(n.baseType,t);if(!r)break;n=n.baseType,e=r}if(s.some((e=>i.isSame(e.type,n))))continue;s.push({type:n,field:e})}}return s}static resolveMethodAnywhere(e,t,r,o){const a=i.resolveIdentifierAnywhere(e,t,n.FunctionBaseType),s=[];for(let n of a)i.checkCallParameterTypes({type:n.field.type,items:r},o).ok&&s.push(n);return s}static checkCallParameterTypes(e,t){var r,o,a,s,l;if(!e.type)return{ok:!0};if(e.type.name===n.FunctionBaseType.name)return{ok:!0};if(i.isAnyOrDynamic(e.type))return{ok:!0};const c=e.type.alternatives||[e.type],p=[];let u,d;e:for(let n of c){let c=null;(null===(o=null===(r=n.fields[n.fields.length-1])||void 0===r?void 0:r.options)||void 0===o?void 0:o.repeatable)&&(c=n.fields[n.fields.length-1].type);for(let r=0;r<e.items.length;r++){const o=e.items[r],s=(null===(a=n.fields[r])||void 0===a?void 0:a.type)||c;if(!s){u||t.getSymbol("ALLOW_TOO_MANY_PARAMS")||(u=["TOO_MANY_PARAMS",o,""+n.fields.length,""+e.items.length]),!d&&t.getSymbol("ALLOW_TOO_MANY_PARAMS")&&(d=["TOO_MANY_PARAMS",o,""+n.fields.length,""+e.items.length]);continue e}const l=o.returnedType||o.type;if(!i.isAnyOrDynamic(s)&&!i.isDerivedFrom(l,s)&&!i.canAccept(s,l)){u||t.getSymbol("ALLOW_INVALID_PARAM_TYPE")||(u=["INVALID_PARAM_TYPE",o,i.stringify(s),i.stringify(l)]),!d&&t.getSymbol("ALLOW_INVALID_PARAM_TYPE")&&(d=["INVALID_PARAM_TYPE",o,i.stringify(s),i.stringify(l)]);continue e}}if(!u&&!t.getSymbol("ALLOW_TOO_FEW_PARAMS")){let t=0;for(let r=e.items.length;r<n.fields.length;r++){const e=n.fields[r];(null===(s=null===e||void 0===e?void 0:e.options)||void 0===s?void 0:s.mandatory)&&e.options.mandatory||t++}if(n.fields.length-t>e.items.length){u=["TOO_FEW_PARAMS",e,""+(n.fields.length-t),""+e.items.length];continue e}}if(!d&&!t.getSymbol("ALLOW_TOO_FEW_PARAMS")){let t=0;for(let r=e.items.length;r<n.fields.length;r++){const e=n.fields[r];(null===(l=null===e||void 0===e?void 0:e.options)||void 0===l?void 0:l.mandatory)&&e.options.mandatory||t++}if(n.fields.length-t>e.items.length){d=["TOO_FEW_PARAMS",e,""+(n.fields.length-t),""+e.items.length];continue e}}p.push(n)}return!p.length&&u?{ok:!1,error:u,warning:d}:{ok:!0,matches:p,warning:d}}static getActiveTypesInBranch(e,t){const r=e.controlFlowTypes.find((e=>e.controlFlowBranch===t&&e.version===t.version));if(r)return r.types;for(let i=e.rangedTypes.length-1;i>=0;i--){const r=e.rangedTypes[i];if(r.controlFlowBranch&&r.controlFlowBranch===t)return e.controlFlowTypes.push({types:[r.type],controlFlowBranch:t,version:t.version}),[r.type]}let n=[];for(let i of t.previous){const t=this.getActiveTypesInBranch(e,i);n=[...new Set([...n,...t])]}return e.controlFlowTypes.push({types:n,controlFlowBranch:t,version:t.version}),n}static getActiveType(e,t,r,n){var o;if(!t||!e.rangedTypes)return e.type;e.controlFlowTypes=e.controlFlowTypes||[];for(let i=e.rangedTypes.length-1;i>=0;i--){const r=e.rangedTypes[i];if(r.controlFlowBranch&&r.controlFlowBranch===t)return r.type}const a=(null===(o=e.controlFlowTypes.find((e=>e.controlFlowBranch===t)))||void 0===o?void 0:o.types)||i.getActiveTypesInBranch(e,t);return r&&n&&"()"!==r.name&&(0===a.length&&i.isAny(e.type)||1===a.length&&i.isAny(a[0])||a.length&&a.every((e=>e.guess&&e.alternatives.some((e=>i.isSame(e,r))))))?(e.rangedTypes.push({type:r,controlFlowBranch:t,from:n}),r):0===a.length?e.type:i.constructGuess(a,!0)}static gatherParamTypesInBranch(e,t){let r=[];for(let i of e.rangedTypes)if(i.controlFlowBranch&&i.controlFlowBranch===t){if(i.assignment)return r;r.push(i.type);break}let n=[],o=!1,a=!1;for(let s of t.next)if(-1===s.index)a=!0;else{const t=i.gatherParamTypesInBranch(e,s);t.length?n=[...n,...t]:o=!0}return o||a?[...r,...n]:n}static gatherParamType(e,t){const r=i.gatherParamTypesInBranch(e,t);return r.length?i.constructGuess(r,!0):e.type}static isSame(e,t){if(e&&t){if(e.alternatives||t.alternatives){const r=e.alternatives?[...e.alternatives]:[e],n=t.alternatives?[...t.alternatives]:[t];for(let e of r){const t=n.findIndex((t=>i.isSame(e,t)));if(-1===t)return!1;n.splice(t,1)}return 0===n.length}return e.name===t.name}return typeof e===typeof t}static canAccept(e,t){if(i.isSame(e,t))return!0;for(const r of n.AssignableTypes)if(r[0].name===e.name&&r[1].name===t.name||r[0].name===t.name&&r[1].name===e.name)return!0;return!1}static isValidEnumValue(e,t){return i.isSame(e.type,t.returnType)&&t.fields.some((t=>{var r;return(null===(r=null===t||void 0===t?void 0:t.options)||void 0===r?void 0:r.value)===e.options.value}))}static resolveGuess(e){return(null===e||void 0===e?void 0:e.guess)?e.alternatives[0]:e}}t.TypeUtils=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiLineCommentBuilder=t.LineCommentBuilder=t.MultiLineCommentBaseType=t.LineCommentBaseType=void 0;const n=r(2);t.LineCommentBaseType={name:"StageScript.LineComment",baseType:null,fields:[],events:[],internal:!0},t.MultiLineCommentBaseType={name:"StageScript.MultiLineComment",baseType:null,fields:[],events:[],internal:!0};t.LineCommentBuilder=class{constructor(e,t){this.tree=e,this.parser=t,this.counter=0}resetCounter(){this.counter=0}process(e,r,i){var o;const a="comment_"+ ++this.counter,s={baseType:t.LineCommentBaseType,returnType:n.AnyType,name:e.name,fields:[{name:"lineComment",type:t.LineCommentBaseType,value:e.items[0].value}],events:[]},l={name:a,range:e.range,type:s,kind:n.ContextualLevelKind.LineCommentStatement,parent:r,items:[],options:{macro:null===(o=e.options)||void 0===o?void 0:o.macro}},c={baseType:{baseType:null,events:[],fields:[],internal:!0,name:"StageScript.Literal"},events:[],fields:[],internal:!0,mutable:!1,name:"line",runtimeBinding:null},p={name:null,items:[],kind:n.ContextualLevelKind.Literal,options:{value:e.items[0].value,default:e.default},parent:l,range:e.range,type:c};return l.items.push(p),{name:a,type:s,value:l}}};t.MultiLineCommentBuilder=class{constructor(e,t){this.tree=e,this.parser=t,this.counter=0}resetCounter(){this.counter=0}process(e,r,i){const o="comment_"+ ++this.counter,a={baseType:t.MultiLineCommentBaseType,returnType:n.AnyType,name:e.name,fields:[{name:"multiLineComment",type:t.MultiLineCommentBaseType,value:e.items[0].value}],events:[]},s={name:o,range:e.range,type:a,kind:n.ContextualLevelKind.MultiLineCommentStatement,parent:r,items:[],options:{}},l={baseType:{baseType:null,events:[],fields:[],internal:!0,name:"StageScript.Literal"},events:[],fields:[],internal:!0,mutable:!1,name:"line",runtimeBinding:null},c={name:null,items:[],kind:n.ContextualLevelKind.Literal,options:{value:e.items[0].value,default:e.default},parent:s,range:e.range,type:l};return s.items.push(c),{name:o,type:a,value:s}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageMixinManager=void 0;class n{static register(e){this.get(e.language)||this.collections.push(e)}static get(e){return this.collections.find((t=>t.language===e))}}t.LanguageMixinManager=n,n.collections=[]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockPart=void 0;const n=r(2);class i{constructor(e,t,r){this.parent=n.ImmutableReference.for(e),this.content=t,this.list=r}clone(){return new i(this.parent,this.content,this.list)}}t.BlockPart=i},function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=t.Listener=t.waitForMillis=void 0;const i=r(2);r(183);const o=()=>Date.now();t.waitForMillis=async function(e){return new Promise(((t,r)=>{setTimeout((()=>{t()}),e)}))};class a{constructor(e,t,r){this.lastUpdateTime=0,this.instance=e,this.method=t,this.interval=r,this.targetMethod=this.method.bind(this.instance)}}t.Listener=a;class s{constructor(t=null){this.handlers=[],this.startTime=Date.now(),this.listeners=new Array,this.init=()=>{const t=this.restore();return"undefined"!==typeof e&&i.runtimeEnv&&"test"===i.runtimeEnv.NODE_ENV||(this.gameTickInterval=setInterval(this.gameTick,1)),t},this.restore=()=>("undefined"!==typeof e&&i.runtimeEnv&&"test"===i.runtimeEnv.NODE_ENV||(this.gameTickInterval&&(clearInterval(this.gameTickInterval),this.gameTickInterval=null),this.listeners=new Array,this.registerListener(this,this.tick,10),this.resolveAll(),s.Stage&&s.Stage.deleteMonitor(s.TimerName),this.startTime=Date.now()),this),this.show=(e=1)=>{let t=Math.max(Math.min(e,3),0);return s.Stage.createMonitor(s.TimerName,(async()=>this.read().toFixed(t)))},this.read=()=>(Date.now()-this.startTime)/1e3,this.reset=()=>{this.startTime=Date.now()},this.resolveAll=()=>{for(;this.handlers.length;)this.handlers.pop().resolve()},this.nextImmediate=60,this.delay=e=>e?1===e?0==--this.nextImmediate?(this.nextImmediate=60,new Promise((e=>n(e)))):Promise.resolve():new Promise((t=>{this.handlers.push({resolve:t,time:o()+e})})):Promise.resolve(),this.gameTick=()=>{const e=Date.now();this.updateListeners(e)},this.updateListeners=e=>{let t=[];for(let r of this.listeners)r.instance?e-r.lastUpdateTime>r.interval&&(r.lastUpdateTime=e,r.targetMethod()):t.push(0);for(let r of t)this.listeners.splice(r,1)},this.tick=()=>{const e=o(),t=[];for(let r of this.handlers)r.time<=e?r.resolve():t.push(r);this.handlers=t},this.init()}registerListener(e,t,r){if(this.listeners.findIndex((r=>r.instance===e&&r.method===t))>=0)return;const n=new a(e,t,r);return this.listeners.push(n),n}unregisterListener(e,t){const r=this.listeners.findIndex((r=>r.instance===e&&r.method===t));r<0||this.listeners.splice(r,1)}}t.Timer=s,s.TimerName="\ud83d\udd70\ufe0f",s.Default=new s}).call(this,r(32),r(401).setImmediate)},function(e,t,r){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(183),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(47))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionManager=void 0;const n=r(2);class i{constructor(){this.debugMode=!0,this.bloxMode=!0,this.running=!0,this.stopped=!1,this.paused=!1,this.pausedProgramatically=!1,this.shouldStep=!1,this.stepDoneTokens=[],this.cancelationTokens=[],this.breakpoint=()=>new Promise(((e,t)=>{this.stepDone(),this.stopped?(this.stopped=!1,this.running=!1,t(new n.ControlFlowException(n.ControlFlowCommand.Terminate,"stopped on breakpoint")),this.stoppedToken()):this.pausedProgramatically?(this.stepToken=e,this.stopToken=t,this.pausedProgramaticallyToken()):this.paused&&!this.shouldStep?(this.stepToken=e,this.stopToken=t,this.pausedToken()):(this.shouldStep=!1,this.paused||this.pausedProgramatically||!i.delay?e():n.Timer.Default.delay(i.delay).then(e))}))}static get loopDelay(){return i.isSetupEvent?1:i._loopDelay}static set loopDelay(e){i._loopDelay=e}stepDone(){this.stepDoneTokens.forEach((e=>e())),this.stepDoneTokens=[],this.running=!0}registerCancelationToken(e){return this.cancelationTokens.push(e),(...t)=>{e(...t);const r=this.cancelationTokens.indexOf(e);-1!==r&&this.cancelationTokens.splice(r,1)}}createCancelationTrigger(){let e;return{trigger:new Promise((t=>{e=this.registerCancelationToken(t)})),dispose:e}}isPaused(){return this.paused}isPausedProgramatically(){return this.pausedProgramatically}isStoppedOrPaused(){return this.paused||!this.running}pause(){return new Promise((e=>{this.pausedToken=e,this.paused=!0,this.running||e()}))}pauseProgramatically(){return new Promise((e=>{this.pausedProgramaticallyToken=e,this.pausedProgramatically=!0,this.running||e()}))}step(){return new Promise((e=>{for(;this.cancelationTokens.length;)this.cancelationTokens.pop()();this.stepDoneTokens.push(e),this.stepToken?(this.shouldStep=!1,this.stopToken=null,this.stepToken()):this.shouldStep=!0}))}resume(){for(this.paused=!1,this.stepToken&&(this.stopToken=null,this.stepToken());this.cancelationTokens.length;)this.cancelationTokens.pop()()}resumeProgramatically(){for(this.pausedProgramatically=!1,this.stepToken&&(this.stopToken=null,this.stepToken());this.cancelationTokens.length;)this.cancelationTokens.pop()()}stop(){return this.running?new Promise((e=>{for(this.paused=!1,this.pausedProgramatically=!1;this.cancelationTokens.length;)this.cancelationTokens.pop()();this.stopToken?(this.stepToken=null,this.stopToken(new n.ControlFlowException(n.ControlFlowCommand.Terminate,"stopToken")),e()):(this.stoppedToken=e,this.stopped=!0),setTimeout(e,500)})):Promise.resolve()}end(){this.stopped=!1,this.running=!1,this.stoppedToken&&this.stoppedToken()}static handleIndex(e){const t=i.Default.bloxMode?1:0,r=+e;return isNaN(r)||(e=r-t),e}}t.ExecutionManager=i,i.delay=0,i._loopDelay=1,i.defaultLoopDelay=1,i.glideDelay=.011,i.isSetupEvent=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalisationService=void 0;const n=r(2);class i{constructor(){this.extensions=[],this.events=new n.EventEmitter,this.on=this.events.on,this.off=this.events.off,this.file={metadata:{locale:""},data:{}},this.enData={}}loadFile(e){if(e.data){this.file=e,i.locale=e.metadata.locale;for(let t of this.extensions){const r=t.find((t=>t.metadata.locale===e.metadata.locale));r&&(e.data=Object.assign(Object.assign({},e.data),r.data))}this.events.emit("file",e)}}loadExtension(e){this.extensions.push(e);const t=e.find((e=>e.metadata.locale===this.file.metadata.locale));t&&(this.file.data=Object.assign(Object.assign({},this.file.data),t.data))}getValue(e,t=null){const r=this.file.data[e];return"undefined"===typeof r?null==t?e:t:r}getKey(e){return Object.keys(this.file.data).find((t=>this.file.data[t]===e))}hasValue(e){return!!this.file.data[e]}loadEnData(e){this.enData=e}getEnValue(e,t=null){const r=this.enData[e];return"undefined"===typeof r?null==t?e:t:r}hasEnValue(e){return!!this.enData[e]}}t.LocalisationService=i,i.Default=new i,i.locale=""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserWarning=t.ParserError=t.ParserErrorBase=void 0;const n=r(2),i={ASM:"Invalid asm statement found. This is a secret, but you cannot use `asm` as a name.",MISS_PROC:"Missing token processor.",FUNC_EXPR:"Function expressions are currently not supported. Please don't try to store a function as a variable.",OBJ_LITERAL:"Currently object literals are not supported.",ONLY_IN_WHEN:"Only variable declarations (including var, let, sound, scene and costume), functions and actor definitions are supported outside when statements. Please move this code into a when statement.",INVALID_BREAK:"You can only break a loop. So please only use the `break` keyword inside a for or while loop.",INVALID_CONTINUE:"You can only continue a loop. So please only use the `continue` keyword inside a for or while loop.",INVALID_RETURN:"You can only return from when statements and functions. So please only use the `return` keyword inside a when statement or function.",FUNCTION_WHEN:"You can only define functions in the stage and actors. Please don't try to define one inside a when statement or a function. Is there unfinished code above?",INVALID_NUMBER:"Invalid number, use decimal digits.",INVALID_TOKEN:"Invalid token found: {0}",INVALID_ASSIGNMENT:"Invalid assignment.",UNEXPECTED_TOKEN:"Unexpected token ILLEGAL. Hmm... you should check your code.",ILLEGAL_VARIABLE_NAME:"Illegal variable name: {0}. Please rename your variable.",ILLEGAL_IMPLICIT_PROPERTY_ACCESS:"Illegal implicit property access: {0}. Please use `self.` or `stage.`.",ILLEGAL_IDENTIFIER_NAME:"Illegal identifier name: {0}. Please rename it.",UNRESOLVED_IDENTIFIER:"Unresolved identifier: {0}.",UNRESOLVED_MEMBER:"This member may be undefined: {0}.",ILLEGAL_FUNCTION_NAME:"Illegal function name: {0}. Please rename your function.",NOT_A_METHOD:"Not a method: {0}.",UNRESOLVED_METHOD:"This method may be undefined: {0}.",REDECLARATION:"Redeclaration: {0}.",PROPERTY_INIT:"Properties cannot be initialized with identifiers or function calls: {0}",INVALID_PARAM_TYPE:"Invalid parameter type: {0}",TOO_MANY_PARAMS:"Too many parameters! Expected number of parameters: {0}",MISSING_DOUBLE_DOT:"Missing double dot.",EXPECTED_INDENT:"Expected an indented block.",UNEXPECTED_INDENT:"Too many indented blocks.",UNEXPECTED_DEDENT:"An ident is missing hire.",INVALID_MACRO:"Error in macro definition.",UNEXPECTED_EOF:"Unexpected end of file. Is there unfinished code above?",UNUSUAL_TOKEN:"Unexpected token. Hmm\u2026 it is very unusual.",ACTOR_NAME:"You must specify a name for every actor you define. Please write the name after the `actor` keyword.",VAR_NAME:"You must specify a name for every variable you define. Please write the name after the `var` or `let` keyword.",SOUND_NAME:"You must specify a name for every sound you define. Please write the name after the `sound` keyword.",COSTUME_NAME:"You must specify a name for every costume/backdrop/sound you define. Please write the name after the `costume`, `backdrop` or `sound` keyword.",FUNCTION_NAME:"You must specify a name for every function you define. Please write the name after the `function` keyword.",FUNCTION_PARAMS:"Missing function parameters. You must provide brackets even if your function has no parameters.",INVALID_WHEN:"You must specify a valid event name for every when statement.",PART_NAME:"You must specify a name for every part you define. Please write the name after the `part` keyword.",PART_TYPE:"You can create a part for an actor or for the stage.",RECORD_NAME:"You must specify a name for every record you declare. Please write the name after the `record` keyword.",USE_NAME:"Please provide the name of the part you intend to use. Please write the name after the `use` keyword.",ACTOR_STAGE:"There's unfinished code above, you cannot begin an actor here. Please define your actor directly in the stage.",SCENE_STAGE:"You can only define scenes inside the stage. Please define your scene directly in the stage.",SOUND_ACTOR:"You can only define sounds inside the stage and actors.",COSTUME_ACTOR:"You can only define costumes inside the stage and actors.",RECORD_ACTOR:"You can only define sounds inside the stage and actors.",USE_ACTOR_STAGE:"You can only use parts inside the stage or actors.",ACTOR_WHEN:"You cannot define actors inside when statements. Please define your actor directly in the stage.",SCENE_WHEN:"You cannot define backdrops inside when statements or functions. Please define your backdrop directly under the stage. Is there unfinished code above?",COSTUME_WHEN:"You cannot define costumes inside when statements or functions. Please define your costume directly under the actor. Is there unfinished code above?",SOUND_WHEN:"You cannot define sounds inside when statements or functions. Please define your sound directly under the actor. Is there unfinished code above?",WHEN_WHEN:"You cannot define when statements inside when statements or functions. Is there unfinished code above?",RECORD_WHEN:"You cannot declare records inside when statements or functions. Please declare your record directly under an actor or the stage. Is there unfinished code above?",USE_WHEN:"You cannot use parts inside when statements or functions. Plase use parts directly under actors or the stage.",STAGE_STAGE:"You cannot define a stage inside the stage. It would be repetitive, don't you think?",OUTSIDE_STAGE:"You must place your code inside a stage declaration. The previous } mark is the end of the stage.",COSTUME_PATH:"Please provide an URL for your costume/scene as a string. So please place your URL inside double quotes.",SOUND_PATH:"Please provide an URL for your sound as a string. So please place your URL inside double quotes.",LAYER_KEYWORD:"Please use the `layer` keyword for parallax layers.",LAYER_PATH:"Please provide an URL for your parallax layer as a string. So please place your URL inside double quotes.",LAYER_SPEED:"The layer speed should be a number.",USE_PATH:"Please provide an URL of the part as a string. So please place your URL inside double quotes.",INVALID_X:"You can provide the center point for your costume using an `x`. Please provide two numbers in similar format to the following: 15x34.",INVALID_CENTER:'You can provide the center point for your costume after the path using a comma. Please provide two numbers in similar format to the following: ("your url", 15x34).',FOREVER_SETUP:"Looping forever is ignored in the setup event. Use the started event for infinite loops.",ASYNC_SETUP:"Only blocking calls are allowed in the setup event. This is treated as: {0}",MISSING_SEGMENT_START:"An opening round bracket sign is missing. Please check your code.",MISSING_BLOCK_START:"An opening brace sign is missing. Please check your code.",MISSING_SEGMENT_END:"A closing round bracket sign is missing. Please check your code.",MISSING_BLOCK_END:"A closing brace sign is missing. Please check your code.",MISSING_COMMENT_START:"An opening of a multi-line comment is missing. Please check your code.",MISSING_COMMENT_END:"A closing of a multi-line comment missing. Please check your code.",MISSING_EXPRESSION:"A valid expression is missing. Please check your code.",MISSING_EXPRESSION_WITH_PARAM:"A valid expression is missing: {0}",MISSING_SEMICOLON:"A semicolon is missing. A valid for loops expression consists of two semicolons, which separate the three parts.",MISSING_VARIABLE:"The first part of a for statements expression must be a variable declaration.",MISSING_IN:"The `for` statement requires the `in` keyword and an iterable expression.","ENV:NAME_TAKEN":"The name {0} is already used elsewhere, please use a unique name!","ENV:REFERENCE":"The name {0} means nothing at all. :(","ENV:FUNCTION":"You are trying to call a variable, sadly variables are not functions nor phones... :(","ENV:WHEN":"I cannot recognise this event...","ENV:DOT":"{0} is not an object.",RECORD_FIELDS:"The fields of a record must be declared in a round bracket.",MISSING_TYPE_ANNOTATION:"A valid type name is missing.",UNSUPPORTED_TYPE_ANNOTATION:"You cannot declare variable types inside when statements or functions. Stage or actor properties may be declared with a type.",INVALID_REPLACEMENT_COMMENT:"Comments cannot be used in replacements.",INVALID_REPLACEMENT:"Empty replacements are not supported.",INVALID_REPLACEMENT_START:"The replacement marker has no closing pair.",INVALID_ASSIGNMENT_CHAINING:"Invalid assigment chaining.",MISSING_GROUP_ASSIGNMENT_CHAINING:"Missing right side value.",INVALID_REF:"An identifier  is expected."};class o{constructor(e,t,r,n,i,...a){this.code=e,this.snippet=t,this.line=r,this.char=n,this.length=i,this.message=o.mapCodeToMessage(e,a)||e,this.messageEn=o.mapCodeToMessageEn(e,a)||e,this.params=(a||[]).filter((e=>"undefined"!==typeof e))}static mapCodeToMessage(e,t){let r=n.LocalisationService.Default.getValue("ParserError:"+e,i[e]);return r&&t.forEach(((e,t)=>r=r.replace(`{${t}}`,e))),r}static mapCodeToMessageEn(e,t){let r=n.LocalisationService.Default.getEnValue("ParserError:"+e,i[e]);return r&&t.forEach(((e,t)=>r=r.replace(`{${t}}`,e))),r}}t.ParserErrorBase=o;t.ParserError=class extends o{};t.ParserWarning=class extends o{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeReflect=void 0;const n=r(2);t.ScoolcodeReflect=class{static getRuntimeInfo(e){return e[n.SCOOLCODE_RUNTIME_SYMBOL]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GrammarEntry=void 0;t.GrammarEntry=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeExpression=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,t=!1){super(),this.kind="type-expression",this.subKind="",this.fullNames=[],this.fullNames=e,this.explicit=t}static from(e,t=!1){if(!e)return i.Default;const r=e instanceof n.UnionTypeInfo?e.possibleTypes.map((e=>e.fullName)):[e.fullName];return new i(r,t)}}t.TypeExpression=i,i.Default=new i(["any"],!1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Application=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,t,r,n){super(),this.kind="declaration",this.subKind="application",this.type=e,this.stages=t,this.parts=r,this.extensions=n}}t.Application=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Expression=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(){super(...arguments),this.kind="expression"}}t.Expression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignmentExpression=void 0;const n=r(2);class i extends n.Expression{constructor(e,t,r,n){super(),this.subKind="assignment",this.leftHandSide=e,this.rightHandSide=t,this.grouped=r,this.chainable=n}}t.AssignmentExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitExpression=void 0;const n=r(2);class i extends n.Expression{constructor(e){super(),this.subKind="await",this.expression=e}}t.AwaitExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StageVariable=t.PropertyName=t.Identifier=void 0;const n=r(2);class i extends n.Expression{constructor(e,t=!1){super(),this.mightBeDeclaration=!1,this.subKind="identifier",this.name=e,this.mightBeDeclaration=t}}t.Identifier=i;t.PropertyName=class extends i{constructor(e){super(e.name),this.subKind="propertyName",this.property=e}};t.StageVariable=class extends i{constructor(e){super(e),this.subKind="stageVariable"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StageExpression=void 0;const n=r(2);class i extends n.Identifier{constructor(){super("stage"),this.subKind="stage"}}t.StageExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThisExpression=void 0;const n=r(2);class i extends n.Identifier{constructor(){super("this"),this.subKind="this"}}t.ThisExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallExpression=void 0;const n=r(2);class i extends n.Expression{constructor(e,t=[]){super(),this.subKind="call",this.expression=e,this.parameters=t}}t.CallExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallFunctionExpression=void 0;const n=r(2);class i extends n.Expression{constructor(e,t=[],r){super(),this.subKind="callFunction",this.name=e,this.parameters=t,this.embedded=r}}t.CallFunctionExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DotExpression=void 0;const n=r(2);class i extends n.Expression{constructor(e,t,r="",n=!1){super(),this.subKind="dot",this.leftHandSide=e,this.rightHandSide=t,this.metadata=r,this.embedded=this.embedded}}t.DotExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexerExpression=void 0;const n=r(2);class i extends n.Expression{constructor(e,t,r,n){super(),this.subKind="indexer",this.negativeIndices=!1,this.validateIndices=!1,this.expression=e,this.indexer=t,this.negativeIndices=r||!1,this.validateIndices=n||!1}}t.IndexerExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexerRangeExpression=void 0;const n=r(2);class i extends n.Expression{constructor(e,t,r){super(),this.subKind="indexer-range",this.expression=e,this.indexStart=t,this.indexEnd=r}}t.IndexerRangeExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DivisiveAssignmentOperator=t.MultiplicativeAssignmentOperator=t.SubtractiveAssignmentOperator=t.AdditiveAssignmentOperator=t.AssignmentOperator=t.LogicalOrOperator=t.LogicalAndOperator=t.NotEqualsOperator=t.EqualsOperator=t.NotInOperator=t.InOperator=t.IsOperator=t.LowerThanOrEqualsOperator=t.LowerThanOperator=t.GreaterThanOrEqualsOperator=t.GreaterThanOperator=t.SubtractiveOperator=t.AdditiveOperator=t.ModuloOperator=t.IntegerDivisiveOperator=t.DivisiveOperator=t.MultiplicativeOperator=t.ExponentativeOperator=t.PrefixDecrementationOperator=t.PrefixIncrementationOperator=t.UnaryMinusOperator=t.UnaryPlusOperator=t.UnaryNotOperator=t.ReferenceOperator=t.PostfixDecrementationOperator=t.PostfixIncrementationOperator=t.BinaryOperator=t.UnaryOperator=t.Operator=void 0;const n=r(2);class i extends n.Expression{constructor(e,t){super(),this.priority=0,this.kind="operator",this.leftHandSide=e,this.grouped=t}}t.Operator=i;class o extends i{}t.UnaryOperator=o;class a extends i{constructor(e,t,r){super(e,r),this.rightHandSide=t}}t.BinaryOperator=a;t.PostfixIncrementationOperator=class extends o{constructor(){super(...arguments),this.priority=17,this.subKind="postfixIncrementation"}};t.PostfixDecrementationOperator=class extends o{constructor(){super(...arguments),this.priority=17,this.subKind="postfixDecrementation"}};t.ReferenceOperator=class extends o{constructor(){super(...arguments),this.priority=16,this.subKind="ref"}};t.UnaryNotOperator=class extends o{constructor(){super(...arguments),this.priority=16,this.subKind="unaryNot"}};t.UnaryPlusOperator=class extends o{constructor(){super(...arguments),this.priority=16,this.subKind="unaryPlus"}};t.UnaryMinusOperator=class extends o{constructor(){super(...arguments),this.priority=16,this.subKind="unaryMinus"}};t.PrefixIncrementationOperator=class extends o{constructor(){super(...arguments),this.priority=16,this.subKind="prefixIncrementation"}};t.PrefixDecrementationOperator=class extends o{constructor(){super(...arguments),this.priority=16,this.subKind="prefixDecrementation"}};t.ExponentativeOperator=class extends a{constructor(){super(...arguments),this.priority=15,this.subKind="exponentative"}};t.MultiplicativeOperator=class extends a{constructor(e,t,r,n){super(e,t,r),this.priority=14,this.subKind="multiplicative",this.stringReplication=!1,this.stringReplication=n}};t.DivisiveOperator=class extends a{constructor(){super(...arguments),this.priority=14,this.subKind="divisive"}};t.IntegerDivisiveOperator=class extends a{constructor(){super(...arguments),this.priority=14,this.subKind="divisive-integer"}};t.ModuloOperator=class extends a{constructor(){super(...arguments),this.priority=14,this.subKind="modulo"}};t.AdditiveOperator=class extends a{constructor(e,t,r,n){super(e,t,r),this.priority=13,this.subKind="additive",this.arrayConcatenation=!1,this.arrayConcatenation=n}};t.SubtractiveOperator=class extends a{constructor(){super(...arguments),this.priority=13,this.subKind="subtractive"}};t.GreaterThanOperator=class extends a{constructor(){super(...arguments),this.priority=11,this.subKind="greaterThan"}};t.GreaterThanOrEqualsOperator=class extends a{constructor(){super(...arguments),this.priority=11,this.subKind="greaterThanOrEquals"}};t.LowerThanOperator=class extends a{constructor(){super(...arguments),this.priority=11,this.subKind="lowerThan"}};t.LowerThanOrEqualsOperator=class extends a{constructor(){super(...arguments),this.priority=11,this.subKind="lowerThanOrEquals"}};t.IsOperator=class extends a{constructor(){super(...arguments),this.priority=10,this.subKind="is"}};t.InOperator=class extends a{constructor(){super(...arguments),this.priority=10,this.subKind="in"}};t.NotInOperator=class extends a{constructor(){super(...arguments),this.priority=10,this.subKind="not_in"}};t.EqualsOperator=class extends a{constructor(e,t,r,n){super(e,t,r),this.priority=10,this.subKind="equals",this.strictTypeCheck=!1,this.strictTypeCheck=n}};t.NotEqualsOperator=class extends a{constructor(e,t,r,n){super(e,t,r),this.priority=10,this.subKind="notEquals",this.strictTypeCheck=!1,this.strictTypeCheck=n}};t.LogicalAndOperator=class extends a{constructor(){super(...arguments),this.priority=6,this.subKind="logicalAnd"}};t.LogicalOrOperator=class extends a{constructor(){super(...arguments),this.priority=5,this.subKind="logicalOr"}};t.AssignmentOperator=class extends a{constructor(){super(...arguments),this.priority=3,this.subKind="assignment"}};t.AdditiveAssignmentOperator=class extends a{constructor(){super(...arguments),this.priority=3,this.subKind="additiveAssignment"}};t.SubtractiveAssignmentOperator=class extends a{constructor(){super(...arguments),this.priority=3,this.subKind="subtractiveAssignment"}};t.MultiplicativeAssignmentOperator=class extends a{constructor(){super(...arguments),this.priority=3,this.subKind="multiplicativeAssignment"}};t.DivisiveAssignmentOperator=class extends a{constructor(){super(...arguments),this.priority=3,this.subKind="divisiveAssignment"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallMethodExpression=void 0;const n=r(2);class i extends n.Expression{constructor(e,t=[],r,n=null){super(),this.subKind="callMethod",this.method=e,this.parameters=t,this.embedded=r,this.declaringType=n}}t.CallMethodExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueLiteral=t.Literal=void 0;const n=r(2);class i extends n.Expression{constructor(){super(...arguments),this.kind="literal"}}t.Literal=i;t.ValueLiteral=class extends i{constructor(e){super(),this.value=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayLiteral=void 0;const n=r(2);class i extends n.Literal{constructor(e){super(),this.subKind="array",this.expressions=e||[]}}t.ArrayLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumericLiteral=void 0;const n=r(2);class i extends n.ValueLiteral{constructor(){super(...arguments),this.subKind="numeric"}static toString(e){return"string"===typeof e?e:(""+ +e).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,((e,t,r,n,i)=>i<0?t+"0."+Array(1-i-r.length).join("0")+r+n:t+r+n+Array(i-n.length+1).join("0")))}}t.NumericLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringLiteral=void 0;const n=r(2);class i extends n.ValueLiteral{constructor(){super(...arguments),this.subKind="string"}}t.StringLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanLiteral=void 0;const n=r(2);class i extends n.ValueLiteral{constructor(){super(...arguments),this.subKind="boolean"}}t.BooleanLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullLiteral=void 0;const n=r(2);class i extends n.ValueLiteral{constructor(){super(...arguments),this.subKind="null"}}t.NullLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NothingLiteral=void 0;const n=r(2);class i extends n.ValueLiteral{constructor(){super(...arguments),this.subKind="nothing"}}t.NothingLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndefinedLiteral=void 0;const n=r(2);class i extends n.ValueLiteral{constructor(){super(...arguments),this.subKind="undefined"}}t.UndefinedLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineLiteral=void 0;const n=r(2);class i extends n.ValueLiteral{constructor(){super(...arguments),this.subKind="line"}}t.LineLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateStringLiteral=void 0;const n=r(2);class i extends n.Literal{constructor(e){super(),this.subKind="template-string",this.expressions=e||[]}}t.TemplateStringLiteral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Statement=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(){super(...arguments),this.kind="statement"}}t.Statement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalSceneDeclaration=void 0;const n=r(2);class i extends n.Statement{constructor(e,t){super(),this.kind="declaration",this.subKind="external-scene",this.name=e,this.path=t}}t.ExternalSceneDeclaration=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContinueStatement=void 0;const n=r(2);class i extends n.Statement{constructor(){super(...arguments),this.subKind="continue"}}t.ContinueStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakStatement=void 0;const n=r(2);class i extends n.Statement{constructor(){super(...arguments),this.subKind="break"}}t.BreakStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReturnStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e=null){super(),this.subKind="return",e&&e instanceof n.NumericLiteral&&""===e.value&&(e=null),this.expression=e}}t.ReturnStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e){super(),this.subKind="delete",this.expression=e}}t.DeleteStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassStatement=void 0;const n=r(2);class i extends n.Statement{constructor(){super(...arguments),this.subKind="pass"}}t.PassStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackdropDeclaration=t.TextureDeclaration=void 0;const n=r(2);class i extends n.Statement{constructor(e,t=!1){super(),this.isDefault=!1,this.kind="declaration",this.subKind="texture",this.name=e,this.isDefault=t}}t.TextureDeclaration=i;t.BackdropDeclaration=class extends i{constructor(e,t,r=!1){super(e,r),this.kind="declaration",this.subKind="backdrop",this.path=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CostumeDeclaration=void 0;const n=r(2);class i extends n.TextureDeclaration{constructor(e,t,r=!1){super(e,r),this.kind="declaration",this.subKind="costume",this.path=t}}t.CostumeDeclaration=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParallaxLayerDeclaration=t.ParallaxDeclaration=void 0;const n=r(2);class i extends n.TextureDeclaration{constructor(e,t,r=!1){super(e,r),this.kind="declaration",this.subKind="parallax",this.layers=t}}t.ParallaxDeclaration=i;class o extends n.TextureDeclaration{constructor(e,t,r=100){super(e,!1),this.relativeSpeed=100,this.kind="declaration",this.subKind="parallaxLayer",this.path=t,this.relativeSpeed=r}}t.ParallaxLayerDeclaration=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockScopedVariableDeclaration=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r){super(),this.kind="declaration",this.subKind="blockScopedVariable",this.name=e,this.expression=t,this.type=r}}t.BlockScopedVariableDeclaration=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionScopedVariableDeclaration=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r){super(),this.kind="declaration",this.subKind="functionScopedVariable",this.name=e,this.expression=t,this.type=r}}t.FunctionScopedVariableDeclaration=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineCommentStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r=null,n=!1,i=!1){super(),this.subKind="lineComment",this.position=e,this.expression=t,this.name=null==r?"comment":r,this.declarationOnly=n,this.macro=i}}t.LineCommentStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiLineCommentStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r=null,n=!1){super(),this.subKind="multiLineComment",this.position=e,this.expression=t,this.name=null==r?"comment":r,this.declarationOnly=n}}t.MultiLineCommentStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyDeclaration=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r,n,i=!1){super(),this.kind="declaration",this.subKind="property",this.name=e,this.expression=t,this.type=r,this.position=n,this.internal=i}}t.PropertyDeclaration=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SoundDeclaration=void 0;const n=r(2);class i extends n.Statement{constructor(e,t){super(),this.kind="declaration",this.subKind="sound",this.name=e,this.path=t}}t.SoundDeclaration=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UseDeclaration=void 0;const n=r(2);class i extends n.Statement{constructor(e,t){super(),this.kind="declaration",this.subKind="use",this.name=e,this.path=t}}t.UseDeclaration=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImportStatement=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,t){super(),this.kind="declaration",this.subKind="import",this.name=e,this.path=t}}t.ImportStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e){super(),this.subKind="expression",this.expression=e}}t.ExpressionStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatementList=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(...e){super(),this.kind="list",this.subKind="statement",this.statements=e.map((e=>e instanceof n.Expression?new n.ExpressionStatement(e):e))}}t.StatementList=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DoWhileStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t){super(),this.subKind="doWhile",this.expression=e,this.statements=t}}t.DoWhileStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r,n){super(),this.subKind="for",this.expression1=e,this.expression2=t,this.expression3=r,this.statements=n}}t.ForStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForOfStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r,n){super(),this.subKind="forOf",this.variableName=e,this.isVariableLoopScoped=t,this.expression=r,this.statements=n}}t.ForOfStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForInStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r,n){super(),this.subKind="forIn",this.variableNames=e,this.isVariableLoopScoped=t,this.expression=r,this.statements=n}}t.ForInStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionDeclaration=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r,n,i,o=null,a=!1){super(),this.kind="declaration",this.subKind="function",this.name=e,this.parameters=t,this.returnType=r,this.statements=n,this.position=i,this.specification=o,this.internal=a}}t.FunctionDeclaration=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IfStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t){super(),this.subKind="if",this.expression=e,this.statements=t}}t.IfStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IfElseStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r){super(),this.subKind="ifElse",this.expression=e,this.statements=t,this.statementsElse=r}}t.IfElseStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WhileStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t){super(),this.subKind="while",this.expression=e,this.statements=t}}t.WhileStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WhenStatement=void 0;const n=r(2);class i extends n.Statement{constructor(e,t,r,n=!1,i,o=!1){super(),this.subKind="when",this.name=e,this.parameters=t,this.statements=r,this.isStageEvent=n,this.position=i,this.internal=o}}t.WhenStatement=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Record=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,...t){super(),this.kind="declaration",this.subKind="record",this.name=e,this.statements=new n.StatementList(...t)}}t.Record=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Actor=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,t,r,...i){super(),this.kind="declaration",this.subKind="actor",this.type=e,this.name=t,this.metadata=r,this.statements=new n.StatementList(...i)}}t.Actor=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorPart=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,t,r,i,o,...a){super(),this.kind="declaration",this.subKind="actor-part",this.type=e,this.name=t,this.path=r,this.language=i,this.metadata=o,this.statements=new n.StatementList(...a)}}t.ActorPart=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StagePart=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,t,r,i,...o){super(),this.kind="declaration",this.subKind="stage-part",this.type=e,this.name=t,this.path=r,this.language=i,this.statements=new n.StatementList(...o)}}t.StagePart=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,...t){super(),this.kind="declaration",this.subKind="stage",this.type=e,this.statements=new n.StatementList(...t)}}t.Stage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene=void 0;const n=r(2);class i extends n.GrammarEntry{constructor(e,t,r){super(),this.kind="declaration",this.subKind="scene",this.name=e,this.metadata=t,this.stage=r}}t.Scene=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyInfo=void 0;const n=r(2),i=r(182);class o extends n.MemberInfo{constructor(e,t,r=!0,i=!0,o=!0,a=!1,s){super(e,t===n.ValueType.Function?n.MemberType.Method:n.MemberType.Property),this.getter=!0,this.setter=!0,this.constant=!1,this.instance=!0,this.valueTypeExplicit=!1,this.internal=!0,this.unit="",this.blockRoot=!1,this.getVariableAction=null,this.getValue=e=>{if(!this.getter)throw new n.RuntimeError(null,"ACCESS_PROPERTY",null,this.fullName);return this.instance?e[this.name]:this.declaringType.implementation[this.name]},this.resetName=e=>{this.setName(e),this.getVariableAction=t=>{const r=t[e+".action"];return r||null}},this.setValue=(e,t)=>{if(!this.setter)throw new n.RuntimeError(null,"ACCESS_SET_PROPERTY",null,this.fullName);return this.instance?t[this.name]=e:this.declaringType.implementation[this.name]=e},this.valueType=t,this.getter=o,this.setter=i,this.constant=a,this.instance=r,s&&(this.declaringType=s),this.getVariableAction=e=>{const t=e[this.name+".action"];return t||null}}get publicName(){return this.internal?n.LocalisationService.Default.getValue(this.fullLocaleName,this.nameForBlocks||this.name):this.nameForBlocks||this.name}toJSON(){return{kind:"property",name:this.name,declaringType:this.declaringType?this.declaringType.name:null}}static fromJSON(e){if(e instanceof o)return e;if(e.declaringType){const t=n.TypeRegistry.resolve(e.declaringType);if(t){const r=t.getProperty(e.name);if(r)return r;const i=new o(e.name,n.ValueType.Any);return i.declaringType=t,i}}return new o(e.name,n.ValueType.Any)}declareNameForBlocks(e,t=null,r=""){return this.nameForBlocks=e,this.unit=r,this.blockColor=t,this}declareColorForBlocks(e=null){return this.blockColor=e,this}declareDefaults(e,t=null){return this.defaultValue=e,this.defaultChange=t,this}declareBlock(e,t=i.BlockColor.Motion,r={hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,buttons:[]}){if("string"===typeof e){const i=[];this.blockDefinition=new n.BlockDefinition(e,i,this.valueType,n.BlockShape.Normal,Object.assign(Object.assign({},r),{color:t,listCount:0}),this.name)}else this.blockType=e;return this}markAsBlockRoot(){return this.blockRoot=!0,this}getterGrammar(){if(this.instance){const e=new o(this.name,n.ValueType.Any);if(this.declaringType){if(n.TypeRegistry.resolve(this.declaringType.name))return e.declaringType=this.declaringType,new n.PropertyName(this.declaringType.properties.find((e=>e.name===this.name))||this.declaringType.methods.find((e=>e.name===this.name))||e)}return new n.PropertyName(e)}}setterGrammar(e){if(this.instance){const t=new o(this.name,n.ValueType.Any);return t.declaringType=this.declaringType,new n.AssignmentExpression(new n.PropertyName(this.declaringType.properties.find((e=>e.name===this.name))||this.declaringType.methods.find((e=>e.name===this.name))||t),e,!1,!1)}}declarationGrammar(e){return this.getVariableAction(e).grammar()}}t.PropertyInfo=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MethodInfo=t.ParameterInfo=void 0;const n=r(2);class i extends n.MemberInfo{constructor(e,t,r,i,o,a=!1,s=!0,l=!1,c=!1){super(e,n.MemberType.TypeInfo),this.valueTypeExplicit=!1,this.valueType=t,this.valueTypeExplicit=r,this.method=i,this.hasDefaultValue="undefined"!==typeof o,this.defaultValue=this.hasDefaultValue?o:"",this.ref=a,this.isShadow=s,this.isMandatory=l,this.isRepeatable=c}}t.ParameterInfo=i;class o extends n.PropertyInfo{constructor(e,t=null,r=!0,i=!1){super(e,n.ValueType.Function,r,!1,!0,!0),this.returnTypeExplicit=!1,this.instance=!0,this.promise=!1,this.parameters=[],this.hasRepeatableParameter=!1,this.execute=(e=[],t)=>{if(e.length<this.parameters.length)throw new n.RuntimeError(null,"MISSING_PARAMETER",null,this.fullName);return this.instance?t[this.name].apply(t,e):this.declaringType.implementation[this.name].apply(t,e)},this.executeAsync=(e=[],t)=>{if(!this.promise)throw new n.RuntimeError(null,"ACCESS_ASYNC_METHOD",null,this.fullName);if(e.length<this.parameters.length)throw new n.RuntimeError(null,"MISSING_PARAMETER",null,this.fullName);return this.instance?t[this.name].apply(t,e):this.declaringType.implementation[this.name].apply(t,e)},this.getAction=e=>this.instance?e[this.name].action:this.declaringType.implementation[this.name].action,this.returnType=t,this.instance=r,this.promise=i}toJSON(){return{kind:"method",name:this.name,declaringType:this.declaringType?this.declaringType.name:null}}static fromJSON(e){const t=n.TypeRegistry.resolve(e.declaringType);if(t){const r=t.getMethod(e.name);if(r)return r}return new o(e.name,n.ValueType.Any)}declareParameter(e,t,r,n=!1,o=!0){if(this.hasRepeatableParameter)throw new Error("The repeatable parameter must be the last.");return this.parameters.push(new i(e,t,!0,this,r,n,o,!0)),this}declareOptionalParameter(e,t,r,n=!1,o=!0){if(this.hasRepeatableParameter)throw new Error("The repeatable parameter must be the last.");return this.parameters.push(new i(e,t,!0,this,r,n,o,!1)),this}declareParameterWithTypeInfo(e,t,r,n,o=!1,a=!0,s=!0){if(this.hasRepeatableParameter)throw new Error("The repeatable parameter must be the last.");return this.parameters.push(new i(e,t,r,this,n,o,a,s)),this}declareRepeatableParameter(e,t,r,n=!1,o=!0,a=!1){return this.parameters.push(new i(e,t,!0,this,r,n,o,a,!0)),this.hasRepeatableParameter=!0,this}declareRepeatableParameterWithTypeInfo(e,t,r,n,o=!1,a=!0,s=!1){return this.parameters.push(new i(e,t,r,this,n,o,a,s,!0)),this.hasRepeatableParameter=!0,this}declareBlock(e,t=n.BlockColor.Motion,r={hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,buttons:[]}){if("string"===typeof e){const i=[...this.parameters.map((e=>new n.BlockParameterInfo(e.name,e.valueType instanceof n.UnionTypeInfo?e.valueType.primary:e.valueType,!1,null,null,e.isShadow)))];this.declaringType.thisType&&this.declaringType.thisType.valueType!=n.ActorsInfoBase.ValueType&&i.push(new n.BlockParameterInfo("this",this.declaringType.thisType)),this.blockDefinition=new n.BlockDefinition(e,i,this.returnType,n.BlockShape.Normal,Object.assign(Object.assign({},r),{color:t,listCount:0}),this.fullLocaleName+(r.paramCount?":"+r.paramCount:""))}else this.blockType=e;return this}declareInternalName(e,t,r){var i;if("undefined"===typeof(r=null===(i=this.declaringType)||void 0===i?void 0:i.scopeOrVerification))throw new Error("Missing scopeOrVerification in declaring type.");return n.CallAliasingRuleManager.register(this,e,t,r),this}declarationGrammar(e){return e[this.name].action.grammar()}grammar(e=[]){const t=new n.CallMethodExpression(this,e,!1);if(this.instance)return this.promise?new n.AwaitExpression(t):t;{const e=new n.DotExpression(new n.Identifier(this.declaringType.name),t);return this.promise?new n.AwaitExpression(e):e}}}t.MethodInfo=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0;const n=r(2);class i extends n.MemberInfo{constructor(e,t,r){super(e,n.MemberType.TypeInfo),n.TypeRegistry.register(e,this),this.baseType=t,this.implementation=r}grammar(){return new n.Identifier(this.name)}construct(...e){return new this.implementation(...e)}toJSON(){return{kind:"type",name:this.name}}}t.Type=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeEnvironment=t.RuntimeEnvironmentInfo=void 0;const n=r(2);class i extends n.Type{constructor(e){super("RuntimeEnvironment",null,e)}}t.RuntimeEnvironmentInfo=i;class o{constructor(e,t=!1){this.bindings=[],this.references=[],this.bindings=[],this.references=[],this.internal={type:o.Type,parent:e,primaryScope:t,manager:e.internal.manager,actionListScope:null,getIdentifierReference:async e=>{let t=this.bindings.indexOf(e);return-1!==t?{name:e,value:this[e]}:(t=this.references.indexOf(e),-1!==t?{name:e,value:await this[e].get()}:this.internal.parent.internal.getIdentifierReference(e))},declareReference:(e,t)=>(this[e]=t,this.references.push(e),!0),declareVariable:(e,t,r)=>r||this.internal.primaryScope?(this.bindings.push(e),!0):this.internal.parent.internal.declareVariable(e,t,r),writeVariable:async(e,t)=>{let r=this.bindings.indexOf(e);return"undefined"===typeof t&&(t=n.UndefinedLiteralAction.staticValue),-1!==r?this[e]=t:(r=this.references.indexOf(e),-1!==r?(await this[e].set(t),t):this.internal.parent.internal.writeVariable(e,t))},deleteVariable:(e,t)=>{if(t||this.internal.primaryScope){const t=this.bindings.indexOf(e);return t>-1&&(this.bindings.splice(t,1),!0)}return this.internal.parent.internal.deleteVariable(e,t)}}}static get numericStageScriptVersion(){return Number(this.stageScriptVersion).valueOf()}static get selectedChallenge(){return o._selectedChallenge}static set selectedChallenge(e){o._selectedChallenge=e}static error(e,t,r=null,...i){if(this.features.isStrictRuntimeChecking&&this.features.throwException)throw new n.RuntimeError(e,t,r,...i)}}t.RuntimeEnvironment=o,o.Type=new i(o),o.Primary=!0,o.features={get isStrictRuntimeChecking(){return o.numericStageScriptVersion>=4},throwException:!1},o._selectedChallenge=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockDefinition=t.BlockParameterInfo=t.BlockShape=void 0;const n=r(2),i=r(49);var o;!function(e){e[e.Normal=0]="Normal",e[e.StartEvent=1]="StartEvent",e[e.MultiList=2]="MultiList",e[e.StartEventMultiList=3]="StartEventMultiList",e[e.Hidden=4]="Hidden"}(o=t.BlockShape||(t.BlockShape={}));class a extends n.MemberInfo{constructor(e,t,r=!1,i=null,o=null,a=!0,s=!1){super(e,n.MemberType.TypeInfo),this.createActionFor=e=>e,this.provideName=e=>e,this.valueType=t,this.multi=r,this.createActionFor=i||(e=>new n.NumericLiteralAction(e)),o&&(this.provideName=o),this.isShadow=a,this.fixParamCount=s}clone(){return new a(this.name,this.valueType,this.multi,this.createActionFor,this.provideName,this.isShadow,this.fixParamCount)}}t.BlockParameterInfo=a;class s{constructor(e,t,r,a=o.Normal,s=null,l=null){this.id=i.generate(),this.localisationKey=l,this.originalSpecification=e,this.parameters=t,this.returnType=r,this.shape=a,this.paramCount=0,s&&(this.listCount=s.listCount||0,this.color=s.color||n.BlockColor.Motion,this.hasTopConnector=s.hasTopConnector,this.hasBottomConnector=s.hasBottomConnector,this.embeddable=s.embeddable,this.loop=s.loop,this.buttons=s.buttons,this.movable=0!=s.movable,this.paramCount=s.paramCount||0,this.mustEmbed=s.mustEmbed||!1,this._specification=s._specification||null)}get specification(){if(this._specification)return this._specification;const e=n.LocalisationService.Default.getValue(this.localisationKey,this.originalSpecification);return s.mapSpecificationToAction(e,this.parameters)}set specification(e){this._specification=e}static mapSpecificationToAction(e,t){return t.forEach(((t,r)=>e=e.replace(`{${t.name}}`,`{${r}}`).replace(`[${t.name}]`,`[${r}]`))),e}clone(){return new s(this.originalSpecification,this.parameters.map((e=>e.clone())),this.returnType,this.shape,{listCount:this.listCount,hasTopConnector:this.hasTopConnector,hasBottomConnector:this.hasBottomConnector,embeddable:this.embeddable,color:this.color,loop:this.loop,buttons:this.buttons,movable:0!=this.movable,_specification:this._specification},this.localisationKey)}}t.BlockDefinition=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=t.EventInstance=t.EventInfo=void 0;const n=r(2);class i extends n.MemberInfo{constructor(e){super(e,n.MemberType.Event),this.validator=null,this.dataParameterIndex=0,this.parameters=[]}declareParameter(e,t=i.defaultParameterType,r,n=!1){return this.parameters.push({name:e,type:t,defaultValue:r}),n&&(this.dataParameterIndex=this.parameters.length-1),this}declareDataParameterAt(e){return this.dataParameterIndex=e,this}declareValidator(e){return this.validator=e,this}declareBlock(e,t=n.BlockColor.Events,r=!1){return this.blockDefinition=new n.BlockDefinition(e,this.parameters.map((({name:e,type:t})=>new n.BlockParameterInfo(e,t))),null,r?n.BlockShape.Hidden:n.BlockShape.StartEvent,{hasTopConnector:!1,hasBottomConnector:!0,embeddable:!1,listCount:1,color:t},this.fullLocaleName),this}emit(e,t){return t.internal?t.internal.events.emit(this,e):Promise.resolve()}addHandler(e,t){t.internal.events.addHandler(this,e)}removeHandler(e,t){t.internal.events.removeHandler(this,e)}}t.EventInfo=i;class o{constructor(e){this.event=e,this.handlers=[]}addHandler(e){this.handlers.push(e)}removeHandler(e){const t=this.handlers.indexOf(e);-1!==t?this.handlers.splice(t,1):console.warn("failed to remove event handler from",this)}emit(e=[],t=null){return Promise.all(this.handlers.map((r=>r.call(t,e))))}}t.EventInstance=o;t.EventManager=class{constructor(e){this.eventIndex={},this.declaringType=Object.getPrototypeOf(e).constructor.Type,this.instance=e,this.reset()}reset(){for(let e of this.declaringType.events)this.eventIndex[e.name]=new o(e)}addHandler(e,t){this.eventIndex[e.name].addHandler(t)}removeHandler(e,t){this.eventIndex[e.name].removeHandler(t)}emit(e,t=[]){return this.eventIndex[e.name].emit(t,this.instance)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClassInfo=t.ClassInstance=t.ClassInstanceBase=void 0;const n=r(2);class i extends n.RuntimeObject{}t.ClassInstanceBase=i;t.ClassInstance=class extends i{constructor(e){super(),this.internal={type:e,events:new n.EventManager(this)}}};class o extends n.Type{constructor(e,t,r){super(e,t,r),this.methods=[],this.properties=[],this.events=[],this.implements=[],this.environment=new n.LexicalEnvironment(t?t.environment:null)}declareAsyncMethod(e,t=null,r=!0){return this.declareMethod(e,t,r,!0)}declareMethod(e,t=null,r=!0,i=!1){const o=new n.MethodInfo(e,t,r,i);if(o.declaringType=this,this.environment.createImmutableBinding(o.name))return this.environment.initializeImmutableBinding(o.name,o),this.methods.push(o),o;throw new n.RuntimeError(null,"REDECLARATION_METHOD",null,e,this.fullName)}deleteMethod(e){this.environment.deleteBinding(e.name,!0),this.methods.splice(this.methods.indexOf(e),1)}declareReadOnlyProperty(e,t,r=!0){return this.declareProperty(e,t,r,!1,!0)}declareProperty(e,t,r=!0,i=!0,o=!0){const a=new n.PropertyInfo(e,t,r,i,o);if(a.declaringType=this,this.environment.createImmutableBinding(a.name))return this.environment.initializeImmutableBinding(a.name,a),this.properties.push(a),a;throw new n.RuntimeError(null,"REDECLARATION_PROPERTY",null,e,this.fullName)}deleteProperty(e){this.environment.deleteBinding(e.name,!0),this.properties.splice(this.properties.indexOf(e),1)}declareEvent(e){const t=new n.EventInfo(e);if(t.declaringType=this,this.environment.createImmutableBinding(t.name))return this.environment.initializeImmutableBinding(t.name,t),this.events.push(t),t;throw new n.RuntimeError(null,"REDECLARATION_EVENT",null,e,this.fullName)}createInstance(e){var t;if(!(null===(t=this.implementation)||void 0===t?void 0:t.instanceFactory))throw new n.RuntimeError(null,"ACCESS_CONSTRUCTOR",null,this.fullName);return this.implementation.instanceFactory(this,e)}getMethod(e){return this.methods.find((t=>t.name===e))}getProperty(e){return this.properties.find((t=>t.name===e))}getEvent(e){return this.events.find((t=>t.name===e))}}t.ClassInfo=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NameValidator=void 0;class n{static setCallback(e){this.flushValidNames(),this.validateCallback=e}static validateName(e,t){if(!this.validateCallback)return!0;if((!t||!1!==t.useCache)&&this.validNamesCache.has(e))return!0;const r=this.validateCallback(e,t);return r&&this.validNamesCache.add(e),r}static flushValidNames(){this.validNamesCache.clear()}static removeCachedName(e){this.validNamesCache.delete(e)}}t.NameValidator=n,n.validateCallback=null,n.validNamesCache=new Set},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GrammarSerializer=void 0;const n=r(2);t.GrammarSerializer=class{constructor(){this.deserialize=e=>this.deserializeEntry(e),this.deserializeDeclaration=e=>{switch(e.subKind){case"blockScopedVariable":return new n.BlockScopedVariableDeclaration(e.name,e.expression?this.deserializeEntry(e.expression):null,e.type?this.deserializeTypeExpression(e.type):n.TypeExpression.Default);case"functionScopedVariable":return new n.FunctionScopedVariableDeclaration(e.name,e.expression?this.deserializeEntry(e.expression):null,e.type?this.deserializeTypeExpression(e.type):n.TypeExpression.Default);case"property":return new n.PropertyDeclaration(e.name,e.expression?this.deserializeEntry(e.expression):null,e.type?this.deserializeTypeExpression(e.type):n.TypeExpression.Default,e.position,e.internal||!1);default:throw new Error("failed to deserialize declaration: "+e.subKind)}},this.deserializeLiteral=e=>{switch(e.subKind){case"array":return new n.ArrayLiteral(e.expressions.map(this.deserializeEntry));case"template-string":return new n.TemplateStringLiteral(e.expressions.map(this.deserializeEntry));case"boolean":return new n.BooleanLiteral(e.value);case"value":throw new Error("Unsupported entry: value is abstract");case"null":return new n.NullLiteral(e.value);case"nothing":return new n.NothingLiteral(e.value);case"numeric":return new n.NumericLiteral(e.value);case"string":return new n.StringLiteral(e.value);case"undefined":return new n.UndefinedLiteral(e.value);case"line":return new n.LineLiteral(e.value);default:throw new Error("failed to deserialize literal: "+e.subKind)}},this.deserializeExpression=e=>{switch(e.subKind){case"assignment":return new n.AssignmentExpression(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped,e.chainable);case"await":return new n.AwaitExpression(this.deserializeEntry(e.expression));case"call":return new n.CallExpression(this.deserializeEntry(e.expression),e.parameters.map(this.deserializeEntry));case"callFunction":return new n.CallFunctionExpression(e.name,e.parameters.map(this.deserializeEntry),e.embedded);case"callMethod":return new n.CallMethodExpression(n.MethodInfo.fromJSON(e.method),e.parameters.map(this.deserializeEntry),e.embedded,e.declaringType||e.method.declaringType);case"dot":return new n.DotExpression(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.metadata,e.embedded);case"indexer":return new n.IndexerExpression(this.deserializeEntry(e.expression),this.deserializeEntry(e.indexer),e.negativeIndices,e.validateIndices);case"indexer-range":return new n.IndexerRangeExpression(this.deserializeEntry(e.expression),e.indexStart?this.deserializeEntry(e.indexStart):null,e.indexEnd?this.deserializeEntry(e.indexEnd):null);case"identifier":return new n.Identifier(e.name,e.mightBeDeclaration);case"propertyName":return new n.PropertyName(n.PropertyInfo.fromJSON(e.property));case"stageVariable":return new n.StageVariable(e.name);case"this":return new n.ThisExpression;case"stage":return new n.StageExpression;default:throw new Error("failed to deserialize expression: "+e.subKind)}},this.deserializeOperator=e=>{switch(e.subKind){case"postfixIncrementation":return new n.PostfixIncrementationOperator(this.deserializeEntry(e.leftHandSide),e.grouped);case"postfixDecrementation":return new n.PostfixDecrementationOperator(this.deserializeEntry(e.leftHandSide),e.grouped);case"unaryNot":return new n.UnaryNotOperator(this.deserializeEntry(e.leftHandSide),e.grouped);case"unaryPlus":return new n.UnaryPlusOperator(this.deserializeEntry(e.leftHandSide),e.grouped);case"unaryMinus":return new n.UnaryMinusOperator(this.deserializeEntry(e.leftHandSide),e.grouped);case"ref":return new n.ReferenceOperator(this.deserializeEntry(e.leftHandSide),e.grouped);case"prefixIncrementation":return new n.PrefixIncrementationOperator(this.deserializeEntry(e.leftHandSide),e.grouped);case"prefixDecrementation":return new n.PrefixDecrementationOperator(this.deserializeEntry(e.leftHandSide),e.grouped);case"exponentative":return new n.ExponentativeOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"multiplicative":return new n.MultiplicativeOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped,e.stringReplication);case"divisive":return new n.DivisiveOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"divisive-integer":return new n.IntegerDivisiveOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"modulo":return new n.ModuloOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"additive":return new n.AdditiveOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped,e.arrayConcatenation);case"subtractive":return new n.SubtractiveOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"greaterThan":return new n.GreaterThanOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"greaterThanOrEquals":return new n.GreaterThanOrEqualsOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"lowerThan":return new n.LowerThanOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"lowerThanOrEquals":return new n.LowerThanOrEqualsOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"is":return new n.IsOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"in":return new n.InOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"not_in":return new n.NotInOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"equals":return new n.EqualsOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped,e.strictTypeCheck);case"notEquals":return new n.NotEqualsOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped,e.strictTypeCheck);case"logicalAnd":return new n.LogicalAndOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"logicalOr":return new n.LogicalOrOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"assignment":return new n.AssignmentOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"additiveAssignment":return new n.AdditiveAssignmentOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"subtractiveAssignment":return new n.SubtractiveAssignmentOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"multiplicativeAssignment":return new n.MultiplicativeAssignmentOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);case"divisiveAssignment":return new n.DivisiveAssignmentOperator(this.deserializeEntry(e.leftHandSide),this.deserializeEntry(e.rightHandSide),e.grouped);default:throw new Error("failed to deserialize operator: "+e.subKind)}},this.deserializeStatement=e=>{switch(e.subKind){case"doWhile":return new n.DoWhileStatement(this.deserializeEntry(e.expression),this.deserializeList(e.statements));case"expression":return new n.ExpressionStatement(this.deserializeEntry(e.expression));case"forOf":return new n.ForOfStatement(e.variableName,"boolean"!==typeof e.isVariableLoopScoped||e.isVariableLoopScoped,this.deserializeEntry(e.expression),this.deserializeList(e.statements));case"forIn":return new n.ForInStatement(e.variableNames,"boolean"!==typeof e.isVariableLoopScoped||e.isVariableLoopScoped,this.deserializeEntry(e.expression),this.deserializeList(e.statements));case"for":return new n.ForStatement(this.deserializeEntry(e.expression1),this.deserializeEntry(e.expression2),this.deserializeEntry(e.expression3),this.deserializeList(e.statements));case"ifElse":return new n.IfElseStatement(this.deserializeEntry(e.expression),this.deserializeList(e.statements),this.deserializeList(e.statementsElse));case"if":return new n.IfStatement(this.deserializeEntry(e.expression),this.deserializeList(e.statements));case"lineComment":return new n.LineCommentStatement(e.position,this.deserializeEntry(e.expression),e.name,e.declarationOnly);case"multiLineComment":return new n.MultiLineCommentStatement(e.position,this.deserializeEntry(e.expression),e.name,e.declarationOnly);case"delete":return new n.DeleteStatement(this.deserializeEntry(e.expression));case"return":return new n.ReturnStatement(e.expression?this.deserializeEntry(e.expression):null);case"break":return new n.BreakStatement;case"continue":return new n.ContinueStatement;case"pass":return new n.PassStatement;case"when":return new n.WhenStatement(e.name,e.parameters.map(this.deserializeEntry),this.deserializeList(e.statements),e.isStageEvent,e.position,e.internal||!1);case"while":return new n.WhileStatement(this.deserializeEntry(e.expression),this.deserializeList(e.statements));default:throw new Error("failed to deserialize statement: "+e.subKind)}},this.deserializeList=e=>new n.StatementList(...e.statements.map(this.deserializeEntry)),this.deserializeTypeExpression=e=>new n.TypeExpression(e.fullNames,e.explicit),this.deserializeEntry=e=>{if(!e)return new n.NothingLiteral(null);switch(e.kind){case"declaration":return this.deserializeDeclaration(e);case"literal":return this.deserializeLiteral(e);case"expression":return this.deserializeExpression(e);case"operator":return this.deserializeOperator(e);case"statement":return this.deserializeStatement(e);case"list":return this.deserializeList(e);case"type-expression":return this.deserializeTypeExpression(e)}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclareVariableWithValueAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e,t,r,i=n.ValueType.Numeric,o=!1){super(),this.valueType=n.ValueType.Any,this.valueTypeExplicit=!1,this.variableName=e,this.isBlock=t,this.action=r,this.valueType=i,this.valueTypeExplicit=o}executor(){this.action||(this.action=new n.NumericLiteralAction(null));const e=this,t=this.isBlock,r=this.action.executor(null);return async i=>{i.environment.declareVariable(e.variableName,n.ValueType.Any,t),await i.environment.writeVariable(e.variableName,await r(i))}}grammar(){this.action&&this.action instanceof n.NumericLiteralAction&&""===this.action.value&&(this.action.value=null);const e=!this.action||this.action instanceof n.NumericLiteralAction&&null==this.action.value?null:this.action.grammar();return this.isBlock?new n.BlockScopedVariableDeclaration(this.variableName,e,n.TypeExpression.from(this.valueType,this.valueTypeExplicit)):new n.FunctionScopedVariableDeclaration(this.variableName,e,n.TypeExpression.from(this.valueType,this.valueTypeExplicit))}block(e){return this.action||(this.action=new n.NumericLiteralAction(null)),n.BlockInstance.for(i.DefinitionWithValue(),this,e).parameter("name",this,"variableName").parameter("value",this,"action").updateParts()}description(){return this.variableName}}t.DeclareVariableWithValueAction=i,i.DefinitionWithValue=()=>new n.BlockDefinition("define {name} with {value}",[new n.BlockParameterInfo("name",n.VariableDeclarationInfo.Type),new n.BlockParameterInfo("value",n.ValueType.Any)],null,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Variables},"declarations.variableWithValueRenamable")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclareVariableAction=void 0;const n=r(2);class i extends n.DeclareVariableWithValueAction{constructor(e,t,r,i=n.ValueType.Numeric,o=!1){super(e,t,null,i,o)}}t.DeclareVariableAction=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeReference=void 0;const n=r(2);t.RuntimeReference=class{constructor(e,t){this.get=async()=>await this.getter(this.context),this.set=async e=>await this.setter(this.context,e),t instanceof n.UpdatableAction||n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_TARGET"),this.action=t,this.context=e,this.getter=t.getter(null),this.setter=t.setter(null),t instanceof n.ReadPropertyAction?this.name=t.property.name:t instanceof n.ReadVariableAction?this.name=t.variableName:this.name=""}equals(e){return this.name===e.name&&(this.action instanceof n.ReadPropertyAction&&e.action instanceof n.ReadPropertyAction?this.action.property===e.action.property:this.action instanceof n.ReadVariableAction&&e.action instanceof n.ReadVariableAction?this.action.variableName===e.action.variableName:this.action===e.action)}toString(){return this.name?`[ref ${this.name}]`:"[ref]"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeMixinManager=t.ScoolcodeMixin=void 0;const n=r(2);function i(e,t){const r=new Proxy(e,{get:(e,n)=>"declareInternalName"===n?n=>(e.declareInternalName(n,t),r):()=>r});return r}function o(e,t){const r=new Proxy(e,{get:(e,n)=>"declareInternalName"===n?n=>(e.declareInternalName(n,t),r):Reflect.get(e,n)});return r}function a(e){const t=new Proxy(e,{get:()=>()=>t});return t}t.ScoolcodeMixin=class{};class s{constructor(e,t){this.wrappedHost=e,this.language=t,this.members=[],this.types=[]}declareAsyncMethod(e,t,r){const n=this.wrappedHost.methods.find((t=>t.name===e));if(n)return i(n,this.language);const a=this.wrappedHost.declareAsyncMethod(e,t,r);return this.members.push(a),o(a,this.language)}declareEvent(e){const t=this.wrappedHost.events.find((t=>t.name===e));if(t)return a(t);const r=this.wrappedHost.declareEvent(e);return this.members.push(r),r}declareMethod(e,t,r,n){const a=this.wrappedHost.methods.find((t=>t.name===e));if(a)return i(a,this.language);const s=this.wrappedHost.declareMethod(e,t,r,n);return this.members.push(s),o(s,this.language)}declareProperty(e,t,r,n,i){const o=this.wrappedHost.properties.find((t=>t.name===e));if(o)return a(o);const s=this.wrappedHost.declareProperty(e,t,r,n,i);return this.members.push(s),s}declareReadOnlyProperty(e,t,r){const n=this.wrappedHost.properties.find((t=>t.name===e));if(n)return a(n);const i=this.wrappedHost.declareReadOnlyProperty(e,t,r);return this.members.push(i),i}declareType(e){this.types.includes(e)||this.types.push(e)}}class l{constructor(e){this.mixins=[],this.isPrimary=!1,this.name=e}togglePrimary(e){if(this.isPrimary===e)return;this.isPrimary=e;const t=!this.isPrimary;for(let{members:r,host:i,types:o}of this.mixins){for(let e of r)e.disabled=t;for(let e of o)e.disabled=t;i.original instanceof n.ValueTypeInfo?n.ContextualTypeBuilder.prepareLiterals(!0):n.ContextualTypeProvider.flushCache()}}declareMixin(e,t,r){if(!this.mixins.find((r=>r.mixin.name===t.name&&r.host===e.original))){const i=new s(e,this.name);e.declareType=i.declareType.bind(e),t.declare(i);const o=i.members,a=!this.isPrimary;for(let e of o)e.disabled=a;const l=i.types;for(let e of l)e.disabled=a;this.mixins.push({mixin:t,members:o,types:l,immutable:r,host:e.original}),e.original instanceof n.ValueTypeInfo&&n.ContextualTypeBuilder.prepareLiterals(!0)}}removeMutableMixins(){this.mixins=this.mixins.filter((e=>e.immutable))}}class c{static getLanguage(e,t=!0){const r=this.languages[e];if(r)return r;const n=this.languages[e]=new l(e);return t&&n.togglePrimary(!0),n}static declareMixinOnHost(e,t,r){const n=this.getLanguage(t.language,!1);n.declareMixin(e,t,!!r),n.togglePrimary(!0)}static setPrimaryLanguage(e){for(let t in this.languages)this.languages[t].togglePrimary(!1);this.languages[e]&&this.languages[e].togglePrimary(!0),this.primaryLanguage=e}static removeMutableMixins(){for(let e in this.languages)this.languages[e].removeMutableMixins()}}t.ScoolcodeMixinManager=c,c.languages={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualTypeProvider=void 0;const n=r(2);class i{static getBaseTypes(e){var t,r;const n=this.baseTypes[e];if(n&&(null===(r=null===(t=null===n||void 0===n?void 0:n.StageBaseType)||void 0===t?void 0:t.runtimeBinding)||void 0===r?void 0:r.mixins)&&n.StageBaseType.runtimeBinding.mixins.length>0)return n;const i=this.buildBaseTypes(e);return this.baseTypes[e]=i,this.baseTypes[e]}static flushCache(){this.baseTypes={}}static buildBaseTypes(e){const t=new n.ScoolcodeStageInfo,r=new n.ScoolcodeActorInfo,i=n.LanguageMixinManager.get(e);"undefined"!==typeof i&&i.declare(t,r);const o=n.ContextualTypeBuilder.buildFor(t);return{ActorBaseType:n.ContextualTypeBuilder.buildFor(r),StageBaseType:o,language:e}}}t.ContextualTypeProvider=i,i.baseTypes={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordinateSystemInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("CoordinateSystem",null,i.Instance),this.valueType=n.ValueType.String,this.isLiteral=!0,this.declareProperty("center",n.ValueType.String),this.declareProperty("topLeft",n.ValueType.String),this.declareProperty("topRight",n.ValueType.String),this.declareProperty("bottomLeft",n.ValueType.String),this.declareProperty("bottomRight",n.ValueType.String),this.declareProperty("polar",n.ValueType.String)}getDefaultItemName(){return i.Instance.topLeft}getStaticInstance(){return i.Instance}}t.CoordinateSystemInfo=i,i.Type=new i,i.Instance={center:"center",topLeft:"topLeft",topRight:"topRight",bottomLeft:"bottomLeft",bottomRight:"bottomRight",polar:"polar"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockParameterBlockBinding=void 0;const n=r(2);class i extends n.BlockParameterBinding{constructor(e,t,r,n=!0){const i=(e=>{if("number"===typeof e||-1===e.indexOf(".")){const t=t=>t[e];return t.assign=(t,r)=>t[e]=r,t}{const[t,r]=e.split("."),n=e=>e[t][r];return n.assign=(e,n)=>e[t][r]=n,n}})(e),o=i.assign;super((()=>i(t)),(e=>o(t,e)),r,e,t,n)}}t.BlockParameterBlockBinding=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockParameter=void 0;const n=r(2),i=r(49);class o{constructor(e,t,r=null){this.id=i.generate(),this.typeRef="BlockParameter",this.name=e,this.block=t,this.binding=r,this.bound=!!r}static forBlock(e,t,r,i,a,s=!0){const l=t.block(null);(!l.definition.embeddable||l.definition.hasTopConnector||l.definition.hasBottomConnector)&&(l.definition=l.definition.clone(),l.mustEmbed=!0),l.mustEmbed&&(l.definition.embeddable=!0,l.definition.hasTopConnector=!1,l.definition.hasBottomConnector=!1);const c=new o(e,l,new n.BlockParameterBlockBinding(r,i,a,s));return c.block.parent=n.ImmutableReference.for(c),c.parent=n.ImmutableReference.for(a),c}static forValue(e,t,r){const i=new o(e,null,t);return i.parent=n.ImmutableReference.for(r),i}static forBinding(e,t,r){const i=new o(e,null,t);return i.parent=n.ImmutableReference.for(r),i}clone(e=!0){const t=new o(this.name,this.block,this.binding);return t.originalBinding=this.originalBinding,t.parent=this.parent,e&&(t.id=this.id),t}}t.BlockParameter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockParameterLiteralValueBinding=void 0;const n=r(2);class i extends n.BlockParameterBinding{constructor(e,t,r,n,i=!0){super((()=>null!=r.value?r.value:r),(e=>r.value=e),n,e,t,i),this.literal=r}}t.BlockParameterLiteralValueBinding=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockParameterPropertyBinding=void 0;const n=r(2);class i extends n.BlockParameterBinding{constructor(e,t,r){const n=(e=>{if("number"===typeof e||-1===e.indexOf(".")){const t=t=>t[e];return t.assign=(t,r)=>t[e]=r,t}{const[t,r]=e.split("."),n=e=>e[t][r];return n.assign=(e,n)=>{"name"===r&&e[t].setName?e[t].setName(n):e[t][r]=n},n}})(e),i=n.assign;super((()=>n(t)),(e=>i(t,e)),r,e,t,!1)}}t.BlockParameterPropertyBinding=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockInstanceBase=void 0;const n=r(49);class i{constructor(e,t,r=null){this.typeRef="BlockInstance",this.id=r||n.generate(),this.parent=e,this.action=t}clone(e=!0){const t=new i(this.parent,this.action,e?this.id:null);return t.target=this.target,t}}t.BlockInstanceBase=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockInstance=void 0;const n=r(2);class i extends n.BlockInstanceBase{constructor(e,t,r,i=null){super(r,t,i),this.mustEmbed=!1,this.parameters=[],this.position={x:0,y:0},this.updateParts=()=>(this.parts=n.BlockInstanceUtils.composeParts(this.definition,this),this),this.grammar=()=>(this.action||this.target).grammar(),this.reset=()=>{},this.toString=()=>{if(this.definition){let e=this.definition.specification;return this.definition.parameters.forEach(((t,r)=>e=t.multi?function(e,t,r){return e.replace(`{${t}}`,`< ${r.map((e=>`{${e.bound?`"${e.binding.read()}"`:e.block?e.block.toString():"  "}}`)).join(" ")} >`)}(e,r,this.parameters.filter((e=>e.name===t.name))):function(e,t,r){return e.replace(`{${t}}`,`{${r.block?r.block?r.block.toString():"  ":`"${r.binding.read()}"`}}`)}(e,r,this.parameters[r]))),this.definition.shape===n.BlockShape.Normal?`[(${e})]`:"TODO"}return"[(<undefined>)]"},this.originalAction=t,this.definition=e}static bindParameter(e,t,r,i,o,a=!0){if("undefined"===typeof r&&(r=new n.UndefinedLiteralAction),r instanceof n.ValueLiteralAction)return n.BlockParameter.forValue(t,new n.BlockParameterLiteralValueBinding(i,o,r,e,a),e);if(r instanceof n.ActionBase){return n.BlockParameter.forBlock(t,r,i,o,e,a)}return n.BlockParameter.forBinding(t,new n.BlockParameterPropertyBinding(i,o,e),e)}parameter(e,t,r=null,n=!0){const o="undefined"!==typeof r&&null!==r?r:e,a=(e=>{if("number"===typeof e||-1===e.indexOf(".")){const t=t=>t[e];return t.assign=(t,r)=>t[e]=r,t}{const[t,r]=e.split("."),n=e=>e[t][r];return n.assign=(e,n)=>e[t][r]=n,n}})(o)(t);return this.parameters.push(i.bindParameter(this,e,a,o,t,n)),this}parameterList(e,t){return e.forEach(((r,n)=>t(this,e,n,r))),this}embedBlock(e,t){if(!(t instanceof i))throw new Error("Only BlockInstances can be merged in.");t.parent=n.ImmutableReference.for(this);const r=this.parameters.length;this.definition=this.definition.clone();let o=t.definition.specification,a=t.definition.parameters.length;for(let n=0;n<a;++n)o=o.replace(`{${n}}`,`{${n+r}}`).replace(`[${n}]`,`[${n+r}]`);for(let n=r+1;n<this.definition.parameters.length;++n)this.definition.specification=this.definition.specification.replace(`{${n}}`,`{${n+a-1}}`).replace(`[${n}]`,`[${n+a-1}]`);return this.definition.specification=this.definition.specification.replace(`{${r}}`,o),this.definition.color=t.definition.color,this.definition.loop=t.definition.loop,this.definition.embeddable=t.definition.embeddable,this.definition.hasBottomConnector=t.definition.hasBottomConnector,this.definition.hasTopConnector=t.definition.hasTopConnector,this.definition.listCount=t.definition.listCount,this.definition.returnType=t.definition.returnType,this.definition.parameters.splice(r,1,...t.definition.parameters),this.parameters.push(...t.parameters),t.parameters.forEach((e=>e.parent=t.parent)),this}static bindParameters(e,t){let r=[],n=0;for(let i of e.definition.parameters){if("this"===i.name)break;r.push(this.bindParameter(e,e.definition?e.definition.parameters[n].name:""+n,t[n],n++,t))}return r}static for(e,t,r){const o=t instanceof n.ActionBase,a=new i(e,o?t:null,n.ImmutableReference.for(r));return(!o||t instanceof n.DeclarationOrAction)&&(a.target=t),a}clone(e=!0){const t=new i(this.definition,this.action,this.parent,e?this.id:null);if(t.parts=this.parts,e)t.parameters=this.parameters;else for(const r of this.parameters)t.parameters.push(r.clone(e));return t.position=this.position,t.target=this.target,t}cloneInto(e,t=!0){return e.definition=this.definition,e.action=this.action,t&&(e.id=this.id),e.parts=this.parts,e.parameters=this.parameters,e.position=this.position,e.target=this.target,e.parent=this.parent,e}setPosition(e){this.position=e,this.target&&(this.target.position=e),this.action&&this.action.position&&(this.action.position=e)}}t.BlockInstance=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockProgram=void 0;const n=r(2),i=r(49),o=e=>!(e.target&&e.target instanceof n.EventHandlerAction&&"never"===e.target.event.name)||!!e.target.actionList.actions.length;class a{constructor(e,t,r=[]){this.typeRef="BlockProgram",this.id=i.generate(),this.target=e,this.parent=t,this.children=r||[]}childBlock(e){return this.children.push(e),this}childAction(e){const t=e.block(this);if(!(t instanceof n.BlockInstance))throw new Error("Only block instances can be added to a program.");return this.children.push(t),this}clone(){const e=new a(this.target,this.parent,[...this.children.filter(o)]);return e.id=this.id,e}}t.BlockProgram=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockInstanceList=void 0;const n=r(2),i=r(49);class o extends n.BlockInstanceBase{constructor(e,t=[],r=!1,n=null){super(e,null),this.typeRef="BlockInstanceList",this.id=i.generate(),this.toString=()=>`  [[\n${this.children.map((e=>`    ${e?e.toString():"[(<undefined>)]"}`)).join("\n")}\n  ]]`,this.children=t||[],this.locked=r,this.target=n}static for(e,t=!1){return new o(e,[],t)}childBlock(e){return this.children.push(e),this}childAction(e){return this.children.push(e.block(this)),this}clone(e=!0){const t=new o(this.parent,[...this.children],this.locked,this.target);return e&&(t.id=this.id),t}}t.BlockInstanceList=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockInstanceUtils=void 0;const n=r(2);class i{static extractValueListFromEnum(e){const t=e.getStaticInstance();return[...e.properties,...e.methods].map((({name:e,fullLocaleName:r})=>({internalName:r,name:n.LocalisationService.Default.getValue(r)||e,key:e,value:t[e]})))}static getLocalisedValueFromEnum(e,t){const r=i.extractValueListFromEnum(t);e instanceof n.ExplicitStringLiteralAction&&(e=e.value),"number"===typeof e&&(e=e.toString()),e instanceof n.ReadPropertyAction&&(e=e.key);let o=r.findIndex((t=>t.value===e||t.value===e.name));return-1===o&&(o=r.findIndex((t=>t.key===e||t.key===e.name))),-1===o?"":r[o].name}static composeContentBySpecification(e,t,r){const o=[];let a="",s="",l=!1,c=!1,p=!1,u=!1;for(let d=0;d<e.length;++d){const h=e.charAt(d);if(l)a+=h,l=!1;else if(c)if(" "===h){if(s){switch(s){case"all":u=!0,c=!1;break;default:throw"Unknown command name found in a command block: "+s}s=""}}else if("%"===h){if(c=!1,p=!1,"}"!=e.charAt(d+1))throw"Unexpected % char."}else s+=h;else if(a||"%"!==h)if("%"===h){if(p&&(c=!1,"}"!=e.charAt(d+1)))throw"Unexpected % char."}else if("'"===h)l=!0;else if("&"===h)a&&(o.push({type:"label",text:a}),a="");else if(";"===h)a?(o.push({type:"icon",name:a}),a=""):a+=h;else if("{"===h)a&&(o.push({type:"label",text:a}),a="");else if("["===h)a&&(o.push({type:"label",text:a}),a="");else if("]"===h){if(a){const t=+a.trim(),n=r.parameters[t];n?o.push({type:"label",text:n.binding.read()}):console.warn("Missing parameter",t,"in:",e,r),a=""}}else if("}"===h)if(a){const e=+a.trim(),s=t[e],l=r.parameters[e];if(u)u=!1,o.push({type:"list",places:[],mutable:!0});else if(s&&s.valueType instanceof n.ScoolcodeEnumInfoBase)l&&o.push({type:"enum",parameter:l,valueType:s.valueType.itemType,valueList:i.extractValueListFromEnum(s.valueType),strict:s.valueType.strict,hasEmbeddedBlock:!!l.block,value:l.block||l.binding.read()});else if(l){let e=l.block||l.binding.read();(s.valueType===n.ValueType.Color||s.valueType instanceof n.UnionTypeInfo&&s.valueType.possibleTypes.some((e=>e===n.ValueType.Color)))&&"number"===typeof e&&(e="#"+e.toString(16).padStart(6,"0"),l.binding.write(e)),o.push({type:"place",parameter:l,valueType:s.valueType,hasEmbeddedBlock:!!l.block,value:e})}a=""}else a+=h;else a+=h;else{if(p)continue;c=!0,p=!0}}return a&&o.push({type:"label",text:a}),o}static composeParts({specification:e,listCount:t,parameters:r},i){if(t){if(1==t)return[new n.BlockPart(i,this.composeContentBySpecification(e,r,i),new n.BlockInstanceList(i,[])),new n.BlockPart(i,[{type:"label",text:""}],null)];if(2==t)return[new n.BlockPart(i,this.composeContentBySpecification(e,r,i),new n.BlockInstanceList(i,[])),new n.BlockPart(i,[],new n.BlockInstanceList(i,[])),new n.BlockPart(i,[],null)];throw new Error("Not supported listCount: "+t)}return[new n.BlockPart(i,this.composeContentBySpecification(e,r,i),null)]}}t.BlockInstanceUtils=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleBlockInstance=t.BubbleInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Bubble",null,{}),this.valueType=n.ValueType.String,this.isDynamic=!0,this.providedValueToItemAsync=({program:e},t)=>{if("string"===typeof t){return r(59).ScoolcodeActor.Type.getMethod(t)}return t},this.itemToProvidedValue=({program:e},t)=>{if(t){const e=t.name||"",r=this.getProperty(e);return r?r.publicName:e}return""},this.valueProvider=()=>[[this.getProperty("say").publicName,"say"],[this.getProperty("think").publicName,"think"]],this.declareReadOnlyProperty("say",n.ValueType.Any),this.declareReadOnlyProperty("think",n.ValueType.Any)}getStaticInstance(){const e=r(59).ScoolcodeActor;return{say:e.Type.getMethod("say"),think:e.Type.getMethod("think")}}}t.BubbleInfo=i,i.Type=new i;class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("shape",e,"method"),this.parameter("message",e,"parameters.0"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.BubbleBlockInstance=o,o.Definition=()=>new n.BlockDefinition("{shape} {message}",[new n.BlockParameterInfo("shape",i.Type),new n.BlockParameterInfo("message",n.ValueType.String)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Looks},"BubbleBlockInstance")},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleForSecsBlockInstance=t.BubbleForSecsInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("BubbleForSecs",null,{}),this.localeName="Bubble",this.valueType=n.ValueType.String,this.isDynamic=!0,this.providedValueToItemAsync=({program:e},t)=>{if("string"===typeof t){return r(59).ScoolcodeActor.Type.getMethod(t)}return t},this.itemToProvidedValue=({program:e},t)=>{if(t){const e=t.name||"";return"sayForSeconds"===e?this.getProperty("say").publicName:"thinkForSeconds"===e?this.getProperty("think").publicName:e}return""},this.valueProvider=()=>[[this.getProperty("say").publicName,"sayForSeconds"],[this.getProperty("think").publicName,"thinkForSeconds"]],this.declareReadOnlyProperty("say",n.ValueType.String),this.declareReadOnlyProperty("think",n.ValueType.String)}getStaticInstance(){const e=r(59).ScoolcodeActor;return{say:e.Type.getMethod("sayForSeconds"),think:e.Type.getMethod("thinkForSeconds"),sayForSeconds:e.Type.getMethod("sayForSeconds"),thinkForSeconds:e.Type.getMethod("thinkForSeconds")}}}t.BubbleForSecsInfo=i,i.Type=new i;class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("shape",e,"method"),this.parameter("message",e,"parameters.0"),this.parameter("secs",e,"parameters.1"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new o(this.originalAction,this.parent),!0)}}t.BubbleForSecsBlockInstance=o,o.Definition=()=>new n.BlockDefinition("{shape} {message} for {secs} seconds",[new n.BlockParameterInfo("shape",i.Type),new n.BlockParameterInfo("message",n.ValueType.String),new n.BlockParameterInfo("secs",n.ValueType.Number)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Looks},"ScoolcodeActor.sayForSeconds")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordinatesCameraBlockInstance=t.CoordinatesRelativeBlockInstance=t.CoordinatesSimpleBlockInstance=t.CoordinatesBlockInstance=t.CoordinatesCameraInfo=t.CoordinatesRelativeInfo=t.CoordinatesSimpleInfo=t.CoordinatesInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("CoordinatesInfo",null,i.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.declareReadOnlyProperty("x",n.ValueType.String),this.declareReadOnlyProperty("y",n.ValueType.String),this.valueProvider=()=>[[this.getProperty("x").publicName,"x"],[this.getProperty("y").publicName,"y"]]}getStaticInstance(){return{x:n.ScoolcodeActor.Type.getProperty("x"),y:n.ScoolcodeActor.Type.getProperty("y")}}}t.CoordinatesInfo=i,i.Type=new i,i.Instance={};class o extends n.ScoolcodeEnumInfoBase{constructor(){super("CoordinatesSimpleInfo",null,o.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.declareReadOnlyProperty("horizontalPosition",n.ValueType.String),this.declareReadOnlyProperty("verticalPosition",n.ValueType.String),this.valueProvider=()=>[[this.getProperty("horizontalPosition").publicName,"horizontalPosition"],[this.getProperty("verticalPosition").publicName,"verticalPosition"]]}getStaticInstance(){return{horizontalPosition:n.ScoolcodeActor.Type.getProperty("horizontalPosition"),verticalPosition:n.ScoolcodeActor.Type.getProperty("verticalPosition")}}}t.CoordinatesSimpleInfo=o,o.Type=new o,o.Instance={};class a extends n.ScoolcodeEnumInfoBase{constructor(){super("CoordinatesRelativeInfo",null,a.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.declareReadOnlyProperty("relativeX",n.ValueType.String),this.declareReadOnlyProperty("relativeY",n.ValueType.String),this.valueProvider=()=>[[this.getProperty("relativeX").publicName,"relativeX"],[this.getProperty("relativeY").publicName,"relativeY"]]}getStaticInstance(){return{relativeX:n.ScoolcodeActor.Type.getProperty("relativeX"),relativeY:n.ScoolcodeActor.Type.getProperty("relativeY")}}}t.CoordinatesRelativeInfo=a,a.Type=new a,a.Instance={};class s extends n.ScoolcodeEnumInfoBase{constructor(){super("CoordinatesCameraInfo",null,s.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.declareReadOnlyProperty("x",n.ValueType.String),this.declareReadOnlyProperty("y",n.ValueType.String),this.valueProvider=()=>[[this.getProperty("x").publicName,"x"],[this.getProperty("y").publicName,"y"]]}getStaticInstance(){return{x:n.ScoolcodeCamera.Type.getProperty("x"),y:n.ScoolcodeCamera.Type.getProperty("y")}}}t.CoordinatesCameraInfo=s,s.Type=new s,s.Instance={};class l extends n.BlockInstance{constructor(e,t){super(l.Definition(),e,t),this.parameter("name",e,"property"),this.updateParts()}static get Definition(){return l.CoordinatesDefinition}clone(e=!0,t=null){return this.cloneInto(new l(this.originalAction,this.parent),e)}}t.CoordinatesBlockInstance=l,l.Type=i,l.CoordinatesDefinition=()=>new n.BlockDefinition("{name}",[new n.BlockParameterInfo("name",i.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Motion});class c extends n.BlockInstance{constructor(e,t){super(c.Definition(),e,t),this.parameter("name",e,"property"),this.updateParts()}static get Definition(){return c.CoordinatesDefinition}clone(e=!0,t=null){return this.cloneInto(new c(this.originalAction,this.parent),e)}}t.CoordinatesSimpleBlockInstance=c,c.Type=o,c.CoordinatesDefinition=()=>new n.BlockDefinition("{name}",[new n.BlockParameterInfo("name",o.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Motion});class p extends n.BlockInstance{constructor(e,t){super(p.Definition(),e,t),this.parameter("name",e,"property"),this.updateParts()}static get Definition(){return p.CoordinatesDefinition}clone(e=!0,t=null){return this.cloneInto(new p(this.originalAction,this.parent),e)}}t.CoordinatesRelativeBlockInstance=p,p.Type=a,p.CoordinatesDefinition=()=>new n.BlockDefinition("{name}",[new n.BlockParameterInfo("name",a.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Motion});class u extends n.BlockInstance{constructor(e,t){super(u.Definition(),e,t),this.parameter("name",e,"property"),this.updateParts()}static get Definition(){return u.CoordinatesDefinition}clone(e=!0,t=null){return this.cloneInto(new u(this.originalAction,this.parent),e)}}t.CoordinatesCameraBlockInstance=u,u.Type=s,u.CoordinatesDefinition=()=>new n.BlockDefinition("{name}",[new n.BlockParameterInfo("name",s.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Camera})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateBlockInstance=t.DateOperationInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("DateOperation",null,i.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("year",n.ValueType.String).declareColorForBlocks(n.BlockColor.Sensing),this.declareReadOnlyProperty("month",n.ValueType.String).declareColorForBlocks(n.BlockColor.Sensing),this.declareReadOnlyProperty("date",n.ValueType.String).declareColorForBlocks(n.BlockColor.Sensing),this.declareReadOnlyProperty("day",n.ValueType.String).declareColorForBlocks(n.BlockColor.Sensing),this.declareReadOnlyProperty("hour",n.ValueType.String).declareColorForBlocks(n.BlockColor.Sensing),this.declareReadOnlyProperty("minute",n.ValueType.String).declareColorForBlocks(n.BlockColor.Sensing),this.declareReadOnlyProperty("second",n.ValueType.String).declareColorForBlocks(n.BlockColor.Sensing)}getStaticInstance(){return{year:n.DateInfo.Type.getMethod("getFullYear"),month:n.DateInfo.Type.getMethod("getMonth"),date:n.DateInfo.Type.getMethod("getDate"),day:n.DateInfo.Type.getMethod("getDay"),hour:n.DateInfo.Type.getMethod("getHours"),minute:n.DateInfo.Type.getMethod("getMinutes"),second:n.DateInfo.Type.getMethod("getSeconds")}}}t.DateOperationInfo=i,i.Type=new i,i.Instance={};class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("operation",e,"method"),this.updateParts()}clone(){return this.cloneInto(new o(this.originalAction,this.parent))}}t.DateBlockInstance=o,o.Definition=()=>new n.BlockDefinition("current {operation}",[new n.BlockParameterInfo("operation",i.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Sensing},"instances.current")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Math2BlockInstance=t.Math2OperationInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(e=null,t=null){super(e||"Math2Operation",null,t||i.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("atan2",n.ValueType.String),this.declareReadOnlyProperty("roundToDigits",n.ValueType.String)}getStaticInstance(){const e={},t={atan2:n.MathInfo.Type.getMethod("atan2"),roundToDigits:n.MathInfo.Type.getMethod("roundToDigits")};for(const r of Object.keys(t))e[r]=t[r];return e}}t.Math2OperationInfo=i,i.Type=new i,i.Instance={};class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("operation",e,"method"),this.parameter("value",e,"parameters.0"),this.parameter("value2",e,"parameters.1"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.Math2BlockInstance=o,o.Definition=()=>new n.BlockDefinition("{operation} {value} {value2}",[new n.BlockParameterInfo("operation",i.Type),new n.BlockParameterInfo("value",n.ValueType.Number),new n.BlockParameterInfo("value2",n.ValueType.Number)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathBlockInstance=t.RoundInfo=t.MathOperationInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("MathOperation",null,i.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("abs",n.ValueType.String),this.declareReadOnlyProperty("random",n.ValueType.String),this.declareReadOnlyProperty("round",n.ValueType.String),this.declareReadOnlyProperty("floor",n.ValueType.String),this.declareReadOnlyProperty("ceil",n.ValueType.String),this.declareReadOnlyProperty("sqrt",n.ValueType.String),this.declareReadOnlyProperty("sin",n.ValueType.String),this.declareReadOnlyProperty("cos",n.ValueType.String),this.declareReadOnlyProperty("tan",n.ValueType.String),this.declareReadOnlyProperty("asin",n.ValueType.String),this.declareReadOnlyProperty("acos",n.ValueType.String),this.declareReadOnlyProperty("atan",n.ValueType.String),this.declareReadOnlyProperty("ln",n.ValueType.String),this.declareReadOnlyProperty("log",n.ValueType.String),this.declareReadOnlyProperty("exp",n.ValueType.String),this.declareReadOnlyProperty("pow10",n.ValueType.String)}getStaticInstance(){return{abs:n.MathInfo.Type.getMethod("abs"),floor:n.MathInfo.Type.getMethod("floor"),ceil:n.MathInfo.Type.getMethod("ceil"),sqrt:n.MathInfo.Type.getMethod("sqrt"),sin:n.MathInfo.Type.getMethod("sin"),cos:n.MathInfo.Type.getMethod("cos"),tan:n.MathInfo.Type.getMethod("tan"),asin:n.MathInfo.Type.getMethod("asin"),acos:n.MathInfo.Type.getMethod("acos"),atan:n.MathInfo.Type.getMethod("atan"),ln:n.MathInfo.Type.getMethod("ln"),log:n.MathInfo.Type.getMethod("log"),exp:n.MathInfo.Type.getMethod("exp"),pow10:n.MathInfo.Type.getMethod("pow10"),round:n.MathInfo.Type.getMethod("round"),random:n.MathInfo.Type.getMethod("random")}}}t.MathOperationInfo=i,i.Type=new i,i.Instance={};class o extends n.ScoolcodeEnumInfoBase{constructor(){super("RoundInfo",null,o.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("round",n.ValueType.String),this.declareReadOnlyProperty("floor",n.ValueType.String),this.declareReadOnlyProperty("ceil",n.ValueType.String)}getStaticInstance(){return{floor:n.MathInfo.Type.getMethod("floor"),ceil:n.MathInfo.Type.getMethod("ceil"),round:n.MathInfo.Type.getMethod("round")}}}t.RoundInfo=o,o.Type=new o,o.Instance={};class a extends n.BlockInstance{constructor(e,t){super(a.Definition(),e,t),this.parameter("operation",e,"method"),this.parameter("value",e,"parameters.0"),this.updateParts()}static get Definition(){return 0==n.MathInfo.Level?a.RoundDefinition:a.MathDefinition}clone(e=!0,t=null){return this.cloneInto(new a(this.originalAction,this.parent),e)}}t.MathBlockInstance=a,a.MathDefinition=()=>new n.BlockDefinition("{operation} {value}",[new n.BlockParameterInfo("operation",i.Type),new n.BlockParameterInfo("value",n.ValueType.Number)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators}),a.RoundDefinition=()=>new n.BlockDefinition("{operation} {value}",[new n.BlockParameterInfo("operation",o.Type),new n.BlockParameterInfo("value",n.ValueType.Number)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TurnBlockInstance=t.TurnMinutesDirectionInfo=t.TurnDegreesDirectionInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("TurnDegreesDirection",null,{}),this.valueType=n.ValueType.String,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{if("string"===typeof t){let e=r(59).ScoolcodeActor.Type.getMethod(t);if(!e){const r=n.LocalisationService.Default.getKey(t);if(r){const t=r.split("."),n=t.length>1?t[t.length-1]:r;e=this.getStaticInstance()[n]}}return e}return t},this.itemToProvidedValue=({program:e},t)=>{if(t){const e=t.name||"";return"turnLeft"===e||"turnMinutesLeft"===e?this.getProperty("left").publicName:"turnRight"===e||"turnMinutesRight"===e?this.getProperty("right").publicName:e}return""},this.valueProvider=()=>[[this.getProperty("left").publicName,"turnLeft"],[this.getProperty("right").publicName,"turnRight"]],this.declareReadOnlyProperty("left",n.ValueType.String),this.declareReadOnlyProperty("right",n.ValueType.String)}getStaticInstance(){const e=r(59).ScoolcodeActor;return{left:e.Type.getMethod("turnLeft"),right:e.Type.getMethod("turnRight")}}}t.TurnDegreesDirectionInfo=i,i.Type=new i;class o extends n.ScoolcodeEnumInfoBase{constructor(){super("TurnMinutesDirection",null,{}),this.valueType=n.ValueType.String,this.isDynamic=!0,this.providedValueToItemAsync=({program:e},t)=>{if("string"===typeof t){let e=r(59).ScoolcodeActor.Type.getMethod(t);if(!e){const r=n.LocalisationService.Default.getKey(t);if(r){const t=r.split("."),n=t.length>1?t[t.length-1]:r;e=this.getStaticInstance()[n]}}return e}return t},this.itemToProvidedValue=({program:e},t)=>{if(t){const e=t.name||"";return"turnMinutesLeft"===e||"turnLeft"===e?this.getProperty("left").publicName:"turnMinutesRight"===e||"turnRight"===e?this.getProperty("right").publicName:e}return""},this.valueProvider=()=>[[this.getProperty("left").publicName,"turnMinutesLeft"],[this.getProperty("right").publicName,"turnMinutesRight"]],this.declareReadOnlyProperty("left",n.ValueType.String),this.declareReadOnlyProperty("right",n.ValueType.String)}getStaticInstance(){const e=r(59).ScoolcodeActor;return{left:e.Type.getMethod("turnMinutesLeft"),right:e.Type.getMethod("turnMinutesRight")}}}t.TurnMinutesDirectionInfo=o,o.Type=new o;class a extends n.BlockInstance{constructor(e,t){var r;let i=n.HeadingInfo.Unit;if(e&&(null===(r=null===e||void 0===e?void 0:e.method)||void 0===r?void 0:r.name))switch(e.method.name){case"turnLeft":case"turnRight":i="degrees";break;case"turnMinutesLeft":case"turnMinutesRight":i="minutes"}super(a.Definition(i),e,t),this.parameter("direction",e,"method"),"quarters"===n.HeadingInfo.Unit?e.parameters[0]=new n.NumericLiteralAction(90):this.parameter("amount",e,"parameters.0"),this.updateParts()}static Definition(e=n.HeadingInfo.Unit){switch(e){case"degrees":return a.DegreesDefinition();case"minutes":return a.MinutesDefinition();case"quarters":return a.DirectionDefinition();default:throw new Error("Invalid heading unit: "+n.HeadingInfo.Unit)}}static get DirectionInfo(){switch(n.HeadingInfo.Unit){case"degrees":case"quarters":return i;case"minutes":return o;default:throw new Error("Invalid heading unit: "+n.HeadingInfo.Unit)}}clone(e=!0,t=null){return this.cloneInto(new a(this.originalAction,this.parent),e)}}t.TurnBlockInstance=a,a.DegreesDefinition=()=>new n.BlockDefinition("turn {direction} {amount} degrees",[new n.BlockParameterInfo("direction",i.Type),new n.BlockParameterInfo("amount",n.ValueType.Number)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Motion},"instances.turnDegrees"),a.MinutesDefinition=()=>new n.BlockDefinition("turn {direction} {amount} minutes",[new n.BlockParameterInfo("direction",o.Type),new n.BlockParameterInfo("amount",n.ValueType.Number)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1},"instances.turnMinutes"),a.DirectionDefinition=()=>new n.BlockDefinition("turn {direction}",[new n.BlockParameterInfo("direction",i.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1},"instances.turnDirection")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteCloneBlockInstance=void 0;const n=r(2);class i extends n.BlockInstance{constructor(e,t){super(e.parameters.length?i.DefinitionTarget:i.DefinitionThis,e,t),this.parameter("target",e,"parameters.0"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new i(this.originalAction,this.parent),e)}}t.DeleteCloneBlockInstance=i,i.DefinitionTarget=new n.BlockDefinition("delete {target} clone",[new n.BlockParameterInfo("target",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Control},"ScoolcodeStage.deleteClone"),i.DefinitionThis=new n.BlockDefinition("delete this clone",[],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Control},"ScoolcodeActor.deleteClone")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GestureBlockInstance=t.GestureBlockInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("GestureBlock",null,{}),this.valueType=n.ValueType.String,this.isDynamic=!0,this.providedValueToItemAsync=({program:e},t)=>{if("string"===typeof t){return r(136).Vision.Type.getMethod(t)}return t},this.itemToProvidedValue=({program:e},t)=>{if(!t)return"";{const e=t.name||"";switch(e){case"isAnyDetected":return this.getProperty("any").publicName;case"isThumbUpDetected":return this.getProperty("thumbUp").publicName;case"isThumbDownDetected":return this.getProperty("thumbDown").publicName;case"isClosedFistDetected":return this.getProperty("closedFist").publicName;case"isOpenPalmDetected":return this.getProperty("openPalm").publicName;case"isPointingUpDetected":return this.getProperty("pointingUp").publicName;case"isVictoryDetected":return this.getProperty("victory").publicName;case"isNoneDetected":return this.getProperty("none").publicName;default:return e}}},this.valueProvider=()=>[[this.getProperty("any").publicName,"isAnyDetected"],[this.getProperty("thumbUp").publicName,"isThumbUpDetected"],[this.getProperty("thumbDown").publicName,"isThumbDownDetected"],[this.getProperty("closedFist").publicName,"isClosedFistDetected"],[this.getProperty("openPalm").publicName,"isOpenPalmDetected"],[this.getProperty("pointingUp").publicName,"isPointingUpDetected"],[this.getProperty("victory").publicName,"isVictoryDetected"],[this.getProperty("none").publicName,"isNoneDetected"]],this.declareReadOnlyProperty("any",n.ValueType.String),this.declareReadOnlyProperty("thumbUp",n.ValueType.String),this.declareReadOnlyProperty("thumbDown",n.ValueType.String),this.declareReadOnlyProperty("closedFist",n.ValueType.String),this.declareReadOnlyProperty("openPalm",n.ValueType.String),this.declareReadOnlyProperty("pointingUp",n.ValueType.String),this.declareReadOnlyProperty("victory",n.ValueType.String),this.declareReadOnlyProperty("none",n.ValueType.String)}getStaticInstance(){const e=r(136).Vision;return{any:e.Type.getMethod("isAnyDetected"),thumbUp:e.Type.getMethod("isThumbUpDetected"),thumbDown:e.Type.getMethod("isThumbDownDetected"),closedFist:e.Type.getMethod("isClosedFistDetected"),openPalm:e.Type.getMethod("isOpenPalmDetected"),pointingUp:e.Type.getMethod("isPointingUpDetected"),victory:e.Type.getMethod("isVictoryDetected"),none:e.Type.getMethod("isNoneDetected")}}}t.GestureBlockInfo=i,i.Type=new i;class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("name",e,"method"),this.updateParts()}static get Definition(){return o.GestureDefinition}clone(e=!0,t=null){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.GestureBlockInstance=o,o.GestureDefinition=()=>new n.BlockDefinition("\ud83e\udde0 {name} gesture detected",[new n.BlockParameterInfo("name",i.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.DarkBlue},"instances.gestureDetected")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchTargetsInfo=t.PositionTargetsInfo=t.ActorsAndPointerInfo=t.Targets=t.ActorsExceptSelfInfo=t.ActorsInfo=t.ActorsInfoExplicit=t.ActorsInfoBase=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(e,t,r){super(e,null,r),this.baseTypeName="ActorsInfoBase",this.isDynamic=!0}getStaticInstance(){return i.Instance}get itemType(){return i.ValueType}}t.ActorsInfoBase=i,i.Instance={},i.Type=new i("ActorsInfoBase",null,i.Instance);class o extends i{constructor(e,t,r){super(e,null,r),this.providedValueToItemSync=({program:e},t)=>{if(!e)return null;return e.stage.getType().getProperty(t)?new n.InfoItemWrapperAction(new n.ReadPropertyAction(e.stage.getType().getProperty(t),e.stage)):null},this.itemToProvidedValue=({program:e},t)=>{if(!t){if(!e)return"";let t=e.name;return!t&&e instanceof n.ScoolcodeStage&&e.actors.length>0&&(t=e.actors[0].name),n.LocalisationService.Default.getValue(`challenge:asset:${t}`,t||"")}if(t instanceof n.InfoItemWrapperAction&&(t=t.action),"string"===typeof t){return e.stage.actors.find((e=>e.name===t))?n.LocalisationService.Default.getValue(`challenge:asset:${t}`,t):""}if(t.name){if(e.stage.actors.find((e=>e.name===t.name)))return n.LocalisationService.Default.getValue(`challenge:asset:${t.name}`,t.name);if(t instanceof n.ReadVariableAction)return t;if(t instanceof n.ReadPropertyAction&&t.property&&t.property.getter&&t.instance){if(void 0==t.property.getValue(t.instance))return""}}return t},this.valueProvider=({program:{stage:e}})=>e.actors.map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name),e.name]))}getStaticInstance(){return o.Instance}}t.ActorsInfoExplicit=o,o.Instance={};class a extends o{constructor(){super("Actors",null,a.Instance),this.valueProvider=({program:{stage:e}})=>e.actors.map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name),e.name]))}getDefaultItemName(){return n.BlockGalleryFactory.actor?n.BlockGalleryFactory.actor.name:super.getDefaultItemName()}getStaticInstance(){return a.Instance}}t.ActorsInfo=a,a.Type=new a,a.Instance={};class s extends o{constructor(){super("ActorsExceptSelf",null,s.Instance),this.valueProvider=({program:e})=>e.stage.actors.filter((t=>t!==e)).map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name),e.name]))}getStaticInstance(){return s.Instance}}t.ActorsExceptSelfInfo=s,s.Type=new s,s.Instance={},t.Targets={POINTER:"___pointer___",RANDOM:"___random___",CENTER:"___center___",CORNER_LT:"___corner_lt___",CORNER_LB:"___corner_lb___",CORNER_RT:"___corner_rt___",CORNER_RB:"___corner_rb___",CAMERA_RANDOM:"___camera_random___",CAMERA_CENTER:"___camera_center___",CAMERA_CORNER_LT:"___camera_corner_lt___",CAMERA_CORNER_LB:"___camera_corner_lb___",CAMERA_CORNER_RT:"___camera_corner_rt___",CAMERA_CORNER_RB:"___camera_corner_rb___",EDGE_T:"___edge_t___",EDGE_B:"___edge_b___",EDGE_L:"___edge_l___",EDGE_R:"___edge_r___",EDGE_H:"___edge_h___",EDGE_V:"___edge_v___",EDGE_A:"___edge_a___"};class l extends i{constructor(){super("ActorsAndPointer",null,l.Instance),this.valueType=n.ValueType.Any,this.providedValueToItemSync=({program:e},r)=>{if(!e)return null;const i=e.stage.getType();switch(r){case t.Targets.POINTER:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Pointer"),e.stage),new n.ReadPropertyAction(n.PointerInfo.Type.getProperty("position"))));default:return i.getProperty(r)?new n.InfoItemWrapperAction(new n.ReadPropertyAction(i.getProperty(r),e.stage)):null}},this.itemToProvidedValue=({},e)=>{if(!e)return"";if("string"===typeof e)return n.LocalisationService.Default.getValue(`challenge:asset:${e}`,e);if(e instanceof n.InfoItemWrapperAction&&(e=e.action),(e instanceof n.ExecuteAsAction||e instanceof n.ExecuteOfAction)&&(e=e.action),e instanceof n.ReadVariableAction)return e;if(!(e instanceof n.ReadPropertyAction))return n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name||"");{const r=e.property.name;switch(r){case"position":return t.Targets.POINTER;default:if(e.property&&e.property.getter&&e.instance){if(void 0==e.property.getValue(e.instance))return""}return n.LocalisationService.Default.getValue(`challenge:asset:${r}`,r)}}},this.valueProvider=({program:e})=>{const r=e.stage.actors.filter((t=>t!==e)).map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name),e.name]));return r.push([n.LocalisationService.Default.getValue("ActorsAndPointerInfo.pointer"),t.Targets.POINTER]),r}}getStaticInstance(){return l.Instance}}t.ActorsAndPointerInfo=l,l.Type=new l,l.Instance={};class c extends i{constructor(e="PositionTargets"){super(e,null,c.Instance),this.typeName=e,this.valueType=n.ValueType.Any,this.providedValueToItemSync=({program:e},r)=>{if(!e)return null;const i=e.stage.getType();switch(r){case t.Targets.POINTER:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Pointer"),e.stage),new n.ReadPropertyAction(n.PointerInfo.Type.getProperty("position"))));case t.Targets.CENTER:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("center"))));case t.Targets.CORNER_LT:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("topLeft"))));case t.Targets.CORNER_RT:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("topRight"))));case t.Targets.CORNER_LB:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("bottomLeft"))));case t.Targets.CORNER_RB:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("bottomRight"))));case t.Targets.RANDOM:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.CallMethodAction(n.PositionInfo.Type.getMethod("random"))));case t.Targets.CAMERA_CENTER:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("cameraCenter"))));case t.Targets.CAMERA_CORNER_LT:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("cameraTopLeft"))));case t.Targets.CAMERA_CORNER_RT:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("cameraTopRight"))));case t.Targets.CAMERA_CORNER_LB:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("cameraBottomLeft"))));case t.Targets.CAMERA_CORNER_RB:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("cameraBottomRight"))));case t.Targets.CAMERA_RANDOM:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Position"),e.stage),new n.CallMethodAction(n.PositionInfo.Type.getMethod("cameraRandom"))));default:return i.getProperty(r)?new n.InfoItemWrapperAction(new n.ReadPropertyAction(i.getProperty(r),e.stage)):null}},this.itemToProvidedValue=({},e)=>{if(!e)return"";if("string"===typeof e)return n.LocalisationService.Default.getValue(`challenge:asset:${e}`,e);if(e instanceof n.InfoItemWrapperAction&&(e=e.action),(e instanceof n.ExecuteAsAction||e instanceof n.ExecuteOfAction)&&(e=e.action),e instanceof n.ReadVariableAction)return e;if(!(e instanceof n.ReadPropertyAction))return e instanceof n.CallMethodAction?"random"===e.method.name?t.Targets.RANDOM:"cameraRandom"===e.method.name?t.Targets.CAMERA_RANDOM:e:e.name?n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name)||"":e;{const r=e.property.name;switch(r){case"position":return t.Targets.POINTER;case"center":return t.Targets.CENTER;case"topLeft":return t.Targets.CORNER_LT;case"bottomLeft":return t.Targets.CORNER_LB;case"topRight":return t.Targets.CORNER_RT;case"bottomRight":return t.Targets.CORNER_RB;case"cameraCenter":return t.Targets.CAMERA_CENTER;case"cameraTopLeft":return t.Targets.CAMERA_CORNER_LT;case"cameraBottomLeft":return t.Targets.CAMERA_CORNER_LB;case"cameraTopRight":return t.Targets.CAMERA_CORNER_RT;case"cameraBottomRight":return t.Targets.CAMERA_CORNER_RB;default:if(e.property&&e.property.getter&&e.instance){if(void 0==e.property.getValue(e.instance))return""}return n.LocalisationService.Default.getValue(this.typeName+".actor").replace("{actor}",n.LocalisationService.Default.getValue(`challenge:asset:${r}`,r))}}},this.valueProvider=({program:e})=>{const r=n.LocalisationService.Default.getValue(this.typeName+".actor"),i=e.stage.actors.map((e=>[r.replace("{actor}",n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name)),e.name]));return i.push([n.LocalisationService.Default.getValue(this.typeName+".pointer"),t.Targets.POINTER]),i.push([n.LocalisationService.Default.getValue(this.typeName+".randomPosition"),t.Targets.RANDOM]),i.push([n.LocalisationService.Default.getValue(this.typeName+".center"),t.Targets.CENTER]),i.push([n.LocalisationService.Default.getValue(this.typeName+".topLeftCorner"),t.Targets.CORNER_LT]),i.push([n.LocalisationService.Default.getValue(this.typeName+".bottomLeftCorner"),t.Targets.CORNER_LB]),i.push([n.LocalisationService.Default.getValue(this.typeName+".topRightCorner"),t.Targets.CORNER_RT]),i.push([n.LocalisationService.Default.getValue(this.typeName+".bottomRightCorner"),t.Targets.CORNER_RB]),c.hasCamera&&(i.push([n.LocalisationService.Default.getValue(this.typeName+".cameraRandomPosition"),t.Targets.CAMERA_RANDOM]),i.push([n.LocalisationService.Default.getValue(this.typeName+".cameraCenter"),t.Targets.CAMERA_CENTER]),i.push([n.LocalisationService.Default.getValue(this.typeName+".cameraTopLeftCorner"),t.Targets.CAMERA_CORNER_LT]),i.push([n.LocalisationService.Default.getValue(this.typeName+".cameraBottomLeftCorner"),t.Targets.CAMERA_CORNER_LB]),i.push([n.LocalisationService.Default.getValue(this.typeName+".cameraTopRightCorner"),t.Targets.CAMERA_CORNER_RT]),i.push([n.LocalisationService.Default.getValue(this.typeName+".cameraBottomRightCorner"),t.Targets.CAMERA_CORNER_RB])),i}}getDefaultItemName(){return t.Targets.POINTER}getStaticInstance(){return c.Instance}}t.PositionTargetsInfo=c,c.PositionType=new c,c.DirectionType=new c("DirectionTargets"),c.hasCamera=!1,c.Instance={},c.cameraPositions=["cameraCenter","cameraBottomLeft","cameraBottomRight","cameraTopLeft","cameraTopRight","cameraRandom"];class p extends i{constructor(){super("TouchTargets",null,p.Instance),this.providedValueToItemSync=({program:e},r)=>{if(!e)return null;const i=e.stage.getType();switch(r){case t.Targets.EDGE_B:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Edge"),e.stage),new n.ReadPropertyAction(n.EdgeInfo.Type.getProperty("bottom"))));case t.Targets.EDGE_T:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Edge"),e.stage),new n.ReadPropertyAction(n.EdgeInfo.Type.getProperty("top"))));case t.Targets.EDGE_R:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Edge"),e.stage),new n.ReadPropertyAction(n.EdgeInfo.Type.getProperty("right"))));case t.Targets.EDGE_L:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Edge"),e.stage),new n.ReadPropertyAction(n.EdgeInfo.Type.getProperty("left"))));case t.Targets.EDGE_H:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Edge"),e.stage),new n.ReadPropertyAction(n.EdgeInfo.Type.getProperty("horizontal"))));case t.Targets.EDGE_V:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Edge"),e.stage),new n.ReadPropertyAction(n.EdgeInfo.Type.getProperty("vertical"))));case t.Targets.EDGE_A:return new n.InfoItemWrapperAction(new n.ExecuteAsAction(new n.ReadPropertyAction(i.getProperty("Edge"),e.stage),new n.ReadPropertyAction(n.EdgeInfo.Type.getProperty("any"))));default:return i.getProperty(r)?new n.InfoItemWrapperAction(new n.ReadPropertyAction(i.getProperty(r),e.stage)):null}},this.itemToProvidedValue=(e,r)=>{if(!r)return"";if("string"===typeof r)return n.LocalisationService.Default.getValue(`challenge:asset:${r}`,r);if(r instanceof n.InfoItemWrapperAction&&(r=r.action),(r instanceof n.ExecuteAsAction||r instanceof n.ExecuteOfAction)&&(r=r.action),r instanceof n.ReadVariableAction)return r;if(!(r instanceof n.ReadPropertyAction))return n.LocalisationService.Default.getValue(`challenge:asset:${r.name}`,r.name||"");{const e=r.property.name;switch(e){case"left":return t.Targets.EDGE_L;case"right":return t.Targets.EDGE_R;case"top":return t.Targets.EDGE_T;case"bottom":return t.Targets.EDGE_B;case"vertical":return t.Targets.EDGE_V;case"horizontal":return t.Targets.EDGE_H;case"any":return t.Targets.EDGE_A;default:if(r.property&&r.property.getter&&r.instance){if(void 0==r.property.getValue(r.instance))return""}return n.LocalisationService.Default.getValue(`challenge:asset:${e}`,e)}}},this.valueProvider=({program:e})=>{const r=e.stage.actors.filter((t=>t!==e)).map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name),e.name]));return r.push([n.LocalisationService.Default.getValue("TouchTargetsInfo.topEdge"),t.Targets.EDGE_T]),r.push([n.LocalisationService.Default.getValue("TouchTargetsInfo.bottomEdge"),t.Targets.EDGE_B]),r.push([n.LocalisationService.Default.getValue("TouchTargetsInfo.leftEdge"),t.Targets.EDGE_L]),r.push([n.LocalisationService.Default.getValue("TouchTargetsInfo.rightEdge"),t.Targets.EDGE_R]),r.push([n.LocalisationService.Default.getValue("TouchTargetsInfo.verticalEdges"),t.Targets.EDGE_V]),r.push([n.LocalisationService.Default.getValue("TouchTargetsInfo.horizontalEdges"),t.Targets.EDGE_H]),r.push([n.LocalisationService.Default.getValue("TouchTargetsInfo.anyEdge"),t.Targets.EDGE_A]),r}}getDefaultItemName(){return t.Targets.EDGE_A}getStaticInstance(){return p.Instance}}t.TouchTargetsInfo=p,p.Type=new p,p.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorsAndSelfInfo=void 0;const n=r(2),i="___self___";class o extends n.ScoolcodeEnumInfoBase{constructor(){super("ActorsAndSelf",null,o.Instance),this.valueType=n.ValueType.Any,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{if(!e)return null;if(t===i)return new n.ReadThisAction;const r=e.stage.getType();return r.getProperty(t)?new n.ReadPropertyAction(r.getProperty(t),e.stage):null},this.itemToProvidedValue=({program:e},t)=>{if(!t){if(!e)return"";let t=e.name;return!t&&e instanceof n.ScoolcodeStage&&e.actors.length>0&&(t=e.actors[0].name),n.LocalisationService.Default.getValue(`challenge:asset:${t}`,t||"")}if(t instanceof n.ReadThisAction)return i;if(t.name){if(e.stage.actors.find((e=>e.name===t.name)))return n.LocalisationService.Default.getValue(`challenge:asset:${t.name}`,t.name)}return t},this.valueProvider=({program:{stage:e}})=>[...e.actors.map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name),e.name])),[n.LocalisationService.Default.getValue("self","self"),i]]}getDefaultItemName(){return n.BlockGalleryFactory.actor?n.BlockGalleryFactory.actor.name:super.getDefaultItemName()}getStaticInstance(){return o.Instance}}t.ActorsAndSelfInfo=o,o.Type=new o,o.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnchorInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Anchor",null,i.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("stage",n.ValueType.String),this.declareReadOnlyProperty("camera",n.ValueType.String)}getDefaultItemName(){return i.Instance.stage}getStaticInstance(){return i.Instance}}t.AnchorInfo=i,i.Type=new i,i.Instance={stage:"stage",camera:"camera"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeTextureInfo=t.ScoolcodeAssetInfo=t.ScoolcodeTexture=t.ScoolcodeTextureEvents=void 0;const n=r(2);var i;!function(e){e.apply="apply"}(i=t.ScoolcodeTextureEvents||(t.ScoolcodeTextureEvents={}));class o extends n.ScoolcodeObjectBase{constructor(e,t){super(e,null),this.isDefault=!1,this.events=new n.EventEmitter,this.isLiveTexture=!1,this.available=!0,this.getType=()=>this.internal.type,this.name=t}apply(e,t="back"){const r=n.SpriteManager.Default.updateTexture(e,this,"apply",t);return this.events.emit(i.apply,r),r}toString(){return`[Texture (${this.name})]`}on(e,t){this.events.on(e,t)}off(e,t){this.events.off(e,t)}}t.ScoolcodeTexture=o;class a extends n.ScoolcodeObjectInfoBase{}t.ScoolcodeAssetInfo=a;class s extends a{constructor(){super("texture",null,o),this.declareReadOnlyProperty("name",n.ValueType.String)}}t.ScoolcodeTextureInfo=s,s.Type=new s,o.Type=s.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeCostumeInfo=t.CostumesInfo=t.ScoolcodeCostume=void 0;const n=r(2);class i extends n.ScoolcodeTexture{constructor(e,t,r=!1){super(a.Type,e),this.mainAssetId="",this.bubbleX=1,this.bubbleY=1,this.massX=0,this.massY=0,this._centerX=.5,this._centerY=.5,this._centerXForced=!1,this._centerYForced=!1,this._speed=0,this.size=1,this.stopped=!1,this.paused=!1,this.width=64,this.height=64,this.variant=64,this.path=t,this.isDefault=r,this.apply=e=>{if(e instanceof n.ScoolcodeActor){const t=e.texture;t.isLiveTexture&&t.sprite&&t.stop()}const t=super.apply(e);if(e instanceof n.ScoolcodeActor&&e.texture.cache&&e.texture.cache.length>0)for(const r of e.texture.cache[0])r.isDefault&&(e.texture.available=!1);return t.then((()=>{var t,r;this.isLiveTexture&&this.sprite&&(this.stopped=null===(r=null===(t=null===e||void 0===e?void 0:e.internal)||void 0===t?void 0:t.manager)||void 0===r?void 0:r.isPaused(),this.stopped?this.sprite.stop():this.sprite.play())})),t}}get speed(){return this._speed}set speed(e){this._speed=e,this.sprite&&this.sprite.setAnimationSpeed(this._speed)}get centerX(){return this._centerX}set centerX(e){this._centerXForced=!0,this.setCenterXInternal(e)}setCenterX(e){this._centerXForced||this.setCenterXInternal(e)}setCenterXInternal(e){this._centerX=e,this.sprite&&(this.sprite.anchor.x=e)}get centerY(){return this._centerY}set centerY(e){this._centerYForced=!0,this.setCenterYInternal(e)}setCenterY(e){this._centerYForced||this.setCenterYInternal(e)}setCenterYInternal(e){this._centerY=e,this.sprite&&(this.sprite.anchor.y=e)}play(){this.stopped=this.paused=!1,this.sprite&&this.sprite.scTexture===this&&(this.sprite.loop=!0,this.sprite.setAnimationSpeed(this._speed),this.sprite.gotoAndPlay(0))}pause(){this.stopped||(this.paused=!0,this.sprite.stop())}resume(){this.paused&&(this.paused=!1,this.sprite.play())}playTimes(e){this.stopped=!1,this.sprite&&this.sprite.scTexture===this&&(this.sprite.stop(),this.sprite.loop=!0,this.sprite.setAnimationSpeed(this._speed),this.sprite.onLoop=()=>{e>0&&this.sprite&&(--e||this.sprite.scTexture!==this||(this.sprite.stop(),this.stopped=!0,this.sprite.onLoop=null))},this.sprite.gotoAndPlay(0))}playTimesAndWait(e){return this.stopped=!1,this.sprite&&this.sprite.scTexture===this?new Promise((t=>{this.sprite.stop(),this.sprite.loop=!0,this.sprite.setAnimationSpeed(this._speed),this.sprite.onLoop=()=>{e>0&&this.sprite&&(--e||this.sprite.scTexture!==this||(this.sprite.stop(),this.sprite.onLoop=null,this.stopped=!0,t()))},this.sprite.gotoAndPlay(0)})):Promise.resolve()}playForSeconds(e){this.stopped=!1,this.sprite&&this.sprite.scTexture===this&&(this.sprite.loop=!0,this.sprite.setAnimationSpeed(this._speed),this.sprite.gotoAndPlay(0),setTimeout((()=>{this.sprite&&this.sprite.scTexture===this&&(this.stopped=!0,this.sprite.stop())}),1e3*e))}stop(){this.stopped=!0,this.sprite&&this.sprite.scTexture===this&&this.sprite.stop()}grammar(){return new n.CostumeDeclaration(this.name,this.path,this.isDefault)}clone(){const e=new i(this.name,this.path);return e.mainAssetId=this.mainAssetId,e.setCenterX(this.centerX),e.setCenterY(this.centerY),e._centerXForced=this._centerXForced,e._centerYForced=this._centerYForced,e.massX=this.massX,e.massY=this.massY,e.speed=this.speed,e.bubbleX=this.bubbleX,e.bubbleY=this.bubbleY,e.size=this.size,e.isDefault=this.isDefault,e.kind=this.kind,e.speed=this.speed,e}}t.ScoolcodeCostume=i;class o extends n.ScoolcodeEnumInfoBase{constructor(){super("Costumes",null,o.Instance),this.baseTypeName="CostumesInfo",this.valueType=i.Type,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{if(!e)return null;return e.getType().getProperty(t)?new n.ReadPropertyAction(e.getType().getProperty(t)):null},this.itemToProvidedValue=({program:e},t)=>{if(!t){if(!e)return"";const t=(e.textures[0]||{name:""}).name;return n.LocalisationService.Default.getValue(`challenge:asset:${e.name}.${t}`,t)}if("string"===typeof t)return t;if(t.name){const r=e.getType().getProperty(t.name);if(r&&"costume"==r.valueType.name)return n.LocalisationService.Default.getValue(`challenge:asset:${e.name}.${t.name}`,t.name)}return t},this.valueProvider=({program:e,block:t,resolveReference:r})=>{if(t&&t.parent&&"undefined"!==t.parent.typeRef){const i=r(t.parent);if(i instanceof n.BlockInstance&&(i.action instanceof n.ExecuteAsAction||i.action instanceof n.ExecuteOfAction)){const r=i.action.scope;if(r!==t.action&&r instanceof n.ReadPropertyAction){const t=r.property.getValue(e.stage);if(t instanceof n.ScoolcodeActor)return t.textures.map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:${t.name}.${e.name}`,e.name),e.name]))}}}return e.textures?e.textures.map((t=>[n.LocalisationService.Default.getValue(`challenge:asset:${e.name}.${t.name}`,t.name),t.name])):[]}}getStaticInstance(){return o.Instance}}t.CostumesInfo=o,o.Type=new o,o.Instance={};class a extends n.ScoolcodeAssetInfo{constructor(){super("costume",null,i),this.thisType=o.Type,this.declareReadOnlyProperty("name",n.ValueType.String),this.declareReadOnlyProperty("mainAssetId",n.ValueType.String),this.declareProperty("centerX",n.ValueType.Number),this.declareProperty("centerY",n.ValueType.Number),this.declareProperty("bubbleX",n.ValueType.Number),this.declareProperty("bubbleY",n.ValueType.Number),this.declareProperty("massX",n.ValueType.Number),this.declareProperty("massY",n.ValueType.Number),this.declareProperty("speed",n.ValueType.Number),this.declareProperty("size",n.ValueType.Number),this.declareMethod("play").declareBlock("play costume {this}",n.BlockColor.Looks),this.declareMethod("stop").declareBlock("stop costume {this}",n.BlockColor.Looks),this.declareMethod("playTimes").declareParameter("amount",n.ValueType.Number).declareBlock("play costume {this} {amount} times",n.BlockColor.Looks),this.declareAsyncMethod("playTimesAndWait").declareParameter("amount",n.ValueType.Number).declareBlock("play costume {this} {amount} times and wait",n.BlockColor.Looks),this.declareMethod("playForSeconds").declareParameter("seconds",n.ValueType.Number).declareBlock("play costume {this} for {seconds} seconds",n.BlockColor.Looks)}}t.ScoolcodeCostumeInfo=a,a.Type=new a,i.Type=a.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeBackdropInfo=t.ScoolcodeBackdrop=void 0;const n=r(2);class i extends n.ScoolcodeTexture{constructor(e,t,r=!1,n){super(o.Type,e),this.centerX=.5,this.centerY=.5,this.size=1,this.stopped=!1,this.path=t&&"string"===typeof t?t:"",this.isDefault=r,this.solidColor=n}grammar(){return new n.BackdropDeclaration(this.name,this.path,this.isDefault)}clone(){const e=new i(this.name,this.path);return e.setCenterX(this.centerX),e.setCenterY(this.centerY),e.size=this.size,e.isDefault=this.isDefault,e.kind=this.kind,e}stop(){this.stopped=!0,this.sprite.stop()}play(){this.stopped&&(this.stopped=!1,this.sprite.play())}}t.ScoolcodeBackdrop=i;class o extends n.ScoolcodeAssetInfo{constructor(){super("backdrop",null,i),this.declareReadOnlyProperty("name",n.ValueType.String),this.declareProperty("centerX",n.ValueType.Number),this.declareProperty("centerY",n.ValueType.Number),this.declareProperty("size",n.ValueType.Number)}}t.ScoolcodeBackdropInfo=o,o.Type=new o,i.Type=o.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeParallaxLayerInfo=t.ScoolcodeParallaxInfo=t.ScoolcodeParallax=t.ScoolcodeParallaxLayer=t.ParallaxLayersInfo=t.ParallaxesInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Parallaxes",null,i.Instance),this.valueType=n.ScoolcodeTexture.Type,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{if(!e)return null;return e.stage.getType().getProperty(t)?new n.ReadPropertyAction(e.stage.getType().getProperty(t),e.stage):null},this.itemToProvidedValue=({program:e},t)=>{if(!t)return e?(e.stage.textures.filter((e=>e instanceof s))[0]||{name:""}).name:"";if(t.name){const r=e.stage.getType().getProperty(t.name);if(r){if("parallax"===r.valueType.name)return t.name}}return t},this.valueProvider=({program:e})=>e.stage.textures.filter((e=>e instanceof s)).map((e=>[e.name,e.name]))}getStaticInstance(){return i.Instance}}t.ParallaxesInfo=i,i.Type=new i,i.Instance={};class o extends n.ScoolcodeEnumInfoBase{constructor(){super("ParallaxLayers",null,o.Instance),this.valueType=n.ValueType.Numeric,this.isDynamic=!0,this.itemToProvidedValue=({program:e},t)=>{if(" "===t&&e&&e.stage){const t=e.stage.textures.filter((e=>e instanceof s));if(t.length){const e=t[0];if(e.layers.length)return e.layers[0].name}}return t},this.valueProvider=({program:e,block:t})=>{if(t&&e){const r=t.action.scope instanceof n.InfoItemWrapperAction?t.action.scope.action:t.action.scope,i=e.stage[r.name];if(i)return i.layers.map(((e,t)=>[e.name||""+t,e.name||""+t]))}else if(e&&e.stage){const t=e.stage.textures.filter((e=>e instanceof s));if(t.length){return t[0].layers.map(((e,t)=>[e.name||""+t,e.name||""+t]))}}return[]}}getStaticInstance(){return o.Instance}}t.ParallaxLayersInfo=o,o.Type=new o,o.Instance={};class a extends n.ScoolcodeTexture{constructor(e,t,r){super(c.Type,e),this.relativeSpeed=1,this.position={x:0,y:0},this.moveVertical=e=>{isNaN(e)||(this.position.y+=e)},this.moveHorizontal=e=>{isNaN(e)||(this.position.x+=e)},this.move=e=>{this.moveHorizontal(e)},this.moveInAngle=(e,t)=>{if(isNaN(t)||isNaN(e))return;const r=(e+90)*(Math.PI/180),n=t*Math.cos(r),i=t*Math.sin(r);this.position.x+=n,this.position.y+=i},this.path=t,this.relativeSpeed=r}grammar(){return new n.ParallaxLayerDeclaration(this.name,this.path,this.relativeSpeed)}clone(){const e=new a(this.name,this.path,this.relativeSpeed);return e.position=this.position,e}}t.ScoolcodeParallaxLayer=a;class s extends n.ScoolcodeTexture{constructor(e,t,r=!1){super(l.Type,e),this.layers=[],this.moveVertical=e=>{for(let t of this.layers)t.moveVertical(e*(t.relativeSpeed/100))},this.moveHorizontal=e=>{for(let t of this.layers)t.moveHorizontal(e*(t.relativeSpeed/100))},this.moveInAngle=(e,t)=>{for(let r of this.layers)r.moveInAngle(e,t*(r.relativeSpeed/100))},this.move=e=>{this.moveHorizontal(e)},this.moveLayerVertical=(e,t)=>{if("number"===typeof e)e>0&&e<=this.layers.length?this.layers[e-1].moveVertical(t):n.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,`moveLayer(${e})`);else{const r=this.layers.find((t=>t.name===e));r&&r.moveVertical(t)}},this.moveLayer=(e,t)=>{this.moveLayerHorizontal(e,t)},this.moveLayerHorizontal=(e,t)=>{if("number"===typeof e)e>0&&e<=this.layers.length?this.layers[e-1].moveHorizontal(t):n.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,`moveLayer(${e})`);else{const r=this.layers.find((t=>t.name===e));r&&r.moveHorizontal(t)}},this.moveLayerInAngle=(e,t,r)=>{if("number"===typeof e)e>0&&e<=this.layers.length?this.layers[e-1].moveInAngle(t,r):n.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,`moveLayer(${e})`);else{const n=this.layers.find((t=>t.name===e));n&&n.moveInAngle(t,r)}},this.layers=t,this.isDefault=r}get path(){return this.layers[0].path}grammar(){return new n.ParallaxDeclaration(this.name,this.layers.map((e=>e.grammar())),this.isDefault)}clone(){return new s(this.name,this.layers.map((e=>e.clone())),this.isDefault)}}t.ScoolcodeParallax=s;class l extends n.ScoolcodeObjectInfoBase{constructor(){super("parallax",null,s),this.thisType=i.Type,this.declareReadOnlyProperty("name",n.ValueType.String),this.declareMethod("moveVertical").declareParameter("amount",n.ValueType.Number).declareBlock("move \u2750{this} vertically by {amount}",n.BlockColor.Looks),this.declareMethod("moveLayerVertical").declareParameter("index",o.Type).declareParameter("amount",n.ValueType.Number).declareBlock("move layer {index} of \u2750{this} vertically by {amount}",n.BlockColor.Looks),this.declareMethod("moveHorizontal").declareParameter("amount",n.ValueType.Number).declareBlock("move \u2750{this} horizontally by {amount}",n.BlockColor.Looks),this.declareMethod("moveLayerHorizontal").declareParameter("index",o.Type).declareParameter("amount",n.ValueType.Number).declareBlock("move layer {index} of \u2750{this} horizontally by {amount}",n.BlockColor.Looks),this.declareMethod("move").declareParameter("amount",n.ValueType.Number).declareBlock("move \u2750{this} horizontally by {amount}",n.BlockColor.Looks),this.declareMethod("moveInAngle").declareParameter("angle",n.ValueType.Angle).declareParameter("amount",n.ValueType.Number).declareBlock("move \u2750{this} to {angle}\xb0 by {amount}",n.BlockColor.Looks),this.declareMethod("moveLayerInAngle").declareParameter("index",o.Type).declareParameter("angle",n.ValueType.Angle).declareParameter("amount",n.ValueType.Number).declareBlock("move layer {index} of \u2750{this} to {angle}\xb0 by {amount}",n.BlockColor.Looks),this.declareMethod("moveLayer").declareParameter("index",o.Type).declareParameter("amount",n.ValueType.Number).declareBlock("move layer {index} of \u2750{this} horizontally by {amount}",n.BlockColor.Looks)}}t.ScoolcodeParallaxInfo=l,l.Type=new l;class c extends n.ScoolcodeObjectInfoBase{constructor(){super("parallaxLayer",null,a),this.declareReadOnlyProperty("name",n.ValueType.String),this.declareMethod("moveVertical").declareParameter("amount",n.ValueType.Number).declareBlock("move \u2750 layer {this} vertically by {amount}",n.BlockColor.Looks),this.declareMethod("moveHorizontal").declareParameter("amount",n.ValueType.Number).declareBlock("move \u2750 layer {this} horizontally by {amount}",n.BlockColor.Looks),this.declareMethod("move").declareParameter("amount",n.ValueType.Number).declareBlock("move \u2750 layer {this} horizontally by {amount}",n.BlockColor.Looks),this.declareMethod("moveInAngle").declareParameter("angle",n.ValueType.Angle).declareParameter("amount",n.ValueType.Number).declareBlock("move \u2750 layer {this} to {angle}\xb0 by {amount}",n.BlockColor.Looks)}}t.ScoolcodeParallaxLayerInfo=c,c.Type=new c,s.Type=l.Type,a.Type=c.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackdropsWithAnyInfo=t.BackdropsInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Backdrops",null,i.Instance),this.valueType=n.ScoolcodeBackdrop.Type,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{if(!e)return null;return e.stage.getType().getProperty(t)?new n.ReadPropertyAction(e.stage.getType().getProperty(t),e.stage):null},this.itemToProvidedValue=({program:e},t)=>{if(!t){if(!e)return"";const t=(e.stage.textures[0]||{name:""}).name;return n.LocalisationService.Default.getValue(`challenge:asset:stage.${t}`,t)}if(t.name){const r=e.stage.getType().getProperty(t.name);if(r){const e=r.valueType.name;if(["backdrop","parallax","scene"].includes(e))return n.LocalisationService.Default.getValue(`challenge:asset:stage.${t.name}`,t.name)}}else if(t instanceof n.BaseLiteralAction&&!(t instanceof n.NothingLiteralAction))return t.value;return t},this.valueProvider=({program:e})=>e.stage.textures.map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:stage.${e.name}`,e.name),e.name]))}getStaticInstance(){return i.Instance}}t.BackdropsInfo=i,i.Type=new i,i.Instance={};class o extends n.ScoolcodeEnumInfoBase{constructor(){super("BackdropsWithAny",null,o.Instance),this.valueType=n.ScoolcodeBackdrop.Type,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{if("any"===t)return new n.StringLiteralAction(t);if(!e)return null;const r=e.stage.getType().getProperty(t);return r?new n.ReadPropertyAction(r,e.stage):null},this.itemToProvidedValue=({program:e},t)=>{if(!t){if(!e)return"";const t=(e.stage.textures[0]||{name:""}).name;return n.LocalisationService.Default.getValue(`challenge:asset:stage.${t}`,t)}if(t.name){const r=e.stage.getType().getProperty(t.name);if(r){const e=r.valueType.name;if(["backdrop","parallax","scene"].includes(e))return n.LocalisationService.Default.getValue(`challenge:asset:stage.${t.name}`,t.name)}}else if(t instanceof n.BaseLiteralAction&&!(t instanceof n.NothingLiteralAction))return t.value;return t},this.valueProvider=({program:e})=>[[n.LocalisationService.Default.getValue("Key.any"),"any"],...e.stage.textures.map((e=>[n.LocalisationService.Default.getValue(`challenge:asset:stage.${e.name}`,e.name),e.name]))]}getStaticInstance(){return o.Instance}}t.BackdropsWithAnyInfo=o,o.Type=new o,o.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanValueInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Boolean",null,i.Instance),this.valueType=n.ValueType.Boolean,this.isDynamic=!0,this.providedValueToItemSync=(e,t)=>new n.BooleanLiteralAction("on"===t||!0===t),this.itemToProvidedValue=(e,t)=>t&&void 0!=t.value?t.value?"on":"off":"boolean"===typeof t?t?"on":"off":t,this.valueProvider=()=>[[n.LocalisationService.Default.getValue("Boolean.on"),"on"],[n.LocalisationService.Default.getValue("Boolean.off"),"off"]],this.declareReadOnlyProperty("on",n.ValueType.Boolean),this.declareReadOnlyProperty("off",n.ValueType.Boolean)}getDefaultItemName(){return"off"}getStaticInstance(){return i.Instance}}t.BooleanValueInfo=i,i.Type=new i,i.Instance={on:!0,off:!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationsInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Conversations",null,i.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.providedValueToItemSync=(e,t)=>new n.NumericLiteralAction(t),this.itemToProvidedValue=(e,t)=>t.value||t;this.valueProvider=e=>{let t=n.SpriteManager.Default.ConversationProvider.Conversations;t=t.concat(n.SpriteManager.Default.ConversationProvider.ProjectSpecificResolved);const r=[];return t.forEach((e=>{r.find((t=>t[1]===e.id))||r.push([e.name,e.id])})),r}}getStaticInstance(){return i.Instance}}t.ConversationsInfo=i,i.Type=new i,i.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateInfo=t.MyDate=void 0;const n=r(2),i=new Date(Date.UTC(2e3,0,1,0,0,0,0));class o{constructor(...e){this.getDate=()=>this.date.getDate(),this.getDay=()=>this.date.getDay(),this.getFullYear=()=>this.date.getFullYear(),this.getHours=()=>this.date.getHours(),this.getMilliseconds=()=>this.date.getMilliseconds(),this.getMinutes=()=>this.date.getMinutes(),this.getSeconds=()=>this.date.getSeconds(),this.getTime=()=>this.date.getTime(),this.date=new Date(...e)}getMonth(){return this.date.getMonth()+1}daysSince2000(){return this.daysBetween(i,new Date)}from(e,t,r){return new o(e,t-1,r)}daysBetween(e,t){return Math.abs((e.getTime()-t.getTime())/864e5)}now(){return new o}__str__(){return this.date.toLocaleDateString(n.LocalisationService.locale)}}t.MyDate=o;class a extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Date",n.ScoolcodeObjectBase.Type,null),this.externalType="field_date",this.externalTypeFieldName="date",this.declareMethod("getFullYear",n.ValueType.Number).declareBlock(n.DateBlockInstance,n.BlockColor.Sensing),this.declareMethod("getDate",n.ValueType.Number).declareBlock(n.DateBlockInstance,n.BlockColor.Sensing),this.declareMethod("getDay",n.ValueType.Number).declareBlock(n.DateBlockInstance,n.BlockColor.Sensing),this.declareMethod("getHours",n.ValueType.Number).declareBlock(n.DateBlockInstance,n.BlockColor.Sensing),this.declareMethod("getMinutes",n.ValueType.Number).declareBlock(n.DateBlockInstance,n.BlockColor.Sensing),this.declareMethod("getSeconds",n.ValueType.Number).declareBlock(n.DateBlockInstance,n.BlockColor.Sensing),this.declareMethod("getMonth",n.ValueType.Number).declareBlock(n.DateBlockInstance,n.BlockColor.Sensing),this.declareMethod("daysSince2000",n.ValueType.Number).declareBlock("days since 2000",n.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("daysBetween",n.ValueType.Number).declareParameter("firstDate",n.ValueType.Any,null).declareParameter("secondDate",n.ValueType.Any,null).declareBlock("days between {firstDate} and {secondDate}",n.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("from",this).declareParameter("year",n.ValueType.Number,2e3).declareParameter("month",n.ValueType.Number,12).declareParameter("day",n.ValueType.Number,24).declareBlock("from {year} {month} {day}",n.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("now",this).declareBlock("now",n.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0})}static get Instance(){return new o}}t.DateInfo=a,a.Type=new a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeAllInfo=t.EdgeInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Edge",null,i.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("any",n.ValueType.String),this.declareReadOnlyProperty("top",n.ValueType.String),this.declareReadOnlyProperty("bottom",n.ValueType.String),this.declareReadOnlyProperty("left",n.ValueType.String),this.declareReadOnlyProperty("right",n.ValueType.String),this.declareReadOnlyProperty("vertical",n.ValueType.String),this.declareReadOnlyProperty("horizontal",n.ValueType.String)}getDefaultItemName(){return i.Instance.top}getStaticInstance(){return i.Instance}}t.EdgeInfo=i,i.Type=new i,i.Instance={any:"any",top:"top",bottom:"bottom",left:"left",right:"right",vertical:"vertical",horizontal:"horizontal"};class o extends n.ScoolcodeEnumInfoBase{constructor(){super("EdgeAll",null,o.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("all",n.ValueType.String),this.declareReadOnlyProperty("top",n.ValueType.String),this.declareReadOnlyProperty("bottom",n.ValueType.String),this.declareReadOnlyProperty("left",n.ValueType.String),this.declareReadOnlyProperty("right",n.ValueType.String),this.declareReadOnlyProperty("vertical",n.ValueType.String),this.declareReadOnlyProperty("horizontal",n.ValueType.String)}getDefaultItemName(){return o.Instance.top}getStaticInstance(){return o.Instance}}t.EdgeAllInfo=o,o.Type=new o,o.Instance={all:"all",top:"top",bottom:"bottom",left:"left",right:"right",vertical:"vertical",horizontal:"horizontal"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventDataInfo=t.EventData=void 0;const n=r(184),i=r(186);class o{constructor(){this.data=null}}t.EventData=o,o.Instance=new o;class a extends i.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Event",null,o),this.declareReadOnlyProperty("data",n.ValueType.Any)}}t.EventDataInfo=a,a.Type=new a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionNamesInfo=void 0;const n=r(2),i=" \u25cd";class o extends n.ScoolcodeEnumInfoBase{constructor(){super("FunctionNames",null,o.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.itemToProvidedValue=({program:e},t)=>t?"string"===typeof t?t:t.name||"":"",this.valueProvider=({program:e,block:t})=>{const r=e.getType().functions.map((r=>[r.name,r.name,e instanceof n.ScoolcodeStage&&t?i:""]));return e instanceof n.ScoolcodeActor&&e.stage.getType().functions.forEach((e=>{r.find((([t])=>t===e.name))||r.push([e.name,e.name,t?i:""])})),r.map((([e,t,r])=>[e+r,t])).sort(((e,t)=>e[0].localeCompare(t[0])))}}getStaticInstance(){return o.Instance}processSelection(e){return e.endsWith(i)?e.substring(0,e.length-2):null}}t.FunctionNamesInfo=o,o.Type=new o,o.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionsInfo=void 0;const n=r(2),i=" \u25cd";class o extends n.ScoolcodeEnumInfoBase{constructor(){super("Functions",null,o.Instance),this.valueType=n.ValueType.Any,this.isDynamic=!0,this.itemToProvidedValue=({},e)=>"string"===typeof e?e:e?e.name:e,this.providedValueToItemAsync=({program:e},t)=>{if(!t)return null;if("string"===typeof t){let r=e.getType().functions.find((e=>e.name===t));return r?r.scope=e:e instanceof n.ScoolcodeActor&&(r=e.stage.getType().functions.find((e=>e.name===t)),r.scope=e.stage),r}return t||null},this.valueProvider=({program:e,block:t})=>{let r=!0;const o=t?t.action:null;if(o&&o instanceof n.ExecuteAsAction&&o.scope&&o.scope instanceof n.ReadPropertyAction&&o.scope.valueType instanceof n.ScoolcodeActorInfo)r=!1;else{if(o&&o instanceof n.ExecuteAsAction&&o.scope&&o.scope instanceof n.ReadVariableAction&&o.scope.valueType instanceof n.AnyInfo&&o.action instanceof n.CallMethodAction&&o.action.method.declaringType instanceof n.ScoolcodeActorInfo){const e=o.action.method.name;return[[e,e,""]]}if(o instanceof n.ExecuteAsAction&&o.scope instanceof n.ReadStageAction&&e instanceof n.ScoolcodeActor){return e.stage.getType().functions.map((e=>[e.name,e.name,i])).map((([e,t,r])=>[e+r,t]))}}const a=e.getType().functions.map((r=>[r.name,r.name,e instanceof n.ScoolcodeStage&&t?i:""]));return e instanceof n.ScoolcodeActor&&r&&e.stage.getType().functions.forEach((e=>{a.find((([t])=>t===e.name))||a.push([e.name,e.name,t?i:""])})),a.map((([e,t,r])=>[e+r,t])).sort(((e,t)=>e[0].localeCompare(t[0])))}}getStaticInstance(){return o.Instance}processSelection(e){return e.endsWith(i)?e.substring(0,e.length-2):null}}t.FunctionsInfo=o,o.Type=new o,o.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeadingInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Heading",null,i.Instance),this.valueType=n.ValueType.Number,this.isStrict=!1,this.declareReadOnlyProperty("right",n.ValueType.Number),this.declareReadOnlyProperty("left",n.ValueType.Number),this.declareReadOnlyProperty("up",n.ValueType.Number),this.declareReadOnlyProperty("down",n.ValueType.Number)}getStaticInstance(){return i.Instance}}t.HeadingInfo=i,i.Type=new i,i.Instance={right:90,left:-90,up:0,down:180},i.Unit="degrees",i.UseReflexAngle=!1,n.ValueType.Angle.HeadingInfo=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalInfo=t.Internal=void 0;const n=r(2);class i{constructor(e){this.stage=e}get active(){return i._active}set active(e){i._active=e}static subscribe(e,t){this.events.on(e,t)}static unsubscribe(e,t){this.events.off(e,t)}pass(e){console.log(`[INTERNAL] pass: ${e}`),i.events.emit("pass",e+"")}fail(e){console.warn(`[INTERNAL] fail: ${e}`),i.events.emit("fail",e+"")}static getValueVirtual(e){throw new Error("getValueVirtual must be overrided!")}static isSuccessVirtual(e){throw new Error("isSuccessVirtual must be overrided!")}translate(e,t){return n.LocalisationService.Default.getValue(e,t||e)}translateWithArgs(e,t,r){const i=e=>{try{return e.toString()}catch(t){switch(e){case null:return"null";case void 0:return"undefined";default:return""}}};let o=n.LocalisationService.Default.getValue(e,t||e);for(const n of r){const e=`{${n[0]}}`,t=i(n[1]);o=o.replace(e,t)}return o}get challengeIndex(){return n.RuntimeEnvironment.selectedChallenge?n.RuntimeEnvironment.selectedChallenge.index:0}}t.Internal=i,i.events=new n.EventEmitter,i._active=!0,i.isSuccess=i.isSuccessVirtual,i.getValue=i.getValueVirtual;class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("_Internal",null,null),this.declareProperty("active",n.ValueType.Boolean).declareBlock("is active?",n.BlockColor.Operators),this.declareMethod("pass").declareParameter("test",n.ValueType.String,"").declareBlock("pass internal test: {test}",n.BlockColor.Operators),this.declareMethod("fail").declareParameter("test",n.ValueType.String,"").declareBlock("fail internal test: {test}",n.BlockColor.Operators),this.declareMethod("translate",n.ValueType.String).declareParameter("key",n.ValueType.String,"").declareParameter("fallback",n.ValueType.String,"").declareBlock("translate: {key} (fallback: {fallback})",n.BlockColor.Operators),this.declareMethod("translateWithArgs",n.ValueType.String).declareParameter("key",n.ValueType.String,"").declareParameter("fallback",n.ValueType.String,"").declareParameter("args",n.ValueType.Any,"").declareBlock("translate: {key} (fallback: {fallback}) (args: {args})",n.BlockColor.Operators),this.declareMethod("getValue",n.ValueType.Any).declareParameter("test",n.ValueType.String,"").declareBlock("get value by test: {test}"),this.declareMethod("isSuccess").declareParameter("test",n.ValueType.String,"").declareBlock("{test} is success"),this.declareReadOnlyProperty("challengeIndex",n.ValueType.Number).declareNameForBlocks("challenge index",n.BlockColor.Operators)}static instanceFor(e){return this.Instance.stage=e,this.Instance}getStaticInstance(){return o.Instance}}t.InternalInfo=o,o.Type=new o,o.Instance=new i(null)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Key",null,i.Instance),this.valueType=n.ValueType.String,this.isLiteral=!0,this.providedValueToItemSync=(e,t)=>new n.NumericLiteralAction(t),this.itemToProvidedValue=(e,t)=>t.value||t,this.valueProvider=()=>this.properties.map((e=>[e.publicName,i.Instance[e.name]])),this.declareReadOnlyProperty("any",n.ValueType.String),this.declareReadOnlyProperty("space",n.ValueType.String),this.declareReadOnlyProperty("enter",n.ValueType.String),this.declareReadOnlyProperty("upArrow",n.ValueType.String),this.declareReadOnlyProperty("downArrow",n.ValueType.String),this.declareReadOnlyProperty("rightArrow",n.ValueType.String),this.declareReadOnlyProperty("leftArrow",n.ValueType.String),this.declareReadOnlyProperty("a",n.ValueType.String),this.declareReadOnlyProperty("b",n.ValueType.String),this.declareReadOnlyProperty("c",n.ValueType.String),this.declareReadOnlyProperty("d",n.ValueType.String),this.declareReadOnlyProperty("e",n.ValueType.String),this.declareReadOnlyProperty("f",n.ValueType.String),this.declareReadOnlyProperty("g",n.ValueType.String),this.declareReadOnlyProperty("h",n.ValueType.String),this.declareReadOnlyProperty("i",n.ValueType.String),this.declareReadOnlyProperty("j",n.ValueType.String),this.declareReadOnlyProperty("k",n.ValueType.String),this.declareReadOnlyProperty("l",n.ValueType.String),this.declareReadOnlyProperty("m",n.ValueType.String),this.declareReadOnlyProperty("n",n.ValueType.String),this.declareReadOnlyProperty("o",n.ValueType.String),this.declareReadOnlyProperty("p",n.ValueType.String),this.declareReadOnlyProperty("q",n.ValueType.String),this.declareReadOnlyProperty("r",n.ValueType.String),this.declareReadOnlyProperty("s",n.ValueType.String),this.declareReadOnlyProperty("t",n.ValueType.String),this.declareReadOnlyProperty("u",n.ValueType.String),this.declareReadOnlyProperty("v",n.ValueType.String),this.declareReadOnlyProperty("w",n.ValueType.String),this.declareReadOnlyProperty("x",n.ValueType.String),this.declareReadOnlyProperty("y",n.ValueType.String),this.declareReadOnlyProperty("z",n.ValueType.String),this.declareReadOnlyProperty("zero",n.ValueType.String),this.declareReadOnlyProperty("one",n.ValueType.String),this.declareReadOnlyProperty("two",n.ValueType.String),this.declareReadOnlyProperty("three",n.ValueType.String),this.declareReadOnlyProperty("four",n.ValueType.String),this.declareReadOnlyProperty("five",n.ValueType.String),this.declareReadOnlyProperty("six",n.ValueType.String),this.declareReadOnlyProperty("seven",n.ValueType.String),this.declareReadOnlyProperty("eight",n.ValueType.String),this.declareReadOnlyProperty("nine",n.ValueType.String)}getDefaultItemName(){return i.Instance.space}getStaticInstance(){return i.Instance}static equals(e,t){"string"!==typeof e&&(e=""+e),"string"!==typeof t&&(t=""+t);const r=i.Instance,n=Object.keys(r).find((t=>r[t]===e)),o=Object.keys(r).find((e=>r[e]===t));return e===t||e===r[t]||t===r[e]||n===t||o===e}}t.KeyInfo=i,i.Type=new i,i.Instance={any:"any",space:"space",enter:"enter",upArrow:"up arrow",downArrow:"down arrow",rightArrow:"right arrow",leftArrow:"left arrow",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GestureTypeInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("HandGesture",null,i.Instance),this.valueType=n.ValueType.String,this.isLiteral=!0,this.declareReadOnlyProperty("any",n.ValueType.String),this.declareReadOnlyProperty("thumbUp",n.ValueType.String),this.declareReadOnlyProperty("thumbDown",n.ValueType.String),this.declareReadOnlyProperty("closedFist",n.ValueType.String),this.declareReadOnlyProperty("openPalm",n.ValueType.String),this.declareReadOnlyProperty("pointingUp",n.ValueType.String),this.declareReadOnlyProperty("victory",n.ValueType.String),this.declareReadOnlyProperty("none",n.ValueType.String)}getDefaultItemName(){return i.Instance.thumbUp}getStaticInstance(){return i.Instance}}t.GestureTypeInfo=i,i.Type=new i,i.Instance={any:"any",thumbUp:"thumbUp",thumbDown:"thumbDown",closedFist:"closedFist",openPalm:"openPalm",pointingUp:"pointingUp",victory:"victory",none:"none"},i.RawValues={any:"any",thumbUp:"Thumb_Up",thumbDown:"Thumb_Down",closedFist:"Closed_Fist",openPalm:"Open_Palm",pointingUp:"Pointing_Up",victory:"Victory",none:"None"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathInfo=t.RAD_TO_DEG=t.DEG_TO_RAD=void 0;const n=r(2);t.DEG_TO_RAD=Math.PI/180,t.RAD_TO_DEG=180/Math.PI;const i={};Object.getOwnPropertyNames(Math).forEach((e=>i[e]=Math[e]));class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Math",n.ScoolcodeObjectBase.Type,o.Instance),this.mixins=[],this.declareMathMethod("abs"),this.declareMathMethod("acos"),this.declareMathMethod("asin"),this.declareMathMethod("atan"),this.declareMathMethod("ceil"),this.declareMathMethod("cos"),this.declareMathMethod("exp"),this.declareMathMethod("floor"),this.declareMathMethod("log"),this.declareMathMethod("logn"),this.declareMathMethod("ln"),this.declareMathMethod("pow10"),this.declareMathMethod("round"),this.declareMathMethod("sin"),this.declareMathMethod("sqrt"),this.declareMathMethod("tan"),this.declareMethod("random",n.ValueType.Number,!0,!1).declareOptionalParameter("n",n.ValueType.Number).declareBlock(n.MathBlockInstance),this.declareProperty("PI",n.ValueType.Number).declareColorForBlocks(n.BlockColor.Operators)}declareMathMethod(e){this.declareMethod(e,n.ValueType.Number,!0,!1).declareParameter("a",n.ValueType.Numeric).declareBlock(n.MathBlockInstance)}applyMixin(e){const t=e.implementation(o.Instance);for(let r in t)t.hasOwnProperty(r)&&(o.Instance[r]=t[r])}declareAndApplyMixin(e){this.mixins.includes(e)||(n.ScoolcodeMixinManager.declareMixinOnHost({declareAsyncMethod:this.declareAsyncMethod.bind(this),declareMethod:this.declareMethod.bind(this),declareReadOnlyProperty:this.declareReadOnlyProperty.bind(this),declareProperty:this.declareProperty.bind(this),declareEvent:this.declareEvent.bind(this),events:this.events,methods:this.methods,properties:this.properties,original:this},e,!0),this.mixins.push(e),this.applyMixin(e))}}t.MathInfo=o,o.Type=new o,o.Instance=Object.assign(i,{sin:e=>Math.sin(e*t.DEG_TO_RAD),cos:e=>Math.cos(e*t.DEG_TO_RAD),tan:e=>Math.tan(e*t.DEG_TO_RAD),asin:e=>Math.asin(e)*t.RAD_TO_DEG,acos:e=>Math.acos(e)*t.RAD_TO_DEG,atan:e=>Math.atan(e)*t.RAD_TO_DEG,log:e=>Math.log(e)/Math.LN10,ln:e=>Math.log(e),logn:e=>Math.log(e),pow10:e=>Math.pow(10,e),random:(e=0)=>e?~~(Math.random()*e):Math.random(),PI:Math.PI}),o.Level=10},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesInfo=void 0;const n=r(2),i="___new_message___",o="___rename_message___";class a extends n.ScoolcodeEnumInfoBase{constructor(){super("Messages",null,a.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.isExtensible=!0,this.isStringValue=!0,this.providedValueToItemAsync=async({program:e},t,r)=>{if(t===i){const n=await a.PromptProvider("");return n?(e&&e.stage.messages.push(n),n):(a.RenameDropdowns(t,r),r)}if(t===o){const n=await a.PromptProvider(r);if(n&&n!==r&&e){for(const t in e.stage.messages)e.stage.messages[t]===r&&(e.stage.messages[t]=n);return a.RenameDropdowns(r,n),n}return a.RenameDropdowns(t,r),r}return t},this.itemToProvidedValue=({},e)=>n.LocalisationService.Default.getValue(`challenge:message:${e}`,e||""),this.valueProvider=({program:{stage:e}},t)=>{let r=t&&t!==o?`\ud83d\udd89 ${n.LocalisationService.Default.getValue("IdeLabel::Rename","rename")} ${t}`:`\ud83d\udd89 ${n.LocalisationService.Default.getValue("rename message...","rename message...")}`;return[...e.messages.map((e=>[n.LocalisationService.Default.getValue(`challenge:message:${e}`,e),e])).sort(((e,t)=>e[0].localeCompare(t[0]))),[r,o],[`\uff0b ${n.LocalisationService.Default.getValue("new message...","new message...")}`,i]]}}getStaticInstance(){return a.Instance}getDefaultItemAction(){const e=this.getDefaultItemName();return""!==e&&e!==i?super.getDefaultItemAction():null}}t.MessagesInfo=a,a.Type=new a,a.Instance={},a.PromptProvider=async e=>prompt("name = ",e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkInfo=t.ScoolcodeNetwork=void 0;const n=r(2);class i{async getJSON(e){try{const t=await fetch(e);if(t.ok)return Promise.race([t.json(),n.Timer.Default.delay(2e4)])}catch(t){console.error(t)}}}t.ScoolcodeNetwork=i;class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Network",null,o.Instance),this.declareAsyncMethod("getJSON",n.ValueType.Dynamic).declareParameter("url",n.ValueType.String,"").declareBlock("get {url} from network",n.BlockColor.Cherry,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0})}}t.NetworkInfo=o,o.Type=new o,o.Instance=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberClassInfo=void 0;const n=r(2);class i extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Number",null,i.Instance),this.declareReadOnlyProperty("MIN_VALUE",n.ValueType.Number),this.declareReadOnlyProperty("MAX_VALUE",n.ValueType.Number),this.declareMethod("isFinite",n.ValueType.Boolean).declareParameter("value",n.ValueType.Any),this.declareMethod("isInteger",n.ValueType.Boolean).declareParameter("value",n.ValueType.Any),this.declareMethod("isNaN",n.ValueType.Boolean).declareParameter("value",n.ValueType.Any)}}t.NumberClassInfo=i,i.Type=new i,i.Instance=Number},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PenShapeInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("PenShape",null,i.Instance),this.valueType=n.ValueType.Number,this.declareReadOnlyProperty("circle",n.ValueType.Number),this.declareReadOnlyProperty("triangle",n.ValueType.Number),this.declareReadOnlyProperty("square",n.ValueType.Number)}getStaticInstance(){return i.Instance}}t.PenShapeInfo=i,i.Type=new i,i.Instance={circle:0,triangle:3,square:4}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhysicsStageInfo=void 0;const n=r(2);class i extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("PhysicsStage",n.ScoolcodeObjectBase.Type,null),this.declareProperty("verticalGravity",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue).declareDefaults(-100,1),this.declareProperty("horizontalGravity",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue).declareDefaults(0,1),this.declareMethod("enableWall").declareParameter("edge",n.UnionTypeInfo.for(n.EdgeInfo.Type,n.ValueType.String),"top").declareBlock("enable {edge} wall",n.BlockColor.DarkBlue),this.declareMethod("disableWall").declareParameter("edge",n.UnionTypeInfo.for(n.EdgeInfo.Type,n.ValueType.String),"top").declareBlock("disable {edge} wall",n.BlockColor.DarkBlue),this.declareMethod("isWallEnabled").declareParameter("edge",n.UnionTypeInfo.for(n.EdgeAllInfo.Type,n.ValueType.String),"top").declareBlock("is {edge} wall enabled?",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0})}}t.PhysicsStageInfo=i,i.Type=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointerInfo=t.ScoolcodePointer=void 0;const n=r(2);class i{constructor(){this.rawX=0,this.rawY=0,this.pointerX=0,this.pointerY=0,this.transformedPointerX=0,this.transformedPointerY=0,this.pointerDown=!1,this.type="pointer";const e=this;this.props={get x(){return e.transformedPointerX},get y(){return e.transformedPointerY},get relativeX(){return e.pointerX},get relativeY(){return e.pointerY}}}get x(){return this.transformedPointerX}get y(){return this.transformedPointerY}get relativeX(){return this.pointerX}get relativeY(){return this.pointerY}get isDown(){return this.pointerDown}get position(){return{x:this.transformedPointerX,y:this.transformedPointerY,type:"pointer",props:{x:this.transformedPointerX,y:this.transformedPointerY,relativeX:this.pointerX,relativeY:this.pointerY}}}get relativePosition(){return{x:this.pointerX,y:this.pointerY,type:"pointer",props:{x:this.pointerX,y:this.pointerY}}}}t.ScoolcodePointer=i;class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Pointer",null,new i),this.declareReadOnlyProperty("x",n.ValueType.Number).declareNameForBlocks("pointer X",n.BlockColor.Sensing),this.declareReadOnlyProperty("y",n.ValueType.Number).declareNameForBlocks("pointer Y",n.BlockColor.Sensing),this.declareReadOnlyProperty("relativeX",n.ValueType.Number).declareNameForBlocks("pointer relative X",n.BlockColor.Sensing),this.declareReadOnlyProperty("relativeY",n.ValueType.Number).declareNameForBlocks("pointer relative Y",n.BlockColor.Sensing),this.declareReadOnlyProperty("position",n.ValueType.Any).declareNameForBlocks("pointer position",n.BlockColor.Sensing),this.declareReadOnlyProperty("isDown",n.ValueType.Boolean).declareNameForBlocks("pointer down?",n.BlockColor.Sensing)}}t.PointerInfo=o,o.Type=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositionInfo=t.ScoolcodePosition=void 0;const n=r(2);class i{constructor(e){this.stage=e}get center(){var e,t;return{x:(null===(e=this.stage)||void 0===e?void 0:e.width)/2,y:(null===(t=this.stage)||void 0===t?void 0:t.height)/2,type:"center"}}get topLeft(){return{x:0,y:0,type:"topLeft"}}get topRight(){var e;return{x:null===(e=this.stage)||void 0===e?void 0:e.width,y:0,type:"topRight"}}get bottomLeft(){var e;return{x:0,y:null===(e=this.stage)||void 0===e?void 0:e.height,type:"bottomLeft"}}get bottomRight(){var e,t;return{x:null===(e=this.stage)||void 0===e?void 0:e.width,y:null===(t=this.stage)||void 0===t?void 0:t.height,type:"bottomRight"}}random(){var e,t;return{x:n.MathInfo.Instance.randomBetween(0,null===(e=this.stage)||void 0===e?void 0:e.width),y:n.MathInfo.Instance.randomBetween(0,null===(t=this.stage)||void 0===t?void 0:t.height),type:"random"}}get cameraCenter(){var e,t;return{x:(null===(e=this.stage)||void 0===e?void 0:e.width)/2,y:(null===(t=this.stage)||void 0===t?void 0:t.height)/2,type:"cameraCenter"}}get cameraTopLeft(){return{x:0,y:0,type:"cameraTopLeft"}}get cameraTopRight(){var e;return{x:null===(e=this.stage)||void 0===e?void 0:e.width,y:0,type:"cameraTopRight"}}get cameraBottomLeft(){var e;return{x:0,y:null===(e=this.stage)||void 0===e?void 0:e.height,type:"cameraBottomLeft"}}get cameraBottomRight(){var e,t;return{x:null===(e=this.stage)||void 0===e?void 0:e.width,y:null===(t=this.stage)||void 0===t?void 0:t.height,type:"cameraBottomRight"}}cameraRandom(){var e,t;return{x:n.MathInfo.Instance.randomBetween(0,null===(e=this.stage)||void 0===e?void 0:e.width),y:n.MathInfo.Instance.randomBetween(0,null===(t=this.stage)||void 0===t?void 0:t.height),type:"cameraRandom"}}}t.ScoolcodePosition=i;class o extends n.ScoolcodeEnumInfoBase{constructor(e="Positions"){super(e,null,o.Instance),this.typeName="PositionTargets",this.valueType=n.ValueType.Any,this.declareReadOnlyProperty("center",n.ValueType.Any),this.declareReadOnlyProperty("topLeft",n.ValueType.Any),this.declareReadOnlyProperty("topRight",n.ValueType.Any),this.declareReadOnlyProperty("bottomLeft",n.ValueType.Any),this.declareReadOnlyProperty("bottomRight",n.ValueType.Any),this.declareMethod("random",n.ValueType.Any).declareBlock(this.typeName+".randomPosition",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareReadOnlyProperty("cameraCenter",n.ValueType.Any),this.declareReadOnlyProperty("cameraTopLeft",n.ValueType.Any),this.declareReadOnlyProperty("cameraTopRight",n.ValueType.Any),this.declareReadOnlyProperty("cameraBottomLeft",n.ValueType.Any),this.declareReadOnlyProperty("cameraBottomRight",n.ValueType.Any),this.declareMethod("cameraRandom",n.ValueType.Any).declareBlock(this.typeName+".cameraRandomPosition",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.valueProvider=()=>[[n.LocalisationService.Default.getValue(this.typeName+".center"),"center"],[n.LocalisationService.Default.getValue(this.typeName+".topLeftCorner"),"topLeft"],[n.LocalisationService.Default.getValue(this.typeName+".topRightCorner"),"topRight"],[n.LocalisationService.Default.getValue(this.typeName+".bottomLeftCorner"),"bottomLeft"],[n.LocalisationService.Default.getValue(this.typeName+".bottomRightCorner"),"bottomRight"],[n.LocalisationService.Default.getValue(this.typeName+".randomPosition"),"random"],[n.LocalisationService.Default.getValue(this.typeName+".cameraCenter"),"cameraCenter"],[n.LocalisationService.Default.getValue(this.typeName+".cameraTopLeftCorner"),"cameraTopLeft"],[n.LocalisationService.Default.getValue(this.typeName+".cameraTopRightCorner"),"cameraTopRight"],[n.LocalisationService.Default.getValue(this.typeName+".cameraBottomLeftCorner"),"cameraBottomLeft"],[n.LocalisationService.Default.getValue(this.typeName+".cameraBottomRightCorner"),"cameraBottomRight"],[n.LocalisationService.Default.getValue(this.typeName+".cameraRandomPosition"),"cameraRandom"]],this.providedValueToItemSync=(e,t)=>{switch(t){case"center":return new n.ReadPropertyAction(o.Type.getProperty("center"));case"topLeft":return new n.ReadPropertyAction(o.Type.getProperty("topLeft"));case"topRight":return new n.ReadPropertyAction(o.Type.getProperty("topRight"));case"bottomLeft":return new n.ReadPropertyAction(o.Type.getProperty("bottomLeft"));case"bottomRight":return new n.ReadPropertyAction(o.Type.getProperty("bottomRight"));case"random":return new n.CallMethodAction(o.Type.getMethod("random"));case"cameraCenter":return new n.ReadPropertyAction(o.Type.getProperty("cameraCenter"));case"cameraTopLeft":return new n.ReadPropertyAction(o.Type.getProperty("cameraTopLeft"));case"cameraTopRight":return new n.ReadPropertyAction(o.Type.getProperty("cameraTopRight"));case"cameraBottomLeft":return new n.ReadPropertyAction(o.Type.getProperty("cameraBottomLeft"));case"cameraBottomRight":return new n.ReadPropertyAction(o.Type.getProperty("cameraBottomRight"));case"cameraRandom":return new n.CallMethodAction(o.Type.getMethod("cameraRandom"));default:return new n.NothingLiteralAction}},this.itemToProvidedValue=({},e)=>{if(!e)return"";if("string"===typeof e)return n.LocalisationService.Default.getValue(`challenge:asset:${e}`,e);if(e instanceof n.InfoItemWrapperAction&&(e=e.action),(e instanceof n.ExecuteAsAction||e instanceof n.ExecuteOfAction)&&(e=e.action),e instanceof n.ReadVariableAction)return e;if(!(e instanceof n.ReadPropertyAction))return e instanceof n.CallMethodAction?"random"===e.method.name?n.Targets.RANDOM:"cameraRandom"===e.method.name?n.Targets.CAMERA_RANDOM:e:e.name?n.LocalisationService.Default.getValue(`challenge:asset:${e.name}`,e.name)||"":e;{const t=e.property.name;switch(t){case"center":return n.Targets.CENTER;case"topLeft":return n.Targets.CORNER_LT;case"bottomLeft":return n.Targets.CORNER_LB;case"topRight":return n.Targets.CORNER_RT;case"bottomRight":return n.Targets.CORNER_RB;case"cameraCenter":return n.Targets.CAMERA_CENTER;case"cameraTopLeft":return n.Targets.CAMERA_CORNER_LT;case"cameraBottomLeft":return n.Targets.CAMERA_CORNER_LB;case"cameraTopRight":return n.Targets.CAMERA_CORNER_RT;case"cameraBottomRight":return n.Targets.CAMERA_CORNER_RB;default:if(e.property&&e.property.getter&&e.instance){if(void 0==e.property.getValue(e.instance))return""}return n.LocalisationService.Default.getValue(this.typeName+".actor").replace("{actor}",n.LocalisationService.Default.getValue(`challenge:asset:${t}`,t))}}}}static instanceFor(e){return this.Instance.stage=e,this.Instance}getDefaultItemName(){return"center"}getStaticInstance(){return o.Instance}}t.PositionInfo=o,o.Type=new o,o.hasCamera=!1,o.cameraPositions=["cameraCenter","cameraBottomLeft","cameraBottomRight","cameraTopLeft","cameraTopRight","cameraRandom"],o.Instance=new i(null)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RotationStyleInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("RotationStyle",null,i.Instance),this.valueType=n.ValueType.String,this.isLiteral=!0,this.declareReadOnlyProperty("leftRight",n.ValueType.String),this.declareReadOnlyProperty("allAround",n.ValueType.String),this.declareReadOnlyProperty("none",n.ValueType.String)}getDefaultItemName(){return i.Instance.leftRight}getStaticInstance(){return i.Instance}}t.RotationStyleInfo=i,i.Type=new i,i.Instance={leftRight:"leftRight",allAround:"allAround",none:"none"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeArray=void 0;const n=r(2),{splice:i,map:o}=Array.prototype;class a extends n.SafeArray{constructor(...e){super(...e),n.ValueType.Array.applyMixins(this)}static from(e=[]){const t=new a;return t.push(...e),t}async concat(...e){const t=a.from(this);for(let r of e)if(r instanceof a)for(let e of r)await t.addAsync(e);else await t.addAsync(r);return t}async every(e){for(let t=0,r=this.length;t<r;t++)if(!await e(this[t],t,this))return!1;return!0}async fill(e,t,r){const n=this.length;(t=t||0)<0&&(t=n+t),(r=r||n)<0&&(r=n+r);for(let i=t;i<r;i++)this[i]=e;return this}async map(e){return a.from(await Promise.all(o.call(this,e)))}reduce(e,t){let r=0,n=arguments.length>1?t:this[r++];return(async()=>{for(let t=this.length;r<t;r++)n=await e(n,this[r],r,this);return n})()}reduceRight(e,t){let r=this.length-1,n=arguments.length>1?t:this[r--];return(async()=>{for(;r>=0;r--)n=await e(n,this[r],r,this);return n})()}slice(e,t){switch(arguments.length){case 1:t=this.length;break;case 0:e=0,t=this.length}return(async()=>{let r,n=0,i=this.length,o=a.from(),s=e||0;s=s>=0?s:Math.max(0,i+s);let l="number"==typeof t?Math.min(t,i):i;if(t<0&&(l=i+t),r=l-s,r>0)for(n=0;n<r;n++)await o.addAsync(this[s+n]);return o})()}async filter(e){const t=a.from();for(let r=0;r<this.length;r++){const n=this[r];await e(n,r,this)&&await t.addAsync(n)}return t}async find(e){for(let t=0;t<this.length;t++){const r=this[t];if(await e(r,t,this))return r}}async findIndex(e){for(let t=0;t<this.length;t++)if(await e(this[t],t,this))return t;return-1}async keys(){const e=a.from();for(let t=0;t<this.length;t++)await e.addAsync(t);return e}values(){return a.from(this)}async some(e){for(let t=0;t<this.length;t++)if(await e(this[t],t,this))return!0;return!1}splice(e,t,...r){const n=arguments;return(async()=>a.from(i.apply(this,n)))()}indexOf(e){for(let t=0;t<this.length;t++)if(this[t]===e)return t+(n.ExecutionManager.Default.bloxMode?1:0);return-1}lastIndexOf(e){for(let t=this.length-1;t>=0;t--)if(this[t]===e)return t+(n.ExecutionManager.Default.bloxMode?1:0);return-1}reversed(){return a.from([...this].reverse())}insertAt(e=0,...t){return n.ExecutionManager.Default.bloxMode&&e--,i.apply(this,[e,0].concat(t)),this.length}removeAt(e=0){n.ExecutionManager.Default.bloxMode&&e--;const t=this[e];return i.apply(this,[e,1]),t}removeItemsAt(e=0,t=1){return n.ExecutionManager.Default.bloxMode&&e--,a.from(i.apply(this,[e,t]))}remove(e){const t=this.indexOf(e);return~t&&this.removeAt(t),t}async sort(e){if(!e)return super.sort();const t=this,r=(e,r)=>{let n=t[e];return t[e]=t[r],t[r]=n,1},n=async(i,o)=>{if(i>o)return;let a=i;for(let n=a;n<o;n++)await e(t[n],t[o])<0&&(a+=r(n,a));r(a,o),await n(i,a-1),await n(a+1,o)};return await n(0,t.length-1),t}}t.ScoolcodeArray=a},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeBubbleInfo=t.ScoolcodeBubble=void 0;const i=r(2),o=n(r(134)),a=r(135),s=Math.PI/180;class l extends i.ClassInstance{constructor(e){super(c.Type),this.props={fontFamily:"Arial",fontSize:20,background:"#ffffff",backgroundRGB:{r:1,g:1,b:1},tint:new o.default("#000000"),shape:"say",value:"",autoZoom:!0,wordWrapWidth:250,mirrorX:null,mirrorY:null},this.setCssTint=e=>{if("number"===typeof e)this.tint=e;else{const t=a(e.toLowerCase());if(!t&&!RegExp(/^#([A-Fa-f0-9]{6})$/).test(e))return void i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"setCssTint");this.props.tint.hex=t||e,this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("color",e)}},this.setRgbTint=(e,t,r)=>{this.props.tint.rgb=[e,t,r],this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("color",this.value)},this.onChange=()=>{},this.actor=e}get sprite(){return this._sprite}set sprite(e){this._sprite=e}updatePosition(){if(this.sprite){if(this.actor){const e=7*this.actor.stage.scale,t=14*this.actor.stage.scale;if(this.actor.texture){const r=this.actor.texture,n=this.actor.costumeWidth,i=this.actor.costumeHeight;let o,a,l="allAround"===this.actor.rotationStyle;switch(this.actor.rotationStyle){case"allAround":a=!1,o=this.actor.headingDegrees;break;case"leftRight":a=!(0<=this.actor.headingDegrees&&this.actor.headingDegrees<180),this.props.mirrorX=!!a||null,o=a?-90:90;break;case"none":a=!1,o=90}const c=(o-90)*s,p=(.5-r.centerX)*n,u=(.5-r.centerY)*i,d=(r.bubbleX-.5)*n,h=(r.bubbleY-.5)*i,f=l?p*Math.cos(c)-u*Math.sin(c):a?-p:p,m=l?p*Math.sin(c)+u*Math.cos(c):u,g=l?d*Math.cos(c)-h*Math.sin(c):a?-d:d,y=l?d*Math.sin(c)+h*Math.cos(c):h,[v,b]=this.sprite.getMirrorXY();this.sprite.x=this.actor.props.x+f+g-(v?-e:e),this.sprite.y=this.actor.props.y+m+y+(b?-t:t)}else this.sprite.x=this.actor.props.x,this.sprite.y=this.actor.props.y}this.sprite.mirror()}}get fontFamily(){return this.props.fontFamily}set fontFamily(e){e&&"string"===typeof e?(this.props.fontFamily=e,this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("fontFamily",e)):i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"bubble.fontFamily")}get fontSize(){return this.props.fontSize}set fontSize(e){e==+e?(0==e&&(e=.01),this.props.fontSize=e,this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("fontSize",e)):i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"bubble.fontSize")}get tint(){return this.props.tint.value}set tint(e){e&&"string"===typeof e?(this.props.tint=e,this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("color",e)):i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"bubble.color")}get value(){return this.props.value}set value(e){this.props.value=e,this.sprite&&(this.sprite.value=e),this.onChange("value",e)}get shape(){return this.props.shape}set shape(e){this.props.shape=e,this.onChange("shape",e)}get autoZoom(){return this.props.autoZoom}set autoZoom(e){this.props.autoZoom=e,this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("value",e)}get wordWrapWidth(){return this.props.wordWrapWidth}set wordWrapWidth(e){this.props.wordWrapWidth=e,this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("value",e)}get mirrorX(){return this.props.mirrorX}set mirrorX(e){this.props.mirrorX=e,this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("value",e)}get mirrorY(){return this.props.mirrorY}set mirrorY(e){this.props.mirrorY=e,this.sprite&&(this.sprite.text.dirty=!0,this.sprite.render()),this.onChange("value",e)}}t.ScoolcodeBubble=l;class c extends i.ScoolcodeBuiltInObjectInfoBase{constructor(){super("bubble",i.ScoolcodeObjectBase.Type,l),this.declareReadOnlyProperty("value",i.ValueType.String),this.declareProperty("fontFamily",i.ValueType.String).declareNameForBlocks("fontFamily",i.BlockColor.Looks),this.declareProperty("fontSize",i.ValueType.Number).declareNameForBlocks("fontSize",i.BlockColor.Looks),this.declareMethod("setCssTint").declareParameter("value",i.ValueType.Color,"#0000FF",!1,!0).declareBlock("set bubble text tint to {value}",i.BlockColor.Looks),this.declareMethod("setRgbTint").declareParameter("r",i.ValueType.Number,0).declareParameter("g",i.ValueType.Number,0).declareParameter("b",i.ValueType.Number,255).declareBlock("set bubble text tint to R:{r} G:{g} B:{b}",i.BlockColor.Looks),this.declareProperty("autoZoom",i.ValueType.Boolean).declareNameForBlocks("bubble auto zoom",i.BlockColor.Looks),this.declareProperty("mirrorX",i.ValueType.Boolean).declareNameForBlocks("bubble mirror X",i.BlockColor.Looks),this.declareProperty("mirrorY",i.ValueType.Boolean).declareNameForBlocks("bubble mirror Y",i.BlockColor.Looks)}}t.ScoolcodeBubbleInfo=c,c.Type=new c,l.Type=c.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationModeInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("ConversationMode",null,i.Instance),this.valueType=n.ValueType.String,this.declareProperty("center",n.ValueType.String),this.declareProperty("centerBubble",n.ValueType.String),this.declareProperty("centerBubbleOptions",n.ValueType.String),this.declareProperty("bottom",n.ValueType.String),this.declareProperty("bottomScaled",n.ValueType.String)}getDefaultItemName(){return i.Instance.bottom}getStaticInstance(){return i.Instance}}t.ConversationModeInfo=i,i.Type=new i,i.Instance={center:"center",centerBubble:"centerBubble",centerBubbleOptions:"centerBubbleOptions",bottom:"bottom",bottomScaled:"bottomScaled"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeCamera=t.ScoolcodeCameraInfo=void 0;const n=r(2),i=Math.PI/180,o=180/Math.PI;class a extends n.ScoolcodeBuiltInObjectInfoBase{constructor(e){super("ScoolcodeCamera",n.ScoolcodeObjectBase.Type,e),this.declareAsyncMethod("setPosition",null).declareParameter("x",n.ValueType.Number,0).declareParameter("y",n.ValueType.Number,0).declareBlock("move camera to X: {x} Y: {y}",n.BlockColor.Camera),this.declareProperty("x",n.ValueType.Number).declareDefaults(0,10).declareBlock(n.CoordinatesCameraBlockInstance,n.BlockColor.Camera),this.declareProperty("y",n.ValueType.Number).declareDefaults(0,10).declareBlock(n.CoordinatesCameraBlockInstance,n.BlockColor.Camera),this.declareReadOnlyProperty("width",n.ValueType.Number).declareNameForBlocks("camera width",n.BlockColor.Sensing),this.declareReadOnlyProperty("height",n.ValueType.Number).declareNameForBlocks("camera height",n.BlockColor.Sensing),this.declareMethod("setArea",null).declareParameter("width",n.ValueType.Number,640).declareParameter("height",n.ValueType.Number,360).declareBlock("set stage area to: {width} x {height}",n.BlockColor.Camera),this.declareProperty("zoom",n.ValueType.Number).declareDefaults(100,10).declareColorForBlocks(n.BlockColor.Camera),this.declareAsyncMethod("glideSecondsTo").declareParameter("seconds",n.ValueType.Number,1).declareParameter("x",n.ValueType.Number,0).declareParameter("y",n.ValueType.Number,0).declareBlock("glide camera {seconds} seconds to topLeftX: {x} Y: {y}",n.BlockColor.Camera),this.declareProperty("heading",n.ValueType.Angle).declareDefaults((()=>new n.NumericLiteralAction(90))).declareNameForBlocks("camera direction",n.BlockColor.Camera),this.declareMethod("move",n.ValueType.Number).declareParameter("amount",n.ValueType.Number,10).declareBlock("move camera {amount} steps",n.BlockColor.Camera),this.declareMethod("goTo").declareParameter("target",n.PositionTargetsInfo.PositionType,(e=>new n.ExecuteAsAction(((e,t,r)=>{const i=new n.ReadPropertyAction(e.getProperty(t));return e instanceof n.ScoolcodeStageInfo&&(i.instance=r.stage),i})(n.ScoolcodeStage.Type,"Pointer",e),new n.ReadPropertyAction(n.PointerInfo.Type.getProperty("position"))))).declareBlock("go to {target}",n.BlockColor.Camera)}}t.ScoolcodeCameraInfo=a;class s{constructor(e){this.props={x:0,y:0,transformedX:0,transformedY:0,size:100,heading:90},this.glideSecondsTo=async(e,t,r)=>{if(this.stage.internal.manager.isStoppedOrPaused())return void this.setPosition(t,r);const i=Date.now(),o=this.x,a=this.y,s=t-o,l=r-a,c=1e3*e*(1+n.ExecutionManager.delay/100);for(;Date.now()-i<c;){if(this.stage.internal.manager.isStoppedOrPaused()){const{trigger:e,dispose:t}=this.stage.internal.manager.createCancelationTrigger();await e,t();break}const e=Date.now()-i;this.setPosition(o+s*e/c,a+l*e/c),await this.stage.wait(n.ExecutionManager.glideDelay)}this.setPosition(t,r)},this.move=e=>{const t=this.props.x+Math.cos((this.props.heading-90)*i)*e,r=this.props.y+Math.sin((this.props.heading-90)*i)*e;let[n,o]=this.reverseCoordinateTransformationCameraRect(t,r);return this.setPositionInternal(n,o),e},this.goTo=e=>{if(e.type){if("pointer"===e.type)return void this.setPosition(e.x,e.y);if(n.PositionTargetsInfo.cameraPositions.includes(e.type))return}if(e.props){const[t,r]=this.coordinateTransformationDeviceToStage(e.props.x,e.props.y);this.setPosition(t,r)}else{const[t,r]=this.coordinateTransformationDeviceToStage(e.x,e.y);this.setPosition(t,r)}},this.getRelativePositionFromPositionType=e=>{const t=new Map([["cameraCenter",{x:n.ScoolcodeStage.DefaultWidth/2,y:n.ScoolcodeStage.DefaultHeight/2}],["cameraTopLeft",{x:0,y:0}],["cameraTopRight",{x:n.ScoolcodeStage.DefaultWidth,y:0}],["cameraBottomLeft",{x:0,y:n.ScoolcodeStage.DefaultHeight}],["cameraBottomRight",{x:n.ScoolcodeStage.DefaultWidth,y:n.ScoolcodeStage.DefaultHeight}],["cameraRandom",{x:n.MathInfo.Instance.randomBetween(0,n.ScoolcodeStage.DefaultWidth),y:n.MathInfo.Instance.randomBetween(0,n.ScoolcodeStage.DefaultHeight)}]]).get(e);if(t){const[e,r]=this.coordinateTransformationDefaultDeviceToRelative(t.x,t.y);return{x:e,y:r}}},this.stage=e}updateDefaultZoom(){this.stage.width/this.stage.height>n.ScoolcodeStage.DefaultWidth/n.ScoolcodeStage.DefaultHeight?this.defaultZoom=n.ScoolcodeStage.DefaultHeight/this.stage.height:this.defaultZoom=n.ScoolcodeStage.DefaultWidth/this.stage.width}get zoom(){return Math.round(1e5*this.props.size/this.defaultZoom)/1e5}set zoom(e){const t=(e=Math.max(e,100))/this.zoom;this.props.size=e*this.defaultZoom,this.setPositionInternal(this.props.transformedX*t,this.props.transformedY*t);for(let r of this.stage.actors)"camera"===r.anchor?r.updateRelativeTransformedPosition(!0,!0):r.setRelativePositionFromStagePosition(),r.updateSpriteScaleRaw(),r.updatePhysicsScale();for(let r of this.stage.clones)"camera"===r.anchor?r.updateRelativeTransformedPosition(!0,!0):r.setRelativePositionFromStagePosition(),r.updateSpriteScaleRaw(),r.updatePhysicsScale();this.device&&this.device.setScale(e/100*this.defaultZoom),this.stage.setPointerPosition()}get scale(){return this.props.size/100}get x(){return Math.round(1e5*this.props.transformedX/this.scale)/1e5}get y(){return Math.round(1e5*this.props.transformedY/this.scale)/1e5}set x(e){this.setPosition(e,this.props.transformedY/this.scale)}set y(e){this.setPosition(this.props.transformedX/this.scale,e)}get width(){return n.ScoolcodeStage.DefaultWidth/this.defaultZoom/this.zoom*100}get height(){return n.ScoolcodeStage.DefaultHeight/this.defaultZoom/this.zoom*100}async setPosition(e,t){this.setPositionInternal(e*this.scale,t*this.scale)}async setPositionInternal(e,t){let[r,i]=this.coordinateTransformationCameraRect(e,t);const o=this.props.size/100,a=this.stage.width*o-n.ScoolcodeStage.DefaultWidth,s=this.stage.height*o-n.ScoolcodeStage.DefaultHeight;r=Math.max(r,0),r=Math.min(r,a),i=Math.max(i,0),i=Math.min(i,s),[this.props.transformedX,this.props.transformedY]=this.reverseCoordinateTransformationCameraRect(r,i),this.props.x==r&&this.props.y==i||(this.props.x=r,this.props.y=i,this.device&&this.device.moveTo(this.props.x,this.props.y)),this.stage.physics&&this.stage.physics.update(),this.updateActorsRelativeTransformedPosition(),this.stage.refreshMonitorsPosition()}coordinateTransformationCameraRect(e,t){let r,o;const a=this.props.size/100;switch(this.stage.coordinateSystem){case"topLeft":r=e-n.ScoolcodeStage.DefaultWidth/2,o=t-n.ScoolcodeStage.DefaultHeight/2;break;case"bottomLeft":r=e-n.ScoolcodeStage.DefaultWidth/2,o=this.stage.height*a-(t+n.ScoolcodeStage.DefaultHeight/2);break;case"bottomRight":r=this.stage.width*a-(e+n.ScoolcodeStage.DefaultWidth/2),o=this.stage.height*a-(t+n.ScoolcodeStage.DefaultHeight/2);break;case"topRight":r=this.stage.width*a-(e+n.ScoolcodeStage.DefaultWidth/2),o=t-n.ScoolcodeStage.DefaultHeight/2;break;case"center":r=e+this.stage.width/2*a-n.ScoolcodeStage.DefaultWidth/2,o=this.stage.height/2*a-(t+n.ScoolcodeStage.DefaultHeight/2);break;case"polar":r=this.stage.width/2*a-(e*Math.sin(-t*i)+n.ScoolcodeStage.DefaultWidth/2),o=this.stage.height/2*a-(e*Math.cos(-t*i)+n.ScoolcodeStage.DefaultHeight/2)}return[r,o]}reverseCoordinateTransformationCameraRect(e,t){let r,i;const a=this.props.size/100;switch(this.stage.coordinateSystem){case"topLeft":r=e+n.ScoolcodeStage.DefaultWidth/2,i=t+n.ScoolcodeStage.DefaultHeight/2;break;case"bottomLeft":r=e+n.ScoolcodeStage.DefaultWidth/2,i=this.stage.height*a-(n.ScoolcodeStage.DefaultHeight/2+t);break;case"bottomRight":r=this.stage.width*a-(e+n.ScoolcodeStage.DefaultWidth/2),i=this.stage.height*a-(n.ScoolcodeStage.DefaultHeight/2+t);break;case"topRight":r=this.stage.width*a-(n.ScoolcodeStage.DefaultWidth/2+e),i=t+n.ScoolcodeStage.DefaultHeight/2;break;case"center":r=e+n.ScoolcodeStage.DefaultWidth/2-this.stage.width/2*a,i=this.stage.height/2*a-(n.ScoolcodeStage.DefaultHeight/2+t);break;case"polar":r=Math.sqrt(Math.pow(this.stage.width/2*a-(e+n.ScoolcodeStage.DefaultWidth/2),2)+Math.pow(this.stage.height/2*a-(t+n.ScoolcodeStage.DefaultHeight/2),2)),i=0==r?0:(e+n.ScoolcodeStage.DefaultWidth/2-this.stage.width/2*a>=0?1:-1)*Math.acos((this.stage.height/2*a-(t+n.ScoolcodeStage.DefaultHeight/2))/r)*o}return[r,i]}coordinateTransformationRelativeToDevice(e,t){let r,o;const a=this.props.size/100;switch(this.stage.coordinateSystem){case"topLeft":r=(this.props.transformedX+e-n.ScoolcodeStage.DefaultWidth/2)/a,o=(this.props.transformedY+t-n.ScoolcodeStage.DefaultHeight/2)/a;break;case"bottomLeft":r=(this.props.transformedX+e-n.ScoolcodeStage.DefaultWidth/2)/a,o=this.stage.height-(this.props.transformedY+t-n.ScoolcodeStage.DefaultHeight/2)/a;break;case"bottomRight":r=this.stage.width-(this.props.transformedX+e-n.ScoolcodeStage.DefaultWidth/2)/a,o=this.stage.height-(this.props.transformedY+t-n.ScoolcodeStage.DefaultHeight/2)/a;break;case"topRight":r=this.stage.width-(this.props.transformedX+e-n.ScoolcodeStage.DefaultWidth/2)/a,o=(this.props.transformedY+t-n.ScoolcodeStage.DefaultHeight/2)/a;break;case"center":r=this.stage.width/2+(this.props.transformedX+e)/a,o=this.stage.height/2-(this.props.transformedY+t)/a;break;case"polar":{const n=-this.props.transformedX*Math.sin(-this.props.transformedY*i),s=this.props.transformedX*Math.cos(-this.props.transformedY*i);r=this.stage.width/2-e*Math.sin(-t*i)/a+n/a,o=this.stage.height/2-e*Math.cos(-t*i)/a-s/a}}return[r,o]}coordinateTransformationDeviceToRelative(e,t){let r,n;const o=this.props.size/100;switch(this.stage.coordinateSystem){case"topLeft":r=e*o-this.props.transformedX,n=this.props.transformedY-t*o;break;case"bottomLeft":r=e*o-this.props.transformedX,n=(this.stage.height-t)*o-this.props.transformedY;break;case"bottomRight":r=(e-this.stage.width)*o+this.props.transformedX,n=(this.stage.height-t)*o-this.props.transformedY;break;case"topRight":r=(e-this.stage.width)*o+this.props.transformedX,n=this.props.transformedY-t*o;break;case"center":r=(e-this.stage.width/2)*o-this.props.transformedX,n=(this.stage.height/2-t)*o-this.props.transformedY;break;case"polar":const a=-this.props.transformedX*Math.sin(-this.props.transformedY*i),s=this.props.transformedX*Math.cos(-this.props.transformedY*i);r=-(this.stage.width/2+a/o-e)*o,n=(this.stage.height/2-s/o-t)*o}return[r,n]}coordinateTransformationDefaultDeviceToRelative(e,t){let r,i;switch(this.stage.coordinateSystem){case"topLeft":r=e,i=t;break;case"bottomLeft":r=e,i=n.ScoolcodeStage.DefaultHeight-t;break;case"bottomRight":r=n.ScoolcodeStage.DefaultWidth-e,i=n.ScoolcodeStage.DefaultHeight-t;break;case"topRight":r=n.ScoolcodeStage.DefaultWidth-e,i=t;break;case"center":r=e-n.ScoolcodeStage.DefaultWidth/2,i=n.ScoolcodeStage.DefaultHeight/2-t;break;case"polar":n.ScoolcodeStage.DefaultWidth,n.ScoolcodeStage.DefaultHeight;r=Math.sqrt(Math.pow(n.ScoolcodeStage.DefaultWidth/2-e,2)+Math.pow(n.ScoolcodeStage.DefaultHeight/2-t,2)),i=0==r?0:(e-n.ScoolcodeStage.DefaultWidth/2>=0?1:-1)*Math.acos((n.ScoolcodeStage.DefaultHeight/2-t)/r)*o}return[r,i]}coordinateTransformationCollidersToRelative(e,t){let r,o;switch(this.stage.coordinateSystem){case"topLeft":r=e-n.ScoolcodeStage.DefaultWidth/2,o=n.ScoolcodeStage.DefaultHeight/2-t;break;case"bottomLeft":r=e-n.ScoolcodeStage.DefaultWidth/2,o=t-n.ScoolcodeStage.DefaultHeight/2;break;case"bottomRight":r=n.ScoolcodeStage.DefaultWidth/2-e,o=t-n.ScoolcodeStage.DefaultHeight/2;break;case"topRight":r=n.ScoolcodeStage.DefaultWidth/2-e,o=n.ScoolcodeStage.DefaultHeight/2-t;break;case"center":r=e,o=t;break;case"polar":r=-e*Math.sin(-t*i),o=e*Math.cos(-t*i)}return[r,o]}coordinateTransformationCameraToRelative(e,t){let r,o;switch(this.stage.coordinateSystem){case"topLeft":r=n.ScoolcodeStage.DefaultWidth/2+e,o=n.ScoolcodeStage.DefaultHeight/2-t;break;case"bottomLeft":r=n.ScoolcodeStage.DefaultWidth/2+e,o=n.ScoolcodeStage.DefaultHeight/2+t;break;case"bottomRight":r=n.ScoolcodeStage.DefaultWidth/2-e,o=n.ScoolcodeStage.DefaultHeight/2+t;break;case"topRight":r=n.ScoolcodeStage.DefaultWidth/2-e,o=n.ScoolcodeStage.DefaultHeight/2-t;break;case"center":r=e,o=t;break;case"polar":r=-e*Math.sin(-t*i),o=e*Math.cos(-t*i)}return[r,o]}coordinateTransformationStageToDevice(e,t){let r,n;switch(this.stage.coordinateSystem){case"topLeft":r=e,n=t;break;case"bottomLeft":r=e,n=this.stage.height-t;break;case"bottomRight":r=this.stage.width-e,n=this.stage.height-t;break;case"topRight":r=this.stage.width-e,n=t;break;case"center":r=e+this.stage.width/2,n=this.stage.height/2-t;break;case"polar":r=this.stage.width/2-e*Math.sin(-t*i),n=this.stage.height/2-e*Math.cos(-t*i)}return[r,n]}coordinateTransformationDeviceToStage(e,t){let r,n;switch(this.stage.coordinateSystem){case"topLeft":r=e,n=t;break;case"bottomLeft":r=e,n=this.stage.height-t;break;case"bottomRight":r=this.stage.width-e,n=this.stage.height-t;break;case"topRight":r=this.stage.width-e,n=t;break;case"center":r=e-this.stage.width/2,n=this.stage.height/2-t;break;case"polar":r=Math.sqrt(Math.pow(this.stage.width/2-e,2)+Math.pow(this.stage.height/2-t,2)),n=0==r?0:(e-this.stage.width/2>=0?1:-1)*Math.acos((this.stage.height/2-t)/r)*o}return[r,n]}updateActorsRelativeTransformedPosition(){for(let e of this.stage.actors)e.updatePositionsCompletely();for(let e of this.stage.clones)e.updatePositionsCompletely()}updateActorsPosition(){for(let e of this.stage.actors)e.updatePosition();for(let e of this.stage.clones)e.updatePosition()}coordinateSystemChanged(){this.move(0);for(let e of this.stage.actors)e.updatePositionsCompletely(),e.setPosition(e.x,e.y);for(let e of this.stage.clones)e.updatePositionsCompletely(),e.setPosition(e.x,e.y)}setArea(e,t){this.props={x:0,y:0,transformedX:0,transformedY:0,size:100,heading:90},this.stage.width=e,this.stage.height=t,this.stage.Position=n.PositionInfo.instanceFor(this.stage),this.updateDefaultZoom(),this.device&&(this.device.setVirtualStageSize(e,t),this.device.moveTo(this.props.x,this.props.y),this.device.setScale(this.defaultZoom)),this.zoom=this.defaultZoom,this.goTo(this.getRelativePositionFromPositionType("cameraCenter")),this.stage.physics&&(this.setPositionInternal(this.props.x,this.props.y),this.stage.physics.update()),this.updateActorsPosition()}get heading(){return this.props.heading}set heading(e){let t=e%360;t>180?t=-(360-t):t<-180&&(t=360-Math.abs(t)),this.props.heading=t}toString(){return"[Camera]"}}t.ScoolcodeCamera=s,s.Type=new a(s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeMonitorInfo=t.ScoolcodeMonitor=void 0;const n=r(2);class i extends n.ClassInstance{constructor(e,t,r){super(o.Type),this.autoZoom=!1,this.wrapText=!0,this.position={x:null,y:null},this.props={fontSize:16,color:"#ffffff",background:"#000000",value:"",id:++i.idCounter,sizeX:0,sizeY:0,lastRawDimensions:null},this.onChange=()=>{},this.deleted=!1,this.onDelete=()=>{},this._stageX=null,this._stageY=null,this._keepOnSreen=!1,this._x=null,this._y=null,this._sizeX=null,this._sizeY=null,this.setPosition=(e,t)=>{if(this._x=e,this._y=t,null===e&&null===t)return this._stageX=null,void(this._stageY=null);const[r,n]=this.stage.camera.coordinateTransformationStageToDevice(e,t);let[i,o]=this.stage.camera.coordinateTransformationRelativeToDevice(e,t);[i,o]=this.stage.camera.coordinateTransformationDeviceToStage(i,o),this._stageX=i,this._stageY=o,this.position.x=r,this.position.y=n,this.onChange("position",{x:r,y:n})},this.setStagePosition=(e,t)=>{if(this._stageX=e,this._stageY=t,null===e&&null===t)return this._x=null,void(this._y=null);const[r,n]=this.stage.camera.coordinateTransformationStageToDevice(e,t);let[i,o]=this.stage.camera.coordinateTransformationDeviceToRelative(r,n);[i,o]=this.stage.camera.coordinateTransformationCameraToRelative(i,o),this._x=i,this._y=o;const[a,s]=this.stage.camera.coordinateTransformationStageToDevice(i,o);this.position.x=a,this.position.y=s,this.onChange("position",{x:a,y:s})},this.getSize=()=>({x:null,y:null}),this.stop=()=>{this.running&&(this.running=!1,n.Timer.Default.unregisterListener(this,this.update),clearInterval(this.interval))},this.delete=()=>{this.deleted||(this.deleted=!0,this.stop(),this.onDelete())},this.name=e,this.stage=r,this.anchor="camera",this.running=!0,this.valueProvider=t,n.Timer.Default.registerListener(this,this.update,i.Interval)}get id(){return this.props.id}get fontSize(){return this.props.fontSize}set fontSize(e){this.props.fontSize=e,this.onChange("fontSize",e)}get color(){return this.props.color}set color(e){this.props.color=e,this.onChange("color",e)}get background(){return this.props.background}set background(e){this.props.background=e,this.onChange("background",e)}get value(){return this.props.value}get stageX(){return this._stageX}get stageY(){return this._stageY}get x(){return this._x}get y(){return this._y}set keepOnScreen(e){this._keepOnSreen=e,this.onChange("keepOnScreen",e)}get keepOnScreen(){return this._keepOnSreen}refreshPosition(){"camera"===this.anchor?this.setPosition(this._x,this._y):this.setStagePosition(this._stageX,this._stageY)}get sizeX(){const e=this.getSize();return null!=e.x&&e.x>0&&this.stage?this.props.sizeX=Math.round(e.x*this.stage.defaultWidth):console.log(),this.props.sizeX}get sizeY(){const e=this.getSize();return null!=e.y&&e.y>0&&this.stage?this.props.sizeY=Math.round(e.y*this.stage.defaultHeight):console.log(),this.props.sizeY}storeData(e,t,r){e&&(this.props.sizeX=e),t&&(this.props.sizeY=t),r&&(this.props.lastRawDimensions=r)}get lastRawDimensions(){return this.props.lastRawDimensions}set stageX(e){this._stageX=Number(e),this.setStagePosition(this._stageX,this._stageY)}set stageY(e){this._stageY=Number(e),this.setStagePosition(this._stageX,this._stageY)}set x(e){this._x=Number(e),this.setPosition(this._x,this._y)}set y(e){this._y=Number(e),this.setPosition(this._x,this._y)}async update(){if(!this.deleted&&this.running)try{const e=await this.valueProvider();this.running&&null!==e&&this.onChange("value",this.props.value=n.Terminal.stringBuilder(e))}catch(e){e instanceof n.ControlFlowException||e instanceof n.RuntimeError&&n.RuntimeEnvironment.features.isStrictRuntimeChecking&&this.running&&e.message&&this.onChange("value",this.props.value=n.Terminal.stringBuilder(e.message))}}updateValueProvider(e){this.valueProvider=e}}t.ScoolcodeMonitor=i,i.idCounter=0,i.Interval=200;class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("monitor",n.ScoolcodeObjectBase.Type,i),this.declareReadOnlyProperty("name",n.ValueType.String),this.declareReadOnlyProperty("id",n.ValueType.Number),this.declareReadOnlyProperty("value",n.ValueType.String),this.declareProperty("anchor",n.ValueType.String),this.declareProperty("autoZoom",n.ValueType.Boolean),this.declareProperty("wrapText",n.ValueType.Boolean),this.declareProperty("x",n.ValueType.Number),this.declareProperty("y",n.ValueType.Number),this.declareProperty("stageX",n.ValueType.Number),this.declareProperty("stageY",n.ValueType.Number),this.declareProperty("fontSize",n.ValueType.Number),this.declareProperty("color",n.ValueType.Color),this.declareProperty("background",n.UnionTypeInfo.for(n.ValueType.Color,n.ValueType.Null)),this.declareReadOnlyProperty("sizeX",n.ValueType.Number),this.declareReadOnlyProperty("sizeY",n.ValueType.Number),this.declareMethod("delete").declareBlock("delete monitor {this}",n.BlockColor.Operators),this.declareMethod("setPosition").declareParameter("x",n.ValueType.Number).declareParameter("y",n.ValueType.Number).declareBlock("set position of monitor {this}: x:{x} y:{y}",n.BlockColor.Operators),this.declareMethod("setStagePosition").declareParameter("x",n.ValueType.Number).declareParameter("y",n.ValueType.Number).declareBlock("set stage position of monitor {this}: x:{x} y:{y}",n.BlockColor.Operators)}}t.ScoolcodeMonitorInfo=o,o.Type=new o,i.Type=o.Type},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodePen=t.ScoolcodePenInfo=void 0;const i=r(2),o=n(r(134)),a=r(135);class s extends i.ScoolcodeBuiltInObjectInfoBase{constructor(e){super("ScoolcodePen",i.ScoolcodeObjectBase.Type,e),this.declareMethod("down").declareBlock("pen down",i.BlockColor.Pen),this.declareMethod("up").declareBlock("pen up",i.BlockColor.Pen),this.declareProperty("size",i.ValueType.Number).declareDefaults(1,1).declareNameForBlocks("pen size",i.BlockColor.Pen),this.declareProperty("hue",i.ValueType.Number).declareDefaults(0,10).declareNameForBlocks("pen color",i.BlockColor.Pen),this.declareProperty("shade",i.ValueType.Number).declareDefaults(50,10).declareNameForBlocks("pen shade",i.BlockColor.Pen),this.declareMethod("setCssColor").declareParameter("value",i.UnionTypeInfo.for(i.ValueType.Color,i.ValueType.Number,i.ValueType.String),"#0000FF",!1,!0).declareBlock("set css color to {value}",i.BlockColor.Pen),this.declareMethod("setRgbColor").declareParameter("r",i.ValueType.Number,0).declareParameter("g",i.ValueType.Number,0).declareParameter("b",i.ValueType.Number,255).declareBlock("set color to R:{r} G:{g} B:{b}",i.BlockColor.Pen),this.declareProperty("shape",i.PenShapeInfo.Type).declareDefaults(0).declareNameForBlocks("pen shape",i.BlockColor.Pen)}}t.ScoolcodePenInfo=s;class l{constructor(e,t){this.props={color:new o.default("#0000FF"),size:5,down:!1,shape:0},this.drawShape=(e,t,r)=>{const n=r/2;switch(this.props.shape){case 0:this.graphics.drawCircle(e,t,n);break;case 3:this.graphics.drawPolygon([e,t-n,e+n,t+n,e-n,t+n]);break;case 4:this.graphics.drawRect(e-n,t-n,r,r)}},this.preparePen=()=>{if(!this.props.down||!this.graphics)return;const{color:e,size:t}=this.props,{x:r,y:n}=this.position,i=t*this.stage.scale;this.graphics.lineStyle(0,e.value),this.graphics.beginFill(e.value),this.drawShape(r,n,i),this.graphics.endFill(),this.graphics.lineStyle(i,e.value),this.graphics.moveTo(r,n)},this.draw=()=>{if(!this.props.down||!this.graphics)return;const{color:e,size:t}=this.props,{x:r,y:n}=this.position,i=t*this.stage.scale;this.graphics.lineTo(r,n),this.graphics.lineStyle(0,e.value),this.graphics.beginFill(e.value),this.drawShape(r,n,i),this.graphics.endFill()},this.down=()=>{this.props.down=!0,this.preparePen(),this.draw()},this.up=()=>{this.props.down=!1},this.setCssColor=e=>{if("number"===typeof e)this.props.color.value=e;else{const t=a(e.toLowerCase());if(!t&&!RegExp(/^#([A-Fa-f0-9]{6})$/).test(e))return void i.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"setCssTint");this.props.color.hex=t||e}},this.setRgbColor=(e,t,r)=>{this.props.color.rgb=[e,t,r]},this.position=e,this.stage=t}clone(e){const t=new l(e,this.stage);return t.props=Object.assign(Object.assign({},this.props),{color:this.props.color.clone()}),t}get size(){return this.props.size}set size(e){this.props.size=Math.max(0,e)}get hue(){return this.props.color.hue}set hue(e){this.props.color.hue=e}get shade(){return this.props.color.shade}set shade(e){this.props.color.shade=e}get shape(){return this.props.shape}set shape(e){if("string"===typeof e){const t=i.PenShapeInfo.Instance[e];void 0!=t&&(this.props.shape=t)}else this.props.shape=e}toString(){return"[Pen]"}}t.ScoolcodePen=l,l.Type=new s(l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeSceneInfo=t.ScoolcodeScene=void 0;const n=r(2);class i extends n.ScoolcodeTexture{constructor(e,t,r,n,i="",o=!1,a=!1){super(e,t),this.visibleAsFront=!1,this.visibleAsBack=!1,this.endPromises=[],this.opacity=100,this.end=e=>{let t=this.endPromises.pop();for(;t;)t(e),t=this.endPromises.pop()},this.completeScene=e=>{this.end(e)},this.stopScene=e=>{this.stage.deactivateEventHandlers(),this.stage.deactivateManagers(),this.end(),this.stage.stop(!0)},this.pauseScene=e=>{this.isPaused()||(this.stage.pauseProgramatically(),this.end(e))},this.isPaused=()=>this.stage.isStagePausedProgramatically(),this.step=()=>this.stage.step(),this.hide=e=>{this.visibleAsBack&&(this.unapply(e,"back"),this.visibleAsBack=!1),this.visibleAsFront&&(this.unapply(e,"front"),this.visibleAsFront=!1)},this.stop=()=>(this.end(),this.paused&&(this.paused=!1,this.stage.playerSpeed=0),this.stage.stop(!0)),this.stage=r,r._insideSceneMode=!0,Object.defineProperty(r,"completeScene",{get:()=>this.completeScene}),Object.defineProperty(r,"pauseScene",{get:()=>this.pauseScene}),Object.defineProperty(r,"stopScene",{get:()=>this.stopScene}),Object.defineProperty(r,"isVisible",{get:()=>()=>this.visible}),Object.defineProperty(r,"scene",{get:()=>r}),Object.defineProperty(r,"opacity",{get:()=>this.opacity,set:e=>{this.opacity=Math.min(100,Math.max(0,e)),r.frontdrop&&(r.frontdrop.alpha=this.opacity/100)}}),this.preload=o,this.kind=n,this.path=i,this.isDefault=a;for(let s of e.userMethods)this[s.name]=(...e)=>this.stage[s.name](...e);for(let s of e.functions)this[s.name]=(...e)=>this.stage[s.name](...e);for(let s of e.fields)Object.defineProperty(this,s.name,{get:()=>this.stage[s.name],set:e=>this.stage[s.name]=e})}get visible(){return this.visibleAsFront||this.visibleAsBack}readProperty(e){let t=this[e];return void 0==t&&(t=this.stage[e]),t}setParent(e){this.parent=e;const t=this.stage;t.broadcast=(r,i=!1)=>{r&&(i||e.broadcast(r,this),n.ScoolcodeStage.Type.OnSignalReceived.emit([r,this],t))},t.broadcastAndWait=async(r,i=!1)=>{r&&(i||await e.broadcastAndWait(r,this),await n.ScoolcodeStage.Type.OnSignalReceived.emit([r,this],t))},t.broadcastData=(r,i,o=!1)=>{r&&(o||e.broadcastData(r,i,this),n.ScoolcodeStage.Type.OnDataReceived.emit([r,i,this],t))},t.broadcastDataAndWait=async(r,i,o=!1)=>{r&&(o||await e.broadcastDataAndWait(r,i,this),await n.ScoolcodeStage.Type.OnDataReceived.emit([r,i,this],t))}}setOnStopMainStage(e){this.stage.onStopMainStage=async()=>await e.stop()}activate(e,t){this.stage.activateEventHandlers(),this.stage.activateManagers(),this.stage.resume(),this.stage.resumeProgramatically(),this.setOnStopMainStage(e),(e.isStageRunning()||e.isStagePreparing())&&this.emitShown(t)}emitShown(e){n.ScoolcodeStage.Type.OnShown.emit([e],this.stage)}async apply(e,t="back",r){const n=await super.apply(e,t);if("back"===t?(this.visibleAsBack=!0,this.visibleAsFront=!1,this.stage._visibleAsScene=!0):(this.visibleAsFront=!0,this.visibleAsBack=!1,this.stage._visibleAsScene=!0),!this.stage.isStageStopped())return this.activate(e,r),n}applyAndWait(e,t="back",r){return this.stage.isStageStopped()?this.apply(e,t):(this.executionManager=this.executionManager||this.stage.internal.manager.sub(),new Promise((async n=>{const i=this.executionManager.registerCancelationToken(n);this.endPromises.push(i),await super.apply(e,t),"back"===t?(this.visibleAsBack=!0,this.visibleAsFront=!1,this.stage._visibleAsScene=!0):(this.visibleAsFront=!0,this.visibleAsBack=!1,this.stage._visibleAsScene=!0),this.activate(e,r)})))}applyPlayerSpeed(e){this.isPaused()||(this.stage.playerSpeed=e,0==e?(this.stage.pause(),this.internal.manager.pause()):(this.stage.resume(),this.internal.manager.resume()))}unapply(e,t){this.stage.isStageStopped()?"front"===t&&this.visibleAsFront&&(n.SpriteManager.Default.updateTexture(e,this,"unapply",t),this.visibleAsBack=!1,this.visibleAsFront=!1,this.stage._visibleAsScene=!1):("back"===t&&this.visibleAsBack||"front"===t&&this.visibleAsFront)&&(n.SpriteManager.Default.updateTexture(e,this,"unapply",t),this.visibleAsBack=!1,this.visibleAsFront=!1,this.stage._visibleAsScene=!1,e.isStageRunning()&&!this.stage.isStagePaused()&&n.ScoolcodeStage.Type.OnHidden.emit([],this.stage))}grammarLocal(){return new n.Scene(this.name,{preload:this.preload,embedded:"embedded"===this.kind,default:this.isDefault},this.stage.grammar())}grammarExternal(){return new n.ExternalSceneDeclaration(this.name,this.path)}grammar(){return"local"===this.kind||"embedded"===this.kind?this.grammarLocal():this.grammarExternal()}clone(){const e=new i(this.type,this.name,this.stage,this.kind);return e.path=this.path,e.preload=this.preload,e.isDefault=this.isDefault,e}}t.ScoolcodeScene=i;class o extends n.ScoolcodeAssetInfo{constructor(e){if(super("scene",n.ScoolcodeObjectBase.Type,i),this.declareReadOnlyProperty("name",n.ValueType.String),this.declareReadOnlyProperty("path",n.ValueType.String),e){for(let r of e.userMethods)this.declareUserMethod(r.name,r.returnType);for(let r of e.functions)this.declareUserFunction(r.name,r.returnType);for(let r of e.fields)this.declareUserField(r.name,r.valueType);const t=e.getProperty("scene");t.setter=!1,t.private=!1,t.type=this,e.declareMethod("completeScene").declareParameter("data",n.ValueType.Any).declareBlock("complete scene with data: {data}"),e.declareAsyncMethod("pauseScene").declareParameter("data",n.ValueType.Any).declareBlock("pause scene"),e.declareMethod("stopScene").declareParameter("data",n.ValueType.Any).declareBlock("stop scene"),e.declareMethod("isVisible",n.ValueType.Boolean),e.declareProperty("opacity",n.ValueType.Number)}}}t.ScoolcodeSceneInfo=o,o.Type=new o,i.Type=o.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeSoundInfo=t.ScoolcodeSound=t.ScoolcodeSoundBuffer=void 0;const n=r(2);class i{constructor(e){this.buffer=e,this.id=0}}t.ScoolcodeSoundBuffer=i;class o extends n.ScoolcodeObjectBase{constructor(e,t){super(a.Type,null),this.available=!0,this.getType=()=>this.internal.type,this.name=e,this.path=t}grammar(){return new n.SoundDeclaration(this.name,this.path)}clone(){return new o(this.name,this.path)}play(){const e=new i(this.buffer);return n.SpriteManager.Default.playSound(this,e),e.id}async playAndWait(){const e=new i(this.buffer);await n.SpriteManager.Default.playSoundAndWait(this,e)}toString(){return`[Sound (${this.name})]`}}t.ScoolcodeSound=o;class a extends n.ScoolcodeAssetInfo{constructor(){super("sound",null,o),this.declareReadOnlyProperty("name",n.ValueType.String)}}t.ScoolcodeSoundInfo=a,a.Type=new a,o.Type=a.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalsInfo=void 0;const n=r(2),i="___new_signal___",o="___rename_signal___";class a extends n.ScoolcodeEnumInfoBase{constructor(){super("Signals",null,a.Instance),this.valueType=n.UnionTypeInfo.for(n.ValueType.String,n.ValueType.Number),this.isDynamic=!0,this.isExtensible=!0,this.isStringValue=!0,this.providedValueToItemAsync=async({program:e},t,r)=>{if(t===i){const n=await a.PromptProvider("");return n?(e&&e.stage.signals.push(n),n):(a.RenameDropdowns(t,r),r)}if(t===o){const n=await a.PromptProvider(r);if(n&&n!==r&&e){for(const t in e.stage.signals)e.stage.signals[t]===r&&(e.stage.signals[t]=n);return a.RenameDropdowns(r,n),n}return a.RenameDropdowns(t,r),r}return t},this.itemToProvidedValue=({},e)=>n.LocalisationService.Default.getValue(`challenge:signal:${e}`,e||""),this.valueProvider=({program:{stage:e}},t)=>{let r=t&&t!==o?`\ud83d\udd89 ${n.LocalisationService.Default.getValue("IdeLabel::Rename","rename")} ${t}`:`\ud83d\udd89 ${n.LocalisationService.Default.getValue("rename signal...","rename signal...")}`;return[...e.signals.map((e=>[n.LocalisationService.Default.getValue(`challenge:signal:${e}`,e),e])).sort(((e,t)=>e[0].localeCompare(t[0]))),[r,o],[`\uff0b ${n.LocalisationService.Default.getValue("new signal...","new signal...")}`,i]]}}getStaticInstance(){return a.Instance}getDefaultItemAction(){const e=this.getDefaultItemName();return""!==e&&e!==i?super.getDefaultItemAction():null}}t.SignalsInfo=a,a.Type=new a,a.Instance={},a.PromptProvider=async e=>prompt("name = ",e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SoundsInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("Sounds",null,i.Instance),this.valueType=n.ScoolcodeSound.Type,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{if(!e||!t||0==t.length)return null;return e.getType().getProperty(t)?new n.InfoItemWrapperAction(new n.ReadPropertyAction(e.getType().getProperty(t))):null},this.itemToProvidedValue=({program:e},t)=>{if(!t){if(!e)return"";const t=(e.sounds[0]||{name:""}).name;return n.LocalisationService.Default.getValue(`challenge:asset:${e.name||"stage"}.${t}`,t)}if("string"===typeof t)return t;if(t.name){const r=e.getType().getProperty(t.name);if(r){if("sound"===r.valueType.name)return n.LocalisationService.Default.getValue(`challenge:asset:${e.name||"stage"}.${t.name}`,t.name)}}return t},this.valueProvider=({program:e})=>e.sounds?e.sounds.map((t=>[n.LocalisationService.Default.getValue(`challenge:asset:${e.name||"stage"}.${t.name}`,t.name),t.name])):[]}getStaticInstance(){return i.Instance}}t.SoundsInfo=i,i.Type=new i,i.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpriteManager=void 0;const n=r(2);class i{constructor(){this.events=new n.EventEmitter,this.sensorData={acceleration:{x:0,y:0,z:0},rotation:{alpha:0,beta:0,gamma:0},compass:{magneticHeading:0,trueHeading:0},position:{latitude:0,longitude:0,altitude:0,heading:0,speed:0},touchPoints:[]},this.visionData={webcam:{opacity:1,bounds:{x:0,y:0,width:.25,height:.25},mask:null},gesture:null,handLandmarks:[],poseLandmarks:[]},this.KeyInfoProvider={isPressed:()=>!1},this.DialogProvider={prompt:()=>Promise.resolve(""),start:(e,t)=>new Promise(((r,n)=>{this.DialogQueue.push({type:"dialog",message:e,actor:t,res:r}),1===this.DialogQueue.length&&this.exec()}))},this.VisionProvider={enable:()=>Promise.resolve(!1),disable:()=>Promise.resolve(!0)},this.hideDropdowns=null,this.DialogQueue=[],this.ConversationProvider={Conversations:[],Initialized:!1,ProjectSpecific:[],ProjectSpecificResolved:[],serialize:()=>{const e=[];for(const t of this.ConversationProvider.Conversations)e.push(t.id);return e},updateResolved:async()=>{const e=[];for(const t of this.ConversationProvider.ProjectSpecific){if(this.ConversationProvider.Conversations.findIndex((e=>e.id===t))>=0)continue;const r=await this.ConversationProvider.getConversationName(t);r||!this.ConversationProvider.Initialized?this.ConversationProvider.ProjectSpecificResolved.push({id:t,name:r}):e.push(t)}for(const t of e){const e=this.ConversationProvider.ProjectSpecific.findIndex((e=>e===t));this.ConversationProvider.ProjectSpecific.splice(e,1)}},registerValue:async e=>{if(!(this.ConversationProvider.Conversations.findIndex((t=>t.id===e))>=0)){this.ConversationProvider.ProjectSpecific.findIndex((t=>t===e))<0&&this.ConversationProvider.ProjectSpecific.push(e);try{this.ConversationProvider.Initialized&&await this.ConversationProvider.updateResolved()}catch(t){console.warn(`Unable to register conversation: ${e}`)}}},resetProjectSpecific:()=>{this.ConversationProvider.ProjectSpecific=[],this.ConversationProvider.ProjectSpecificResolved=[]},prompt:()=>Promise.resolve(""),getConversationName:e=>Promise.resolve(null),getConversations:()=>Promise.resolve([]),getConversation:e=>Promise.resolve({}),editConversation:()=>{},createNew:()=>()=>{},start:(e,t,r,n,i,o)=>new Promise(((a,s)=>{this.DialogQueue.push({type:"conversation",conversationId:e,actor:t,variables:r,setVariable:n,broadcast:i,broadcastAndWait:o,res:a}),1===this.DialogQueue.length&&this.exec()}))},this.LiveopsProvider={getScore:()=>Promise.resolve(0),incrementScoreTo:()=>Promise.resolve(),getCloudVariable:()=>Promise.resolve(0),changeCloudVariableTo:()=>Promise.resolve(),changeCloudVariableToAndWait:()=>Promise.resolve()},this.conversationWatcherRunning=!1}async exec(){for(;this.DialogQueue.length>0;){const e=this.DialogQueue[0];let t="";"conversation"===e.type?t=await this.ConversationProvider.prompt(e.conversationId,e.actor,e.variables,e.setVariable,e.broadcast,e.broadcastAndWait,this.stage.playerSpeed,this.stage.conversationMode):"dialog"===e.type?t=await this.DialogProvider.prompt(e.message,this.stage.playerSpeed,e.actor):console.error(`Unknown type: ${e.type}`),this.DialogQueue.splice(0,1),e.res(t)}}async updateConversations(e=!1){this.hideDropdowns&&e&&this.hideDropdowns(),this.ConversationProvider.Conversations=await this.ConversationProvider.getConversations()}editConversation(e,t){e.stopPropagation();let r="";try{r=t.childBlocks_[0].inputList[0].fieldRow[0].value_}catch(e){console.warn("No conversation selected!")}console.log(`Edit click: ${r}`),i.Default.ConversationProvider.editConversation(r)}requestPrompt(e,t){return this.DialogProvider.start(e,t)}enable(){this.events.enabled=!0}disable(){this.events.enabled=!1}on(e,t){this.events.on(e,t)}off(e,t){this.events.off(e,t)}async registerActor(e){await this.events.emitAsync("register",e)}async triggerGesture(e){await this.events.emitAsync("gesture",e)}async setWebcamOptions(e){this.visionData.webcam=e,await this.events.emitAsync("webcam",e)}start(){this.events.emit("start")}setup(){return this.events.emitAsync("setup")}ready(){this.events.emit("ready")}stop(){for(const e of this.DialogQueue)e.res();this.DialogQueue=[],this.events.emit("stop")}enableGeolocation(){this.events.emit("enable-geo")}disableGeolocation(){this.events.emit("disable-geo")}addAsset(e,t){this.events.emit("asset",e,t)}unregisterActor(e){this.events.emit("unregister",e)}updateTexture(e,t,r="apply",n="back"){return this.events.emitAsync("texture",e,t,r,n)}stopAllSounds(){this.events.emit("stopAllSounds")}stopSound(e){this.events.emit("stopSound",e)}async toggleMuteAllSounds(e){await this.events.emitAsync("toggleMuteAllSounds",e)}playSound(e,t){this.events.emitAsync("sound",e,t)}async incrementScoreTo(e,t){await this.LiveopsProvider.incrementScoreTo(e,t)}async getScore(e){return this.LiveopsProvider.getScore(e)}async changeCloudVariableTo(e,t){await this.LiveopsProvider.changeCloudVariableTo(e,t)}async changeCloudVariableToAndWait(e,t){await this.LiveopsProvider.changeCloudVariableToAndWait(e,t)}async getCloudVariable(e){return this.LiveopsProvider.getCloudVariable(e)}updatePlayerSpeed(e,t){this.events.emit("speed",e,t)}registerMonitor(e){this.events.emit("monitor",e)}async playSoundAndWait(e,t){await this.events.emitAsync("sound",e,t)}onLoop(){this.events.emit("loop")}}t.SpriteManager=i,i.Default=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalInfo=t.Terminal=void 0;const n=r(2);class i{static subscribe(e,t){i.events.on(e,t)}static unsubscribe(e,t){i.events.off(e,t)}static write(e){i.writeInternal(e)}static writeForSeconds(e,t){i.writeForSecondsInternal(e,t)}static writeInternal(e,t){console.log(e);const r=i.stringBuilder(e);i.data.push({text:r,code:t}),i.events.emit("write",r)}static writeForSecondsInternal(e,t,r){console.log(e);const n=i.stringBuilder(e);i.data.push({text:n,code:r}),i.events.emit("writeForSeconds",[{text:n,code:r},t])}static clear(){i.data=[],i.events.emit("clear")}}t.Terminal=i,i.events=new n.EventEmitter,i.data=[],i.stringBuilder=e=>e&&"number"===typeof e&&(""+ +e).includes("e")?n.NumericLiteral.toString(e):""+e;class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Terminal",n.ScoolcodeObjectBase.Type,o.Instance),this.declareMethod("write").declareParameter("message",n.ValueType.Any,(()=>new n.StringLiteralAction(""))).declareBlock("log {message}",n.BlockColor.Operators),this.declareMethod("writeForSeconds").declareParameter("message",n.ValueType.Any,(()=>new n.StringLiteralAction(""))).declareParameter("seconds",n.ValueType.Numeric,4).declareBlock("log {message} and show for {seconds} seconds",n.BlockColor.Operators),this.declareMethod("clear").declareBlock("clear log",n.BlockColor.Operators)}}t.TerminalInfo=o,o.Type=new o,o.Instance=i,o.Enabled=!0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestInfo=void 0;const n=r(2),i=n.runtimeEnv&&"test"===n.runtimeEnv.NODE_ENV,o=(e,t)=>{if(!e){const r=`${e?"\u2705":"\u274c"} ${t}`;return n.Terminal.write(r),!1}return!0},a=(e,t)=>e===t,s=(e,t)=>{const r=e.alternatives?e.alternatives.map((e=>e.name)):[e.name],n=t.split("|").map((e=>e.trim()));return JSON.stringify(r.sort())===JSON.stringify(n.sort())},l=(e,t)=>{if(null!==e&&null!==t&&e instanceof n.ScoolcodeArray&&t instanceof n.ScoolcodeArray){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){if(Array.isArray(e[r])&&Array.isArray(t[r]))return l(e[r],t[r]);if(e[r]!==t[r])return!1}return!0}return e===t},c={_browser(){},typeOf(e,t,r){const i=n.ScoolcodeReflect.getRuntimeInfo(this).target.contextualLevel.items[0].type;return o(s(i,t),r||t)},signatureOf(e,t,r){const i=n.ScoolcodeReflect.getRuntimeInfo(this).target.contextualLevel.items[0].type;let[a,l]=t.split("=>").map((e=>e.trim()));const c=a.substring(1,a.length-1).split(",").map((e=>e.trim()));"void"===l&&(l="undefined"),o(s(i.returnType,l),r||t);let p=0;for(let n of c)o(s(i.fields[p++].type,n),r||t)},equals:(e,t,r)=>o(a(e,t),r||t),notEquals:(e,t,r)=>o(!a(e,t),r||t),comment(e){n.Terminal.write(e),console.log(e)},eval:eval,plan(e){},pass:e=>o(!0,e),success:e=>o(!0,e),fail:e=>o(!1,e),ok:(e,t)=>o(e,t),assert:(e,t)=>o(e,t),notOk:(e,t)=>o(!e,t),assertNot(e,t){const r=o(!e,t);return console.error("browser test assert"),r},match(e,t,r){const n=new RegExp(t);return o(n.test(e),r||t)},notMatch(e,t,r){const n=new RegExp(t);return o(!n.test(e),r||t)},same:(e,t,r)=>o(l(e,t),r||t),notSame:(e,t,r)=>o(!l(e,t),r||t),playerEvent(e){console.log(`PlayerEvent: ${JSON.stringify(e)}`);const t=new Event("player-event");t.data=e,window.dispatchEvent(t)},type(e,t,r){let n=!1;try{typeof e===t&&(n=!0),e.constructor.name===t&&(n=!0)}catch(i){}return o(n,r)}};function p(e){try{return JSON.stringify(e)}catch(t){return e}}const u={_jest(){},typeOf(e,t,r){d.processTest();const i=n.ScoolcodeReflect.getRuntimeInfo(this),o=i.target.contextualLevel.items[0].type;s(o,t)||d.storeError(i,r||`expect ${o.name} to be ${t}`),expect(!0).toBeTruthy()},signatureOf(e,t,r){d.processTest();const i=n.ScoolcodeReflect.getRuntimeInfo(this),o=i.target.contextualLevel.items[0].type;let[a,l]=t.split("=>").map((e=>e.trim()));const c=a.substring(1,a.length-1).split(",").map((e=>e.trim()));"void"===l&&(l="undefined"),s(o.returnType,l)||d.storeError(i,r||`[return type] expect ${o.returnType.name} to be ${l}`);let p=0;for(let n of c)s(o.fields[p++].type,n)||d.storeError(i,r||`[param type ${p}] expect ${o.fields[p-1].type.name} to be ${n}`);expect(!0).toBeTruthy()},equals(e,t,r){d.processTest(),a(e,t)||d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),r||`expect ${p(e)} to strict equal ${p(t)}`),expect(!0).toBeTruthy()},notEquals(e,t,r){d.processTest(),a(e,t)&&d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),r||`expect ${p(e)} to not equal ${p(t)}`),expect(!0).toBeTruthy()},comment(e){console.log(e)},eval:eval,plan(e){d.plannedTestNumber=e},pass(e){d.processTest()},success(e){d.processTest()},fail(e){d.processTest();try{expect(!1).toBeTruthy()}catch(t){d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),e||"expect to fail")}},ok(e,t){d.processTest();try{expect(e).toBeTruthy()}catch(r){d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),t||`expect ${p(e)} to be truthy`)}},assert(e,t){d.processTest();try{expect(e).toBeTruthy()}catch(r){d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),t||`expect ${p(e)} to be truthy`)}},notOk(e,t){d.processTest();try{expect(e).toBeFalsy()}catch(r){d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),t||`expect ${p(e)} to be falsy`)}},assertNot(e,t){d.processTest();try{expect(e).toBeFalsy()}catch(r){d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),t||`expect ${p(e)} to be falsy`)}},match(e,t,r){d.processTest();try{expect(e).toMatch(t)}catch(i){d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),r||`expect ${e} to match ${t}`)}},notMatch(e,t,r){d.processTest();try{expect(e).not.toMatch(t)}catch(i){d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),r||`expect ${e} to not match ${t}`)}},same(e,t,r){d.processTest(),l(e,t)||d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),r||`expect ${p(e)} to be ${p(t)}`),expect(!0).toBeTruthy()},notSame(e,t,r){d.processTest(),l(e,t)&&d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),r||`expect ${p(e)} to not be ${p(t)}`),expect(!0).toBeTruthy()},type(e,t,r){d.processTest();try{expect(e).toBeInstanceOf(t)}catch(i){d.storeError(n.ScoolcodeReflect.getRuntimeInfo(this),r||`expect ${e} to be instance of ${t}`)}}};class d extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Test",null,null),this.declareMethod("typeOf",n.ValueType.Boolean,!0,!1).declareParameter("target",n.ValueType.Any).declareParameter("expected",n.ValueType.String).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is type of {target} == {expected}?"),this.declareMethod("signatureOf",n.ValueType.Boolean,!0,!1).declareParameter("target",n.ValueType.Any).declareParameter("expected",n.ValueType.String).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is type of {target} == {expected}?"),this.declareMethod("equals",n.ValueType.Boolean,!0,!1).declareParameter("actual",n.ValueType.Any).declareParameter("expected",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is {actual} == {expected}?"),this.declareMethod("notEquals",n.ValueType.Boolean,!0,!1).declareParameter("actual",n.ValueType.Any).declareParameter("expected",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is {actual} != {expected}?"),this.declareMethod("comment",n.ValueType.Any,!0,!1).declareParameter("info",n.ValueType.Any),this.declareMethod("eval",n.ValueType.Any,!0,!1).declareParameter("code",n.ValueType.String).declareBlock("evaluate code: {code}"),this.declareMethod("plan",n.ValueType.Boolean,!0,!1).declareParameter("count",n.ValueType.Number).declareBlock("expecting {count} tests"),this.declareMethod("pass",n.ValueType.Boolean,!0,!1).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message} passed"),this.declareMethod("success",n.ValueType.Boolean,!0,!1).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message} passed"),this.declareMethod("fail",n.ValueType.Boolean,!0,!1).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message} failed"),this.declareMethod("ok",n.ValueType.Boolean,!0,!1).declareParameter("obj",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is {obj} truthy?"),this.declareMethod("assert",n.ValueType.Boolean,!0,!1).declareParameter("obj",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is {obj} truthy?"),this.declareMethod("notOk",n.ValueType.Boolean,!0,!1).declareParameter("obj",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is {obj} falsey?"),this.declareMethod("assertNot",n.ValueType.Boolean,!0,!1).declareParameter("obj",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is {obj} falsey?"),this.declareMethod("match",n.ValueType.Boolean,!0,!1).declareParameter("obj",n.ValueType.Any).declareParameter("pattern",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: {obj} matches {pattern}?"),this.declareMethod("notMatch",n.ValueType.Boolean,!0,!1).declareParameter("obj",n.ValueType.Any).declareParameter("pattern",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: {obj} not matches {pattern}?"),this.declareMethod("same",n.ValueType.Boolean,!0,!1).declareParameter("found",n.ValueType.Any).declareParameter("wanted",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is {found} like {wanted}?"),this.declareMethod("notSame",n.ValueType.Boolean,!0,!1).declareParameter("found",n.ValueType.Any).declareParameter("notWanted",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: isn't {found} like {wanted}?"),this.declareMethod("playerEvent",null,!0,!1).declareParameter("data",n.ValueType.Any).markAsPrivate(),this.declareMethod("type",n.ValueType.Boolean,!0,!1).declareParameter("object",n.ValueType.Any).declareParameter("type",n.ValueType.Any).declareOptionalParameter("message",n.ValueType.Any).declareBlock("test {message}: is type {type}?"),this.declareMethod("postToParent",n.ValueType.Any).declareParameter("data",n.ValueType.Any).declareBlock("postToParent {data}").markAsPrivate()}static reset(){d.hadTest=d.hadError=!1,d.errors=[],d.testNumber=d.plannedTestNumber=0}static processTest(e){d.hadTest=!0,"undefined"===typeof e?d.testNumber++:d.testNumber=e}static storeError(e,t){d.hadError=!0,d.errors.push({runtimeInfo:e,message:t,testNumber:d.testNumber})}}t.TestInfo=d,d.Type=new d,d.Instance=i?u:c,d.testNumber=0,d.plannedTestNumber=0,d.errors=[]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimerInfo=void 0;const n=r(2);class i extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Timer",n.ScoolcodeObjectBase.Type,i.Instance),this.declareMethod("read",n.ValueType.Number).declareBlock("timer",n.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("show",n.ScoolcodeMonitor.Type).declareParameter("decimals",n.ValueType.Number,1).declareBlock("show timer {decimals}",n.BlockColor.Sensing),this.declareMethod("reset").declareBlock("reset timer",n.BlockColor.Sensing)}}t.TimerInfo=i,i.Type=new i,i.Instance=n.Timer.Default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariableDeclarationInfo=void 0;const n=r(2),i=" \u25cd",o="___rename_variable___";class a extends n.ScoolcodeEnumInfoBase{constructor(e="",t=null,r=null){super(e||"VariableDeclaration",t,r||a.Instance),this.getVariableList=e=>{let{program:t,block:r,resolveReference:o}=e;if(!t)return[];let s=[];if(r){let e=o(r.parent);const i=this.tryResolveScope(e,r,t);if(i)t=i;else{e=r;let t=r,i=r;e:for(;;){do{if(e=o(e.parent),e instanceof n.BlockProgram)break e;i=o(e.parent)}while(e&&(!i||!(i.target instanceof n.EventHandlerAction)&&!(i.target instanceof n.DefineFunctionAction))&&(!(e instanceof n.BlockInstanceList)||a.functionScopedVars&&!e.target.primary));this.addNewVariableNames(s,this.findVariableDeclarations(t,e));const r=o(e.parent);if(r.target){r.target instanceof n.DefineFunctionAction&&this.addNewVariableNames(s,r.target.method.parameters.map((e=>[e.name,e.name,""])));break}r.action instanceof n.ForOfStatementAction?this.addNewVariableNames(s,[[r.action.variableName,r.action.variableName,""]]):r.action instanceof n.ForStatementAction&&r.action.expression1 instanceof n.DeclareVariableWithValueAction&&"__counter__"!==r.action.expression1.variableName&&this.addNewVariableNames(s,[[r.action.expression1.variableName,r.action.expression1.variableName,""]]),t=e}}}t.getType().fields.filter((e=>!e.internal)).forEach((e=>{s.find((([t])=>t===e.name))||s.push([e.name,e.name,t instanceof n.ScoolcodeStage&&r?i:""])})),t instanceof n.ScoolcodeActor&&t.stage.getType().fields.filter((e=>!e.internal)).forEach((e=>{s.find((([t])=>t===e.name))||s.push([e.name,e.name,r?i:""])}));const l=r&&r.action&&r.action.name||"";return!l||" "===l||s.find((([e])=>e===l))||r.action instanceof n.ReadVariableAction||(s=[[l,l,""]]),s.map((([e,t,r])=>[n.LocalisationService.Default.getValue(`challenge:variable:${e}`,e)+r,t]))},this.valueType=n.ValueType.String,this.isDynamic=!0,this.providedValueToItemAsync=async({program:e,block:t},r,s)=>{if(r===o){s.endsWith(i)&&(s=s.substring(0,s.length-2));const o=await a.PromptProvider(s,e);return o&&o!==s&&e?(n.NameValidator.removeCachedName(s),console.log(t),a.RenameDropdowns(s,o,e,t),o):(a.RenameDropdowns(r,s,e,t),s)}return r},this.itemToProvidedValue=({program:e},t)=>t?"string"===typeof t?n.LocalisationService.Default.getValue(`challenge:variable:${t}`,t):n.LocalisationService.Default.getValue(`challenge:variable:${t.name}`,t||""):"",this.valueProvider=({program:e,block:t,resolveReference:r},i)=>{let a=i&&i!==o?`\ud83d\udd89 ${n.LocalisationService.Default.getValue("IdeLabel::Rename","rename")}`:`\ud83d\udd89 ${n.LocalisationService.Default.getValue("rename variable...","rename variable...")}`;return[[i?n.LocalisationService.Default.getValue(`challenge:variable:${i}`,i):"",i||""],[a,o]]}}addNewVariableNames(e,t){t.forEach((([t])=>{t&&" "!==t&&!e.find((([e])=>e===t))&&e.push([t,t,""])}))}findFunctionScopedVariableDeclarations(e,t){let r=[];for(let i of t.actions)i instanceof n.DeclareVariableWithValueAction&&this.addNewVariableNames(r,[[i.variableName,i.variableName,""]]),i instanceof n.ForInStatementAction&&this.addNewVariableNames(r,[[i.indexer,i.indexer,""]]),i.actionList&&this.addNewVariableNames(r,this.findFunctionScopedVariableDeclarations(e,i.actionList));return r}findVariableDeclarations(e,t){let r=[];for(let i of t.children)if(i instanceof n.BlockInstance){if(i===e){a.functionScopedVars&&i.action instanceof n.AssignmentAction&&i.action.target instanceof n.ReadVariableAction&&this.addNewVariableNames(r,[[i.action.target.variableName,i.action.target.variableName,""]]);break}i.action instanceof n.DeclareVariableWithValueAction&&this.addNewVariableNames(r,[[i.action.variableName,i.action.variableName,""]]),i.action instanceof n.ForInStatementAction&&this.addNewVariableNames(r,[[i.action.indexer,i.action.indexer,""]]),a.functionScopedVars&&(i.action instanceof n.AssignmentAction&&i.action.target instanceof n.ReadVariableAction&&this.addNewVariableNames(r,[[i.action.target.variableName,i.action.target.variableName,""]]),i.action.actionList&&this.addNewVariableNames(r,this.findFunctionScopedVariableDeclarations(e,i.action.actionList)),i.action.actionListElse&&this.addNewVariableNames(r,this.findFunctionScopedVariableDeclarations(e,i.action.actionListElse)))}else{if(!(i instanceof n.BlockInstanceList)){console.warn("Unsupported child:",i);break}this.addNewVariableNames(r,this.findVariableDeclarations(e,i))}return r}tryResolveScope(e,t,r){if(e instanceof n.BlockInstance&&(e.action instanceof n.ExecuteAsAction||e.action instanceof n.ExecuteOfAction)){const i=e.action.scope;if(i!==t.action&&i instanceof n.ReadPropertyAction){const e=i.property.getValue(r.stage);if(e instanceof n.ScoolcodeActor)return e}}return null}getStaticInstance(){return a.Instance}processSelection(e){return e.endsWith(i)?e.substring(0,e.length-2):null}getDefaultItemAction(){return""!==this.getDefaultItemName()?super.getDefaultItemAction():null}}t.VariableDeclarationInfo=a,a.Type=new a,a.Instance={},a.functionScopedVars=!1,a.PromptProvider=async(e,t)=>prompt("name = ",e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariableReferencesInfo=void 0;const n=r(2),i=" \u25cd";function o(e,t){let r=[];for(let i of t.children)if(i instanceof n.BlockInstance){if(i===e)break;if(i.action instanceof n.DeclareVariableWithValueAction){const e=i.action.variableName;r.find((([t])=>t===e))||r.push([i.action.variableName,i.action.variableName,""])}}else{if(!(i instanceof n.BlockInstanceList)){console.warn("Unsupported child:",i);break}r=[...r,...o(e,i)]}return r}class a extends n.ScoolcodeEnumInfoBase{constructor(){super("VariableReferences",null,a.Instance),this.valueType=n.ValueType.Any,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>e?new n.ReferenceOperatorAction(new n.ReadVariableAction(t)):null,this.itemToProvidedValue=({program:e},t)=>{let r;return t?"string"===typeof t?r=t:t.action&&(r=t.action.name||t.action.variableName):r="",r?n.LocalisationService.Default.getValue(`challenge:variable:${r}`,r):t||""},this.valueProvider=({program:e,block:t,resolveReference:r})=>{if(!e)return[];let a=[];if(t&&t.parent&&"undefined"!==t.parent.typeRef){let i=r(t.parent);const s=this.tryResolveScope(i,t,e);if(s)e=s;else{i=t;let e=t;e:for(;;){do{if(i=r(i.parent),i instanceof n.BlockProgram)break e}while(i&&!(i instanceof n.BlockInstanceList));a=[...a,...o(e,i)];const t=r(i.parent);if(t.target){t.target instanceof n.DefineFunctionAction&&(a=[...a,...t.target.method.parameters.map((e=>[e.name,e.name,""]))]);break}t.action instanceof n.ForOfStatementAction?a.push([t.action.variableName,t.action.variableName,""]):t.action instanceof n.ForStatementAction&&t.action.expression1 instanceof n.DeclareVariableWithValueAction&&"__counter__"!==t.action.expression1.variableName&&a.push([t.action.expression1.variableName,t.action.expression1.variableName,""]),e=i}}}return e.getType().fields.filter((e=>!e.internal)).forEach((r=>{a.find((([e])=>e===r.name))||a.push([r.name,r.name,e instanceof n.ScoolcodeStage&&t?i:""])})),e instanceof n.ScoolcodeActor&&e.stage.getType().fields.filter((e=>!e.internal)).forEach((e=>{a.find((([t])=>t===e.name))||a.push([e.name,e.name,t?i:""])})),a.map((([e,t,r])=>[n.LocalisationService.Default.getValue(`challenge:variable:${e}`,e)+r,t])).sort(((e,t)=>e[0].localeCompare(t[0])))}}tryResolveScope(e,t,r){if(e instanceof n.BlockInstance&&(e.action instanceof n.ExecuteAsAction||e.action instanceof n.ExecuteOfAction)){const i=e.action.scope;if(i!==t.action&&i instanceof n.ReadPropertyAction){const e=i.property.getValue(r.stage);if(e instanceof n.ScoolcodeActor)return e}}return null}getStaticInstance(){return a.Instance}processSelection(e){return e.endsWith(i)?e.substring(0,e.length-2):null}}t.VariableReferencesInfo=a,a.Type=new a,a.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesInfo=void 0;const n=r(2),i=" \u25cd";class o extends n.ScoolcodeEnumInfoBase{constructor(e="",t=null,r=null){super(e||"Variables",t,r||o.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.itemToProvidedValue=({program:e},t)=>t?"string"===typeof t?n.LocalisationService.Default.getValue(`challenge:variable:${t}`,t):n.LocalisationService.Default.getValue(`challenge:variable:${t.name}`,t||""):"",this.valueProvider=({program:e,block:t,resolveReference:r})=>{if(!e)return[];let a=[];if(t&&t.parent&&"undefined"!==t.parent.typeRef){let i=r(t.parent);const s=this.tryResolveScope(i,t,e);if(s)e=s;else{i=t;let e=t,s=t;e:for(;;){do{if(i=r(i.parent),i instanceof n.BlockProgram)break e;s=r(i.parent)}while(i&&(!s||!(s.target instanceof n.EventHandlerAction)&&!(s.target instanceof n.DefineFunctionAction))&&(!(i instanceof n.BlockInstanceList)||o.functionScopedVars&&!i.target.primary));this.addNewVariableNames(a,this.findVariableDeclarations(e,i));const t=r(i.parent);if(t.target){t.target instanceof n.DefineFunctionAction&&this.addNewVariableNames(a,t.target.method.parameters.map((e=>[e.name,e.name,""])));break}t.action instanceof n.ForOfStatementAction?this.addNewVariableNames(a,[[t.action.variableName,t.action.variableName,""]]):t.action instanceof n.ForStatementAction&&t.action.expression1 instanceof n.DeclareVariableWithValueAction&&"__counter__"!==t.action.expression1.variableName&&this.addNewVariableNames(a,[[t.action.expression1.variableName,t.action.expression1.variableName,""]]),e=i}}}e.getType().fields.filter((e=>!e.internal)).forEach((r=>{a.find((([e])=>e===r.name))||a.push([r.name,r.name,e instanceof n.ScoolcodeStage&&t?i:""])})),e instanceof n.ScoolcodeActor&&e.stage.getType().fields.filter((e=>!e.internal)).forEach((e=>{a.find((([t])=>t===e.name))||a.push([e.name,e.name,t?i:""])}));const s=t&&t.action&&t.action.name||"";return!s||" "===s||a.find((([e])=>e===s))||t.action instanceof n.ReadVariableAction||(a=[[s,s,""]]),a.map((([e,t,r])=>[n.LocalisationService.Default.getValue(`challenge:variable:${e}`,e)+r,t])).sort(((e,t)=>e[0].localeCompare(t[0])))}}addNewVariableNames(e,t){t.forEach((([t])=>{t&&" "!==t&&!e.find((([e])=>e===t))&&e.push([t,t,""])}))}findFunctionScopedVariableDeclarations(e,t){let r=[];for(let i of t.actions)i instanceof n.DeclareVariableWithValueAction&&this.addNewVariableNames(r,[[i.variableName,i.variableName,""]]),i instanceof n.ForInStatementAction&&this.addNewVariableNames(r,[[i.indexer,i.indexer,""]]),i.actionList&&this.addNewVariableNames(r,this.findFunctionScopedVariableDeclarations(e,i.actionList));return r}findVariableDeclarations(e,t){let r=[];for(let i of t.children)if(i instanceof n.BlockInstance){if(i===e){o.functionScopedVars&&i.action instanceof n.AssignmentAction&&i.action.target instanceof n.ReadVariableAction&&this.addNewVariableNames(r,[[i.action.target.variableName,i.action.target.variableName,""]]);break}i.action instanceof n.DeclareVariableWithValueAction&&this.addNewVariableNames(r,[[i.action.variableName,i.action.variableName,""]]),i.action instanceof n.ForInStatementAction&&this.addNewVariableNames(r,[[i.action.indexer,i.action.indexer,""]]),o.functionScopedVars&&(i.action instanceof n.AssignmentAction&&i.action.target instanceof n.ReadVariableAction&&this.addNewVariableNames(r,[[i.action.target.variableName,i.action.target.variableName,""]]),i.action.actionList&&this.addNewVariableNames(r,this.findFunctionScopedVariableDeclarations(e,i.action.actionList)),i.action.actionListElse&&this.addNewVariableNames(r,this.findFunctionScopedVariableDeclarations(e,i.action.actionListElse)))}else{if(!(i instanceof n.BlockInstanceList)){console.warn("Unsupported child:",i);break}this.addNewVariableNames(r,this.findVariableDeclarations(e,i))}return r}tryResolveScope(e,t,r){if(e instanceof n.BlockInstance&&(e.action instanceof n.ExecuteAsAction||e.action instanceof n.ExecuteOfAction)){const i=e.action.scope;if(i!==t.action&&i instanceof n.ReadPropertyAction){const e=i.property.getValue(r.stage);if(e instanceof n.ScoolcodeActor)return e}}return null}getStaticInstance(){return o.Instance}processSelection(e){return e.endsWith(i)?e.substring(0,e.length-2):null}getVariables(e){const t={program:e,block:null,resolveReference:e=>!1};return this.valueProvider(t)}}t.VariablesInfo=o,o.Type=new o,o.Instance={},o.functionScopedVars=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhysicsBodyInfo=t.CollisionShapeInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("CollisionShape",null,i.Instance),this.valueType=n.ValueType.String,this.isLiteral=!0,this.declareProperty("box",n.ValueType.String),this.declareProperty("circle",n.ValueType.String),this.declareProperty("polygon",n.ValueType.String)}getDefaultItemName(){return i.Instance.box}getStaticInstance(){return i.Instance}}t.CollisionShapeInfo=i,i.Type=new i,i.Instance={box:"box",circle:"circle",polygon:"polygon"};class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Physics",n.ScoolcodeObjectBase.Type,null),this.declareProperty("isStatic",n.BooleanValueInfo.Type).declareDefaults(!1).declareNameForBlocks("static",n.BlockColor.DarkBlue),this.declareProperty("isCollides",n.BooleanValueInfo.Type).declareDefaults(!1).declareNameForBlocks("collides",n.BlockColor.DarkBlue),this.declareProperty("isSensor",n.BooleanValueInfo.Type).declareDefaults(!1).declareNameForBlocks("sensor",n.BlockColor.DarkBlue),this.declareReadOnlyProperty("velocityX",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue),this.declareReadOnlyProperty("velocityY",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue),this.declareReadOnlyProperty("speed",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue),this.declareReadOnlyProperty("speedAngle",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue),this.declareProperty("damping",n.ValueType.Number).declareDefaults(.1,.1).declareNameForBlocks("damping",n.BlockColor.DarkBlue),this.declareProperty("mass",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue),this.declareMethod("setVelocity").declareParameter("amount",n.ValueType.Number,10).declareParameter("heading",n.ValueType.Angle,0).declareBlock("setVelocity {amount} {heading}",n.BlockColor.DarkBlue),this.declareMethod("applyForce").declareParameter("amount",n.ValueType.Number,10).declareParameter("heading",n.ValueType.Angle,0).declareBlock("applyForce {amount} {heading}",n.BlockColor.DarkBlue),this.declareMethod("setAngularVelocity").declareParameter("value",n.ValueType.Number,10).declareBlock("setAngularVelocity {value}",n.BlockColor.DarkBlue),this.declareProperty("collisionShape",i.Type).declareDefaults(i.Instance.box).declareNameForBlocks("collision shape",n.BlockColor.Sensing),this.declareProperty("verticalGravity",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue).declareDefaults(-100,1),this.declareProperty("horizontalGravity",n.ValueType.Number).declareColorForBlocks(n.BlockColor.DarkBlue).declareDefaults(0,1),this.declareMethod("enableWall").declareParameter("edge",n.UnionTypeInfo.for(n.EdgeInfo.Type,n.ValueType.String),"top").declareBlock("enable {edge} wall",n.BlockColor.DarkBlue),this.declareMethod("disableWall").declareParameter("edge",n.UnionTypeInfo.for(n.EdgeInfo.Type,n.ValueType.String),"top").declareBlock("disable {edge} wall",n.BlockColor.DarkBlue),this.declareMethod("isWallEnabled").declareParameter("edge",n.UnionTypeInfo.for(n.EdgeAllInfo.Type,n.ValueType.String),"top").declareBlock("is {edge} wall enabled?",n.BlockColor.DarkBlue,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0})}}t.PhysicsBodyInfo=o,o.Type=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point3DWithPresenceInfo=t.Point3DInfo=t.GestureInfo=void 0;const n=r(2);class i extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Gesture",n.ScoolcodeObjectBase.Type,null),this.declareReadOnlyProperty("type",n.ValueType.String),this.declareReadOnlyProperty("score",n.ValueType.Number),this.declareReadOnlyProperty("handedness",n.ValueType.String),this.declareReadOnlyProperty("hand",n.ValueType.Number)}}t.GestureInfo=i,i.Type=new i;class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Point3D",n.ScoolcodeObjectBase.Type,null),this.declareReadOnlyProperty("x",n.ValueType.Number),this.declareReadOnlyProperty("y",n.ValueType.Number),this.declareReadOnlyProperty("z",n.ValueType.Number)}}t.Point3DInfo=o,o.Type=new o;class a extends n.ScoolcodeBuiltInObjectInfoBase{constructor(){super("Point3DWithPresence",n.ScoolcodeObjectBase.Type,null),this.declareReadOnlyProperty("x",n.ValueType.Number),this.declareReadOnlyProperty("y",n.ValueType.Number),this.declareReadOnlyProperty("z",n.ValueType.Number),this.declareReadOnlyProperty("visibility",n.ValueType.Number),this.declareReadOnlyProperty("presence",n.ValueType.Number)}}t.Point3DWithPresenceInfo=a,a.Type=new a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeRecordInfo=t.ScoolcodeRecord=void 0;const n=r(2);class i extends n.ClassInstance{constructor(e){super(e),delete this.internal.events}get type(){return this.internal.type.name}toString(){return`[Record ${this.type}]`}}t.ScoolcodeRecord=i,i.instanceFactory=(e,t)=>{const r=new i(e);let n=0;for(let i of e.fields)r[i.name]=t[n++];return r},i.Definition=()=>new n.BlockDefinition("define [name] record with {parameters}",[new n.BlockParameterInfo("name",n.ValueType.String),new n.BlockParameterInfo("parameters",n.ValueType.String,!0,((e,t)=>new n.ParameterInfo(e,n.ValueType.Any,!1,null)),(e=>`${e}.name`))],n.ValueType.Any,n.BlockShape.StartEvent,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Cherry},"declarations.recordWithParameters");class o extends n.ScoolcodeBuiltInObjectInfoBase{constructor(e){super(e,n.ScoolcodeObjectBase.Type,i),this.setName(e),this.localeName=e,this.declareReadOnlyProperty("type",n.ValueType.String)}get parameters(){return this.fields}addUserField(e,t,r=!1){this.declareUserField(e,t,!1,r)}declarationGrammar(){return new n.Record(this.name,...this.fields.map((e=>new n.PropertyDeclaration(e.name,null,n.TypeExpression.from(e.valueType,e.valueTypeExplicit),{x:0,y:0},!1))))}block(e){let t;return t=n.BlockInstance.for(i.Definition(),this,e).parameter("name",this,"localeName").parameterList(this.fields,((e,t,r)=>{e.parameter("parameters",t,`${r}.name`)})).updateParts(),this.position&&(t.position=this.position),t}}t.ScoolcodeRecordInfo=o,o.Type=new o("ScoolcodeRecordBase"),i.Type=o.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecordsInfo=void 0;const n=r(2);class i extends n.VariablesInfo{constructor(){super("Records",null,i.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.valueProvider=({program:e,block:t,resolveReference:r})=>{if(!e)return[];let i=[];if(t&&t.parent&&"undefined"!==t.parent.typeRef){const o=t.action instanceof n.InfoItemWrapperAction?t.action.action:t.action;if(o instanceof n.CreateRecordAction)i=[[o.method.name,o.method.name,""]];else if(o instanceof n.ExecuteAsAction&&(o.scope instanceof n.ReadPropertyAction||o.scope instanceof n.ReadVariableAction)&&o.action instanceof n.CreateRecordAction)i=[[o.action.method.name,o.action.method.name,""]];else if(o instanceof n.ExecuteOfAction&&(o.scope instanceof n.ReadPropertyAction||o.scope instanceof n.ReadVariableAction))i=[[o.scope.name,o.scope.name,""]];else{let o=r(t.parent);const a=this.tryResolveScope(o,t,e);if(a)e=a;else{o=t;let e=t;e:for(;;){do{if(o=r(o.parent),o instanceof n.BlockProgram)break e}while(o&&!(o instanceof n.BlockInstanceList));this.addNewVariableNames(i,this.findVariableDeclarations(e,o)),e=o}}e.getType().fields.filter((e=>!e.internal&&e.valueType instanceof n.ScoolcodeRecordInfo)).forEach((r=>{i.find((([e])=>e===r.name))||i.push([r.name,r.name,e instanceof n.ScoolcodeStage&&t?" \u25cd":""])})),e instanceof n.ScoolcodeActor&&e.stage.getType().fields.filter((e=>!e.internal)).forEach((e=>{i.find((([t])=>t===e.name))||i.push([e.name,e.name,t?" \u25cd":""])}))}}return i.map((([e,t,r])=>[n.LocalisationService.Default.getValue(`challenge:variable:${e}`,e)+r,t]))}}findVariableDeclarations(e,t){let r=[];for(let i of t.children)if(i instanceof n.BlockInstance){if(i===e)break;i.action instanceof n.DeclareVariableWithValueAction&&i.action.action&&i.action.action instanceof n.CreateRecordAction&&this.addNewVariableNames(r,[[i.action.variableName,i.action.variableName,""]])}else{if(!(i instanceof n.BlockInstanceList)){console.warn("Unsupported child:",i);break}this.addNewVariableNames(r,this.findVariableDeclarations(e,i))}return r}getStaticInstance(){return i.Instance}}t.RecordsInfo=i,i.Type=new i,i.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecordFieldsInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("RecordFieldsInfo",null,i.Instance),this.valueType=n.ValueType.String,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{if(!e||!e.fields)return null;const r=e.fields.find((e=>e.name===t));return r?new n.ReadPropertyAction(r):null},this.itemToProvidedValue=({},e)=>"string"===typeof e?e:e?e.name:e,this.valueProvider=({program:e,block:t})=>{var r,i;return t&&t.action&&t.action instanceof n.ReadPropertyAction&&(null===(i=null===(r=t.action)||void 0===r?void 0:r.property)||void 0===i?void 0:i.declaringType)&&t.action.property.declaringType instanceof n.ScoolcodeRecordInfo?t.action.property.declaringType.fields.map((e=>[e.name,e.name])):[]}}getStaticInstance(){return i.Instance}get itemType(){return i.ValueType}}t.RecordFieldsInfo=i,i.Instance={},i.Type=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileDevice=t.MobileDeviceInfo=void 0;const n=r(2);class i extends n.ScoolcodeBuiltInObjectInfoBase{constructor(e){super("MobileDevice",n.ScoolcodeObjectBase.Type,e),this.declareReadOnlyProperty("alpha",n.ValueType.Number),this.declareReadOnlyProperty("beta",n.ValueType.Number),this.declareReadOnlyProperty("gamma",n.ValueType.Number),this.declareReadOnlyProperty("accelerationX",n.ValueType.Number),this.declareReadOnlyProperty("accelerationY",n.ValueType.Number),this.declareReadOnlyProperty("accelerationZ",n.ValueType.Number),this.declareReadOnlyProperty("latitude",n.ValueType.Number),this.declareReadOnlyProperty("longitude",n.ValueType.Number),this.declareMethod("getTouchPoint",n.PositionInfo.Type).declareParameter("identifier",n.ValueType.Number).declareBlock("touch point {identifier}"),this.declareMethod("enableGeolocation").declareBlock("enable geolocation"),this.declareMethod("disableGeolocation").declareBlock("disable geolocation")}}t.MobileDeviceInfo=i;class o{constructor(e){this.stage=e}get latitude(){return n.SpriteManager.Default.sensorData.position.latitude}get longitude(){return n.SpriteManager.Default.sensorData.position.longitude}get alpha(){return n.SpriteManager.Default.sensorData.rotation.alpha}get beta(){return n.SpriteManager.Default.sensorData.rotation.beta}get gamma(){return n.SpriteManager.Default.sensorData.rotation.gamma}get accelerationX(){return n.SpriteManager.Default.sensorData.acceleration.x}get accelerationY(){return n.SpriteManager.Default.sensorData.acceleration.y}get accelerationZ(){return n.SpriteManager.Default.sensorData.acceleration.z}getTouchPoint(e){return n.SpriteManager.Default.sensorData.touchPoints[e]}enableGeolocation(){n.SpriteManager.Default.enableGeolocation()}disableGeolocation(){n.SpriteManager.Default.disableGeolocation()}}t.MobileDevice=o,o.Type=new i(o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeActorPart=t.ScoolcodeActorPartInfo=void 0;const n=r(2),i=r(104);class o extends n.ScoolcodeActorInfo{constructor(e,t){super(e||"ScoolcodeActorPart",n.ScoolcodeObjectBase.Type,t),this.thisType=n.ActorsInfoBase.Type}addUserField(e,t,r,i,o=null,a=!1){const s=this.declareUserField(t,i,a);e[t]=0,e[t+".action"]=new n.DefineGlobalVariableAction(s,r,a),e[t+".action"].position=o}addComment(e,t){const r=this.declareComment();t.setName(r.name),e[r.name]=t}removeComment(e,t){delete e[t.name],this.deleteComment(t.name)}addPart(e,t){return-1==e.parts.indexOf(t)&&(e.parts.push(t),e[t.name]=t),t}removePart(e,t){const r=e.parts.indexOf(t);r>-1&&(e.parts.splice(r,1),delete e[t.name])}}t.ScoolcodeActorPartInfo=o;class a extends n.ScoolcodeObjectBase{constructor(e,t,r,i){super(new o(t,a),e),this.parts=[],this.records=[],this.metadata={hidden:!1},this.dispose=async()=>{},this.getType=()=>this.internal.type,this.defineUserFunction=e=>{this[e.method.name]=function(){return e.execute.apply(e,arguments)},this[e.method.name].action=e,e.apply(this.stage,this.proxy)},this.removeUserFunction=e=>{this[e.method.name]?(delete this[e.method.name],e.remove()):this.wrappedActor.removeUserFunction(e)},this.validateName=(e,t)=>!(0==e.length||this.getType().getProperty(e)||this.getType().getMethod(e)||!n.NameValidator.validateName(e,t)||void 0!=this[e]),this.defineEventHandler=e=>{e.apply(e.event.declaringType instanceof n.ScoolcodeActorInfo?this.actor:this.stage,this.proxy),this.eventHandlers.push(e),this.stage.processMessageEvent(e)},this.removeEventHandler=e=>{e.remove();const t=this.eventHandlers.indexOf(e);-1!==t&&(this.stage.processMessageEvent(e),this.eventHandlers.splice(t,1))},this.wrappedActor=e,this.name=t,this.path=r,this.language=i;const s=this;this.proxy=new Proxy(this.actor,{get:(e,t)=>s.hasMember(t)?s[t]:s.actor[t]||e[t],set:(e,t,r)=>(s.hasMember(t)?s[t]=r:e[t]=r,!0)})}grammar(){const e=this.getType();return new n.ActorPart(e,this.name,this.path,this.language,this.metadata,...this.records.map((e=>e.declarationGrammar())),...this.parts.map((e=>e.declarationGrammar())),...this.internal.type.fields.map((e=>e.declarationGrammar(this))),...this.internal.type.functions.map((e=>e.declarationGrammar(this))),...this.internal.type.userMethods.map((e=>e.declarationGrammar(this))),...this.eventHandlers.map((e=>e.grammar())),...this.internal.type.comments.map((e=>this[e.name].grammar())))}ownGrammar(){const e=this.getType();return new n.ActorPart(e,this.name,this.path,this.language,this.metadata,...this.records.map((e=>e.declarationGrammar())),...this.internal.type.fields.map((e=>e.declarationGrammar(this))),...this.internal.type.functions.map((e=>e.declarationGrammar(this))),...this.internal.type.userMethods.map((e=>e.declarationGrammar(this))),...this.eventHandlers.map((e=>e.grammar())),...this.internal.type.comments.map((e=>this[e.name].grammar())))}declarationGrammar(){return new n.UseDeclaration(this.name,this.path)}blockModel(e){const t=new n.BlockProgram(this,e);return t.children=[...this.eventHandlers.filter((e=>!e.internal)).map((e=>e.block(t))),...this.records.map((e=>e.block(t))),...this.internal.type.functions.map((e=>e.getAction(this).block(t))),...this.internal.type.fields.filter((e=>!e.getVariableAction(this).internal)).map((e=>e.getVariableAction(this).block(t))),...this.internal.type.comments.map((e=>this[e.name].block(t)))],t}declareRecord(e){this.getType().declareRecord(e),this.records.push(e)}defineRecord(e){const t=this.getType().getMethod(e).returnType;this[t.name]=(...e)=>t.createInstance(e)}clone(e){const t=this.getType(),r=t.createInstance([e,this.name]);e[this.name]=r,e.parts.find((e=>e.name===r.name))||e.parts.push(r),Object.assign(r.metadata,this.metadata);for(let i of t.userMethods){const e=this[i.name].action,t=new n.DefineFunctionAction(i,e.actionList);r[i.name]=function(){return t.execute.apply(t,arguments)},r[i.name].action=t,t.apply(this.actor,r.proxy)}for(let i of t.functions){const e=this[i.name].action,t=new n.DefineFunctionAction(i,e.actionList);r[i.name]=function(){return t.execute.apply(t,arguments)},r[i.name].action=t,t.apply(this.actor,r.proxy)}r.eventHandlers=this.eventHandlers.map((e=>{const t=new n.EventHandlerAction(e.event,e.parameters,e.actionList);return t.apply(e.event.declaringType instanceof o?r.actor:this.stage,r.proxy),t}));for(let i of t.fields){const e=this[i.name];r[i.name]=e,r[i.name+".action"]=new n.DefineGlobalVariableAction(i,e,i.internal)}return r.records=this.records,r}async resetVariables(){const e=this.internal.manager.sub(!0),t={environment:this.internal,scope:this,manager:e};this.parts.length&&this.parts.map((e=>e.resetVariables()));for(let{name:r}of this.internal.type.fields)this[r]=await this[r+".action"].executor(null)(t);this.internal.manager.remove(e)}startManager(){this.internal.manager.start();for(let e of this.parts)e.startManager()}stopManager(){this.internal.manager.stop();for(let e of this.parts)e.stopManager()}hasMember(e){return"clone"!==e&&"name"!==e&&(e in this||!!this.getType().fields.find((t=>t.name===e)))}get stage(){return this.wrappedActor.stage}get actor(){return this.wrappedActor instanceof n.ScoolcodeActor?this.wrappedActor:this.wrappedActor.actor}}t.ScoolcodeActorPart=a,a.Type=new o("ScoolcodeActorPart",a),a.instanceFactory=(e,t)=>{i(t[0],"You must provide a wrapped actor in create a part."),i(t[1],"You must provide a name in create a part.");const r=new a(t[0],t[1],t[2]);return r.internal.type=e,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorPropertiesInfo=void 0;const n=r(2);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("ActorProperties",null,i.Instance),this.valueType=n.ValueType.Any,this.isDynamic=!0,this.providedValueToItemSync=({program:e},t)=>{const r=e&&e.getType(),i=r?r.getProperty(t):n.ScoolcodeActor.Type.getProperty(t);return i?new n.ReadPropertyAction(i):null},this.itemToProvidedValue=({program:e},t)=>t&&t.name||"",this.valueProvider=({program:e})=>{const t=e&&e.getType();return(t?t.properties:n.ScoolcodeActor.Type.properties).filter((e=>!e.blockRoot)).map((e=>[n.LocalisationService.Default.getValue("ScoolcodeActor."+e.publicName,e.publicName),e.name]))}}getStaticInstance(){return i.Instance}}t.ActorPropertiesInfo=i,i.Type=new i,i.Instance={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeStage=t.ScoolcodeStageInfo=void 0;const n=r(2),i=r(188),o=r(104),a=(e,t,r)=>{t>-1||r>-1?(e.isStagePaused()&&e.playerSpeed>0&&(e.internal.manager.resume(),e.resumeLiveCostumes()),n.ExecutionManager.loopDelay=r,n.ExecutionManager.delay=t):(e.stopAllSounds(),e.pauseLiveCostumes(),e.internal.manager.pause().then((()=>console.log("paused"))).catch((e=>console.error("pause error",e))))};var s;!function(e){e[e.Stopped=0]="Stopped",e[e.WaitingToStart=1]="WaitingToStart",e[e.Initializing=2]="Initializing",e[e.Preparing=3]="Preparing",e[e.Running=4]="Running",e[e.Stopping=5]="Stopping"}(s||(s={}));class l extends n.ScoolcodeObjectInfoBase{constructor(e="ScoolcodeStage",t,r){super(e,t||n.ScoolcodeObjectBase.Type,r||l.DefaultImplementation),this.localeName="ScoolcodeStage",this.OnNever=this.declareEvent("never").declareBlock("Never",n.BlockColor.Night,true),this.OnSetup=this.declareEvent("setup").declareBlock("\u25b6 Before Started"),this.OnStarted=this.declareEvent("started").declareBlock("\u25b6 When Started"),this.OnShown=this.declareEvent("shown").declareDataParameterAt(0).declareBlock("When Shown"),this.OnHidden=this.declareEvent("hidden").declareBlock("When Hidden"),this.OnKeyPress=this.declareEvent("keyPressed").declareParameter("key",n.KeyInfo.Type,"space",!0).declareValidator((([e],[t])=>e instanceof n.ExecuteOfAction&&e.action instanceof n.ReadPropertyAction?"any"===e.action.name||n.KeyInfo.equals(t,e.action.name):"any"===e||n.KeyInfo.equals(t,e))).declareBlock("When {key} Key Pressed"),this.OnSignalReceived=this.declareEvent("signalReceived").declareParameter("kind",n.SignalsInfo.Type,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("signal1"))),!0).declareValidator((([e],[t])=>"any"===e||e===t)).declareBlock("When I Receive {kind}"),this.OnDataReceived=this.declareEvent("dataReceived").declareParameter("kind",n.MessagesInfo.Type,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("message1"))),!0).declareDataParameterAt(1).declareValidator((([e],[t])=>"any"===e||e===t)).declareBlock("When I Receive {kind} With Data"),this.OnSceneChanged=this.declareEvent("sceneChanged").declareParameter("target",n.BackdropsWithAnyInfo.Type,"any",!0).declareValidator((([e],[t])=>e&&("any"===e||(e.name||e)===t))).declareBlock("When Scene Switches to {target}"),this.OnTouchDown=this.declareEvent("touchDown").declareDataParameterAt(0).declareBlock("When Touch Point Down"),this.OnTouchMove=this.declareEvent("touchMove").declareDataParameterAt(0).declareBlock("When Touch Point Moves"),this.OnTouchUp=this.declareEvent("touchUp").declareDataParameterAt(0).declareBlock("When Touch Point Up"),this.OnGesture=this.declareEvent("gestureDetected").declareParameter("gesture",n.GestureTypeInfo.Type,"thumbUp",!0).declareDataParameterAt(1).declareValidator((([e],[t])=>"any"===e||e==t)).declareBlock("When {gesture} Detected"),this.declareMethod("clearPenTrails").declareBlock("clear pen trails",n.BlockColor.Pen),this.declareMethod("say").declareOptionalParameter("message",n.ValueType.Any).declareBlock("say {message}",n.BlockColor.Looks).markAsPrivate(),this.declareAsyncMethod("wait").declareParameter("amount",n.ValueType.Number,1).declareBlock("wait {amount} seconds",n.BlockColor.Control),this.declareAsyncMethod("stop").declareBlock("stop program",n.BlockColor.Control,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1}),this.declareMethod("setScene").declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String,n.ValueType.Any),(e=>e.backdropProperty)).declareBlock("switch scene to {scene}",n.BlockColor.Looks),this.declareMethod("setSceneAndWait").declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String,n.ValueType.Any),(e=>e.backdropProperty)).declareBlock("switch scene to {scene} and wait",n.BlockColor.Looks),this.declareMethod("setSceneWithData").declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String,n.ValueType.Any)).declareOptionalParameter("data",n.ValueType.Any).declareBlock("start {scene} scene with data {data}",n.BlockColor.Looks),this.declareAsyncMethod("setSceneWithDataAndWait",n.ValueType.Any).declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String,n.ValueType.Any)).declareOptionalParameter("data",n.ValueType.Any).declareBlock("start {scene} scene with data {data} and wait",n.BlockColor.Looks),this.declareMethod("openScreenWithData").declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String,n.ValueType.Any)).declareOptionalParameter("data",n.ValueType.Any).declareBlock("open {scene} scene with data {data}",n.BlockColor.Looks),this.declareAsyncMethod("openScreenWithDataAndWait",n.ValueType.Any).declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String,n.ValueType.Any)).declareOptionalParameter("data",n.ValueType.Any).declareBlock("open {scene} scene with data {data} and wait",n.BlockColor.Looks),this.declareMethod("openScreen").declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String,n.ValueType.Any)).declareBlock("open {scene} scene",n.BlockColor.Looks),this.declareAsyncMethod("openScreenAndWait",n.ValueType.Any).declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String,n.ValueType.Any)).declareBlock("open {scene} scene and wait",n.BlockColor.Looks),this.declareAsyncMethod("closeScreen").declareBlock("close screen",n.BlockColor.Looks),this.declareMethod("isSceneSelected",n.ValueType.Boolean).declareParameter("scene",n.UnionTypeInfo.for(n.BackdropsInfo.Type,n.ScoolcodeSceneInfo.Type,n.ScoolcodeParallaxInfo.Type,n.ValueType.Number,n.ValueType.String),(e=>e.backdropProperty)).declareBlock("is {scene} selected?",n.BlockColor.Looks,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("broadcast").declareParameter("kind",n.SignalsInfo.Type,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("signal1"))),!1,!1).declareBlock("broadcast {kind}",n.BlockColor.Events),this.declareAsyncMethod("broadcastAndWait").declareParameter("kind",n.SignalsInfo.Type,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("signal1"))),!1,!1).declareBlock("broadcast {kind} and wait",n.BlockColor.Events),this.declareMethod("broadcastData").declareParameter("kind",n.MessagesInfo.Type,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("message1"))),!1,!1).declareParameter("data",n.ValueType.Any,10).declareBlock("broadcast {kind} with {data}",n.BlockColor.Events),this.declareAsyncMethod("broadcastDataAndWait").declareParameter("kind",n.MessagesInfo.Type,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("message1"))),!1,!1).declareParameter("data",n.ValueType.Any,10).declareBlock("broadcast {kind} with {data} and wait",n.BlockColor.Events),this.declareAsyncMethod("createClone",n.ActorAsAnyInfo.Type).declareParameter("target",n.ActorsAndSelfInfo.Type,(e=>e.actorProperty)).declareBlock("create clone of {target}",n.BlockColor.Control),this.declareAsyncMethod("deleteAllClones").declareParameter("target",n.ActorsInfo.Type,(e=>e.actorProperty)).declareBlock("delete all clones of {target}",n.BlockColor.Control).markAsPrivate(),this.declareAsyncMethod("deleteAllClonesOf").declareParameter("target",n.ActorsInfo.Type,(e=>e.actorProperty)).declareBlock("delete all clones of {target}",n.BlockColor.Control),this.declareAsyncMethod("createCloneAndWait",n.ActorAsAnyInfo.Type).declareParameter("target",n.ActorsAndSelfInfo.Type,(e=>e.actorProperty)).declareBlock("create clone of {target} and wait",n.BlockColor.Control),this.declareAsyncMethod("deleteClone").declareParameter("target",n.ValueType.Any).declareBlock(n.DeleteCloneBlockInstance),this.declareMethod("getCloneOf",n.ValueType.Any).declareParameter("cloneId",n.ValueType.Number,1).declareParameter("target",n.ActorsInfo.Type,(e=>e.actorProperty)).declareBlock("clone {cloneId} of {target}",n.BlockColor.Control,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareProperty("scene",n.BackdropsInfo.Type).declareNameForBlocks("backdrop",n.BlockColor.Looks).markAsPrivate(),this.declareProperty("currentScene",n.BackdropsInfo.Type).declareNameForBlocks("backdrop",n.BlockColor.Looks),this.declareProperty("cloneLimit",n.ValueType.Number).declareNameForBlocks("cloneLimit",n.BlockColor.Control),this.declareReadOnlyProperty("Test",n.TestInfo.Type).markAsBlockRoot().markAsPrivate(),this.declareReadOnlyProperty("Math",n.MathInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Number",n.NumberClassInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Timer",n.TimerInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Terminal",n.TerminalInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Date",n.DateInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Network",n.NetworkInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Pointer",n.PointerInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("PenShape",n.PenShapeInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("HandGesture",n.GestureTypeInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("BodyLandmark",n.BodyLandmarkInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("HandLandmark",n.HandLandmarkInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("VisionRecogniser",n.VisionRecogniserInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Position",n.PositionInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("RotationStyle",n.RotationStyleInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("CoordinateSystem",n.CoordinateSystemInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("ConversationMode",n.ConversationModeInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("CollisionShape",n.CollisionShapeInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Edge",n.EdgeInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Key",n.KeyInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("physics",n.PhysicsStageInfo.Type).markAsBlockRoot(),this.declareReadOnlyProperty("camera",n.ScoolcodeCamera.Type).markAsBlockRoot(),this.declareReadOnlyProperty("_internal",n.InternalInfo.Type).markAsBlockRoot().markAsPrivate(),this.declareReadOnlyProperty("MobileDevice",n.MobileDevice.Type).markAsBlockRoot().markAsPrivate(),this.declareReadOnlyProperty("Vision",n.Vision.Type).markAsBlockRoot(),this.declareReadOnlyProperty("Speech",i.Speech.Type).markAsBlockRoot(),this.declareReadOnlyProperty("width",n.ValueType.Number).declareNameForBlocks("stage width",n.BlockColor.Sensing),this.declareReadOnlyProperty("height",n.ValueType.Number).declareNameForBlocks("stage height",n.BlockColor.Sensing),this.declareReadOnlyProperty("cloneCount",n.ValueType.Number).declareNameForBlocks("clone count",n.BlockColor.Sensing).markAsPrivate(),this.declareReadOnlyProperty("username",n.ValueType.String).declareNameForBlocks("username",n.BlockColor.Sensing),this.declareReadOnlyProperty("alias",n.ValueType.String).declareNameForBlocks("alias",n.BlockColor.Sensing),this.declareMethod("nextScene").declareBlock("next scene",n.BlockColor.Looks),this.declareMethod("previousScene").declareBlock("previous scene",n.BlockColor.Looks),this.declareMethod("stopSound").declareOptionalParameter("id",n.ValueType.Number).declareBlock("stop {id}",n.BlockColor.Sound),this.declareMethod("playSound",n.ValueType.Number).declareParameter("sound",n.UnionTypeInfo.for(n.SoundsInfo.Type,n.ValueType.Number,n.ValueType.String)).declareBlock("play {sound}",n.BlockColor.Sound),this.declareAsyncMethod("playSoundAndWait").declareParameter("sound",n.UnionTypeInfo.for(n.SoundsInfo.Type,n.ValueType.Number,n.ValueType.String)).declareBlock("play {sound} and wait",n.BlockColor.Sound),this.declareAsyncMethod("incrementScoreTo").declareParameter("name",n.ValueType.String).declareParameter("value",n.ValueType.Number).declareBlock("increment {name} score to {value}",n.BlockColor.Variables),this.declareAsyncMethod("getScore",n.ValueType.Number).declareParameter("name",n.ValueType.String).declareBlock("get {name} score",n.BlockColor.Variables),this.declareAsyncMethod("changeCloudVariableTo").declareParameter("name",n.ValueType.String).declareParameter("value",n.ValueType.Any).declareBlock("set {name} in cloud to {value}",n.BlockColor.Variables),this.declareAsyncMethod("changeCloudVariableToAndWait").declareParameter("name",n.ValueType.String).declareParameter("value",n.ValueType.Any).declareBlock("set {name} in cloud to {value}",n.BlockColor.Variables),this.declareAsyncMethod("getCloudVariable",n.ValueType.Any).declareParameter("name",n.ValueType.String).declareBlock("get {name} from cloud",n.BlockColor.Variables),this.declareMethod("isKeyPressed",n.ValueType.Boolean).declareParameter("key",n.UnionTypeInfo.for(n.KeyInfo.Type,n.ValueType.String,n.ValueType.Number),n.KeyInfo.Instance.space).declareBlock("key {key} pressed?",n.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareReadOnlyProperty("sceneName",n.ValueType.String).declareNameForBlocks("backdrop name",n.BlockColor.Looks),this.declareReadOnlyProperty("sceneId",n.ValueType.Number).declareNameForBlocks("backdrop #",n.BlockColor.Looks),this.declareReadOnlyProperty("answer",n.ValueType.String).declareColorForBlocks(n.BlockColor.Sensing).markAsPrivate(),this.declareMethod("ask",n.ValueType.Numeric).declareParameter("question",n.ValueType.String,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("What's your name?")))).declareBlock("ask {question} and wait",n.BlockColor.Sensing,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("askToAnswer",n.ValueType.Numeric).declareParameter("question",n.ValueType.String,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("What's your name?")))).declareBlock("ask {question} and wait",n.BlockColor.Sensing).markAsPrivate(),this.declareProperty("coordinateSystem",n.CoordinateSystemInfo.Type).declareDefaults(n.CoordinateSystemInfo.Instance.topLeft).declareNameForBlocks("coordinate system",n.BlockColor.Motion),this.declareProperty("conversationMode",n.ConversationModeInfo.Type).declareDefaults(n.ConversationModeInfo.Instance.bottom).declareNameForBlocks("conversation mode",n.BlockColor.Looks),this.declareAsyncMethod("createMonitor",n.ScoolcodeMonitor.Type).declareParameter("name",n.ValueType.String).declareParameter("reference",n.ValueType.Any,null,!0).declareBlock("create monitor {name} for {reference}",n.BlockColor.Operators),this.declareAsyncMethod("deleteMonitor",n.ScoolcodeMonitor.Type).declareParameter("name",n.UnionTypeInfo.for(n.ValueType.String,n.ScoolcodeMonitor.Type)).declareBlock("delete monitor {name}",n.BlockColor.Operators),this.declareAsyncMethod("showVariable",n.ScoolcodeMonitor.Type).declareParameter("reference",n.VariableReferencesInfo.Type,null,!0,!1).declareBlock("show variable {reference}",n.BlockColor.Variables),this.declareAsyncMethod("hideVariable",n.ScoolcodeMonitor.Type).declareParameter("reference",n.VariableReferencesInfo.Type,null,!0,!1).declareBlock("hide variable {reference}",n.BlockColor.Variables),this.declareMethod("concat",n.ValueType.String).declareParameter("a",n.ValueType.Any,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("ScoolcodeStage.concat:Example1")+" "))).declareParameter("b",n.ValueType.Any,(()=>new n.StringLiteralAction(n.LocalisationService.Default.getValue("ScoolcodeStage.concat:Example2")))).declareBlock("concat {a} with {b}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),this.declareMethod("getActorByName",n.ValueType.Any).declareParameter("name",n.ValueType.String).declareBlock("get actor {name}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareMethod("getActors",n.ValueType.Array).declareBlock("get actors",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),this.declareProperty("playerSpeed",n.ValueType.Number).declareNameForBlocks("playerSpeed",n.BlockColor.Motion),this.declareReadOnlyProperty("monitors",n.ValueType.Array);const o=[{name:"edit",icon:"/media/button-edit.svg",callback:(e,t)=>n.SpriteManager.Default.editConversation(e,t)},{name:"refresh",icon:"/media/button-refresh.svg",callback:(e,t)=>{e.stopPropagation(),console.log("refresh click"),n.SpriteManager.Default.updateConversations(!0)}},{name:"create",icon:"/media/button-add.svg",callback:(e,t)=>{e.stopPropagation(),n.SpriteManager.Default.ConversationProvider.createNew()}}];this.declareAsyncMethod("startConversation",n.ValueType.String).declareParameter("conversation",n.ConversationsInfo.Type,"").declareBlock("start conversation: {conversation} and wait",n.BlockColor.Sensing,{embeddable:!1,hasBottomConnector:!0,hasTopConnector:!0,buttons:o}).markAsPrivate(),this.declareAsyncMethod("startConversationAsValue",n.ValueType.String).declareParameter("conversation",n.ConversationsInfo.Type,"").declareBlock("start conversation: {conversation} and wait",n.BlockColor.Sensing,{embeddable:!0,hasBottomConnector:!1,hasTopConnector:!1,buttons:o}).markAsPrivate()}declareActor(e){const t=this.getProperty(e);if(t)return t.valueType;const r=new n.ScoolcodeActorInfo(e);return this.declareReadOnlyProperty(e,r).internal=!1,r}declareRecord(e){const t=this.getMethod(e.name);if(t)return t.returnType;const r=this.declareMethod(e.name,e);for(let i of e.fields)r.declareParameter(i.name,n.ValueType.Any);return r.internal=!1,r}declareModule(e,t){this.declareReadOnlyProperty(e,t).markAsBlockRoot()}declareExistingActor(e){this.declareReadOnlyProperty(e.name,e.getType()).internal=!1}renameProgram(e,t){e instanceof n.ScoolcodeActor?(this.deleteProperty(this.getProperty(e.name)),delete e.stage[e.name],e.stage[t]=e,e.setName(t),e.getType().setName(t),this.declareExistingActor(e)):(e instanceof n.ScoolcodeActorPart||e instanceof n.ScoolcodeStagePart)&&(e.name=t)}createActor(e,t){this[e]=t.createInstance([e,this])}removeActor(e,t){e.spriteManager.unregisterActor(t),t.dispose(),this.deleteProperty(this.getProperty(t.name)),delete e[t.name],e.actors.splice(e.actors.indexOf(t),1)}addTexture(e,t){const r=!!e.texture;this.declareUserAsset(t.name,t.getType()),e.textures.push(e[t.name]=t),r&&!t.isDefault||e.setTextureInternal(t,!0),t instanceof n.ScoolcodeScene&&t.setParent(e)}addSound(e,t){this.declareUserAsset(t.name,n.ScoolcodeSound.Type),e.sounds.push(e[t.name]=t),n.SpriteManager.Default.addAsset(e,t)}addUserField(e,t,r,i,o=null,a=!1,s=!1){const l=this.declareUserField(t,i,a,s);e[t]=0,e[t+".action"]=new n.DefineGlobalVariableAction(l,r,a),e[t+".action"].position=o}declarePart(e,t,r,i){var o;const a=r instanceof n.ScoolcodeStagePart?r:null===(o=n.TypeRegistry.resolve("ScoolcodeStagePart"))||void 0===o?void 0:o.construct(e,t,r);if(a&&!e.parts.find((e=>e.name==a.name))){const r=a&&a.type||a.getType();r.declareMixinsFromBase(i||this),this.declareReadOnlyProperty(t,r).markAsBlockRoot(),e.parts.push(a),e[t]=a}return a}addPart(e,t){return this.properties.find((e=>e.name===t.name))||(this.declareReadOnlyProperty(t.name,t.getType()).markAsBlockRoot(),e.parts.find((e=>e.name==t.name))||(e.parts.push(t),e[t.name]=t)),t}removePart(e,t){const r=e.parts.indexOf(t);if(r>-1){let n=c.Type.properties.find((e=>e.name===t.name));n&&c.Type.deleteProperty(n),n=this.properties.find((e=>e.name===t.name)),n&&(this.deleteProperty(n),e.parts.splice(r,1),delete e[t.name])}}addComment(e,t){const r=this.declareComment();t.setName(r.name),e[r.name]=t}removeComment(e,t){delete e[t.name],this.deleteComment(t.name)}renameTextureAt(e,t,r){const n=e.textures[t];this.renameAsset(e,n,r)}renameSoundAt(e,t,r){const n=e.sounds[t];this.renameAsset(e,n,r)}renameAsset(e,t,r){this.deleteUserAsset(t.name),delete e[t.name],t.name=r,this.declareUserAsset(t.name,t.getType()),e[t.name]=t}removeTextureAt(e,t){const r=t===e.defaultTextureId,n=e.textures[t];e.textures.splice(t,1),this.deleteUserAsset(n.name),delete e[n.name],r&&e instanceof c&&e.textures.length&&(e.defaultTextureId=0,e.textures[0].apply(e))}removeTexture(e,t){return this.removeTextureAt(e,e.textures.indexOf(t))}removeSoundAt(e,t){const r=e.sounds[t];e.sounds.splice(t,1),this.deleteUserAsset(r.name),delete e[r.name]}removeSound(e,t){return this.removeSoundAt(e,e.sounds.indexOf(t))}reorderSounds(e,t){e.sounds=t}reorderTextures(e,t){e.textures=t}reorderParts(e,t){e.parts=t}}t.ScoolcodeStageInfo=l,l.DefaultImplementation=null;class c extends n.ScoolcodeObjectBase{constructor(e,t){super(t||c.Type,null),this.spriteManager=new n.SpriteManager,this.stageTimer=null,this.getType=()=>this.internal.type,this.props={textureId:0,screenId:-1,playerSpeed:4,cloneLimit:150,answer:"",conversationMode:c.DefaultConversationMode,coordinateSystem:c.DefaultCoordinateSystem,width:c.DefaultWidth,height:c.DefaultHeight,scale:c.DefaultScale,renderedWidth:c.DefaultWidth*c.DefaultRenderRatio,renderedHeight:c.DefaultHeight*c.DefaultRenderRatio,renderedWidthInited:!1,renderedHeightInited:!1,unitX:1,unitY:-1},this._soundsMuted=!1,this._insideSceneMode=!1,this._visibleAsScene=!1,this.username="user1",this.alias="user1",this.signals=[],this.messages=[],this._monitors=new n.SafeArray,this.variableMonitors=new n.SafeArray,this.textures=[],this.sounds=[],this.parts=[],this.imports=[],this.records=[],this.collisions=new n.SafeArray,this.setSceneWithData=(e,t)=>{if(this.isStageInitializing())return void n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"setSceneWithData"));e=this.getAsTexture(e);const r=this.textures.indexOf(e);-1!==r&&e instanceof n.ScoolcodeScene?(this.props.screenId==r&&this.closeScreen(),this.props.textureId!==r&&(this.texture instanceof n.ScoolcodeScene&&this.texture.unapply(this,"back"),this.props.textureId=r,e.apply(this,"back",t)),c.Type.OnSceneChanged.emit([this.texture.name],this)):this.setScene(e)},this.setSceneAndWait=async e=>{if(this.isStageInitializing())return n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"setSceneAndWait")),Promise.resolve();e=this.getAsTexture(e);const t=this.textures.indexOf(e);if(-1!==t){if(this.props.screenId==t&&this.closeScreen(),this.props.textureId!==t&&this.texture instanceof n.ScoolcodeScene&&this.texture.unapply(this,"back"),e instanceof n.ScoolcodeScene){this.props.textureId=t;let r=e.applyAndWait(this,"back");return c.Type.OnSceneChanged.emit([this.texture.name],this),r}this.setScene(e)}return Promise.resolve()},this.setSceneWithDataAndWait=async(e,t)=>{if(this.isStageInitializing())return n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"setSceneWithDataAndWait")),Promise.resolve();e=this.getAsTexture(e);const r=this.textures.indexOf(e);if(-1!==r){if(this.props.screenId==r&&this.closeScreen(),this.props.textureId!==r&&this.texture instanceof n.ScoolcodeScene&&this.texture.unapply(this,"back"),e instanceof n.ScoolcodeScene){this.props.textureId=r;let n=e.applyAndWait(this,"back",t);return c.Type.OnSceneChanged.emit([this.texture.name],this),n}this.setSceneWithData(e,t)}return Promise.resolve()},this.openScreenWithData=(e,t)=>{if(this.isStageInitializing())return void n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"openScreenWithData"));e=this.getAsTexture(e);const r=this.textures.indexOf(e);-1!==r&&e instanceof n.ScoolcodeScene?(this.props.textureId==r&&e.unapply(this,"back"),this.props.screenId!=r&&(this.props.screenId>-1&&this.closeScreen(),this.props.screenId=r,e.apply(this,"front",t)),c.Type.OnSceneChanged.emit([e.name],this)):c.warnMissingAsset("INVALID_ARGUMENT",e,"openScreenWithData")},this.openScreenWithDataAndWait=async(e,t)=>{if(this.isStageInitializing())return n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"openScreenWithDataAndWait")),Promise.resolve();e=this.getAsTexture(e);const r=this.textures.indexOf(e);if(-1!==r&&e instanceof n.ScoolcodeScene){let n;return this.props.textureId==r&&e.unapply(this,"back"),this.props.screenId!==r&&(this.props.screenId>-1&&this.closeScreen(),this.props.screenId=r,n=e.applyAndWait(this,"front",t)),c.Type.OnSceneChanged.emit([e.name],this),n}return c.warnMissingAsset("INVALID_ARGUMENT",e,"openScreenWithDataAndWait"),Promise.resolve()},this.closeScreen=(e=!1)=>{if(-1!==this.props.screenId&&(e||this.isStageRunning())){const e=this.textures[this.props.screenId];e.completeScene(),e.unapply(this,"front"),this.props.screenId=-1}},this.openScreen=e=>{if(this.isStageInitializing())return void n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"openScreen"));e=this.getAsTexture(e);const t=this.textures.indexOf(e);-1!==t&&e instanceof n.ScoolcodeScene?(this.props.textureId==t&&e.unapply(this,"back"),this.props.screenId!=t&&(this.props.screenId>-1&&this.closeScreen(),this.props.screenId=t,e.apply(this,"front")),c.Type.OnSceneChanged.emit([e.name],this)):c.warnMissingAsset("INVALID_ARGUMENT",e,"openScreen")},this.openScreenAndWait=async e=>{if(this.isStageInitializing())return n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"openScreenAndWait")),Promise.resolve();e=this.getAsTexture(e);const t=this.textures.indexOf(e);if(-1!==t&&e instanceof n.ScoolcodeScene){let r;return this.props.textureId==t&&e.unapply(this,"back"),this.props.screenId!==t&&(this.props.screenId>-1&&this.closeScreen(),this.props.screenId=t,r=e.applyAndWait(this,"front")),c.Type.OnSceneChanged.emit([e.name],this),r}return c.warnMissingAsset("INVALID_ARGUMENT",e,"openScreenAndWait"),Promise.resolve()},this.nextScene=async()=>{this.texture&&(this.texture instanceof n.ScoolcodeScene&&this.texture.unapply(this,"back"),this.props.textureId===this.textures.length-1?this.props.textureId=0:this.props.textureId++,await this.applyScene()||c.warnMissingAsset(this.getMissingBackdropCode(),this.texture,"nextScene"),c.Type.OnSceneChanged.emit([this.texture.name],this))},this.previousScene=async()=>{this.texture&&(this.texture instanceof n.ScoolcodeScene&&this.texture.unapply(this,"back"),0===this.props.textureId?this.props.textureId=this.textures.length-1:this.props.textureId--,await this.applyScene()||c.warnMissingAsset(this.getMissingBackdropCode(),this.texture,"previousScene"),c.Type.OnSceneChanged.emit([this.texture.name],this))},this.setScene=async(e,t=!1)=>{if(void 0!==e){if("string"===typeof e){let t=this[e];if(void 0==t){const t=Number(e);t>=0&&t<this.textures.length&&(e=t)}else e=t}if("number"===typeof e){const r=Math.min(this.textures.length,Math.max(1,e))-1;if(r>-1&&this.props.textureId===r)return t||c.Type.OnSceneChanged.emit([this.texture.name],this),this.textures[r];if(this.texture instanceof n.ScoolcodeScene&&(this.props.screenId===r?this.closeScreen():this.texture.unapply(this,"back")),this.props.textureId=r,!this.texture)return;await this.applyScene("back")||c.warnMissingAsset(t?"MISSING_BACKDROP":this.getMissingBackdropCode(),this.texture),t||c.Type.OnSceneChanged.emit([this.texture.name],this)}else{if(e instanceof n.ScoolcodeTexture&&!(e instanceof n.ScoolcodeCostume))return this.texture!=e?await this.setTextureInternal(e,t)||c.warnMissingAsset(this.getMissingBackdropCode(),this.texture,t?void 0:"setScene"):t||c.Type.OnSceneChanged.emit([this.texture.name],this),e;n.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,`setScene(${e.toString()})`)}}else n.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"undefined")},this.isSceneSelected=e=>{if(!this.texture||!(this.texture instanceof n.ScoolcodeScene||this.texture instanceof n.ScoolcodeTexture))return!1;if(e&&"string"===typeof e){let t=this[e];if(t&&(t instanceof n.ScoolcodeScene||t instanceof n.ScoolcodeTexture))return t.name===this.texture.name}if(e&&"number"===typeof e){const t=Math.min(this.textures.length,Math.max(1,e))-1;if(t>-1&&this.props.textureId===t)return e==t+1}return!(!this.texture||!(this.texture instanceof n.ScoolcodeScene||this.texture instanceof n.ScoolcodeTexture))&&this.texture.name===e.name},this.layers={backdrop:null,graphics:null},this._actors=[],this._clones=new n.SafeArray,this.isStagePaused=()=>this.internal.manager.isPaused(),this.isStagePausedProgramatically=()=>this.isStageRunning()&&this.internal.manager.isPausedProgramatically(),this.pause=async()=>{if(!this.isStageNotRunning())try{this.stopAllSounds(),this.pauseLiveCostumes(),await this.internal.manager.pause()}catch(e){}},this.pauseProgramatically=async()=>{if(!this.isStageNotRunning())try{this.stopAllSounds(),this.pauseLiveCostumes(),await this.internal.manager.pauseProgramatically()}catch(e){}},this.resume=()=>{if(!this.isStageNotRunning()&&this.isStagePaused())try{this.internal.manager.resume(),this.resumeLiveCostumes()}catch(e){}},this.resumeProgramatically=()=>{if(!this.isStageNotRunning()&&this.isStagePausedProgramatically())try{this.internal.manager.resumeProgramatically(),this.resumeLiveCostumes()}catch(e){}},this.step=async()=>{if(this.isStageNotRunning()||!this.isStagePaused()||this.isStagePausedProgramatically())return;const e=[this.internal.manager.step(),this.textures.filter((e=>e instanceof n.ScoolcodeScene&&!e.isPaused())).map((e=>e.step()))];return Promise.all(e)},this.emitStart=()=>(this.getScenes().map((e=>{e.stage.start()})),c.Type.OnStarted.emit([],this)),this.emitStartAndWait=()=>{const e=this.getScenes().map((e=>e.stage.startAndWait()));return Promise.all([c.Type.OnStarted.emit([],this),...e])},this.start=async()=>{this.isStagePaused()&&this.playerStatus!=s.Stopped&&this.playerSpeed>0?(this.internal.manager.resume(),this.playerStatus==s.WaitingToStart&&(this.playerStatus=s.Running,this.camera.setArea(this.width,this.height),this.resumeLiveCostumes(),n.ExecutionManager.isSetupEvent=!1,this.emitStart())):(this.setupEmitted||await this.resetStage(),this.camera.setArea(this.width,this.height),await this.prepareStart(),this.playerStatus=s.Running,this._insideSceneMode||n.SpriteManager.Default.ready(),this.playerSpeed>0&&this.playLiveCostumes(),n.ExecutionManager.isSetupEvent=!1,this.emitStart(),0==this.playerSpeed&&this.pause())},this.resetFlag=!1,this.playerStatus=s.Stopped,this.setupEmitted=!1,this.requestSetup=()=>{this.setupEmitted=!1},this.setup=async()=>{await this.prepareStart(),this.stageTimer.resolveAll(),await(0,n.waitForMillis)(1),this.internal.manager.pause(),this.playerStatus=s.WaitingToStart,this._insideSceneMode||n.SpriteManager.Default.ready()},this.startAndWait=async()=>(await this.prepareStart(),this.playerStatus=s.Running,this._insideSceneMode||n.SpriteManager.Default.ready(),n.ExecutionManager.isSetupEvent=!1,this.emitStartAndWait()),this.onStopMainStage=null,this.stop=async(e=!1)=>{if(this.playerStatus==s.Running){if(this._insideSceneMode&&!e&&this.onStopMainStage)return await this.onStopMainStage();this.playerStatus=s.Stopping,n.ExecutionManager.isSetupEvent=!1,await this.resetStage(),(0,n.waitForMillis)(1).then((()=>{this.stopAllSounds()})),this.Speech.stop(),this._insideSceneMode||n.SpriteManager.Default.disableGeolocation();try{this.parts.map((e=>{e.stopManager()})),this.actors.length>0&&await Promise.all([...this.actors.map((e=>e.stop())),...this._clones.map((e=>e.stop()))]),await Promise.all([...this.textures.filter((e=>e instanceof n.ScoolcodeScene)).map((e=>e.stop()))]),await this.internal.manager.stop()}catch(t){console.log(t)}this.stageTimer.resolveAll(),this.props.answer="",this.playerStatus=s.Stopped,this.setupEmitted=!1,this.isStagePaused()&&this.internal.manager.resume(),this._insideSceneMode||n.SpriteManager.Default.stop(),this.forMonitorsExceptMousePos("stop"),this._insideSceneMode||(this.textures.filter((e=>e instanceof n.ScoolcodeScene)).map((e=>e.hide(this))),this.props.screenId=-1)}},this.activateManagers=()=>{this.actors.length>0&&(this.actors.map((e=>e.activate())),this._clones.map((e=>e.activate()))),this.internal.manager.activate()},this.deactivateManagers=()=>{this.actors.length>0&&(this.actors.map((e=>e.deactivate(this._uuid))),this._clones.map((e=>e.deactivate(this._uuid)))),this.internal.manager.deactivate(this._uuid)},this.activateEventHandlers=()=>{this.eventHandlers.map((e=>e.activate()))},this.deactivateEventHandlers=()=>{this.eventHandlers.map((e=>e.deactivate()))},this.prepareStart=async()=>{var e;try{if(this.textures.length){if(this.textures.length>0&&this.textures.length>this.defaultTextureId){const t=this.textures[this.defaultTextureId];t==this.texture&&(null===(e=null===t||void 0===t?void 0:t.cache)||void 0===e?void 0:e.isDefault)&&t.cache.isDefault&&(t.available=!1,c.warnMissingAsset("MISSING_BACKDROP",t))}this.setupEmitted||await this.setScene(this.defaultTextureId+1,!0)}}catch(r){r instanceof n.RuntimeError&&n.ExecutionManager.Default.emitError(r)}this.actors.map((e=>{e.enableUpdateBody(!1)})),this.playerStatus=s.Initializing;const t=this.getScenes();for(const n of t)n.setOnStopMainStage(this),n.stage.activateEventHandlers(),n.stage.activateManagers();this.setupEmitted||(this.forMonitorsExceptMousePos("delete"),this.mousePosMonitor?this.initMonitors(new n.SafeArray(this.mousePosMonitor)):this.initMonitors(new n.SafeArray),this.variableMonitors=new n.SafeArray,this._insideSceneMode||this.Terminal.clear(),await this.resetActorList(),this._insideSceneMode||await n.SpriteManager.Default.setup()),this.internal.manager.start(),this.actors.map((e=>{this.setupEmitted||e.pen.up(),e.internal.manager.start(),e.parts.map((e=>{e.startManager()}))})),this.parts.map((e=>{e.startManager()}));for(const n of t)await n.stage.prepareStart();if(this._insideSceneMode||this.setupEmitted||(this.texture instanceof n.ScoolcodeScene&&(await this.texture.apply(this,"back"),this.texture.emitShown()),n.SpriteManager.Default.start()),this.setupEmitted)this.playerStatus=s.Preparing;else try{this.setupEmitted=!0;try{await this.resetVariables(!0)}catch(r){r instanceof n.RuntimeError&&n.ExecutionManager.Default.emitError(r)}this.playerStatus=s.Preparing,this.clearPenTrails();try{n.ExecutionManager.isSetupEvent=!0,await c.Type.OnSetup.emit([],this)}catch(r){r instanceof n.RuntimeError&&n.ExecutionManager.Default.emitError(r)}}catch(r){}this.camera.updateActorsPosition(),this.actors.map((e=>{e.enableUpdateBody(!0)})),this.physics&&this.physics.update()},this.concat=(e,t)=>""+e+t,this.say=e=>{n.Terminal.write("STAGE said: "+(void 0==e?"":n.Terminal.stringBuilder(e)))},this.clearPenTrails=()=>{this.layers.graphics&&this.layers.graphics.clear(),this.actors.map((e=>{e.clearStamps()}))},this.stopSound=e=>{null==e?this.stopAllSounds():n.SpriteManager.Default.stopSound(e)},this.stopAllSounds=()=>{n.SpriteManager.Default.stopAllSounds()},this.playSound=e=>{if(!this.isStageRunning()||this.isStagePaused())return null;if("number"===typeof e){const t=Math.min(this.sounds.length,Math.max(1,e))-1;e=this.sounds[t]}else"string"===typeof e&&(e=this[e]);if(e instanceof n.ScoolcodeSound){if(e.available&&e.buffer)return e.play();c.UseSimplePaths?c.warnMissingAsset("MISSING_SOUND",e):c.warnMissingAsset("INVALID_ARGUMENT",e,"playSound")}},this.playSoundAndWait=async e=>{if(!this.isStageRunning()||this.isStagePaused())return null;if("number"===typeof e){const t=Math.min(this.sounds.length,Math.max(1,e))-1;e=this.sounds[t]}else"string"===typeof e&&(e=this[e]);if(e instanceof n.ScoolcodeSound){if(e.available)return await e.playAndWait();c.UseSimplePaths?c.warnMissingAsset("MISSING_SOUND",e):c.warnMissingAsset("INVALID_ARGUMENT",e,"playSoundAndWait")}},this.incrementScoreTo=async(e,t)=>n.SpriteManager.Default.incrementScoreTo(""+e,+t),this.getScore=async e=>n.SpriteManager.Default.getScore(""+e),this.changeCloudVariableTo=async(e,t)=>{if(!this.isStageInitializing())return n.SpriteManager.Default.changeCloudVariableTo(""+e,t);n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"changeCloudVariableTo"))},this.changeCloudVariableToAndWait=async(e,t)=>{if(!this.isStageInitializing())return n.SpriteManager.Default.changeCloudVariableToAndWait(""+e,t);n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"changeCloudVariableToAndWait"))},this.getCloudVariable=async e=>n.SpriteManager.Default.getCloudVariable(""+e),this.broadcast=(e,t=!1)=>{this.isStageInitializing()?n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"broadcast")):e&&(this.getScenes().map((r=>{r!=t&&r.stage.broadcast(e,t||!this._insideSceneMode)})),c.Type.OnSignalReceived.emit([""+e],this))},this.broadcastAndWait=async(e,t=!1)=>{this.isStageInitializing()?n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"broadcastAndWait")):e&&(await Promise.all(this.getScenes().map((r=>r!=t?r.stage.broadcastAndWait(e,t||!this._insideSceneMode):Promise.resolve()))),await c.Type.OnSignalReceived.emit([""+e],this))},this.broadcastData=(e,t,r=!1)=>{if(DiversityBackend.broadcastMethod==null)DiversityBackend.jankSaveBroadcastMethod(this.broadcastData.bind(this));if(DiversityBackend.routeEvent(e,t))return;this.isStageInitializing()?n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"broadcastData")):e&&(this.getScenes().map((n=>{n!=r&&n.stage.broadcastData(e,t,r||!this._insideSceneMode)})),c.Type.OnDataReceived.emit([""+e,t],this))},this.broadcastDataAndWait=async(e,t,r=!1)=>{this.isStageInitializing()?n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"broadcastDataAndWait")):e&&(await Promise.all(this.getScenes().map((n=>n!=r?n.stage.broadcastDataAndWait(e,t,r||!this._insideSceneMode):Promise.resolve()))),await c.Type.OnDataReceived.emit([""+e,t],this))},this.createClone=async e=>{if(!e||!(e instanceof n.ScoolcodeActor))return void n.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"stage.createClone");if(this.isStageInitializing())return void n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"createClone"));if(this._clones.length>this.cloneLimit)return;const t=await e.clone();return await this.spriteManager.registerActor(t),t.physics&&t.physics.clone(e.physics),await this._clones.addAsync(t),t.getType().getEvent("cloned").emit([],t),t},this.deleteAllClonesOf=async e=>{if(e){const t=this._clones.filter((t=>t.name===e.name));for(let e of t)await this._clones.removeAsync(e),this.stage.deleteClone(e);e.props.cloneCounter=0}else for(;this._clones.length;){const e=await this._clones.popAsync();e&&e.isClone&&e.cloneOf&&(e.cloneOf.props.cloneCounter=0),this.stage.deleteClone(e)}},this.deleteAllClones=async e=>{this.deleteAllClonesOf(e)},this.createCloneAndWait=async e=>{if(!e||!(e instanceof n.ScoolcodeActor))return void n.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"stage.createCloneAndWait");if(this.isStageInitializing())return void n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"createCloneAndWait"));if(this._clones.length>this.cloneLimit)return;const t=await e.clone();return await this.spriteManager.registerActor(t),t.physics&&t.physics.clone(e.physics),await this._clones.addAsync(t),await t.getType().getEvent("cloned").emit([],t),t},this.deleteClone=async e=>{e&&e instanceof n.ScoolcodeActor||n.RuntimeEnvironment.error(null,"INVALID_ARGUMENT",null,"stage.deleteClone"),e&&e.cloneOf&&(await e.cloneOf.clones.removeAsync(e),e.cloneOf=null),e&&e.isClone&&(await this._clones.removeAsync(e),await e.dispose())},this.getCloneOf=(e,t)=>t.clones.find((t=>t.cloneId==e))||t,this.isKeyPressed=e=>{if(null!==e&&"string"!==typeof e&&+e===+e&&(e=String(e)),n.SpriteManager.Default.KeyInfoProvider.isPressed(e))return!0;const t=n.KeyInfo.Instance[e];return!!t&&n.SpriteManager.Default.KeyInfoProvider.isPressed(t)},this.ask=async(e,t)=>{if(!this.isStageRunning())return this.props.answer="",(this.isStageInitializing()||this.isStagePreparing())&&n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"ask")),Promise.resolve("");const r=n.SpriteManager.Default.requestPrompt(e,t);return r.then((e=>{this.props.answer=e})),r},this.askToAnswer=async(e,t)=>{this.isStageRunning()?this.props.answer=await n.SpriteManager.Default.requestPrompt(e,t):(this.isStageInitializing()&&n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"askToAnswer")),this.props.answer="")},this.wait=async e=>{if(!this.isStageRunning())return void(this.isStageInitializing()&&n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"wait")));let t=!0,r=null;const i=Date.now(),o=()=>{r&&(clearInterval(r),r=null),t=!1},a=this,s=new Promise((async n=>{r=setInterval((async()=>{if(!t||Date.now()-i>=1e3*e||!a.isStageRunning())return o(),n(!0)}),100)})),l=this.stageTimer.delay(1e3*e);l?await Promise.race([s,l]):await s,o()},this.createMonitor=async(e,t)=>{if("function"!==typeof(t=t instanceof n.RuntimeReference?t.get:t))return;const r=new n.ScoolcodeMonitor(e,t,this);return n.SpriteManager.Default.registerMonitor(r),await this.monitors.addAsync(r),r},this.showVariable=async e=>{e instanceof n.RuntimeReference||n.RuntimeEnvironment.error(null,"MISSING_REFERENCE",null,"showVariable");const t=this.variableMonitors.find((({ref:t})=>e.equals(t)));if(t)return t.ref=e,t.monitor.updateValueProvider(e.get),t.monitor;{const t=await this.createMonitor(e.name,e);return await this.variableMonitors.addAsync({ref:e,monitor:t}),t}},this.hideVariable=async e=>{const t=this.variableMonitors.find((({ref:t})=>e.equals(t)));t&&(t.monitor.delete(),await this.variableMonitors.removeAsync(t),await this.monitors.removeAsync(t.monitor))},this.Test=n.TestInfo.Instance,this.Math=n.MathInfo.Instance,this.Number=n.NumberClassInfo.Instance,this.Timer=n.TimerInfo.Instance,this.Terminal=n.TerminalInfo.Instance,this.Network=n.NetworkInfo.Instance,this.pointer=new n.ScoolcodePointer,this.PenShape=n.PenShapeInfo.Instance,this.HandGesture=n.GestureTypeInfo.Instance,this.BodyLandmark=n.BodyLandmarkInfo.Instance,this.HandLandmark=n.HandLandmarkInfo.Instance,this.VisionRecogniser=n.VisionRecogniserInfo.Instance,this.Position=n.PositionInfo.instanceFor(this),this.RotationStyle=n.RotationStyleInfo.Instance,this.CoordinateSystem=n.CoordinateSystemInfo.Instance,this.ConversationMode=n.ConversationModeInfo.Instance,this.CollisionShape=n.CollisionShapeInfo.Instance,this.Edge=n.EdgeInfo.Instance,this.Key=n.KeyInfo.Instance,this.physics=null,this.camera=new n.ScoolcodeCamera(this),this.MobileDevice=new n.MobileDevice(this),this.Vision=new n.Vision(this),this.Speech=new i.Speech(this),this._internal=n.InternalInfo.instanceFor(this),this.validateName=(e,t)=>!(0==e.length||this.getType().getProperty(e)||this.getType().getMethod(e)||!n.NameValidator.validateName(e,t)||this.signals.find((t=>t==e))||this.messages.find((t=>t==e))),this.startConversation=async(e,t)=>{if(!this.isStageRunning())return this.isStageInitializing()&&(this.props.answer="",n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"startConversation"))),!1;this.props.answer=await this.startConversationAsValue(e,t)},this.startConversationAsValue=async(e,t)=>{if(!this.isStageRunning())return this.isStageInitializing()&&n.ExecutionManager.Default.emitError(new n.RuntimeError(null,"CALLED_BEFORE_STARTED",null,"startConversationAsValue")),!1;const r=this.getVariables(t),i=this;return await n.SpriteManager.Default.ConversationProvider.start(e,t,r,((e,r)=>{const n=(e,t,r)=>!!e[t+".action"]&&(e[t]=r,!0);t&&n(t,e,r)||n(i,e,r)}),this.stage.broadcastData,this.stage.broadcastDataAndWait,this.stage.conversationMode)},this._uuid=c._uuidCounter++,n.Timer.Stage=this,this.stageTimer=n.Timer.Default.init(),c.Default||t||(c.Default=this,c.Default=new c(this),n.ScoolcodeActor.Default=void 0)}get name(){return"ScoolcodeStage"}get renderedWidth(){return this.props.renderedWidth}get renderedHeight(){return this.props.renderedHeight}setRenderSize(e,t){let r=!1;this.props.renderedWidth==e&&this.props.renderedWidthInited||(this.props.renderedWidth=e,this.props.renderedWidthInited=!0,r=!0),this.props.renderedHeight==t&&this.props.renderedHeightInited||(this.props.renderedHeight=t,this.props.renderedHeightInited=!0,r=!0),r&&this.onRenderSizeChangeRaw();for(const n of this.getScenes())n.stage&&n.stage.setRenderSize(e,t)}onRenderSizeChangeRaw(){this.actors.map((e=>{e.updateSpriteScale(!0,!0)}))}grammar(){const e=this.getType();return new n.Stage(e,...this.textures.map((e=>e.grammar())),...this.sounds.map((e=>e.grammar())),...this.imports.map((e=>e.declarationGrammar())),...this.records.map((e=>e.declarationGrammar())),...this.parts.map((e=>e.declarationGrammar())),...this.internal.type.fields.map((e=>e.declarationGrammar(this))),...this.internal.type.functions.filter((e=>!this.records.find((t=>t.name===e.name)))).map((e=>e.declarationGrammar(this))),...this.internal.type.userMethods.map((e=>e.declarationGrammar(this))),...this.eventHandlers.map((e=>e.grammar())),...this.actors.filter((e=>!e.isClone)).map((e=>e.grammar())),...this.internal.type.comments.map((e=>this[e.name].grammar())))}ownGrammar(){const e=this.getType();return new n.Stage(e,...this.textures.map((e=>e.grammar())),...this.sounds.map((e=>e.grammar())),...this.imports.map((e=>e.declarationGrammar())),...this.records.map((e=>e.declarationGrammar())),...this.internal.type.fields.filter((e=>!e.internal)).map((e=>e.declarationGrammar(this))),...this.internal.type.functions.filter((e=>!this.records.find((t=>t.name===e.name)))).map((e=>e.declarationGrammar(this))),...this.eventHandlers.filter((e=>!e.internal)).map((e=>e.grammar())),...this.internal.type.comments.map((e=>this[e.name].grammar())))}getScenes(){return this.textures.filter((e=>e instanceof n.ScoolcodeScene)).map((e=>e))}blockModel(){const e=new n.BlockProgramList(this.application),t=new n.BlockProgram(this,e);return t.children=[...this.eventHandlers.filter((e=>!e.internal)).map((e=>e.block(t))),...this.records.map((e=>e.block(t))),...this.internal.type.functions.filter((e=>!this.records.find((t=>t.name===e.name)))).map((e=>e.getAction(this).block(t))),...this.internal.type.fields.filter((e=>!e.getVariableAction(this).internal)).map((e=>e.getVariableAction(this).block(t))),...this.internal.type.comments.map((e=>this[e.name].block(t)))],e.children=[t,...this.actors.map((t=>t.blockModel(e))),...this.application.parts.map((t=>t.blockModel(e)))],e}get width(){return 1===this.scale?this.props.width:c.DefaultWidth}set width(e){this.props.width=e}get height(){return 1===this.scale?this.props.height:c.DefaultHeight}set height(e){this.props.height=e}get defaultHeight(){return c.DefaultHeight||0}get defaultWidth(){return c.DefaultWidth||0}set scale(e){this.props.scale=e}get scale(){return this.props.scale}get unitX(){return this.props.unitX}get unitY(){return this.props.unitY}get cloneLimit(){return this.props.cloneLimit}set cloneLimit(e){this.props.cloneLimit=e}get cloneCount(){return this._clones.length}get playerSpeed(){return this.props.playerSpeed}set playerSpeed(e){if([0,1,2,3,4].includes(e)){switch(this.props.playerSpeed=e,e){case 0:a(this,-1,-1);break;case 1:a(this,500,1);break;case 2:a(this,100,1);break;case 4:c.HasTurboSpeed?a(this,0,1):a(this,0,10);break;case 3:default:a(this,0,10)}this.dispatchPlayerSpeed(),this._insideSceneMode||n.SpriteManager.Default.updatePlayerSpeed(this,e)}}dispatchPlayerSpeed(){if(!this._insideSceneMode){const e=this.getScenes();for(const t of e)t.applyPlayerSpeed(this.props.playerSpeed)}}initUserName(e,t){if(this.username=e,this.alias=t,!this._insideSceneMode){const r=this.getScenes();for(const n of r)n.stage.initUserName(e,t)}}populateSignalsFromCode(){let e=[...this.eventHandlers.filter((e=>!e.internal&&e.event.parameters.find((e=>e.type===n.SignalsInfo.Type))))];for(let r of this.actors)r.metadata.hidden||e.push(...r.eventHandlers.filter((e=>!e.internal&&e.event.parameters.find((e=>e.type===n.SignalsInfo.Type)))));const t=[...new Set([...e.filter((e=>!e.internal&&e.parameters[0]instanceof n.ValueLiteralAction)).map((e=>e.parameters[0].value))])];this.signals.push(...t.filter((e=>!this.signals.includes(e))))}populateMessagesFromCode(){let e=[...this.eventHandlers.filter((e=>!e.internal&&e.event.parameters.find((e=>e.type===n.MessagesInfo.Type))))];for(let r of this.actors)r.metadata.hidden||e.push(...r.eventHandlers.filter((e=>!e.internal&&e.event.parameters.find((e=>e.type===n.MessagesInfo.Type)))));const t=[...new Set([...e.filter((e=>!e.internal&&e.parameters[0]instanceof n.ValueLiteralAction)).map((e=>e.parameters[0].value))])];this.messages.push(...t.filter((e=>!this.messages.includes(e))))}populateConversationsFromCode(){}populateListsFromCode(){this.populateSignalsFromCode(),this.populateMessagesFromCode(),this.populateConversationsFromCode()}get monitors(){return this._monitors}initMonitors(e){this._monitors=e}async hideActor(e){for(let t=this.collisions.length;t>=0;t--){const r=this.collisions[t];!r||r.actorA!=e&&r.actorB!=e||await this.collisions.removeAsync(r)}}static get defaultTexture(){return c._defaultTexture||(c._defaultTexture=new n.ScoolcodeBackdrop("__solidColor__","__solidColor__",!1,16777215)),c._defaultTexture}get defaultTextureId(){const e=this.textures.findIndex((e=>e.isDefault));return-1===e?0:e}set defaultTextureId(e){this.textures.forEach((e=>e.isDefault=!1)),(this.textures[e]||this.textures[0]).isDefault=!0,this.stage.requestSetup()}get stage(){return this}get texture(){return this.textures[this.props.textureId]||this.textures[0]}async setTextureInternal(e,t=!1){if(!(e instanceof n.ScoolcodeTexture))return;let r=!0;const i=this.textures.indexOf(e);return this.props.textureId!==i&&(this.texture instanceof n.ScoolcodeScene&&this.texture.unapply(this,"back"),this.props.textureId=i,r=await this.applyScene()),t||c.Type.OnSceneChanged.emit([e.name],this),r}set texture(e){this.setTextureInternal(e)}getAsTexture(e){if("string"===typeof e){let t=this[e];if(void 0==t){const t=Number(e);t>=0&&t<this.textures.length&&(e=t)}else e=t}else if("number"===typeof e){const t=Math.min(this.textures.length,Math.max(1,e))-1;t>-1&&(e=this.textures[t])}return e}getMissingBackdropCode(){return c.UseSimplePaths?"MISSING_BACKDROP":"INVALID_ARGUMENT"}get sceneName(){return this.texture?this.texture.name:""}get sceneId(){return this.texture?this.props.textureId+1:0}get scene(){return this.texture}set scene(e){this.texture!==e&&(this.texture instanceof n.ScoolcodeScene&&this.texture.unapply(this,"back"),this.texture=e)}get currentScreen(){return this.textures[this.props.screenId]}get currentScene(){return this.texture}set currentScene(e){this.texture!==e&&(this.texture instanceof n.ScoolcodeScene&&this.texture.unapply(this,"back"),this.texture=e)}async applyScene(e){this.texture.path;const t=await this.texture.apply(this,e);if(t&&t.length){for(const e of t)if(0==e)return this.texture.available=!1,!1;return this.texture.available=!0,!0}return!0}get actors(){return this._actors}get clones(){return this._clones}getActorByName(e){return this._actors.find((t=>t.name===e))||null}getActors(){return[...this._actors]}declareActor(e){const t=this.getType().declareActor(e).createInstance([{name:e,stage:this}]);return this.defineActor(t)}defineActor(e){return this[e.name]=e,this.addActor(e),e}async addActor(e){this.actors.push(e),await this.spriteManager.registerActor(e)}declareRecord(e){this.getType().declareRecord(e),this.records.push(e)}defineRecord(e){const t=this.getType().getMethod(e).returnType;this[t.name]=(...e)=>t.createInstance(e)}declareModule(e,t){this.imports.push(t),this.getType().declareModule(e,t)}defineModule(e,t){this[e]=t}async resetActorList(){c._cloneUuid=0,await this.deleteAllClonesOf(null),this.actors.map((e=>e.deleteAllClonesEnforced()))}async resetVariables(e=!1){var t;if(this.textures.length&&!e){if(this.textures.length>0&&this.textures.length>this.defaultTextureId){const e=this.textures[this.defaultTextureId];e==this.texture&&(null===(t=null===e||void 0===e?void 0:e.cache)||void 0===t?void 0:t.isDefault)&&e.cache.isDefault&&(e.available=!1,c.warnMissingAsset("MISSING_BACKDROP",e))}this.setScene(this.defaultTextureId+1,!0)}this.parts.length&&this.parts.map((e=>e.resetVariables()));const r=this.internal.manager.sub(!0),n={environment:this.internal,scope:this,manager:r};for(let{name:i}of this.internal.type.fields)this[i]=await this[i+".action"].executor(null)(n);this.internal.manager.remove(r),await Promise.all(this.actors.map((e=>e.resetVariables())))}async resetStage(){if(this.props.screenId>-1){const e=this.textures[this.props.screenId];e&&e instanceof n.ScoolcodeScene&&e.completeScene(),this.closeScreen(!0)}this.forMonitorsExceptMousePos("stop"),this.resetFlag=!0,this.stageTimer.resolveAll(),this.resetFlag=!1}async toggleMuteAllSounds(){await n.SpriteManager.Default.toggleMuteAllSounds(this)}get soundsMuted(){return this._soundsMuted}set soundsMuted(e){this._soundsMuted=e}getAssetPaths(){const e=this.sounds.map((e=>({name:e.name,path:e.path,kind:"sound",asset:e}))),t=[];this.textures.map((e=>{if(e instanceof n.ScoolcodeParallax){const r=e.layers.map((e=>({name:e.path,path:e.path,kind:"parallax",asset:e})));t.push(...r)}else e instanceof n.ScoolcodeScene||t.push({name:e.name,path:e.path,kind:"backdrop",asset:e})}));const r=[];return this.actors.map((e=>{r.push(...e.getAssetPaths())})),[...e,...t,...r]}getMissingAssets(){const e=[...this.sounds.filter((e=>!e.available)).map((e=>({name:e.name,path:e.path,kind:"sound",asset:e}))),...this.textures.filter((e=>!(e instanceof n.ScoolcodeScene)&&!e.available)).map((e=>({name:e.name,path:e.path,kind:e instanceof n.ScoolcodeParallax?"parallax":"backdrop",asset:e})))];return this.actors.map((t=>{e.push(...t.getMissingAssets())})),e}isStageNotRunning(){return[s.Stopped,s.WaitingToStart,s.Preparing].includes(this.playerStatus)}isStageInitializing(){return this.playerStatus==s.Initializing}isStagePreparing(){return this.playerStatus==s.Preparing&&this.setupEmitted}isStageRunning(){return this.playerStatus==s.Running}isStageStopped(){return[s.Stopped,s.Stopping].includes(this.playerStatus)}playLiveCostumes(){this.actors.map((e=>{e.texture&&e.texture.sprite&&e.texture.isLiveTexture&&e.texture.play()}))}pauseLiveCostumes(){this.texture&&this.texture.isLiveTexture&&this.texture.stop(),this.actors.map((e=>{e.texture&&e.texture.sprite&&e.texture.isLiveTexture&&e.texture.stop()}))}resumeLiveCostumes(){this.texture&&this.texture.isLiveTexture&&this.texture.play(),this.actors.map((e=>{e.texture&&e.texture.sprite&&e.texture.isLiveTexture&&e.texture.play()}))}async forMonitorsExceptMousePos(e){this.monitors.every((async t=>{null!=this.mousePosMonitor&&t.id==this.mousePosMonitor.id||t[e]()}))}async refreshMonitorsPosition(){this.forMonitorsExceptMousePos("refreshPosition")}async hideMousePosition(){this.mousePosMonitor?(await this.monitors.removeAsync(this.mousePosMonitor),this.mousePosMonitor.delete(),this.mousePosMonitor=void 0):this.mousePosMonitor=void 0}async mousePositionVisible(e){e&&!this.mousePosMonitor?await this.showMousePosition():!e&&this.mousePosMonitor&&await this.hideMousePosition()}async showMousePosition(){this.mousePosMonitor=await this.createMonitor("",(async()=>{let e={x:this.pointer.transformedPointerX,y:this.pointer.transformedPointerY},t={x:this.pointer.pointerX,y:this.pointer.pointerY};return this.mousePosMonitor&&(this.mousePosMonitor.setPosition(t.x+this.mousePosMonitor.fontSize,t.y),this.mousePosMonitor.keepOnScreen=!0),`${e.x.toFixed(0)} | ${e.y.toFixed(0)}`}))}setPointerPosition(e){if(this.isStageRunning()){e?(this.pointer.rawX=e.x,this.pointer.rawY=e.y):e={x:this.pointer.rawX,y:this.pointer.rawY},[this.pointer.pointerX,this.pointer.pointerY]=this.camera.coordinateTransformationDefaultDeviceToRelative(e.x,e.y);const[t,r]=this.camera.coordinateTransformationRelativeToDevice(this.pointer.pointerX,this.pointer.pointerY);[this.pointer.transformedPointerX,this.pointer.transformedPointerY]=this.camera.coordinateTransformationDeviceToStage(t,r)}}setHoverExclusive(e){if(this.isStageRunning())for(const t of[...this.actors,...this.clones])t==e?t.setHover(!0):t.setHover(!1,!1)}get answer(){return+this.props.answer===+this.props.answer?+this.props.answer:this.props.answer}get coordinateSystem(){return this.props.coordinateSystem}set coordinateSystem(e){switch(this.props.coordinateSystem=e,e){case"topLeft":this.props.unitX=1,this.props.unitY=1;break;case"bottomLeft":this.props.unitX=1,this.props.unitY=-1;break;case"bottomRight":this.props.unitX=-1,this.props.unitY=-1;break;case"topRight":this.props.unitX=-1,this.props.unitY=1;break;case"center":case"polar":this.props.unitX=1,this.props.unitY=-1}this.camera.coordinateSystemChanged(),this.textures&&this.textures.filter((e=>e instanceof n.ScoolcodeScene)).forEach((t=>{t.stage.coordinateSystem=e}))}get conversationMode(){return this.props.conversationMode}set conversationMode(e){switch(e){case"center":case"centerBubble":case"centerBubbleOptions":case"bottom":case"bottomScaled":this.props.conversationMode=e;break;default:this.props.conversationMode="bottom"}}async deleteMonitor(e){const t="string"===typeof e?this.monitors.find((t=>t.name===e)):e;t&&(t.delete(),await this.monitors.removeAsync(t))}get Pointer(){return this.pointer}get Date(){return n.DateInfo.Instance}toString(){return"[Stage]"}defineUserFunction(e){this[e.method.name]=function(){return e.execute.apply(e,arguments)},this[e.method.name].action=e,e.apply(this,this)}removeUserFunction(e){delete this[e.method.name],e.remove()}processMessageEvent(e){if(!e.internal)for(let t of e.event.parameters)if(t.type===n.SignalsInfo.Type||t.type===n.MessagesInfo.Type){this.stage.populateListsFromCode();break}}defineEventHandler(e){e.apply(this,this),this.eventHandlers.push(e),this.processMessageEvent(e)}removeEventHandler(e){e.remove();const t=this.eventHandlers.indexOf(e);-1!==t&&(this.processMessageEvent(e),this.eventHandlers.splice(t,1))}getVariables(e){const t={},r=n.VariablesInfo.Type.getVariables(e),i=(e,r)=>{if(e[r+".action"]){const n=e[r];return t[r]=n,!0}return!1};for(const n of r){const t=n[0];e&&i(e,t)||i(this,t)}return t}static warnMissingAsset(e,t,r,i){const{path:o,name:a}=t;let s=o;if(c.UseSimplePaths)if(a)s=a;else{const e=o.lastIndexOf("/");e>-1&&(s=o.substring(e+1,o.length))}else r&&(s=`${i?i+".":""}${r}(${o})`);n.ExecutionManager.Default.runtimeWarning(new n.RuntimeError(null,e,null,s))}}t.ScoolcodeStage=c,c.Type=(l.DefaultImplementation=c,new l),c.DefaultWidth=640,c.DefaultHeight=360,c.DefaultScale=1,c.DefaultRenderRatio=.125,c.DefaultCoordinateSystem="center",c.DefaultConversationMode="bottom",c.DefaultPlayerSpeed=-1,c.HasTurboSpeed=!0,c.UseSimplePaths=!0,c.instanceFactory=(e,t)=>{o(t[0],"You must provide an internal stage in create a stage.");const r=new c(t[0]);return r.internal.type=e,r},c._uuidCounter=0,c._cloneUuid=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeStagePart=t.ScoolcodeStagePartInfo=void 0;const n=r(2),i=r(104);class o extends n.ScoolcodeStageInfo{constructor(e,t){super(e||"ScoolcodeStagePart",n.ScoolcodeObjectBase.Type,t)}addUserField(e,t,r,i,o=null,a=!1){const s=this.declareUserField(t,i,a);e[t]=0,e[t+".action"]=new n.DefineGlobalVariableAction(s,r,a),e[t+".action"].position=o}addComment(e,t){const r=this.declareComment();t.setName(r.name),e[r.name]=t}removeComment(e,t){delete e[t.name],this.deleteComment(t.name)}addPart(e,t){return-1==e.parts.indexOf(t)&&(e.parts.push(t),e[t.name]=t),t}removePart(e,t){const r=e.parts.indexOf(t);r>-1&&(e.parts.splice(r,1),delete e[t.name])}}t.ScoolcodeStagePartInfo=o;class a extends n.ScoolcodeObjectBase{constructor(e,t,r,i){super(new o(t,a),e),this.parts=[],this.records=[],this.imports=[],this.getType=()=>this.internal.type,this.defineUserFunction=e=>{this[e.method.name]=function(){return e.execute.apply(e,arguments)},this[e.method.name].action=e,e.apply(this.wrappedStage,this.proxy)},this.removeUserFunction=e=>{this[e.method.name]?(delete this[e.method.name],e.remove()):this.wrappedStage.removeUserFunction(e)},this.validateName=(e,t)=>!(0==e.length||this.getType().getProperty(e)||this.getType().getMethod(e)||!n.NameValidator.validateName(e,t)||void 0!=this[e]),this.defineEventHandler=e=>{e.apply(this.wrappedStage.stage,this.proxy),this.eventHandlers.push(e),this.wrappedStage.stage.processMessageEvent(e)},this.wrappedStage=e,this.name=t,this.path=r&&"string"===typeof r?r:void 0,this.language=i;const s=this;this.proxy=new Proxy(e.stage,{get:(e,t)=>s.hasMember(t)?s[t]:e[t],set:(e,t,r)=>(s.hasMember(t)?s[t]=r:e[t]=r,!0)})}grammar(){const e=this.getType();return new n.StagePart(e,this.name,this.path,this.language,...this.imports.map((e=>e.declarationGrammar())),...this.records.map((e=>e.declarationGrammar())),...this.parts.map((e=>e.declarationGrammar())),...this.internal.type.fields.map((e=>e.declarationGrammar(this))),...this.internal.type.functions.map((e=>e.declarationGrammar(this))),...this.internal.type.userMethods.map((e=>e.declarationGrammar(this))),...this.eventHandlers.map((e=>e.grammar())),...this.internal.type.comments.map((e=>this[e.name].grammar())))}ownGrammar(){const e=this.getType();return new n.StagePart(e,this.name,this.path,this.language,...this.imports.map((e=>e.declarationGrammar())),...this.records.map((e=>e.declarationGrammar())),...this.internal.type.fields.map((e=>e.declarationGrammar(this))),...this.internal.type.functions.map((e=>e.declarationGrammar(this))),...this.internal.type.userMethods.map((e=>e.declarationGrammar(this))),...this.eventHandlers.map((e=>e.grammar())),...this.internal.type.comments.map((e=>this[e.name].grammar())))}declarationGrammar(){return new n.UseDeclaration(this.name,this.path)}blockModel(e){const t=new n.BlockProgram(this,e);return t.children=[...this.eventHandlers.filter((e=>!e.internal)).map((e=>e.block(t))),...this.records.map((e=>e.block(t))),...this.internal.type.functions.map((e=>e.getAction(this).block(t))),...this.internal.type.fields.filter((e=>!e.getVariableAction(this).internal)).map((e=>e.getVariableAction(this).block(t))),...this.internal.type.comments.map((e=>this[e.name].block(t)))],t}async resetVariables(){const e=this.internal.manager.sub(!0),t={environment:this.internal,scope:this,manager:e};this.parts.length&&this.parts.map((e=>e.resetVariables()));for(let{name:r}of this.internal.type.fields)this[r]=await this[r+".action"].executor(null)(t);this.internal.manager.remove(e)}startManager(){this.internal.manager.start();for(let e of this.parts)e.startManager()}stopManager(){this.internal.manager.stop();for(let e of this.parts)e.stopManager()}removeEventHandler(e){e.remove();const t=this.eventHandlers.indexOf(e);-1!==t&&(this.wrappedStage.stage.processMessageEvent(e),this.eventHandlers.splice(t,1))}declareRecord(e){this.getType().declareRecord(e),this.records.push(e)}defineRecord(e){const t=this.getType().getMethod(e).returnType;this[t.name]=(...e)=>t.createInstance(e)}declareModule(e,t){this.imports.push(t),this.getType().declareModule(e,t)}defineModule(e,t){this[e]=t}hasMember(e){return e in this||!!this.getType().fields.find((t=>t.name===e))}get stage(){return this.wrappedStage.stage}clone(e){const t=this.getType(),r=t.createInstance([e,this.name]);e[this.name]=r,e.parts.find((e=>e.name===r.name))||e.parts.push(r);for(let i of t.userMethods){const e=this[i.name].action,t=new n.DefineFunctionAction(i,e.actionList);r[i.name]=function(){return t.execute.apply(t,arguments)},r[i.name].action=t,t.apply(this.wrappedStage.stage,r.proxy)}r.eventHandlers=this.eventHandlers.map((e=>{const t=new n.EventHandlerAction(e.event,e.parameters,e.actionList);return t.apply(e.event.declaringType instanceof n.ScoolcodeStageInfo?r:this.wrappedStage,r.proxy),t}));for(let i of t.fields){const e=this[i.name];r[i.name]=e,r[i.name+".action"]=new n.DefineGlobalVariableAction(i,e,i.internal)}return r.records=this.records,r}}t.ScoolcodeStagePart=a,a.Type=new o("ScoolcodeStagePart",a),a.instanceFactory=(e,t)=>{i(t[0],"You must provide a wrapped stage in create a part."),i(t[1],"You must provide a name in create a part.");const r=new a(t[0],t[1],t[2]);return r.internal.type=e,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeApplication=t.ScoolcodeApplicationInfo=void 0;const n=r(2);class i extends n.ScoolcodeObjectInfoBase{constructor(e){super("ScoolcodeApplication",n.ScoolcodeObjectBase.Type,e),this.declareReadOnlyProperty("stages",n.ValueType.Array)}}t.ScoolcodeApplicationInfo=i;class o extends n.ScoolcodeObjectBase{constructor(e,t=[]){super(o.Type,null),this.getType=()=>this.internal.type,this.stages=[],this.parts=[],this.scenes=[],this.extensions=[],this.start=async()=>this.stage.start(),this.pause=async()=>this.stage.pause(),this.stop=async()=>this.stage.stop(),this.stages=e,this.extensions=t;for(let r of e)r.application=this}addStage(e){this.stages.push(e),e.application=this}grammar(){return new n.Application(this.getType(),this.stages.map((e=>e.grammar())),this.parts.filter((e=>!e.path)).map((e=>e.grammar())),[])}ownGrammar(){return new n.Application(this.getType(),this.stages.map((e=>e.ownGrammar())),this.parts.filter((e=>!e.path)).map((e=>e.ownGrammar())),[])}get stage(){return this.stages[0]}get genericActor(){let e=this.parts.find((e=>"GenericActor"===e.name));return e?e.wrappedActor:new n.ScoolcodeActor({name:"GenericActor",stage:this.stage})}hasPartsOrScenes(){if(this.parts.length||this.scenes.length||this.stages.length>1)return!0;if(this.stage.parts.length||this.stage.getScenes().length)return!0;for(const e of this.stage.actors)if(e.parts.length)return!0;return!1}hasParts(){if(this.parts.length)return!0;if(this.stage.parts.length)return!0;for(const e of this.stage.actors)if(e.parts.length)return!0;return!1}}t.ScoolcodeApplication=o,o.Type=new i(o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallFunctionAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e,t,r){super(),this.functionName=e,this._parameters=t,this.embedded=r}get parameters(){return this._parameters}executor(){const e=this,t=this.parameters.map((e=>e.executor(null)));return async r=>{if(" "===e.functionName)return void(n.RuntimeEnvironment.features.isStrictRuntimeChecking&&n.RuntimeEnvironment.error(r.environment.actionListScope,"UNSELECTED_FUNCTION",e.codeRange));const i=e.instance?e.instance[e.functionName]:await r.environment.getIdentifierReference(e.functionName);if(i&&"function"===typeof i.value){const a=[];for(let e of t)a.push(await e(r));try{return await n.Timer.Default.delay(n.ExecutionManager.loopDelay),await i.value(...a)}catch(o){if(!(o instanceof n.ControlFlowException))throw o;switch(o.command){case n.ControlFlowCommand.Return:return o.value;case n.ControlFlowCommand.Deactivate:case n.ControlFlowCommand.Terminate:throw o;default:n.RuntimeEnvironment.error(r.environment.actionListScope,"FUNCTION_BOUNDARY",e.codeRange)}}}else n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_FUNCTION",e.codeRange,e.functionName)}}grammar(){return new n.CallFunctionExpression(this.functionName,this.parameters.map((e=>e.grammar())),this.embedded)}block(e){return n.BlockInstance.for(this.embedded?i.EmbeddedDefinition():i.Definition(),this,e).parameter("name",this,"functionName").parameterList(this.parameters,((e,t,r)=>e.parameter("parameters",t,r))).updateParts()}}t.CallFunctionAction=i,i.Definition=()=>new n.BlockDefinition("call {name} with parameters: {parameters}",[new n.BlockParameterInfo("name",n.FunctionNamesInfo.Type),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.callFunctionWithParameters"),i.EmbeddedDefinition=()=>new n.BlockDefinition("call {name} with parameters: {parameters}",[new n.BlockParameterInfo("name",n.FunctionNamesInfo.Type),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Cherry},"expressions.callFunctionWithParameters")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallExpressionAction=void 0;const n=r(2),i=async(e,t)=>{const r=t&&t.environtment?t.environment.actionListScope:null;try{return await n.Timer.Default.delay(n.ExecutionManager.defaultLoopDelay),await e()}catch(i){if(!(i instanceof n.ControlFlowException))throw i;switch(i.command){case n.ControlFlowCommand.Return:return i.value;case n.ControlFlowCommand.Deactivate:case n.ControlFlowCommand.Terminate:throw i;default:n.RuntimeEnvironment.error(r,"FUNCTION_BOUNDARY")}}};class o extends n.ActionBase{constructor(e,t){super(),this.action=e,this._parameters=t}get parameters(){return this._parameters}executor(e){const t=this.action.executor(null===e||void 0===e?this.instance:e),r=this.parameters.map((e=>e.executor(null)));if(0==this.parameters.length)return async e=>i((async()=>(await t(e))()),e);if(1==this.parameters.length){const e=r[0];return async r=>i((async()=>(await t(r))(await e(r))),r)}if(2==this.parameters.length){const e=r[0],n=r[1];return async r=>i((async()=>(await t(r))(await e(r),await n(r))),r)}return async e=>{const n=[];for(let t of r)n.push(await t(e));return i((async()=>(await t(e))(...n)),e)}}grammarNoAwait(){return new n.CallExpression(this.action.grammar(),this.parameters.map((e=>e.grammar())))}grammar(){const e=new n.CallExpression(this.action.grammar(),this.parameters.map((e=>e.grammar())));return new n.AwaitExpression(e)}block(e){return this.parameters.length?n.BlockInstance.for(o.Definition(),this,e).parameter("action",this).parameterList(this.parameters,((e,t,r)=>e.parameter("parameters",t,r))).updateParts():n.BlockInstance.for(o.NoParametersDefinition(),this,e).parameter("action",this).updateParts()}}t.CallExpressionAction=o,o.NoParametersDefinition=()=>new n.BlockDefinition("call {action}",[new n.BlockParameterInfo("action",n.ValueType.Any)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Operators},"expressions.call"),o.Definition=()=>new n.BlockDefinition("call {action} with parameters: {parameters}",[new n.BlockParameterInfo("action",n.ValueType.Any),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Operators},"expressions.callWithParameters")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallMethodAction=void 0;const n=r(2),i=n.runtimeEnv&&"test"===n.runtimeEnv.NODE_ENV,o=async(e,t)=>{const r=t&&t.environtment?t.environment.actionListScope:null;try{return await n.Timer.Default.delay(n.ExecutionManager.defaultLoopDelay),await e()}catch(i){if(!(i instanceof n.ControlFlowException))throw i;switch(i.command){case n.ControlFlowCommand.Return:return i.value;case n.ControlFlowCommand.Deactivate:case n.ControlFlowCommand.Terminate:throw i;default:n.RuntimeEnvironment.error(r,"FUNCTION_BOUNDARY")}}};class a extends n.DeclarationOrAction{constructor(e,t=[],r=!1,n=!1){if(super(),!e)throw new Error("Method is required");this.method=e,this._parameters=t,this.maySimplifyBlock=r,this.embedded=n}get parameters(){return this._parameters}executor(e){const t=n.CallAliasingRuleManager.findForMethod(this.method,this.language,e),r=t?t.alias:this.method.name,a=this.parameters.map((e=>e.executor(null))),s=this;e=null===e||void 0===e?this.instance:e;const l=(e,t)=>{var r;if(void 0===e[t]){if(e&&e.options&&!0===e.options.externalModule)return!0;if(n.RuntimeEnvironment.features.isStrictRuntimeChecking){let i=t,o=e.name;!o&&e.action&&(o=e.action.name||e.action.localeName),o?i=o+"."+t:(""+e).length<40&&(i="object"!==typeof e?`${e} (${typeof e}).${t}`:e+"."+t),n.RuntimeEnvironment.error(e&&(null===(r=null===e||void 0===e?void 0:e.environment)||void 0===r?void 0:r.actionListScope)?e.environment.actionListScope:null,"INVALID_FUNCTION",s.codeRange,i)}return!1}return!0},c=e=>{throw e};if(null!==e&&void 0!==e){if(i){const t={target:this,range:this.codeRange};return async i=>{const s=[];for(let e of a)s.push(await e(i));return o((()=>{if(l(e,r))try{const i="object"===typeof e?new Proxy(e,{get:(e,r,i)=>r===n.SCOOLCODE_RUNTIME_SYMBOL?t:Reflect.get(e,r,i)}):e;return e[r].apply(i,s)}catch(i){c(i)}}),i)}}if(0==this.parameters.length)return()=>o((()=>{if(l(e,r))try{return e[r]()}catch(t){c(t)}}),e);if(1==this.parameters.length){const t=a[0];return async n=>o((async()=>{if(l(e,r))try{return e[r](await t(n))}catch(i){c(i)}}),n)}if(2==this.parameters.length){const t=a[0],n=a[1];return async i=>o((async()=>{if(l(e,r))try{return e[r](await t(i),await n(i))}catch(o){c(o)}}),i)}return async t=>{const n=[];for(let e of a)n.push(await e(t));return o((()=>{if(l(e,r))try{return e[r](...n)}catch(t){c(t)}}),t)}}if(0==this.parameters.length)return e=>o((async()=>{if(l(e.scope,r))return e.scope[r]()}),e);if(1==this.parameters.length){const e=a[0];return async t=>o((async()=>{if(l(t.scope,r))return t.scope[r](await e(t))}),t)}if(2==this.parameters.length){const e=a[0],t=a[1];return async n=>o((async()=>{if(l(n.scope,r))return n.scope[r](await e(n),await t(n))}),n)}return async e=>{const t=[];for(let r of a)t.push(await r(e));return o((async()=>{if(l(e.scope,r))return e.scope[r](...t)}),e)}}grammarNoAwait(){return new n.CallMethodExpression(this.method,this.parameters.map((e=>e.grammar())),this.embedded,this.method.declaringType?this.method.declaringType.name:null)}grammar(){const e=new n.CallMethodExpression(this.method,this.parameters.map((e=>e.grammar())),this.embedded,this.method.declaringType?this.method.declaringType.name:null);return this.method.promise?new n.AwaitExpression(e):e}block(e){if(this.method.blockType)return new this.method.blockType(this,e);if(this.method.blockDefinition){const t=n.BlockInstance.for(this.method.getBlockForParams(this.parameters.length).clone(),this,e);return t.parameters=n.BlockInstance.bindParameters(t,this.parameters),t.updateParts(),t}return n.BlockInstance.for(this.embedded?a.EmbeddedDefinition():a.Definition(),this,e).parameter("name",this,"method").parameterList(this.parameters,((e,t,r)=>e.parameter("parameters",t,r))).updateParts()}}t.CallMethodAction=a,a.WithoutParametersDefinition=()=>new n.BlockDefinition("call {name}",[new n.BlockParameterInfo("name",n.FunctionsInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.callMethod"),a.Definition=()=>new n.BlockDefinition("call {name} with parameters: {parameters}",[new n.BlockParameterInfo("name",n.FunctionsInfo.Type),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.callMethodWithParameters"),a.EmbeddedDefinition=()=>new n.BlockDefinition("call {name} with parameters: {parameters}",[new n.BlockParameterInfo("name",n.FunctionsInfo.Type),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Cherry},"expressions.callMethodWithParameters")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteAsAction=void 0;const n=r(2),i=r(137);class o extends n.ActionBase{constructor(e,t,r=!1){super(),this.scope=e,this.action=t,this.embedded=r}executor(){if(!this.scope){const e=this;return async t=>{const r=e.action instanceof n.CallMethodAction?e.action.method.publicName:e.action.description();n.RuntimeEnvironment.error(t.environment.actionListScope,"INVALID_FUNCTION_SCOPE",e.codeRange,"",r)}}const e=this.scope.executor(null),t=this;return async r=>{const i=await e(r),o="undefined"===typeof i?r.scope:i;try{if("undefined"===typeof o||null==o||!o&&0!==o&&""!==o||o instanceof n.ScoolcodeActor&&o.disposed){const e=t.action instanceof n.CallMethodAction?t.action.method.publicName:t.action.description();n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_FUNCTION_SCOPE",t.codeRange,o,e)}return await t.action.executor(o)(r)}catch(a){if(!(a instanceof n.ControlFlowException))throw a;switch(a.command){case n.ControlFlowCommand.Return:return a.value;case n.ControlFlowCommand.Deactivate:case n.ControlFlowCommand.Terminate:throw a;default:n.RuntimeEnvironment.error(r.environment.actionListScope,"FUNCTION_BOUNDARY",t.codeRange)}}}}grammar(){return this.action instanceof n.CallMethodAction&&this.action.method.promise?new n.AwaitExpression(new n.DotExpression(this.scope?this.scope.grammar():new n.UndefinedLiteral(void 0),this.action.grammarNoAwait(),"as",this.embedded)):new n.DotExpression(this.scope?this.scope.grammar():new n.UndefinedLiteral(void 0),this.action.grammar(),"as",this.embedded)}decideEmbedded(e){return e&&(e.hasBottomConnector=!this.embedded,e.hasTopConnector=!this.embedded),e}block(e){var t,r;if(this.scope instanceof n.ReadPropertyAction&&this.scope.property.valueType instanceof n.ScoolcodeBuiltInObjectInfoBase&&!(this.scope.property.valueType instanceof n.ScoolcodeEnumInfoBase)){const t=this.action.block(e);return t.action=this,t.parameter("this",this,"scope").updateParts()}if(this.action instanceof n.CallMethodAction&&this.action.method.declaringType&&(this.action.method.declaringType instanceof n.ValueTypeInfoBase||this.action.method.declaringType.thisType&&this.action.method.declaringType.thisType.valueType&&!(this.action.method.declaringType.thisType.valueType instanceof n.ScoolcodeActorInfo))){const t=this.action.block(e);return t.action=this,t.parameter("this",this,"scope").updateParts()}if((this.scope instanceof n.ReadPropertyAction||this.scope instanceof n.ReadVariableAction||this.scope instanceof n.ReadStageAction)&&this.action instanceof i.CreateRecordAction)return n.BlockInstance.for(this.decideEmbedded(o.CallMethodCreateRecordDefinition()),this,e).parameter("name",this.action.method).parameter("scope",this).parameterList(this.action.parameters,((e,t,r)=>e.parameter("parameters",t,(r+this.parameters.length-1)%this.parameters.length))).updateParts();if(this.scope instanceof n.ReadPropertyAction&&this.scope.property.valueType instanceof n.ScoolcodeActorPartInfo)return n.BlockInstance.for(this.decideEmbedded(o.ActorPartDefinition()),this,e).embedBlock("name",this.action.block(e)).parameter("partName",this.scope.property,"name").updateParts();if(this.scope instanceof n.ReadPropertyAction&&this.scope.property.valueType instanceof n.ScoolcodeActorInfo&&this.scope.property.valueType.name===this.scope.property.name&&this.scope.property.declaringType instanceof n.ScoolcodeStageInfo)return this.action instanceof n.CallMethodAction&&(this.action.maySimplifyBlock=!0),n.BlockInstance.for(this.decideEmbedded(this.action instanceof n.CallMethodAction?o.ActorMethodDefinition():o.ActorDefinition()),this,e).embedBlock("name",this.action.block(e)).parameter("scope",this).updateParts();if((this.scope instanceof n.ReadVariableAction||this.scope instanceof n.ReadStageAction)&&this.action instanceof n.CallMethodAction)return n.BlockInstance.for(this.decideEmbedded(o.Definition()),this,e).embedBlock("action",this.action.block(e)).parameter("scope",this).updateParts();if(this.action instanceof n.CallMethodAction&&!this.action.method.blockDefinition&&!this.action.method.blockType){if(this.action.method.parameters.length||this.action.parameters.length)return n.BlockInstance.for(this.decideEmbedded(o.CallMethodWithParametersDefinition()),this,e).parameter("name",this.action.method).parameter("scope",this).parameterList(this.action.parameters,((e,t,r)=>e.parameter("parameters",t,r))).updateParts();if(this.scope instanceof n.ReadPropertyAction&&(null===(t=this.scope)||void 0===t?void 0:t.valueType)instanceof n.ScoolcodeEnumInfoBase)return n.BlockInstance.for(o.PositionDefinition(),this,e).parameter("action",this,void 0,!1).updateParts();{const t=n.BlockInstance.for(this.decideEmbedded(o.CallMethodDefinition()),this,e).parameter("name",this.action.method).parameter("scope",this).updateParts();return(this.embedded||e&&e.typeRef.includes("BlockInstanceList")&&t&&t.definition)&&(t.definition.hasTopConnector=!0,t.definition.hasBottomConnector=!0),t}}if(this.scope instanceof n.ReadPropertyAction&&(null===(r=this.scope)||void 0===r?void 0:r.valueType)instanceof n.ScoolcodeEnumInfoBase)return n.BlockInstance.for(o.PositionDefinition(),this,e).parameter("action",this,void 0,!1).updateParts();{const t=n.BlockInstance.for(this.decideEmbedded(o.Definition()),this,e).embedBlock("action",this.action.block(e)).parameter("scope",this).updateParts();return(this.embedded||e&&"BlockInstanceList"===e.typeRef&&t&&t.definition)&&(t.definition.hasTopConnector=!0,t.definition.hasBottomConnector=!0),t}}get parameters(){return this.action?this.action.parameters:[]}}t.ExecuteAsAction=o,o.Definition=()=>new n.BlockDefinition("{action} as {scope}",[new n.BlockParameterInfo("action",n.ValueType.Any),new n.BlockParameterInfo("scope",n.ValueType.Any)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.executeAs"),o.CallMethodWithParametersDefinition=()=>new n.BlockDefinition("call {name} on {scope} with parameters: {parameters}",[new n.BlockParameterInfo("name",n.FunctionsInfo.Type),new n.BlockParameterInfo("scope",n.ValueType.Any),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.expressions.executeAs.callWithParameters"),o.CallMethodCreateRecordDefinition=()=>new n.BlockDefinition("create {name} record on {scope} with parameters: {parameters}",[new n.BlockParameterInfo("name",n.RecordsInfo.Type,!1,null,null,!1),new n.BlockParameterInfo("scope",n.ValueType.Any),new n.BlockParameterInfo("parameters",n.ValueType.Any,!0,null,null,!0,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.expressions.executeAs.createRecord"),o.CallMethodDefinition=()=>new n.BlockDefinition("call {name} on {scope}",[new n.BlockParameterInfo("name",n.FunctionsInfo.Type),new n.BlockParameterInfo("scope",n.ValueType.Any)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.executeAs.call"),o.ActorDefinition=()=>new n.BlockDefinition("call {name} on {scope}",[new n.BlockParameterInfo("name",n.ActorPropertiesInfo.Type),new n.BlockParameterInfo("scope",n.ActorsInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.executeAs.call"),o.ActorMethodDefinition=()=>new n.BlockDefinition("{name} on {scope}",[new n.BlockParameterInfo("name",n.ActorPropertiesInfo.Type),new n.BlockParameterInfo("scope",n.ActorsInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry},"expressions.executeAs.callMethod"),o.ActorPartDefinition=()=>new n.BlockDefinition("[partName]: {name}",[new n.BlockParameterInfo("name",n.ActorPropertiesInfo.Type),new n.BlockParameterInfo("partName",n.ValueType.String)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Cherry}),o.PositionDefinition=()=>new n.BlockDefinition("{action}",[new n.BlockParameterInfo("action",n.PositionInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"expressions.enumValue")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteOfAction=void 0;const n=r(2);class i extends n.UpdatableAction{constructor(e,t){super(),this.scope=e,this.action=t}executor(){const e=this.scope.executor(null),t=this;return async r=>{const i=await e(r),o="undefined"===typeof i?r.scope:i;return("undefined"===typeof o||null==o||!o&&0!==o&&""!==o||o instanceof n.ScoolcodeActor&&o.disposed)&&n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_PROPERTY_ACCESS",t.codeRange,o,t.action.description()),t.action.getter?await t.action.getter(o)(r):t.action instanceof n.LiteralAction?t.action.value:t.action instanceof n.CallMethodAction?await t.action.executor(o)(r):void n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_PROPERTY_ACCESS",t.codeRange,o,t.action.description())}}setter(){const e=this.scope.executor(null),t=this;return async(r,n)=>{const i=await e(r);return null===i||void 0===i?null:await t.action.setter(i)(r,n)}}grammar(){return new n.DotExpression(this.scope.grammar(),this.action.grammar(),"of")}get name(){return this.scope instanceof n.ReadPropertyAction&&this.action instanceof n.ReadPropertyAction&&this.scope.property.valueType instanceof n.ScoolcodeBuiltInObjectInfoBase&&!(this.scope.property.valueType instanceof n.ScoolcodeEnumInfoBase)?this.scope.property.valueType instanceof n.ScoolcodeRecordInfo?this.scope.property.name:this.action.name:this.scope instanceof n.ReadVariableAction&&this.action instanceof n.ReadPropertyAction&&this.action.property.declaringType&&this.action.property.declaringType instanceof n.ScoolcodeRecordInfo?this.scope.name:""}set name(e){this.action instanceof n.ReadPropertyAction&&(this.action.name=e)}setPropertyKey(e,t){var r,i;"scope"===e&&t instanceof n.ReadPropertyAction&&t.valueType instanceof n.ScoolcodeActorInfo&&this.action instanceof n.ReadPropertyAction&&(null===(i=null===(r=this.action)||void 0===r?void 0:r.property)||void 0===i?void 0:i.declaringType)&&this.action.property.declaringType instanceof n.ScoolcodeActorInfo&&this.action.property.declaringType.setDeclaringName(t.name),this[e]=t}get unit(){return this.action instanceof n.ReadPropertyAction?this.action.unit:""}get blockColor(){return this.action instanceof n.ReadPropertyAction?this.action.blockColor:null}get valueType(){return this.scope instanceof n.ReadPropertyAction&&this.action instanceof n.ReadPropertyAction&&this.scope.property.valueType instanceof n.ScoolcodeBuiltInObjectInfoBase&&!(this.scope.property.valueType instanceof n.ScoolcodeEnumInfoBase)?this.action.valueType:null}block(e){var t;const r=this.scope;if(this.action instanceof n.ReadPropertyAction&&"length"===this.action.property.name)return n.BlockInstance.for(i.LengthDefinition(),this,e).parameter("scope",this).updateParts();if(this.scope instanceof n.ReadPropertyAction&&this.scope.property.valueType instanceof n.ScoolcodeBuiltInObjectInfoBase&&!(this.scope.property.valueType instanceof n.ScoolcodeEnumInfoBase)){if(this.scope.property.valueType instanceof n.ScoolcodeRecordInfo){const t=n.BlockInstance.for(i.RecordDefinition(),this,e).parameter("action",this,void 0,!1).parameter("scope"," "===this.scope.name?this.scope:this,"name",!1).updateParts();return t.action=new n.InfoItemWrapperAction(this),t}{const t=this.action.block(e);return t.action=new n.InfoItemWrapperAction(this),t}}if(this.scope instanceof n.ReadPropertyAction&&this.action instanceof n.ReadPropertyAction&&this.scope.property.valueType instanceof n.ScoolcodeActorInfo){const t=n.BlockInstance.for(i.ActorDefinition(),this,e).parameter("action",this,void 0,!1).parameter("scope"," "===this.scope.name?this.scope:this).updateParts();return t.action=new n.InfoItemWrapperAction(this),t}if(this.action instanceof n.ReadPropertyAction&&this.action.property.valueType instanceof n.ScoolcodeBuiltInObjectInfoBase&&!(this.action.property.valueType instanceof n.ScoolcodeEnumInfoBase)){const t=this.scope.block(e);return t.action=this,t}if(this.action instanceof n.ReadPropertyAction&&this.action.property.declaringType&&this.action.property.declaringType instanceof n.ScoolcodeRecordInfo){return n.BlockInstance.for(i.RecordDefinition(),this,e).parameter("action",this,void 0,!1).parameter("scope",this,"name",!1).updateParts()}return this.scope instanceof n.ReadPropertyAction&&this.scope.property.valueType instanceof n.ScoolcodeEnumInfoBase&&(this.action instanceof n.ReadPropertyAction||this.action instanceof n.CallMethodAction||this.action instanceof n.LiteralAction)&&(null===(t=null===r||void 0===r?void 0:r.valueType)||void 0===t?void 0:t.itemToProvidedValue)?n.BlockInstance.for(i.EnumValueDefinition(r.valueType),this,e).parameter("action",this,void 0,!1).updateParts():n.BlockInstance.for(i.Definition(),this,e).parameter("action",this).parameter("scope",this).updateParts()}description(){return this.action?this.action.description():""}}t.ExecuteOfAction=i,i.Definition=()=>new n.BlockDefinition("{action} of {scope}",[new n.BlockParameterInfo("action",n.ValueType.Any),new n.BlockParameterInfo("scope",n.ValueType.Any)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"expressions.executeOf"),i.ActorDefinition=()=>new n.BlockDefinition("{action} of {scope}",[new n.BlockParameterInfo("action",n.ActorPropertiesInfo.Type),new n.BlockParameterInfo("scope",n.ActorsInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"expressions.executeOf"),i.RecordDefinition=()=>new n.BlockDefinition("{action} of {scope}",[new n.BlockParameterInfo("action",n.RecordFieldsInfo.Type),new n.BlockParameterInfo("scope",n.RecordsInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Cherry},"expressions.recordField"),i.LengthDefinition=()=>new n.BlockDefinition("length of {scope}",[new n.BlockParameterInfo("scope",n.ValueType.String)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"expressions.lengthOf"),i.EnumValueDefinition=e=>new n.BlockDefinition("{action}",[new n.BlockParameterInfo("action",e)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"expressions.enumValue")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadEventDataAction=void 0;const n=r(2);class i extends n.ActionBase{executor(){const e=this;return async t=>{const r=await t.environment.getIdentifierReference("event.data");if(r)return r.value;n.RuntimeEnvironment.error(t.environment.actionListScope,"EVENT_DATA",e.codeRange)}}grammar(){return new n.DotExpression(new n.Identifier("event"),new n.Identifier("data"),"event")}block(e){return n.BlockInstance.for(i.Definition(),this,e).updateParts()}}t.ReadEventDataAction=i,i.Definition=()=>new n.BlockDefinition("data for when",[],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Events},"event.data")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadExpressionIndexerAction=void 0;const n=r(2);class i extends n.ReadIndexerAction{constructor(e,t,r,n){super(),this.negativeIndices=!1,this.validateIndices=!1,this.action=e,this.index=t,this.negativeIndices=r,this.validateIndices=n}executor(e){const t=this,r=this.action.executor(null===e||void 0===e?this.instance:e),i=this.index.executor(null);try{return this.negativeIndices?async e=>{let o=n.ExecutionManager.handleIndex(await i(e));const a=await r(e);if(a){if(o<0){const r=a.length+o;return this.validateIndices&&(r<0||r>=a.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",t.codeRange,r),a[r]}return this.validateIndices&&(o<0||o>=a.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",t.codeRange,o),a[o]}if("development"===n.runtimeEnv.NODE_ENV){console.log(`Debug: Invalid index ${o} in ReadExpressionIndexerAction.`);await r(e)}}:async e=>{let o=n.ExecutionManager.handleIndex(await i(e));const a=await r(e);if(a)return this.validateIndices&&(o<0||o>=a.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",t.codeRange,o),a[o];if("development"===n.runtimeEnv.NODE_ENV){console.log(`Debug: Invalid index ${o} in ReadExpressionIndexerAction.`);await r(e)}}}catch(o){console.log(o.message)}}setter(e){const t=this.action.executor(null===e||void 0===e?this.instance:e),r=this.index.executor(null),i=this;return this.negativeIndices?async(e,o)=>{let a=n.ExecutionManager.handleIndex(await r(e));const s=await t(e);if(s){if(a<0){const t=s.length+a;return this.validateIndices&&(t<0||t>=s.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,t),s[t]=o}return this.validateIndices&&(a<0||a>=s.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,a),s[a]=o}}:async(e,o)=>{let a=n.ExecutionManager.handleIndex(await r(e));const s=await t(e);if(s)return this.validateIndices&&(a<0||a>=s.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,a),s[a]=o}}executorDelete(e){const t=this,r=this.action.executor(null===e||void 0===e?this.instance:e),i=this.index.executor(null);try{return this.negativeIndices?async e=>{let o=n.ExecutionManager.handleIndex(await i(e));const a=await r(e);if(a){if(o<0){const r=a.length+o;return this.validateIndices&&(r<0||r>=a.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",t.codeRange,r),a.removeAt(r)}return this.validateIndices&&(o<0||o>=a.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",t.codeRange,o),a.removeAt(o)}if("development"===n.runtimeEnv.NODE_ENV){console.log(`Debug: Invalid index ${o} in ReadExpressionIndexerAction.`);await r(e)}}:async e=>{let o=n.ExecutionManager.handleIndex(await i(e));const a=await r(e);if(a)return this.validateIndices&&(o<0||o>=a.length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",t.codeRange,o),a.removeAt(o);if("development"===n.runtimeEnv.NODE_ENV){console.log(`Debug: Invalid index ${o} in ReadExpressionIndexerAction.`);await r(e)}}}catch(o){console.log(o.message)}}grammar(){return new n.IndexerExpression(this.action.grammar(),this.index.grammar(),this.negativeIndices,this.validateIndices)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("index",this).parameter("action",this).updateParts()}}t.ReadExpressionIndexerAction=i,i.Definition=()=>new n.BlockDefinition("item {index} of {action}",[new n.BlockParameterInfo("index",n.ValueType.Any),new n.BlockParameterInfo("action",n.ValueType.Any)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators,mustEmbed:!0},"expressions.indexer")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadExpressionIndexerRangeAction=void 0;const n=r(2);class i extends n.ReadIndexerAction{constructor(e,t,r){super(),this.action=e,this.indexStart=t,this.indexEnd=r}executor(e){const t=this.action.executor(null===e||void 0===e?this.instance:e),r=this.indexStart?this.indexStart.executor(null):null,i=this.indexEnd?this.indexEnd.executor(null):null;try{return async e=>{let o=r?n.ExecutionManager.handleIndex(await r(e)):null,a=i?n.ExecutionManager.handleIndex(await i(e)):null;const s=await t(e);return s?(0,n.indexRange)(o,a,s):null}}catch(o){console.log(o.message)}}setter(e){const t=this.action.executor(null===e||void 0===e?this.instance:e),r=this.indexStart?this.indexStart.executor(null):null,i=this.indexEnd?this.indexEnd.executor(null):null;return async(e,o)=>{let a=r?n.ExecutionManager.handleIndex(await r(e)):null,s=i?n.ExecutionManager.handleIndex(await i(e)):null;const l=await t(e);if(l)return(0,n.setIndexRange)(a,s,l,o)}}executorDelete(e){const t=this.action.executor(null===e||void 0===e?this.instance:e),r=this.indexStart?this.indexStart.executor(null):null,i=this.indexEnd?this.indexEnd.executor(null):null;try{return async e=>{let o=r?n.ExecutionManager.handleIndex(await r(e)):null,a=i?n.ExecutionManager.handleIndex(await i(e)):null;const s=await t(e);return s?(0,n.deleteRange)(o,a,s):null}}catch(o){console.log(o.message)}}grammar(){return new n.IndexerRangeExpression(this.action.grammar(),this.indexStart?this.indexStart.grammar():null,this.indexEnd?this.indexEnd.grammar():null)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("indexStart",this).parameter("indexEnd",this).parameter("action",this).updateParts()}}t.ReadExpressionIndexerRangeAction=i,i.Definition=()=>new n.BlockDefinition("items from {indexStart} to {indexEnd} of {action}",[new n.BlockParameterInfo("indexStart",n.ValueType.Any),new n.BlockParameterInfo("indexEnd",n.ValueType.Any),new n.BlockParameterInfo("action",n.ValueType.Any)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"expressions.indexerRange")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadPropertyAction=void 0;const n=r(2);class i extends n.UpdatableAction{constructor(e,t=null){super(),e.declaringType&&e.declaringType instanceof n.NullInfo&&(e.declaringType=null),this.property=e,this.instance=t}static buildPropertyDefinition(e){return new n.BlockDefinition("[name]",[new n.BlockParameterInfo("name",n.ValueType.String)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:e})}get key(){return this.property.name}get name(){const e=this.property.publicName.includes(".");return this.property.publicName&&!e?this.property.publicName:this.property.name}set name(e){let t=e;if(t instanceof n.InfoItemWrapperAction&&(t=t.action),t instanceof n.PropertyInfo)this.property=t;else if(t.name)this.property=new n.PropertyInfo(t.name,this.property.valueType,this.property.instance,this.property.setter,this.property.getter,this.property.constant,this.property.declaringType);else if("string"===typeof t&&this.property.declaringType){const e=this.property.declaringType.getMethod(t);e&&(this.property=e)}}get unit(){return this.property.unit}get blockColor(){return this.property.blockColor||(this.property.blockType&&this.property.blockType.Definition?this.property.blockType.Definition().color:void 0)}get valueType(){return this.property.valueType}get value(){return this.property&&this.instance?this.property.getValue(this.instance):void 0}set value(e){this.property&&this.instance&&this.property.setValue(e,this.instance)}executor(e){const t=this;return null!==(e=null===e||void 0===e?this.instance:e)&&void 0!==e?r=>{if(e.readProperty&&"function"===typeof e.readProperty)return e.readProperty(t.property.name);return e[t.property.name]}:e=>{const r=e.scope[t.property.name];return r&&r instanceof n.ScoolcodeActor&&r.disposed?null:r}}setter(e){const t=this.property.name,r=this;return null!==(e=null===e||void 0===e?this.instance:e)&&void 0!==e?(i,o)=>{let a=t;if(e.name?a=e.name+"."+t:e.type&&e.type.name?a=e.type.name+"."+t:e.type&&e.type.baseType&&e.type.baseType.name&&(a=e.type.baseType.name+"."+t),void 0===e[t]&&e[t+".action"]);else if("object"!==typeof e||void 0===e[t]&&void 0===e[t+".action"]){if(n.RuntimeEnvironment.features.isStrictRuntimeChecking)return void n.RuntimeEnvironment.error(i.environment.actionListScope,"UNDECLARED_PROPERTY",r.codeRange,a);if("object"!==typeof e)return}try{return e[t]=o}catch(s){n.RuntimeEnvironment.features.isStrictRuntimeChecking&&n.RuntimeEnvironment.error(i.environment.actionListScope,"INVALID_ASSIGNMENT",r.codeRange,a)}}:(e,i)=>{let o=t;if(e.scope.name?o=e.scope.name+"."+t:e.scope.type&&e.scope.type.name?o=e.scope.type.name+"."+t:e.scope.type&&e.scope.type.baseType&&e.scope.type.baseType.name&&(o=e.scope.type.baseType.name+"."+t),"object"===typeof e.scope&&(void 0!==e.scope[t]||void 0!==e.scope[t+".action"]))return e.scope[t]=i;n.RuntimeEnvironment.features.isStrictRuntimeChecking&&n.RuntimeEnvironment.error(e.environment.actionListScope,"UNDECLARED_PROPERTY",r.codeRange,o)}}grammar(){return this.property.getterGrammar()}block(e){var t,r;let o,a=n.BlockColor.Motion;return this.property.declaringType&&!this.property.blockRoot&&this.property.declaringType instanceof n.ScoolcodeActorInfo&&(a=n.BlockColor.Variables),o=this.property?this.property.declaringType&&!this.property.blockRoot&&this.property.declaringType instanceof n.ScoolcodeRecordInfo?i.RecordDefinition():(null===(r=null===(t=this.property)||void 0===t?void 0:t.blockType)||void 0===r?void 0:r.Definition)?this.property.blockType.Definition():this.property.valueType instanceof n.ScoolcodeActorInfo?i.ActorDefinition():i.buildPropertyDefinition(this.property.blockColor||a):i.buildPropertyDefinition(a),n.BlockInstance.for(o,this,e).parameter("name",this,"name").updateParts()}description(){if(this.name.length>0&&" "!==this.name){let e="";return this.instance&&this.instance instanceof n.ScoolcodeActor?e=this.instance.name+".":this.instance&&this.instance instanceof n.ScoolcodeStage&&(e="stage."),e+this.name}return""}}t.ReadPropertyAction=i,i.ActorDefinition=()=>new n.BlockDefinition("{name} actor",[new n.BlockParameterInfo("name",n.ActorsInfo.Type)],n.ScoolcodeActor.Type,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators,mustEmbed:!0},"expressions.readProperty"),i.RecordDefinition=()=>new n.BlockDefinition("{name}",[new n.BlockParameterInfo("name",n.RecordFieldsInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,movable:!1,color:n.BlockColor.Cherry},"expressions.recordField")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadPropertyIndexerAction=void 0;const n=r(2);class i extends n.ReadIndexerAction{constructor(e,t,r,n){super(),this.negativeIndices=!1,this.validateIndices=!1,this.property=e,this.index=t,this.negativeIndices=r,this.validateIndices=n}static buildDefinition(e){return new n.BlockDefinition("item {index} of {name} property",[new n.BlockParameterInfo("index",n.ValueType.Any),new n.BlockParameterInfo("name",n.ValueType.String)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:e,mustEmbed:!0},"expressions.propertyIndexer")}executor(e){const t=this.property.name,r=this.index.executor(null),i=this;return null!==(e=null===e||void 0===e?this.instance:e)&&void 0!==e?this.negativeIndices?async o=>{let a=n.ExecutionManager.handleIndex(await r(o));if(a<0){const r=e[t].length+a;return this.validateIndices&&(a<0||a>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${r}]`),e[t][r]}return this.validateIndices&&(a<0||a>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${a}]`),e[t][a]}:async o=>{let a=n.ExecutionManager.handleIndex(await r(o));return this.validateIndices&&(a<0||a>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${a}]`),e[t][a]}:this.negativeIndices?async e=>{let o=n.ExecutionManager.handleIndex(await r(e));if(o<0){const r=e.scope[t].length+o;return this.validateIndices&&(o<0||o>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${r}]`),e.scope[t][r]}return this.validateIndices&&(o<0||o>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${o}]`),e.scope[t][o]}:async e=>{let o=n.ExecutionManager.handleIndex(await r(e));return this.validateIndices&&(o<0||o>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${o}]`),e.scope[t][o]}}setter(e){const t=this.property.name,r=this.index.executor(null),i=this;return null!==(e=null===e||void 0===e?this.instance:e)&&void 0!==e?this.negativeIndices?async(o,a)=>{let s=n.ExecutionManager.handleIndex(await r(o));if(s<0){const r=e[t].length+s;return this.validateIndices&&(s<0||s>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${r}]`),e[t][r]=a}return this.validateIndices&&(s<0||s>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${s}]`),e[t][s]=a}:async(o,a)=>{let s=n.ExecutionManager.handleIndex(await r(o));return this.validateIndices&&(s<0||s>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${s}]`),e[t][s]=a}:this.negativeIndices?async(e,o)=>{let a=n.ExecutionManager.handleIndex(await r(e));if(a<0){const r=e.scope[t].length+a;return this.validateIndices&&(a<0||a>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${r}]`),e.scope[t][r]=o}return this.validateIndices&&(a<0||a>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${a}]`),e.scope[t][a]=o}:async(e,o)=>{let a=n.ExecutionManager.handleIndex(await r(e));return this.validateIndices&&(a<0||a>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${a}]`),e.scope[t][a]=o}}executorDelete(e){const t=this.property.name,r=this.index.executor(null),i=this;return null!==(e=null===e||void 0===e?this.instance:e)&&void 0!==e?this.negativeIndices?async o=>{let a=n.ExecutionManager.handleIndex(await r(o));if(a<0){const r=e[t].length+a;return this.validateIndices&&(a<0||a>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${r}]`),e[t].removeAt(r)}return this.validateIndices&&(a<0||a>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${a}]`),e[t].removeAt(a)}:async o=>{let a=n.ExecutionManager.handleIndex(await r(o));return this.validateIndices&&(a<0||a>=e[t].length)&&n.RuntimeEnvironment.error(o.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${a}]`),e[t].removeAt(a)}:this.negativeIndices?async e=>{let o=n.ExecutionManager.handleIndex(await r(e));if(o<0){const r=e.scope[t].length+o;return this.validateIndices&&(o<0||o>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${r}]`),e.scope[t].removeAt(r)}return this.validateIndices&&(o<0||o>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${o}]`),e.scope[t].removeAt(o)}:async e=>{let o=n.ExecutionManager.handleIndex(await r(e));return this.validateIndices&&(o<0||o>=e.scope[t].length)&&n.RuntimeEnvironment.error(e.environment.actionListScope,"INVALID_INDEX",i.codeRange,`${t}[${o}]`),e.scope[t].removeAt(o)}}grammar(){return new n.IndexerExpression(this.property.getterGrammar(),this.index.grammar(),this.negativeIndices,this.validateIndices)}block(e){let t=n.BlockColor.Motion;return this.property.declaringType&&!this.property.blockRoot&&(this.property.declaringType instanceof n.ScoolcodeActorInfo||this.property.declaringType instanceof n.ScoolcodeStageInfo)&&(t=n.BlockColor.Data),n.BlockInstance.for(i.buildDefinition(this.property.blockColor||t),this,e).parameter("index",this).parameter("name",this,"property.name").updateParts()}}t.ReadPropertyIndexerAction=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadPropertyIndexerRangeAction=void 0;const n=r(2);class i extends n.ReadIndexerAction{constructor(e,t,r){super(),this.property=e,this.indexStart=t,this.indexEnd=r}static buildDefinition(e){return new n.BlockDefinition("items from {indexStart} to {indexEnd} of {name} property",[new n.BlockParameterInfo("indexStart",n.ValueType.Any),new n.BlockParameterInfo("indexEnd",n.ValueType.Any),new n.BlockParameterInfo("name",n.ValueType.String)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:e},"expressions.propertyIndexerRange")}executor(e){const t=this.property.name,r=this.indexStart?this.indexStart.executor(null):null,i=this.indexEnd?this.indexEnd.executor(null):null;return null!==(e=null===e||void 0===e?this.instance:e)&&void 0!==e?async o=>{let a=r?n.ExecutionManager.handleIndex(await r(o)):null,s=i?n.ExecutionManager.handleIndex(await i(o)):null;return(0,n.indexRange)(a,s,e[t])}:async e=>{let o=r?n.ExecutionManager.handleIndex(await r(e)):null,a=i?n.ExecutionManager.handleIndex(await i(e)):null;return(0,n.indexRange)(o,a,e.scope[t])}}setter(e){const t=this.property.name,r=this.indexStart?this.indexStart.executor(null):null,i=this.indexEnd?this.indexEnd.executor(null):null;return null!==(e=null===e||void 0===e?this.instance:e)&&void 0!==e?async(o,a)=>{let s=r?n.ExecutionManager.handleIndex(await r(o)):null,l=i?n.ExecutionManager.handleIndex(await i(o)):null;return e[t]=(0,n.setIndexRange)(s,l,e[t],a)}:async(e,o)=>{let a=r?n.ExecutionManager.handleIndex(await r(e)):null,s=i?n.ExecutionManager.handleIndex(await i(e)):null;return e.scope[t]=(0,n.setIndexRange)(a,s,e.scope[t],o)}}executorDelete(e){const t=this.property.name,r=this.indexStart?this.indexStart.executor(null):null,i=this.indexEnd?this.indexEnd.executor(null):null;return null!==(e=null===e||void 0===e?this.instance:e)&&void 0!==e?async o=>{let a=r?n.ExecutionManager.handleIndex(await r(o)):null,s=i?n.ExecutionManager.handleIndex(await i(o)):null;return(0,n.deleteRange)(a,s,e[t])}:async e=>{let o=r?n.ExecutionManager.handleIndex(await r(e)):null,a=i?n.ExecutionManager.handleIndex(await i(e)):null;return(0,n.deleteRange)(o,a,e.scope[t])}}grammar(){return new n.IndexerRangeExpression(this.property.getterGrammar(),this.indexStart?this.indexStart.grammar():null,this.indexEnd?this.indexEnd.grammar():null)}block(e){let t=n.BlockColor.Motion;return this.property.declaringType&&!this.property.blockRoot&&(this.property.declaringType instanceof n.ScoolcodeActorInfo||this.property.declaringType instanceof n.ScoolcodeStageInfo)&&(t=n.BlockColor.Data),n.BlockInstance.for(i.buildDefinition(this.property.blockColor||t),this,e).parameter("indexStart",this).parameter("indexEnd",this).parameter("name",this,"property.name").updateParts()}}t.ReadPropertyIndexerRangeAction=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStageAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e){super(),e instanceof n.ScoolcodeActor?this.instance=e.stage:e instanceof n.ScoolcodeStage&&(this.instance=e)}executor(){const e=this;return t=>e.instance?e.instance:t.scope}grammar(){return new n.StageExpression}block(e){return n.BlockInstance.for(i.Definition(),this,e).updateParts()}}t.ReadStageAction=i,i.Definition=()=>new n.BlockDefinition("stage",[],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"expressions.stage")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadThisAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(){super()}executor(){return e=>e.scope}grammar(){return new n.ThisExpression}block(e){return n.BlockInstance.for(i.Definition(),this,e).updateParts()}}t.ReadThisAction=i,i.Definition=()=>new n.BlockDefinition("self",[],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"expressions.this")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadVariableAction=void 0;const n=r(2);class i extends n.UpdatableAction{constructor(e){super(),this.unit="",this.mightBeDeclaration=!1,this.valueType=n.ValueType.Any,this.variableName=e}get name(){return this.variableName}executor(){const e=this;return async t=>{if(" "===e.variableName)return void(n.RuntimeEnvironment.features.isStrictRuntimeChecking&&n.RuntimeEnvironment.error(t.environment.actionListScope,"UNSELECTED_VARIABLE",e.codeRange));if(e.instance&&void 0!=e.instance[e.variableName]){const t=e.instance[e.variableName];return t&&t instanceof n.ScoolcodeActor&&t.disposed?null:t}const r=await t.environment.getIdentifierReference(e.variableName);return r?r.value&&r.value instanceof n.ScoolcodeActor&&r.value.disposed?null:r.value:e.mightBeDeclaration?(t.environment.declareVariable(e.variableName,n.ValueType.Any,!1),null):void n.RuntimeEnvironment.error(t.environment.actionListScope,"UNDECLARED_VARIABLE",e.codeRange,e.variableName)}}executorDelete(){const e=this;return async t=>{if(" "===e.variableName)return n.RuntimeEnvironment.features.isStrictRuntimeChecking&&n.RuntimeEnvironment.error(t.environment.actionListScope,"UNSELECTED_VARIABLE",e.codeRange),!1;if(e.instance&&void 0!=e.instance[e.variableName+".action"])return n.RuntimeEnvironment.error(t.environment.actionListScope,"DELETE_PROPERTY",e.codeRange,e.variableName),!1;return!(await t.environment.getIdentifierReference(e.variableName)&&!t.environment.deleteVariable(e.variableName,!1)&&t.scope&&void 0!=t.scope[e.variableName+".action"])||(n.RuntimeEnvironment.error(t.environment.actionListScope,"DELETE_PROPERTY",e.codeRange,e.variableName),!1)}}setter(){this.variableName;const e=this;return async(t,r)=>e.instance&&void 0!=e.instance[e.variableName]?e.instance[e.variableName]=r:t.environment.writeVariable(e.variableName,r)}grammar(){return this.instance?new n.StageVariable(this.variableName):new n.Identifier(this.variableName,this.mightBeDeclaration)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("name",this,"variableName").updateParts()}description(){return this.variableName}}t.ReadVariableAction=i,i.Definition=()=>new n.BlockDefinition("{name} variable",[new n.BlockParameterInfo("name",n.VariablesInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Variables,mustEmbed:!0},"expressions.readVariable")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadVariableIndexerAction=void 0;const n=r(2);class i extends n.ReadIndexerAction{constructor(e,t,r,n){super(),this.negativeIndices=!1,this.validateIndices=!1,this.variableName=e,this.index=t,this.negativeIndices=r,this.validateIndices=n}executor(){const e=this.index.executor(null),t=this,r=this.variableName,i=()=>t.variableName||r;return this.negativeIndices?async r=>{" "===i()&&n.RuntimeEnvironment.error(r.environment.actionListScope,"UNSELECTED_VARIABLE",t.codeRange);const o=await r.environment.getIdentifierReference(i());if(o){let a=n.ExecutionManager.handleIndex(await e(r));if(a<0){const e=o.value.length+a;this.validateIndices&&(e<0||e>=o.value.length)&&n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_INDEX",t.codeRange,`${i()}[${e}]`);const s=o.value[e];return s&&s instanceof n.ScoolcodeActor&&s.disposed?null:s}{this.validateIndices&&(a<0||a>=o.value.length)&&n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_INDEX",t.codeRange,`${i()}[${a}]`);const e=o.value[a];return e&&e instanceof n.ScoolcodeActor&&e.disposed?null:e}}n.RuntimeEnvironment.error(r.environment.actionListScope,"UNDECLARED_VARIABLE",t.codeRange,i())}:async r=>{" "===i()&&n.RuntimeEnvironment.error(r.environment.actionListScope,"UNSELECTED_VARIABLE",t.codeRange);const o=await r.environment.getIdentifierReference(i());if(o){let a=n.ExecutionManager.handleIndex(await e(r));this.validateIndices&&(a<0||a>=o.value.length)&&n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_INDEX",t.codeRange,`${i()}[${a}]`);const s=o.value[a];return s&&s instanceof n.ScoolcodeActor&&s.disposed?null:s}n.RuntimeEnvironment.error(r.environment.actionListScope,"UNDECLARED_VARIABLE",t.codeRange,i())}}setter(){const e=this.index.executor(null),t=this,r=this.variableName,i=()=>t.variableName||r;return this.negativeIndices?async(r,o)=>{" "===i()&&n.RuntimeEnvironment.error(r.environment.actionListScope,"UNSELECTED_VARIABLE",t.codeRange);const a=await r.environment.getIdentifierReference(i());if(a){let s=n.ExecutionManager.handleIndex(await e(r));return this.validateIndices&&(s<0||s>=a.value.length)&&n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_INDEX",t.codeRange,`${i()}[${s}]`),s<0?a.value[a.value.length+s]=o:a.value[s]=o}n.RuntimeEnvironment.error(r.environment.actionListScope,"UNDECLARED_VARIABLE",t.codeRange,i())}:async(r,o)=>{" "===i()&&n.RuntimeEnvironment.error(r.environment.actionListScope,"UNSELECTED_VARIABLE",t.codeRange);const a=await r.environment.getIdentifierReference(i());if(a){let s=n.ExecutionManager.handleIndex(await e(r));return this.validateIndices&&(s<0||s>=a.value.length)&&n.RuntimeEnvironment.error(r.environment.actionListScope,"INVALID_INDEX",t.codeRange,`${i()}[${s}]`),a.value[s]=o}n.RuntimeEnvironment.error(r.environment.actionListScope,"UNDECLARED_VARIABLE",t.codeRange,i())}}executorDelete(){const e=this.variableName,t=this.index.executor(null),r=this;return this.negativeIndices?async i=>{" "===e&&n.RuntimeEnvironment.error(i.environment.actionListScope,"UNSELECTED_VARIABLE",r.codeRange);const o=await i.environment.getIdentifierReference(e);if(o){let e=n.ExecutionManager.handleIndex(await t(i));return e<0?o.value.removeAt(o.value.length+e):o.value.removeAt(e)}n.RuntimeEnvironment.error(i.environment.actionListScope,"UNDECLARED_VARIABLE",r.codeRange,e)}:async i=>{" "===e&&n.RuntimeEnvironment.error(i.environment.actionListScope,"UNSELECTED_VARIABLE",r.codeRange);const o=await i.environment.getIdentifierReference(e);if(o){let e=n.ExecutionManager.handleIndex(await t(i));return o.value.removeAt(e)}n.RuntimeEnvironment.error(i.environment.actionListScope,"UNDECLARED_VARIABLE",r.codeRange,e)}}grammar(){const e=this.instance?new n.StageVariable(this.variableName):new n.Identifier(this.variableName);return new n.IndexerExpression(e,this.index.grammar(),this.negativeIndices,this.validateIndices)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("index",this).parameter("name",this,"variableName").updateParts()}}t.ReadVariableIndexerAction=i,i.Definition=()=>new n.BlockDefinition("item {index} of {name} variable",[new n.BlockParameterInfo("index",n.ValueType.Any),new n.BlockParameterInfo("name",n.VariablesInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Data,mustEmbed:!0},"expressions.readVariableIndexer")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadVariableIndexerRangeAction=void 0;const n=r(2);class i extends n.ReadIndexerAction{constructor(e,t,r){super(),this.variableName=e,this.indexStart=t,this.indexEnd=r}executor(){const e=this.variableName,t=this.indexStart?this.indexStart.executor(null):null,r=this.indexEnd?this.indexEnd.executor(null):null,i=this;return async o=>{" "===e&&n.RuntimeEnvironment.error(o.environment.actionListScope,"UNSELECTED_VARIABLE",i.codeRange);const a=await o.environment.getIdentifierReference(e);if(a){let e=t?n.ExecutionManager.handleIndex(await t(o)):null,i=r?n.ExecutionManager.handleIndex(await r(o)):null;return(0,n.indexRange)(e,i,a.value)}n.RuntimeEnvironment.error(o.environment.actionListScope,"UNDECLARED_VARIABLE",i.codeRange,e)}}setter(){const e=this.variableName,t=this.indexStart?this.indexStart.executor(null):null,r=this.indexEnd?this.indexEnd.executor(null):null,i=this;return async(o,a)=>{" "===e&&n.RuntimeEnvironment.error(o.environment.actionListScope,"UNSELECTED_VARIABLE",i.codeRange);const s=await o.environment.getIdentifierReference(e);if(s){let e=t?n.ExecutionManager.handleIndex(await t(o)):null,i=r?n.ExecutionManager.handleIndex(await r(o)):null;return s.value=(0,n.setIndexRange)(e,i,s.value,a)}n.RuntimeEnvironment.error(o.environment.actionListScope,"UNDECLARED_VARIABLE",i.codeRange,e)}}executorDelete(){const e=this.variableName,t=this.indexStart?this.indexStart.executor(null):null,r=this.indexEnd?this.indexEnd.executor(null):null,i=this;return async o=>{" "===e&&n.RuntimeEnvironment.error(o.environment.actionListScope,"UNSELECTED_VARIABLE",i.codeRange);const a=await o.environment.getIdentifierReference(e);if(a){let e=t?n.ExecutionManager.handleIndex(await t(o)):null,i=r?n.ExecutionManager.handleIndex(await r(o)):null;return(0,n.deleteRange)(e,i,a.value)}n.RuntimeEnvironment.error(o.environment.actionListScope,"UNDECLARED_VARIABLE",i.codeRange,e)}}grammar(){const e=this.instance?new n.StageVariable(this.variableName):new n.Identifier(this.variableName);return new n.IndexerRangeExpression(e,this.indexStart?this.indexStart.grammar():null,this.indexEnd?this.indexEnd.grammar():null)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("indexStart",this).parameter("indexEnd",this).parameter("name",this,"variableName").updateParts()}}t.ReadVariableIndexerRangeAction=i,i.Definition=()=>new n.BlockDefinition("items from {indexStart} to {indexEnd} of {name} variable",[new n.BlockParameterInfo("indexStart",n.ValueType.Any),new n.BlockParameterInfo("indexEnd",n.ValueType.Any),new n.BlockParameterInfo("name",n.VariablesInfo.Type)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Data,mustEmbed:!0},"expressions.readVariableIndexerRange")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefineFunctionAction=void 0;const n=r(2);class i{constructor(e,t,r=!1){this.internal=!1,this.method=e,this.actionList=t,this.internal=r}get parameters(){return this.method.parameters}reset(){this.executor=this.actionList.executorWithCustomEnvironment(this.instance)}apply(e,t){this.instance=t,this.reset()}remove(){this.instance=null}async execute(...e){const t=new n.RuntimeEnvironment(this.instance,n.RuntimeEnvironment.Primary);t.actionListScope=(this.instance instanceof n.ScoolcodeActor?this.instance.name:"stage")+"."+this.method.name+"()";try{let r=0;for(let{name:i,ref:o}of this.method.parameters)o&&e[r]instanceof n.RuntimeReference?t.internal.declareReference(i,e[r]):(t.internal.declareVariable(i,n.ValueType.Numeric,!1),await t.internal.writeVariable(i,e[r])),r++;return await n.Timer.Default.delay(n.ExecutionManager.defaultLoopDelay),await this.executor(t)}catch(r){if(!(r instanceof n.ControlFlowException))throw r;switch(r.command){case n.ControlFlowCommand.Return:return r.value;case n.ControlFlowCommand.Deactivate:case n.ControlFlowCommand.Terminate:throw r;default:n.RuntimeEnvironment.error(t.actionListScope,"FUNCTION_BOUNDARY",this.codeRange)}}}grammar(){return new n.FunctionDeclaration(this.method.name,this.method.parameters.map((({name:e,ref:t,valueType:r,valueTypeExplicit:i})=>({name:e,ref:t,type:n.TypeExpression.from(r,i)}))),n.TypeExpression.from(this.method.returnType,this.method.returnTypeExplicit),this.actionList.grammar(),this.position,this.method.blockDefinition?{text:this.method.blockDefinition.originalSpecification,returns:this.method.blockDefinition.embeddable}:null,this.internal)}get localeName(){if(!this.method)return"function1";let e=this.method.name;return this.target instanceof n.ScoolcodeStage&&(e+=" \u25cd"),e}block(e){let t;return e&&(this.target=e.target),t=n.BlockInstance.for(i.Definition(),this,e).parameter("name",this,"localeName").parameterList(this.method.parameters,((e,t,r)=>{e.parameter("parameters",t,`${r}.name`)})).updateParts(),t.parts[0].list=this.actionList.block(t),this.position&&(t.position=this.position),t}}t.DefineFunctionAction=i,i.Definition=()=>new n.BlockDefinition("define [name] function with {parameters}",[new n.BlockParameterInfo("name",n.ValueType.String),new n.BlockParameterInfo("parameters",n.ValueType.String,!0,((e,t)=>new n.ParameterInfo(e,n.ValueType.Any,!1,t.target.method)),(e=>`${e}.name`))],n.ValueType.Any,n.BlockShape.StartEventMultiList,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Cherry,listCount:1},"declarations.functionWithParameters")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefineGlobalVariableAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e,t,r=!1){super(),this.internal=!1,this.property=e,this.action=t,this.internal=r}executor(e){return this.action?this.action.executor(e):()=>null}grammar(){this.action&&this.action instanceof n.NumericLiteralAction&&""===this.action.value&&(this.action.value=null);const e=!this.action||this.action instanceof n.NumericLiteralAction&&null==this.action.value?null:this.action.grammar();return new n.PropertyDeclaration(this.property.name,e,n.TypeExpression.from(this.property.valueType,this.property.valueTypeExplicit),this.position,this.internal)}get variableName(){let e=n.LocalisationService.Default.getValue(`challenge:variable:${this.property.name}`,this.property.name);return(this.target instanceof n.ScoolcodeStage||this.property.declaringType&&"ScoolcodeStage"===this.property.declaringType.fullName)&&(e+=" \u25cd"),e}set variableName(e){}block(e){let t;return this.action||(this.action=new n.NumericLiteralAction(null)),e&&(this.target=e.target),t=this.property.valueTypeExplicit?n.BlockInstance.for(i.DefinitionWithoutValue(),this,e).parameter("name",this,"variableName").updateParts():n.BlockInstance.for(i.DefinitionWithValue(),this,e).parameter("name",this,"variableName").parameter("value",this,"action").updateParts(),this.position&&(t.position=this.position),t}description(){return this.property.name}}t.DefineGlobalVariableAction=i,i.DefinitionWithValue=()=>new n.BlockDefinition("define {name} variable with {value}",[new n.BlockParameterInfo("name",n.VariableDeclarationInfo.Type),new n.BlockParameterInfo("value",n.ValueType.Any)],null,n.BlockShape.StartEventMultiList,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Variables},"declarations.globalVariableWithValueRenamable"),i.DefinitionWithoutValue=()=>new n.BlockDefinition("define {name} variable",[new n.BlockParameterInfo("name",n.VariableDeclarationInfo.Type)],null,n.BlockShape.StartEventMultiList,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Variables},"declarations.globalVariableWithoutValueRenamable")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandlerAction=void 0;const n=r(2);t.EventHandlerAction=class{constructor(e,t=[],r,n=!1){this._parameters=[],this.internal=!1,this.processing=!1,this.isActive=!0,this.event=e,this._parameters=t,this.actionList=r,this.internal=n}get parameters(){return this._parameters}reset(){this.executor=this.actionList.executorWithCustomEnvironment(this.instance)}static validate(e,t=[]){switch(e.name){case"signalReceived":case"dataReceived":return 1===t.length&&!!(t[0].value&&t[0]instanceof n.ValueLiteralAction&&"string"===typeof t[0].value);case"keyPressed":if(t.length>0){if(t[0]instanceof n.NumericLiteralAction)return!0;if(t[0]instanceof n.ExecuteOfAction&&t[0].scope instanceof n.ReadPropertyAction&&"Key"===t[0].scope.name)return!0}return!1}return!0}apply(e,t){this.target=e,this.instance=t,this.reset();const r=this.event.validator,i=(this.parameters.map((e=>e.executor(null))),this);r?e.declareWhen(this.event,this.handler=async(e=[])=>{if(this.processing||!r(this.parameters.map((e=>e instanceof n.LiteralAction?e.value:e)),e,i))return;this.processing=!0;const t=new n.RuntimeEnvironment(this.instance,n.RuntimeEnvironment.Primary);t.actionListScope=(this.instance instanceof n.ScoolcodeActor?this.instance.name:"stage")+"."+this.event.name,t.internal.declareVariable("event.data",n.ValueType.Any,!1),e.length&&await t.internal.writeVariable("event.data",e[this.event.dataParameterIndex]);try{this.isActive&&await this.executor(t)}catch(o){this.processing=!1,o instanceof n.ControlFlowException||n.ExecutionManager.Default.emitError(o)}this.processing=!1}):e.declareWhen(this.event,this.handler=async(e=[])=>{if(this.processing)return;this.processing=!0;const t=new n.RuntimeEnvironment(this.instance,n.RuntimeEnvironment.Primary);t.actionListScope=(this.instance instanceof n.ScoolcodeActor?this.instance.name:"stage")+"."+this.event.name,t.internal.declareVariable("event.data",n.ValueType.Any,!1),e.length&&await t.internal.writeVariable("event.data",e[this.event.dataParameterIndex]);try{this.isActive&&await this.executor(t)}catch(r){this.processing=!1,r instanceof n.ControlFlowException||n.ExecutionManager.Default.emitError(r)}this.processing=!1})}remove(){this.target&&this.handler&&(this.target.deleteWhen(this.event,this.handler),this.target=this.instance=this.handler=null)}activate(){this.isActive=!0}deactivate(){this.isActive=!1}async execute(){if(this.processing)return;const e=new n.RuntimeEnvironment(this.instance,n.RuntimeEnvironment.Primary);e.actionListScope=(this.instance instanceof n.ScoolcodeActor?this.instance.name:"stage")+"."+this.event.name,this.processing=!0;try{const t=await this.executor(e);return this.processing=!1,t}catch(t){this.processing=!1,t instanceof n.ControlFlowException||n.ExecutionManager.Default.emitError(t)}}grammar(){return new n.WhenStatement(this.event.name,this.parameters.map((e=>e.grammar())),this.actionList.grammar(),this.event.declaringType instanceof n.ScoolcodeStageInfo,this.position,this.internal)}block(e){const t=n.BlockInstance.for(this.event.blockDefinition,this,e);return this.event.parameters.map((({name:e},r)=>{t.parameter(e,this,"parameters."+r,!1)})),t.updateParts(),t.parts[0].list="never"==this.event.name?this.actionList.blockNoEmbedFix(t):this.actionList.block(t),this.position&&(t.position=this.position),t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayLiteralAction=void 0;const n=r(2);class i extends n.LiteralAction{constructor(e){super(),this.value=e}get value(){return this._value}set value(e){this._value=e}executor(){const e=this.value.map((e=>e.executor(null)));return async t=>{const r=[];for(let n of e)r.push(await n(t));return n.ScoolcodeArray.from(r)}}grammar(){return new n.ArrayLiteral(this.value.map((e=>e.grammar())))}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameterList(this.value,((e,t,r)=>e.parameter("value",t,r))).updateParts()}}t.ArrayLiteralAction=i,i.EmptyDefinition=()=>new n.BlockDefinition("empty array",[],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"literals.array.empty"),i.Definition=()=>new n.BlockDefinition("array of {value}",[new n.BlockParameterInfo("value",n.ValueType.Any,!0)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"literals.array")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanLiteralAction=void 0;const n=r(2);class i extends n.BaseLiteralAction{constructor(e){super(),this.value=e}get value(){return this._value}set value(e){this._value=e}grammar(){return new n.BooleanLiteral(this.value)}block(e){const t=this.value?i.TrueDefinition:i.FalseDefinition;return n.BlockInstance.for(t(),this,e).updateParts()}}t.BooleanLiteralAction=i,i.TrueDefinition=()=>new n.BlockDefinition("true",[],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"literals.boolean.true"),i.FalseDefinition=()=>new n.BlockDefinition("false",[],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night},"literals.boolean.false")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExplicitStringLiteralAction=void 0;const n=r(2);class i extends n.LiteralAction{constructor(e){super(),this.rawValue=e,this.value=(0,n.parseEscapes)(e)}get value(){return this._value}set value(e){this._value=e}executor(){const e=this;return async()=>e.value}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("value",this).updateParts()}grammar(){return new n.StringLiteral(this.rawValue)}}t.ExplicitStringLiteralAction=i,i.Definition=()=>new n.BlockDefinition('"{value}"',[new n.BlockParameterInfo("value",n.ValueType.String)],n.ValueType.String,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineLiteralAction=void 0;const n=r(2);class i extends n.ValueLiteralAction{constructor(e){super(),this.value=e}get value(){return this._value}set value(e){this._value=e}grammar(){return new n.LineLiteral(this.value)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("value",this).updateParts()}}t.LineLiteralAction=i,i.Definition=()=>new n.BlockDefinition("{value}",[new n.BlockParameterInfo("value",n.ValueType.Line)],n.ValueType.Line,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NothingLiteralAction=void 0;const n=r(2);class i extends n.ValueLiteralAction{constructor(e=null){super(),this._value=null,this.value=void 0}get value(){return this._value}set value(e){this._value=e}grammar(){return new n.NothingLiteral(this.value)}block(e){return n.BlockInstance.for(i.Definition(),this,e).updateParts()}}t.NothingLiteralAction=i,i.Definition=()=>new n.BlockDefinition("nothing",[],null,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"literals.null")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullLiteralAction=void 0;const n=r(2);class i extends n.BaseLiteralAction{constructor(e=null){super(),this._value=null,this.value=null}get value(){return this._value}set value(e){this._value=e}grammar(){return new n.NullLiteral(this.value)}block(e){return n.BlockInstance.for(i.Definition(),this,e).updateParts()}}t.NullLiteralAction=i,i.Definition=()=>new n.BlockDefinition("nothing",[],null,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"literals.null")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumericLiteralAction=void 0;const n=r(2);class i extends n.ValueLiteralAction{constructor(e,t=!1){if(super(),this.rawValue=e,this._value=e,this.mustBeString=t,t||"string"!==typeof e||""===e||" "===e||+e!==+e){if("string"===typeof e)this._value=(0,n.parseEscapes)(e);else if("number"===typeof e){const t=n.NumericLiteral.toString(e);t!==""+e&&(this._value=t)}}else this.rawValue=+e}grammar(){return this.mustBeString&&"string"===typeof this.rawValue?new n.StringLiteral(this.rawValue):new n.NumericLiteral(this.rawValue)}get value(){return this.mustBeString||"string"!==typeof this._value||""===this._value||" "===this._value||+this._value!==+this._value||(""+ +this._value).includes("e")?this._value:+this._value}set value(e){this._value=e}executor(){const e=this;return async()=>e.rawValue}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("value",this).updateParts()}}t.NumericLiteralAction=i,i.Definition=()=>new n.BlockDefinition("numeric: {value}",[new n.BlockParameterInfo("value",n.ValueType.Numeric)],n.ValueType.Numeric,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"literals.numeric")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringLiteralAction=void 0;const n=r(2);class i extends n.ValueLiteralAction{constructor(e){super(),this.rawValue=e,this.value=(0,n.parseEscapes)(e)}get value(){return this._value}set value(e){this._value=e}grammar(){return new n.StringLiteral(this.rawValue)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("value",this).updateParts()}}t.StringLiteralAction=i,i.Definition=()=>new n.BlockDefinition('"{value}"',[new n.BlockParameterInfo("value",n.ValueType.String)],n.ValueType.String,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateStringLiteralAction=void 0;const n=r(2);class i extends n.LiteralAction{constructor(e){super(),this.value=e}get value(){return this._value}set value(e){this._value=e}executor(){const e=this.value.map((e=>e.executor(null)));return async t=>{const r=[];for(let n of e)r.push(await n(t));return r.join("")}}grammar(){return new n.TemplateStringLiteral(this.value.map((e=>e.grammar())))}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameterList(this.value,((e,t,r)=>e.parameter("value",t,r))).updateParts()}}t.TemplateStringLiteralAction=i,i.Definition=()=>new n.BlockDefinition("string of {value}",[new n.BlockParameterInfo("value",n.ValueType.Any,!0)],n.ValueType.String,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},"literals.template-string")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndefinedLiteralAction=void 0;const n=r(2),i={undefined:"literals.undefined",null:"literals.null",None:"literals.null"},o={undefined:void 0,null:void 0,None:null};class a extends n.BaseLiteralAction{constructor(e){e&&(a.localizationKey=i[e]||"literals.undefined"),super(),this._value=null,e&&(a.staticValue=o[e]),this.value=a.staticValue}get value(){return this._value}set value(e){this._value=e}grammar(){return new n.UndefinedLiteral(this.value)}block(e){return n.BlockInstance.for(a.Definition(),this,e).updateParts()}}t.UndefinedLiteralAction=a,a.localizationKey="literals.undefined",a.staticValue=void 0,a.Definition=()=>new n.BlockDefinition("undefined",[],null,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Night,mustEmbed:!0},a.localizationKey)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdditiveOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{constructor(e,t,r,n){super(e,t,r),this.arrayConcatenation=!1,this.arrayConcatenation=n}executor(){const e=this.left.executor(null),t=this.right.executor(null),r=(e,t)=>{if("string"===typeof e){if("number"===typeof t){if((""+ +e).includes("e"))return(""+t).includes("e")?e+n.NumericLiteral.toString(t):+e+t;if((""+t).includes("e"))return e+n.NumericLiteral.toString(t)}return e+n.Terminal.stringBuilder(t)}if("string"===typeof t){if("number"===typeof e){if((""+ +t).includes("e"))return(""+e).includes("e")?n.NumericLiteral.toString(e)+t:e+ +t;if((""+e).includes("e"))return n.NumericLiteral.toString(e)+t}return n.Terminal.stringBuilder(e)+t}return e+t};return this.arrayConcatenation?async i=>{const o=await e(i),a=await t(i);return Array.isArray(o)&&Array.isArray(a)?n.ScoolcodeArray.from([...o,...a]):r(o,a)}:async n=>r(await e(n),await t(n))}grammar(){return new n.AdditiveOperator(this.left.grammar(),this.right.grammar(),this.grouped,this.arrayConcatenation)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.AdditiveOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} + {B}",[new n.BlockParameterInfo("A",n.ValueType.Numeric),new n.BlockParameterInfo("B",n.ValueType.Numeric)],n.ValueType.Numeric,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignmentAction=t.AssignmentOperatorInfo=t.AssignmentOperators=void 0;const n=r(2);t.AssignmentOperators={Assign:{apply:(e,t)=>t,name:"assign",grammar:n.AssignmentExpression},Additive:{apply:(e,t)=>{if(o.concatArrays&&e instanceof n.ScoolcodeArray){if(t instanceof n.ScoolcodeArray)return e.push(...t),e;n.RuntimeEnvironment.error(null,"INVALID_ASSIGNMENT_TYPE_MISMATCH",null,"array")}return e+t},name:"increment",grammar:n.AdditiveAssignmentOperator},Subtractive:{apply:(e,t)=>e-t,name:"decrement",grammar:n.SubtractiveAssignmentOperator},Divisive:{apply:(e,t)=>e/t,name:"divide",grammar:n.DivisiveAssignmentOperator},Multiplicative:{apply:(e,t)=>e*t,name:"multiply",grammar:n.MultiplicativeAssignmentOperator}};class i extends n.ScoolcodeEnumInfoBase{constructor(){super("AssignmentOperator",null,i.Instance),this.valueType=n.ValueType.Any,this.declareReadOnlyProperty("increment",n.ValueType.Any),this.declareReadOnlyProperty("decrement",n.ValueType.Any),this.declareReadOnlyProperty("divide",n.ValueType.Any),this.declareReadOnlyProperty("multiply",n.ValueType.Any)}getStaticInstance(){return i.Instance}}t.AssignmentOperatorInfo=i,i.Type=new i,i.Instance={increment:t.AssignmentOperators.Additive,decrement:t.AssignmentOperators.Subtractive,divide:t.AssignmentOperators.Divisive,multiply:t.AssignmentOperators.Multiplicative};class o extends n.ActionBase{constructor(e,t,r,n=!1,i=!1){super(),this.chainable=!1,this.target=e,this.action=t,this.operator=r,this.grouped=n,this.chainable=i}static buildNamedDefinition(e,t){const r=e.valueType;let o=e;if((e instanceof n.ExecuteAsAction||e instanceof n.ExecuteOfAction)&&(o=e.action),o instanceof n.ReadPropertyAction&&o.property.blockType){let e=o.property.blockType.Type?o.property.blockType.Type.Type:n.ValueType.Any;return new n.BlockDefinition("{operator} {target} by: {amount}",[new n.BlockParameterInfo("operator",i.Type),new n.BlockParameterInfo("target",e),new n.BlockParameterInfo("amount",r),new n.BlockParameterInfo("unit",n.ValueType.String)],r,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:t||n.BlockColor.Variables},"operators.assignment.changeExpression")}return new n.BlockDefinition("{operator} [target] by: {amount} [unit]",[new n.BlockParameterInfo("operator",i.Type),new n.BlockParameterInfo("target",n.ValueType.String),new n.BlockParameterInfo("amount",r),new n.BlockParameterInfo("unit",n.ValueType.String)],r,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:t||n.BlockColor.Variables},"operators.assignment.change")}static buildNamedAssignDefinition(e,t){const r=e.valueType;let i=e;if((e instanceof n.ExecuteAsAction||e instanceof n.ExecuteOfAction)&&(i=e.action),i instanceof n.ReadPropertyAction&&i.property.blockType){let e=i.property.blockType.Type?i.property.blockType.Type.Type:n.ValueType.Any;return new n.BlockDefinition("set {target} to {amount}",[new n.BlockParameterInfo("target",e),new n.BlockParameterInfo("amount",r),new n.BlockParameterInfo("unit",n.ValueType.String)],r,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:t||n.BlockColor.Variables},"operators.assignment.setExpression")}return new n.BlockDefinition("set [target] to {amount} [unit]",[new n.BlockParameterInfo("target",n.ValueType.Any),new n.BlockParameterInfo("amount",r),new n.BlockParameterInfo("unit",n.ValueType.String)],r,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:t||n.BlockColor.Variables},"operators.assignment.set")}static buildVariableDefinition(e){return new n.BlockDefinition("{operator} {target} by: {amount}",[new n.BlockParameterInfo("operator",i.Type),new n.BlockParameterInfo("target",n.VariablesInfo.Type),new n.BlockParameterInfo("amount",n.ValueType.Numeric)],e,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Variables},"operators.assignment.changeExpression")}static buildVariableAssignDefinition(e){return new n.BlockDefinition("set {target} to {amount}",[new n.BlockParameterInfo("target",n.VariablesInfo.Type),new n.BlockParameterInfo("amount",n.ValueType.Numeric)],e,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Variables},"operators.assignment.setExpression")}static buildVariableIndexerDefinition(e){return new n.BlockDefinition("{operator} item {index} of {target} by: {amount}",[new n.BlockParameterInfo("operator",i.Type),new n.BlockParameterInfo("index",n.ValueType.Number),new n.BlockParameterInfo("target",n.VariablesInfo.Type),new n.BlockParameterInfo("amount",n.ValueType.Numeric)],e,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Data},"operators.assignment.changeIndexerExpression")}static buildVariableIndexerAssignDefinition(e){return new n.BlockDefinition("set item {index} of {target} to {amount}",[new n.BlockParameterInfo("index",n.ValueType.Number),new n.BlockParameterInfo("target",n.VariablesInfo.Type),new n.BlockParameterInfo("amount",n.ValueType.Numeric)],e,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Data},"operators.assignment.setIndexerExpression")}static buildDefinition(e){return new n.BlockDefinition("{operator} {target} by: {amount}",[new n.BlockParameterInfo("operator",i.Type),new n.BlockParameterInfo("target",n.ValueType.Any),new n.BlockParameterInfo("amount",e)],e,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Data},"operators.assignment.changeExpression")}static buildAssignDefinition(e){return new n.BlockDefinition("set {target} to {amount}",[new n.BlockParameterInfo("target",n.ValueType.Any),new n.BlockParameterInfo("amount",e)],e,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Data},"operators.assignment.setExpression")}executor(e){var t,r;if(this.target.getter){if(this.target instanceof n.ReadPropertyAction&&(null===(r=null===(t=this.target)||void 0===t?void 0:t.property)||void 0===r?void 0:r.valueType)&&(this.target.property.valueType instanceof n.ScoolcodeCostumeInfo||this.target.property.valueType instanceof n.ScoolcodeSoundInfo||this.target.property.valueType instanceof n.ScoolcodeBackdropInfo||this.target.property.valueType instanceof n.ScoolcodeActorPartInfo||this.target.property.valueType instanceof n.ScoolcodeStagePartInfo))return async()=>{n.RuntimeEnvironment.error(null,"INVALID_ASSIGNMENT",null,this.target.property.name),Promise.resolve()};const e=this.action.executor(null),i=this.target.getter(null),o=this.target.setter(null),a=this.operator.apply;return async t=>{const r=await i(t),n=await e(t),s=a(r,n);return o(t,s)}}return async()=>Promise.resolve()}grammar(){if(this.operator===t.AssignmentOperators.Assign)return new n.AssignmentExpression(this.target.grammar(),this.action.grammar(),this.grouped,this.chainable);return new(0,this.operator.grammar)(this.target.grammar(),this.action.grammar(),this.grouped)}block(e){const r=this.target;return r instanceof n.ReadVariableAction?this.operator===t.AssignmentOperators.Assign?n.BlockInstance.for(o.buildVariableAssignDefinition(n.ValueType.Any),this,e).parameter("target",this,"target.variableName").parameter("amount",this,"action").updateParts():n.BlockInstance.for(o.buildVariableDefinition(n.ValueType.Any),this,e).parameter("operator",this,"operator").parameter("target",this,"target.variableName").parameter("amount",this,"action").updateParts():r instanceof n.ReadVariableIndexerAction?this.operator===t.AssignmentOperators.Assign?n.BlockInstance.for(o.buildVariableIndexerAssignDefinition(n.ValueType.Any),this,e).parameter("index",this,"target.index").parameter("target",this,"target.variableName").parameter("amount",this,"action").updateParts():n.BlockInstance.for(o.buildVariableIndexerDefinition(n.ValueType.Any),this,e).parameter("operator",this,"operator").parameter("index",this,"target.index").parameter("target",this,"target.variableName").parameter("amount",this,"action").updateParts():r.valueType?this.operator===t.AssignmentOperators.Assign?n.BlockInstance.for(o.buildNamedAssignDefinition(r,r.blockColor),this,e).parameter("target",this,"target.name").parameter("amount",this,"action").parameter("unit",this,"target.unit").updateParts():n.BlockInstance.for(o.buildNamedDefinition(r,r.blockColor),this,e).parameter("operator",this,"operator").parameter("target",this,"target.name").parameter("amount",this,"action").parameter("unit",this,"target.unit").updateParts():this.operator===t.AssignmentOperators.Assign?n.BlockInstance.for(o.buildAssignDefinition(n.ValueType.Any),this,e).parameter("target",this,"target").parameter("amount",this,"action").updateParts():n.BlockInstance.for(o.buildDefinition(n.ValueType.Any),this,e).parameter("operator",this,"operator").parameter("target",this,"target").parameter("amount",this,"action").updateParts()}description(){return this.target?this.target.description():""}}t.AssignmentAction=o,o.concatArrays=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DivisiveOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)/await t(r)}grammar(){return new n.DivisiveOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.DivisiveOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} / {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EqualsOperatorAction=void 0;const n=r(2),{compare:i}=r(189);class o extends n.OperatorAction{constructor(e,t,r,n){super(e,t,r),this.strictTypeCheck=!1,this.strictTypeCheck=n}executor(){const e=this.left.executor(null),t=this.right.executor(null);return"javascript"===this.strictTypeCheck?async r=>await e(r)===await t(r):"python"===this.strictTypeCheck?async r=>{const n=await e(r),o=await t(r);return 1===n&&!0===o||!0===n&&1===o||(0===n&&!1===o||!1===n&&0===o||(Array.isArray(n)&&Array.isArray(o)?i(n,o):n===o))}:async r=>await e(r)==await t(r)}grammar(){return new n.EqualsOperator(this.left.grammar(),this.right.grammar(),this.grouped,this.strictTypeCheck)}block(e){return n.BlockInstance.for(o.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.EqualsOperatorAction=o,o.Definition=()=>new n.BlockDefinition("{A} = {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t){const r=(e,t)=>!!(e&&t&&(Array.isArray(e)&&Array.isArray(t)||"object"===typeof e&&"object"===typeof t)&&e.length===t.length)&&((e,t)=>{if(Array.isArray(e)&&Array.isArray(t)&&e.length!==t.length)return!1;const n=Object.keys(e);for(let i=0;i<n.length;i++){const o=n[i];if(Array.isArray(e[o])){if(Array.isArray(t[o])){if(!r(e[o],t[o]))return!1;continue}return!1}if(e[o]instanceof Date){if(t[o]instanceof Date){if(e[o].valueOf()!==t[o].valueOf())return!1;continue}return!1}if(e[o]instanceof RegExp){if(t[o]instanceof RegExp){if(e[o].toString()!==t[o].toString())return!1;continue}return!1}if("object"===typeof e[o]){if("object"===typeof t[o]&&!Array.isArray(t[o])){if(!r(e[o],t[o]))return!1;continue}return!1}if(e[o]!==t[o])return!1}return!0})(e,t);e.exports=r},function(e,t,r){const{v3:n}=r(594);class i{constructor(){this.children=[],this.hash=0}}const o=(e,t="")=>n(t+typeof e+"::"+e),a=(e,t)=>e+t.hash&4294967295,s=(e,t)=>{const r=new i;return r.hash=o(e,t),r},l=(e,t,r="")=>{const n="object"===typeof t,c=null===t||"undefined"===typeof t,p=Array.isArray(t),u=c?[]:Object.keys(t);if(t instanceof Date||t instanceof RegExp)return s(t,r);if(!n&&!p)return s(t,r);if(!u.length)return s(p?"__empty__arr":"__empty__obj",r);for(var d=0;d<u.length;d++){const r=u[d];let o;!p&&n&&(o=r);const a=l(new i,t[r],o);e.children.push(a)}let h=e.children.reduce(a,0);return e.hash=o(h),e},c=e=>l(new i,e).hash;e.exports=(e,t)=>!!(e&&t&&(Array.isArray(e)&&Array.isArray(t)||"object"===typeof e&&"object"===typeof t)&&e.length===t.length)&&c(e)===c(t)},function(e,t,r){!function(){function t(e,t){var r,n,i,o,a,s,l,c;for(r=3&e.length,n=e.length-r,i=t,a=3432918353,s=461845907,c=0;c<n;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var r=t;r.v2=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},r.v3=t,e.exports=r}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExponentativeOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>{let n=await e(r),i=await t(r);return n++,i++,(n-1)**(i-1)}}grammar(){return new n.ExponentativeOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.ExponentativeOperatorAction=i,i.Definition=()=>new n.BlockDefinition("raise {A} to power {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"operators.exponentative")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GreaterThanOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)>await t(r)}grammar(){return new n.GreaterThanOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.GreaterThanOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} > {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GreaterThanOrEqualsOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)>=await t(r)}grammar(){return new n.GreaterThanOrEqualsOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.GreaterThanOrEqualsOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} >= {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>{const n=await t(r);return"function"===typeof n.includes&&n.includes(await e(r))}}grammar(){return new n.InOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.InOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} in {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegerDivisiveOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>Math.floor(await e(r)/await t(r))}grammar(){return new n.IntegerDivisiveOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.IntegerDivisiveOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} // {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)===await t(r)}grammar(){return new n.IsOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.IsOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} is {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalAndOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)&&await t(r)}grammar(){return new n.LogicalAndOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.LogicalAndOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} and {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"operators.logicalAnd")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalOrOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)||await t(r)}grammar(){return new n.LogicalOrOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.LogicalOrOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} or {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"operators.logicalOr")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LowerThanOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)<await t(r)}grammar(){return new n.LowerThanOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.LowerThanOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} < {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LowerThanOrEqualsOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)<=await t(r)}grammar(){return new n.LowerThanOrEqualsOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.LowerThanOrEqualsOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} <= {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuloOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)%await t(r)}grammar(){return new n.ModuloOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.ModuloOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} mod {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"operators.modulo")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplicativeOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{constructor(e,t,r,n){super(e,t,r),this.stringReplication=n}executor(){const e=this.left.executor(null),t=this.right.executor(null);return this.stringReplication?async r=>{const i=await e(r),o=await t(r);if("number"!==typeof i||"number"!==typeof o){if("number"!==typeof i&&"number"!==typeof o)throw new Error("TypeError: can't multiply sequence by non-number of type 'str'");const e="number"!==typeof i?i:o,t=new Array("number"!==typeof i?o:i).fill(e);return Array.isArray(e)?n.ScoolcodeArray.from(t.reduce(((e,t)=>e.concat(t)),[])):t.join("")}return i*o}:async r=>await e(r)*await t(r)}grammar(){return new n.MultiplicativeOperator(this.left.grammar(),this.right.grammar(),this.grouped,this.stringReplication)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.MultiplicativeOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} * {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotEqualsOperatorAction=void 0;const n=r(2),{compare:i}=r(189);class o extends n.OperatorAction{constructor(e,t,r,n){super(e,t,r),this.strictTypeCheck=!1,this.strictTypeCheck=n}executor(){const e=this.left.executor(null),t=this.right.executor(null);return"javascript"===this.strictTypeCheck?async r=>await e(r)!==await t(r):"python"===this.strictTypeCheck?async r=>{const n=await e(r),o=await t(r);return!(1===n&&!0===o||!0===n&&1===o)&&(!(0===n&&!1===o||!1===n&&0===o)&&(Array.isArray(n)&&Array.isArray(o)?!i(n,o):n!==o))}:async r=>await e(r)!=await t(r)}grammar(){return new n.NotEqualsOperator(this.left.grammar(),this.right.grammar(),this.grouped,this.strictTypeCheck)}block(e){return n.BlockInstance.for(o.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.NotEqualsOperatorAction=o,o.Definition=()=>new n.BlockDefinition("{A} \u2260 {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotInOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>{const n=await t(r);return"function"!==typeof n.includes||!n.includes(await e(r))}}grammar(){return new n.NotInOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.NotInOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} not in {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostfixAssignmentAction=t.UnaryAssignmentOperatorInfo=t.UnaryAssignmentOperators=void 0;const n=r(2);t.UnaryAssignmentOperators={Increment:{apply:e=>e+1,name:"increment",postfixGrammar:n.PostfixIncrementationOperator,prefixGrammar:n.PrefixIncrementationOperator},Decrement:{apply:e=>e-1,name:"decrement",postfixGrammar:n.PostfixDecrementationOperator,prefixGrammar:n.PrefixDecrementationOperator}};class i extends n.ScoolcodeEnumInfoBase{constructor(){super("UnaryAssignmentOperator",null,i.Instance),this.valueType=n.ValueType.Any,this.declareReadOnlyProperty("increment",n.ValueType.Any),this.declareReadOnlyProperty("decrement",n.ValueType.Any)}getStaticInstance(){return i.Instance}}t.UnaryAssignmentOperatorInfo=i,i.Type=new i,i.Instance={increment:t.UnaryAssignmentOperators.Increment,decrement:t.UnaryAssignmentOperators.Decrement};class o extends n.ActionBase{constructor(e,t,r=!1){super(),this.target=e,this.operator=t,this.grouped=r}static buildNamedDefinition(e){return new n.BlockDefinition("get [target] and {operator}",[new n.BlockParameterInfo("target",n.ValueType.String),new n.BlockParameterInfo("operator",i.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:e||n.BlockColor.Operators},"operators.postfixNamedAssignment")}executor(e){const t=this.target.getter(null),r=this.target.setter(null),n=this.operator.apply;return async e=>{const i=await t(e);return await r(e,n(i)),i}}grammar(){return new(0,this.operator.postfixGrammar)(this.target.grammar(),this.grouped)}block(e){const t=this.target;return t instanceof n.ReadVariableAction?n.BlockInstance.for(o.variableDefinition(),this,e).parameter("target",this).parameter("operator",this).updateParts():t instanceof n.ReadVariableIndexerAction?n.BlockInstance.for(o.variableIndexerDefinition(),this,e).parameter("target",this).parameter("index",this).parameter("operator",this).updateParts():t.valueType?n.BlockInstance.for(o.buildNamedDefinition(t.blockColor),this,e).parameter("target",this,"target.name").parameter("operator",this).updateParts():n.BlockInstance.for(o.Definition(),this,e).parameter("target",this).parameter("operator",this).updateParts()}}t.PostfixAssignmentAction=o,o.variableDefinition=()=>new n.BlockDefinition("get {target} and {operator}",[new n.BlockParameterInfo("target",n.VariablesInfo.Type),new n.BlockParameterInfo("operator",i.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Variables},"operators.postfixAssignment"),o.variableIndexerDefinition=()=>new n.BlockDefinition("get item {index} of {target} and {operator}",[new n.BlockParameterInfo("target",n.VariablesInfo.Type),new n.BlockParameterInfo("index",n.ValueType.Numeric),new n.BlockParameterInfo("operator",i.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Variables},"operators.postfixIndexerAssignment"),o.Definition=()=>new n.BlockDefinition("get {target} and {operator}",[new n.BlockParameterInfo("target",n.ValueType.Any),new n.BlockParameterInfo("operator",i.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Operators},"operators.postfixAssignment")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrefixAssignmentAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e,t,r=!1){super(),this.target=e,this.operator=t,this.grouped=r}static buildNamedDefinition(e){return new n.BlockDefinition("{operator} and get [target]",[new n.BlockParameterInfo("operator",n.UnaryAssignmentOperatorInfo.Type),new n.BlockParameterInfo("target",n.ValueType.String)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:e||n.BlockColor.Operators},"operators.prefixNamedAssignment")}executor(e){const t=this.target.getter(null),r=this.target.setter(null),n=this.operator.apply;return async e=>r(e,n(await t(e)))}grammar(){return new(0,this.operator.prefixGrammar)(this.target.grammar(),this.grouped)}block(e){const t=this.target;return t instanceof n.ReadVariableAction?n.BlockInstance.for(i.variableDefinition(),this,e).parameter("operator",this).parameter("target",this).updateParts():t instanceof n.ReadVariableIndexerAction?n.BlockInstance.for(i.variableIndexerDefinition(),this,e).parameter("operator",this).parameter("index",this).parameter("target",this).updateParts():t.valueType?n.BlockInstance.for(i.buildNamedDefinition(t.blockColor),this,e).parameter("operator",this).parameter("target",this,"target.name").updateParts():n.BlockInstance.for(i.Definition(),this,e).parameter("operator",this).parameter("target",this).updateParts()}}t.PrefixAssignmentAction=i,i.variableDefinition=()=>new n.BlockDefinition("{operator} and get {target}",[new n.BlockParameterInfo("operator",n.UnaryAssignmentOperatorInfo.Type),new n.BlockParameterInfo("target",n.VariablesInfo.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Variables},"operators.prefixAssignment"),i.variableIndexerDefinition=()=>new n.BlockDefinition("{operator} and get item {index} of {target}",[new n.BlockParameterInfo("operator",n.UnaryAssignmentOperatorInfo.Type),new n.BlockParameterInfo("index",n.ValueType.Numeric),new n.BlockParameterInfo("target",n.VariablesInfo.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Variables},"operators.prefixIndexerAssignment"),i.Definition=()=>new n.BlockDefinition("{operator} and get {target}",[new n.BlockParameterInfo("operator",n.UnaryAssignmentOperatorInfo.Type),new n.BlockParameterInfo("target",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!0,color:n.BlockColor.Operators},"operators.prefixAssignment")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferenceOperatorAction=void 0;const n=r(2);class i extends n.UnaryOperatorAction{executor(){if(this.action instanceof n.UpdatableAction)return async e=>new n.RuntimeReference(e,this.action);{const e=this.action.executor(null);return async t=>await e(t)}}grammar(){return new n.ReferenceOperator(this.action.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"action").updateParts()}}t.ReferenceOperatorAction=i,i.Definition=()=>new n.BlockDefinition("reference to {A}",[new n.BlockParameterInfo("A",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"operators.ref"),i.VariableDefinition=()=>new n.BlockDefinition("variable {A}",[new n.BlockParameterInfo("A",n.VariablesInfo.Type)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Variables},"operators.refVariable")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubtractiveOperatorAction=void 0;const n=r(2);class i extends n.OperatorAction{executor(){const e=this.left.executor(null),t=this.right.executor(null);return async r=>await e(r)-await t(r)}grammar(){return new n.SubtractiveOperator(this.left.grammar(),this.right.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"left").parameter("B",this,"right").updateParts()}}t.SubtractiveOperatorAction=i,i.Definition=()=>new n.BlockDefinition("{A} - {B}",[new n.BlockParameterInfo("A",n.ValueType.Any),new n.BlockParameterInfo("B",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnaryMinusOperatorAction=void 0;const n=r(2);class i extends n.UnaryOperatorAction{executor(){const e=this.action.executor(null);return async t=>-await e(t)}grammar(){return new n.UnaryMinusOperator(this.action.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"action").updateParts()}}t.UnaryMinusOperatorAction=i,i.Definition=()=>new n.BlockDefinition("-{A}",[new n.BlockParameterInfo("A",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnaryNotOperatorAction=void 0;const n=r(2);class i extends n.UnaryOperatorAction{executor(){const e=this.action.executor(null);return async t=>!await e(t)}grammar(){return new n.UnaryNotOperator(this.action.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"action").updateParts()}}t.UnaryNotOperatorAction=i,i.Definition=()=>new n.BlockDefinition("not {A}",[new n.BlockParameterInfo("A",n.ValueType.Any)],n.ValueType.Boolean,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators},"operators.unaryNot")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnaryPlusOperatorAction=void 0;const n=r(2);class i extends n.UnaryOperatorAction{executor(){const e=this.action.executor(null);return async t=>+await e(t)}grammar(){return new n.UnaryPlusOperator(this.action.grammar(),this.grouped)}block(e){return n.BlockInstance.for(i.Definition(),this,e).parameter("A",this,"action").updateParts()}}t.UnaryPlusOperatorAction=i,i.Definition=()=>new n.BlockDefinition("+{A}",[new n.BlockParameterInfo("A",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakStatementAction=void 0;const n=r(2);class i extends n.ActionBase{executor(){return()=>Promise.reject(new n.ControlFlowException(n.ControlFlowCommand.Break))}grammar(){return new n.BreakStatement}block(e){return n.BlockInstance.for(i.Definition,this,e).updateParts()}}t.BreakStatementAction=i,i.Definition=new n.BlockDefinition("break",[],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Cherry},"statements.break")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContinueStatementAction=void 0;const n=r(2);class i extends n.ActionBase{executor(){return()=>Promise.reject(new n.ControlFlowException(n.ControlFlowCommand.Continue))}grammar(){return new n.ContinueStatement}block(e){return n.BlockInstance.for(i.Definition,this,e).updateParts()}}t.ContinueStatementAction=i,i.Definition=new n.BlockDefinition("continue",[],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Cherry},"statements.continue")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteStatementAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e){super(),this.expression=e}executor(e){const t=this.expression instanceof n.ReadIndexerAction||this.expression instanceof n.ReadVariableAction?this.expression.executorDelete(e):null;return async e=>{if(t)return t(e)}}grammar(){return new n.DeleteStatement(this.expression.grammar())}block(e){return n.BlockInstance.for(i.Definition,this,e).parameter("expression",this).updateParts()}}t.DeleteStatementAction=i,i.Definition=new n.BlockDefinition("delete {expression}",[new n.BlockParameterInfo("expression",n.ValueType.Any)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Cherry},"statements.delete")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DoWhileStatementAction=void 0;const n=r(2);class i extends n.LoopAction{constructor(e,t){super(),this.expression=e,this.actionList=t}executor(){if(this.expression instanceof n.BooleanLiteralAction)return this.expression.value?async e=>{const t=!n.RuntimeEnvironment.features.isStrictRuntimeChecking||!n.ExecutionManager.isSetupEvent;let r=!1;e:do{try{await this.actionList.executor(e.scope,{internal:e.environment})(e.environment),await n.Timer.Default.delay(n.ExecutionManager.loopDelay)}catch(i){if(i instanceof n.ControlFlowException)switch(i.command){case n.ControlFlowCommand.Continue:continue;case n.ControlFlowCommand.Break:r=!0;break e;case n.ControlFlowCommand.Return:default:throw i}else if(i instanceof n.RuntimeError)throw i}}while(t);n.RuntimeEnvironment.features.isStrictRuntimeChecking&&n.ExecutionManager.isSetupEvent&&!r&&n.RuntimeEnvironment.error(e.environment.actionListScope,"FOREVER_SETUP",this.codeRange)}:async e=>{try{await this.actionList.executor(e.scope,{internal:e.environment})(e.environment),await n.Timer.Default.delay(n.ExecutionManager.loopDelay)}catch(t){if(t instanceof n.ControlFlowException)switch(t.command){case n.ControlFlowCommand.Continue:case n.ControlFlowCommand.Break:return;case n.ControlFlowCommand.Return:default:throw t}else if(t instanceof n.RuntimeError)throw t}};{const e=this.expression.executor(null);return async t=>{e:do{try{await this.actionList.executor(t.scope,{internal:t.environment})(t.environment),await n.Timer.Default.delay(n.ExecutionManager.loopDelay)}catch(r){if(r instanceof n.ControlFlowException)switch(r.command){case n.ControlFlowCommand.Continue:continue;case n.ControlFlowCommand.Break:break e;case n.ControlFlowCommand.Return:default:throw r}else if(r instanceof n.RuntimeError)throw r}}while(await e(t))}}}grammar(){return new n.DoWhileStatement(this.expression.grammar(),this.actionList.grammar())}block(e){let t;if(this.expression instanceof n.BooleanLiteralAction){const r=this.expression.value?i.ForeverDefinition:i.OnceDefinition;t=n.BlockInstance.for(r,this,e).updateParts()}else t=n.BlockInstance.for(i.Definition,this,e).parameter("expression",this).updateParts();return t.parts[0].list=this.actionList.block(t),t}}t.DoWhileStatementAction=i,i.Definition=new n.BlockDefinition("do while {expression}",[new n.BlockParameterInfo("expression",n.ValueType.Boolean)],n.ValueType.Any,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0}),i.ForeverDefinition=new n.BlockDefinition("forever",[],n.ValueType.Any,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1,listCount:1,color:n.BlockColor.Control},"statements.forever"),i.OnceDefinition=new n.BlockDefinition("once",[],n.ValueType.Any,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control},"statements.once")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForInStatementAction=void 0;const n=r(2);class i extends n.LoopAction{constructor(e,t,r,n){super(),this.variableNames=e,this.isVariableLoopScoped=t,this.expression=r,this.actionList=n,this.maySimplifyBlock=!1}executor(){const e=this.expression.executor(null),t=this.variableNames;return async r=>{if(!this.isVariableLoopScoped)for(let e of t)r.environment.declareVariable(e,!1);e:for(let o of await e(r))try{const e=new n.RuntimeEnvironment({internal:r.environment});if(this.isVariableLoopScoped)for(let r of t)e.internal.declareVariable(r,n.ValueType.Numeric,!0);if(t.length>1){let r=0;for(let n of t)await e.internal.writeVariable(n,o[r++])}else await e.internal.writeVariable(t[0],o);await this.actionList.executorWithCustomEnvironment(r.scope)(e),await n.Timer.Default.delay(n.ExecutionManager.loopDelay)}catch(i){if(await n.Timer.Default.delay(n.ExecutionManager.loopDelay),i instanceof n.ControlFlowException)switch(i.command){case n.ControlFlowCommand.Continue:continue;case n.ControlFlowCommand.Break:break e;case n.ControlFlowCommand.Return:default:throw i}else if(i instanceof n.RuntimeError)throw i}}}grammar(){return new n.ForInStatement(this.variableNames,this.isVariableLoopScoped,this.expression.grammar(),this.actionList.grammar())}isZeroBased(){if(this.expression instanceof n.CallMethodAction){if("range"===this.expression.method.name){if(1===this.expression.parameters.length&&this.expression.parameters[0]instanceof n.NumericLiteralAction)return!0;if(2===this.expression.parameters.length&&this.expression.parameters[0]instanceof n.NumericLiteralAction&&0==this.expression.parameters[0].value&&this.expression.parameters[1]instanceof n.NumericLiteralAction)return!0}}return null}get count(){if(this.expression instanceof n.CallMethodAction){if("range"===this.expression.method.name){if(1===this.expression.parameters.length&&this.expression.parameters[0]instanceof n.NumericLiteralAction)return this.expression.parameters[0].value;if(this.expression.parameters.length>1&&this.expression.parameters[1]instanceof n.NumericLiteralAction)return this.expression.parameters[1].value}}return 0}get indexer(){return this.variableNames[0]}set count(e){if(this.expression instanceof n.CallMethodAction){"range"===this.expression.method.name&&(1===this.expression.parameters.length&&this.expression.parameters[0]instanceof n.NumericLiteralAction?(this.expression.parameters[0].value=e,this.expression.parameters[0].rawValue=e):this.expression.parameters.length>1&&this.expression.parameters[1]instanceof n.NumericLiteralAction&&(this.expression.parameters[1].value=e,this.expression.parameters[1].rawValue=e))}}block(e){if(this.maySimplifyBlock&&this.isZeroBased()){const t=n.BlockInstance.for(i.RepeatAsDefinition(),this,e).parameter("count",this,"count").parameter("indexer",this,"indexer").updateParts();return t.parts[0].list=this.actionList.block(t),t}{const t=n.BlockInstance.for(i.RepeatInDefinition(),this,e).parameter("target",this,"expression").parameter("indexers",this,"variableNames").updateParts();return t.parts[0].list=this.actionList.block(t),t}}}t.ForInStatementAction=i,i.RepeatAsDefinition=()=>new n.BlockDefinition("repeat {count} times (index: [indexer])",[new n.BlockParameterInfo("count",n.ValueType.Number),new n.BlockParameterInfo("indexer",n.ValueType.String)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.for"),i.RepeatInDefinition=()=>new n.BlockDefinition("for each item of {target} as: [indexer]",[new n.BlockParameterInfo("target",n.ValueType.Array),new n.BlockParameterInfo("indexer",n.ValueType.Array)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.forIn")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForOfStatementAction=void 0;const n=r(2);class i extends n.LoopAction{constructor(e,t,r,n){super(),this.variableName=e,this.isVariableLoopScoped=t,this.expression=r,this.actionList=n}executor(){const e=this.expression.executor(null),t=this.variableName;return async r=>{this.isVariableLoopScoped||r.environment.declareVariable(t,!1);e:for(let o of await e(r))try{const e=new n.RuntimeEnvironment({internal:r.environment});this.isVariableLoopScoped&&e.internal.declareVariable(t,n.ValueType.Any,!0),await e.internal.writeVariable(t,o),await this.actionList.executorWithCustomEnvironment(r.scope)(e),await n.Timer.Default.delay(n.ExecutionManager.loopDelay)}catch(i){if(await n.Timer.Default.delay(n.ExecutionManager.loopDelay),i instanceof n.ControlFlowException)switch(i.command){case n.ControlFlowCommand.Continue:continue;case n.ControlFlowCommand.Break:break e;case n.ControlFlowCommand.Return:default:throw i}else if(i instanceof n.RuntimeError)throw i}}}grammar(){return new n.ForOfStatement(this.variableName,this.isVariableLoopScoped,this.expression.grammar(),this.actionList.grammar())}block(e){const t=n.BlockInstance.for(i.RepeatDefinition(),this,e).parameter("target",this,"expression").parameter("indexer",this,"variableName").updateParts();return t.parts[0].list=this.actionList.block(t),t}}t.ForOfStatementAction=i,i.RepeatDefinition=()=>new n.BlockDefinition("for each item of {target} as: [indexer]",[new n.BlockParameterInfo("target",n.ValueType.Array),new n.BlockParameterInfo("indexer",n.ValueType.String)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.forOf")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForStatementAction=void 0;const n=r(2);class i extends n.LoopAction{constructor(e,t,r,i,o=1){super(),this.isRepeatStatement=()=>this.expression1 instanceof n.DeclareVariableWithValueAction&&this.expression1.action instanceof n.NumericLiteralAction&&this.expression1.action.value==this.loopBase&&this.expression2 instanceof n.LowerThanOrEqualsOperatorAction&&this.expression3 instanceof n.PostfixAssignmentAction&&"increment"===this.expression3.operator.name||this.expression1 instanceof n.DeclareVariableWithValueAction&&this.expression1.action instanceof n.NumericLiteralAction&&0==this.expression1.action.value&&this.expression2 instanceof n.LowerThanOperatorAction&&this.expression3 instanceof n.PostfixAssignmentAction&&"increment"===this.expression3.operator.name,this.expression1=e,this.expression2=t,this.expression3=r,this.actionList=i,this.loopBase=o}executor(){const e=this.expression1.executor(null),t=this.expression2.executor(null),r=this.expression3.executor(null);return async i=>{const o=new n.RuntimeEnvironment({internal:i.environment}),a=Object.assign(Object.assign({},i),{environment:o.internal});e:for(await e(a);await t(a);await r(a))try{const e=new n.RuntimeEnvironment(o);await this.actionList.executorWithCustomEnvironment(i.scope)(e),await n.Timer.Default.delay(n.ExecutionManager.loopDelay)}catch(s){if(await n.Timer.Default.delay(n.ExecutionManager.loopDelay),s instanceof n.ControlFlowException)switch(s.command){case n.ControlFlowCommand.Continue:continue;case n.ControlFlowCommand.Break:break e;case n.ControlFlowCommand.Return:default:throw s}else if(s instanceof n.RuntimeError)throw s}}}get variableName(){return this.expression1.variableName}set variableName(e){this.expression1.variableName=e,this.expression2.left.variableName=e,this.expression3.target.variableName=e}grammar(){return new n.ForStatement(this.expression1.grammar(),this.expression2.grammar(),this.expression3.grammar(),this.actionList.grammar())}block(e){if(this.isRepeatStatement()){if("__counter__"===this.expression1.variableName){const t=n.BlockInstance.for(i.RepeatDefinition(),this,e).parameter("count",this,"expression2.right").parameter("indexer",this,"expression1.variableName").updateParts();return t.parts[0].list=this.actionList.block(t),t}{const t=n.BlockInstance.for(i.RepeatAsDefinition(),this,e).parameter("count",this,"expression2.right").parameter("indexer",this,"variableName").updateParts();return t.parts[0].list=this.actionList.block(t),t}}{const t=n.BlockInstance.for(i.ForDefinition(),this,e).parameter("expression1",this).parameter("expression2",this).parameter("expression3",this).updateParts();return t.parts[0].list=this.actionList.block(t),t}}}t.ForStatementAction=i,i.RepeatDefinition=()=>new n.BlockDefinition("repeat {count} times",[new n.BlockParameterInfo("count",n.ValueType.Number)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.repeat"),i.RepeatAsDefinition=()=>new n.BlockDefinition("repeat {count} times (index: [indexer])",[new n.BlockParameterInfo("count",n.ValueType.Number),new n.BlockParameterInfo("indexer",n.ValueType.String)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.for"),i.ForDefinition=()=>new n.BlockDefinition("for {expression1}; {expression2}; {expression3}",[new n.BlockParameterInfo("expression1",n.ValueType.Any),new n.BlockParameterInfo("expression2",n.ValueType.Any),new n.BlockParameterInfo("expression3",n.ValueType.Any)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.for3")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IfElseStatementAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e,t,r){super(),this.expression=e,this.actionList=t,this.actionListElse=r}executor(){const e=this.expression.executor(null);return async t=>{await e(t)?await this.actionList.executor(t.scope,{internal:t.environment})(t.environment):await this.actionListElse.executor(t.scope,{internal:t.environment})(t.environment)}}grammar(){return new n.IfElseStatement(this.expression.grammar(),this.actionList.grammar(),this.actionListElse.grammar())}block(e){const t=n.BlockInstance.for(i.Definition,this,e).parameter("expression",this).updateParts();return t.parts[0].list=this.actionList.block(t),t.parts[1].list=this.actionListElse.block(t),t}}t.IfElseStatementAction=i,i.Definition=new n.BlockDefinition("if {expression} then ... else",[new n.BlockParameterInfo("expression",n.ValueType.Boolean)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:2,color:n.BlockColor.Control},"statements.ifElse")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IfStatementAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e,t){super(),this.expression=e,this.actionList=t}executor(){const e=this.expression.executor(null);return async t=>{await e(t)&&await this.actionList.executor(t.scope,{internal:t.environment})(t.environment)}}grammar(){return new n.IfStatement(this.expression.grammar(),this.actionList.grammar())}block(e){const t=n.BlockInstance.for(i.Definition,this,e).parameter("expression",this).updateParts();return t.parts[0].list=this.actionList.block(t),t}}t.IfStatementAction=i,i.Definition=new n.BlockDefinition("if {expression} then",[new n.BlockParameterInfo("expression",n.ValueType.Boolean)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control},"statements.if")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineCommentStatementAction=void 0;const n=r(2);class i extends n.DeclarationOrAction{constructor(e,t,r=null,n=!1,i=!1){super(),this.name=null==r?"comment":r,this.position=null==e?{x:0,y:0}:e,this.expression=t,this.declarationOnly=n,this.macro=i}executor(){return null}grammar(){return new n.LineCommentStatement(this.position,this.expression.grammar(),this.name,this.declarationOnly,this.macro)}block(e){const t=this.declarationOnly?i.DefinitionDeclaration:i.DefinitionStatement;return n.BlockInstance.for(t(),this,e).parameter("expression",this).updateParts()}setName(e){this.name=e}}t.LineCommentStatementAction=i,i.DefinitionStatement=()=>new n.BlockDefinition("comment {expression}",[new n.BlockParameterInfo("expression",n.ValueType.Line)],null,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Operators},"statements.lineComment"),i.DefinitionDeclaration=()=>new n.BlockDefinition("comment {expression}",[new n.BlockParameterInfo("expression",n.ValueType.Line)],null,n.BlockShape.StartEventMultiList,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Operators},"statements.lineComment")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiLineCommentStatementAction=void 0;const n=r(2);class i extends n.DeclarationOrAction{constructor(e,t,r=null,n=!1){super(),this.name=null==r?"comment":r,this.position=null==e?{x:0,y:0}:e,this.expression=t,this.range=t.codeRange,this.declarationOnly=n}executor(){return null}grammar(){return new n.MultiLineCommentStatement(this.position,this.expression.grammar(),this.name,this.declarationOnly)}get getCommentValue(){return this.expression&&this.expression instanceof n.LineLiteralAction?this.expression.value.length>50?this.expression.value.substr(0,50)+"...":this.expression.value:""}block(e){const t=this.declarationOnly?i.DefinitionDeclaration:i.DefinitionStatement,r=n.BlockInstance.for(t(),this,e).parameter("getCommentValue",this).updateParts();return this.position&&(r.position=this.position),r}setName(e){this.name=e}}t.MultiLineCommentStatementAction=i,i.DefinitionStatement=()=>new n.BlockDefinition("comment: [expression]",[new n.BlockParameterInfo("expression",n.ValueType.Line)],null,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Operators},"statements.multiLineComment"),i.DefinitionDeclaration=()=>new n.BlockDefinition("comment [expression]",[new n.BlockParameterInfo("expression",n.ValueType.Line)],null,n.BlockShape.StartEventMultiList,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Operators},"statements.multiLineComment")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassStatementAction=void 0;const n=r(2);class i extends n.ActionBase{executor(){return async()=>{}}grammar(){return new n.PassStatement}block(e){return n.BlockInstance.for(i.Definition,this,e).updateParts()}}t.PassStatementAction=i,i.Definition=new n.BlockDefinition("pass",[],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Cherry},"statements.pass")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReturnStatementAction=void 0;const n=r(2);class i extends n.ActionBase{constructor(e){super(),this.expression=e||new n.NothingLiteralAction}executor(){if(this.expression){const e=this,t=this.expression.executor(null);return async r=>{if(e.expression instanceof n.NumericLiteralAction&&""===e.expression.value)return Promise.reject(new n.ControlFlowException(n.ControlFlowCommand.Return,n.UndefinedLiteralAction.staticValue));throw new n.ControlFlowException(n.ControlFlowCommand.Return,await t(r))}}return()=>Promise.reject(new n.ControlFlowException(n.ControlFlowCommand.Return,n.UndefinedLiteralAction.staticValue))}grammar(){return this.expression&&this.expression instanceof n.NumericLiteral&&""===this.expression.value?(this.expression=null,new n.ReturnStatement(null)):new n.ReturnStatement(this.expression?this.expression.grammar():null)}block(e){return n.BlockInstance.for(i.Definition,this,e).parameter("expression",this).updateParts()}}t.ReturnStatementAction=i,i.NoValueDefinition=new n.BlockDefinition("return",[],null,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Cherry},"statements.return"),i.Definition=new n.BlockDefinition("return {expression}",[new n.BlockParameterInfo("expression",n.ValueType.Any)],n.ValueType.Any,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1,color:n.BlockColor.Cherry},"statements.returnWithValue")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WhileStatementAction=void 0;const n=r(2);class i extends n.LoopAction{constructor(e,t){super(),this.expression=e,this.actionList=t}executor(){if(this.expression instanceof n.BooleanLiteralAction)return this.expression.value?async e=>{const t=!n.RuntimeEnvironment.features.isStrictRuntimeChecking||!n.ExecutionManager.isSetupEvent;if(t)e:for(;t;)try{await this.actionList.executor(e.scope,{internal:e.environment})(e.environment),await n.Timer.Default.delay(n.ExecutionManager.loopDelay)}catch(r){if(await n.Timer.Default.delay(n.ExecutionManager.loopDelay),r instanceof n.ControlFlowException)switch(r.command){case n.ControlFlowCommand.Continue:continue;case n.ControlFlowCommand.Break:break e;case n.ControlFlowCommand.Deactivate:if(e.scope instanceof n.ScoolcodeStage&&e.scope._insideSceneMode&&r.value===e.scope._uuid)throw r;case n.ControlFlowCommand.Return:default:throw r}else if(r instanceof n.RuntimeError)throw r}else n.RuntimeEnvironment.error(e.environment.actionListScope,"FOREVER_SETUP",this.codeRange)}:()=>Promise.resolve();{const e=this.expression.executor(null);return async t=>{e:for(;await e(t);)try{await this.actionList.executor(t.scope,{internal:t.environment})(t.environment),await n.Timer.Default.delay(n.ExecutionManager.loopDelay)}catch(r){if(r instanceof n.ControlFlowException)switch(r.command){case n.ControlFlowCommand.Continue:continue;case n.ControlFlowCommand.Break:break e;case n.ControlFlowCommand.Return:default:throw r}else if(r instanceof n.RuntimeError)throw r}}}}grammar(){return new n.WhileStatement(this.expression.grammar(),this.actionList.grammar())}block(e){let t;if(this.expression instanceof n.BooleanLiteralAction){const r=this.expression.value?i.ForeverDefinition:i.NeverDefinition;t=n.BlockInstance.for(r,this,e).updateParts()}else t=this.expression instanceof n.UnaryNotOperatorAction&&!this.actionList.actions.length?n.BlockInstance.for(i.WaitUntilDefinition,this,e).parameter("expression",this,"expression.action").updateParts():n.BlockInstance.for(i.Definition,this,e).parameter("expression",this).updateParts();return t.parts[0].list=this.actionList.block(t),t}}t.WhileStatementAction=i,i.Definition=new n.BlockDefinition("while {expression}",[new n.BlockParameterInfo("expression",n.ValueType.Boolean)],null,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.while"),i.WaitUntilDefinition=new n.BlockDefinition("wait until {expression}",[new n.BlockParameterInfo("expression",n.ValueType.Boolean)],null,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Control,loop:!0},"statements.waitUntil"),i.ForeverDefinition=new n.BlockDefinition("forever",[],n.ValueType.Any,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!1,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.forever"),i.NeverDefinition=new n.BlockDefinition("never",[],n.ValueType.Any,n.BlockShape.MultiList,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,listCount:1,color:n.BlockColor.Control,loop:!0},"statements.never")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeActionList=void 0;const n=r(2);t.RuntimeActionList=class{constructor(){this.commands=[]}pushAll(e){return e.forEach((e=>this.commands.push(e))),this}push(e){return this.commands.push(e),this}remove(e){const t=this.commands.indexOf(e);-1!==t&&this.commands.splice(t,1)}removeAt(e){e>=0&&e<this.commands.length&&this.commands.splice(e,1)}splice(e){e>=0&&e<this.commands.length&&this.commands.splice(e)}move(e,t){const r=this.commands.indexOf(e);-1!==r&&(this.commands.splice(r,1),this.commands[t]=e)}insertAt(e,t){this.commands.splice(e,0,...t)}clear(){this.commands=[]}async execute(e,t){const r=t.internal.manager||n.ExecutionManager.Default,i={scope:e,environment:t.internal,manager:r.sub()};t instanceof n.RuntimeEnvironment&&!i.environment.actionListScope&&(i.environment.actionListScope=t.internal.actionListScope?t.internal.actionListScope:t.actionListScope);try{if(i.manager.debugMode){for(let t of this.commands)if(t){let r=e.stage?e.stage:e;r instanceof n.ScoolcodeStage&&(r.isStagePaused()||r.isStagePausedProgramatically())?(await i.manager.breakpoint(),await t(i)):(await t(i),await i.manager.breakpoint())}}else for(let e of this.commands)e&&await e(i)}catch(o){throw r.remove(i.manager),o}return r.remove(i.manager),n.UndefinedLiteralAction.staticValue}executor(e,t){return()=>this.execute(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionManagerGroup=void 0;const n=r(2);class i{constructor(){this.managers=[],this.running=!0,this.paused=!1,this.pausedProgramatically=!1,this.deactivatedUuid=0,this.events=new n.EventEmitter,this.on=this.events.on,this.off=this.events.off,this._debugMode=!0,this._bloxMode=!0}start(){this.running=!0,this.paused=!1,this.pausedProgramatically=!1,this.deactivatedUuid=0}get debugMode(){return this._debugMode}set debugMode(e){this._debugMode=e,this.managers.forEach((t=>t.debugMode=e))}get bloxMode(){return this._bloxMode}set bloxMode(e){this._bloxMode=e,this.managers.forEach((t=>t.bloxMode=e))}isPaused(){return this.paused}isPausedProgramatically(){return this.pausedProgramatically}isStoppedOrPaused(){return this.paused||!this.running}isRunning(){return this.running}pause(){return this.running=!1,this.paused=!0,Promise.all(this.managers.map((e=>e.pause())))}pauseProgramatically(){return this.pausedProgramatically=!0,Promise.all(this.managers.map((e=>e.pauseProgramatically())))}step(){return Promise.all(this.managers.map((e=>e.step())))}resume(){this.running=!0,this.paused=!1,this.managers.forEach((e=>e.resume()))}resumeProgramatically(){this.pausedProgramatically=!1,this.managers.forEach((e=>e.resumeProgramatically()))}breakpoint(){return Promise.all(this.managers.map((e=>(n.ExecutionManager,e.breakpoint()))))}async stop(){(this.running||this.paused)&&(this.running=!1,this.paused=!1,await Promise.all(this.managers.map((e=>e.stop()))),this.managers=this.managers.filter((e=>e instanceof i)))}activate(){this.deactivatedUuid=0,this.managers.map((e=>{if(e instanceof i)return e.activate()}))}deactivate(e){this.deactivatedUuid=e,this.managers.map((t=>{if(t instanceof i)return t.deactivate(e)}))}sub(e=!1){if(!this.running&&!this.paused&&!e)throw new n.ControlFlowException(n.ControlFlowCommand.Terminate,"cannot sub, stopped");if(this.deactivatedUuid>0)throw new n.ControlFlowException(n.ControlFlowCommand.Deactivate,this.deactivatedUuid);const t=new n.ExecutionManager;return t.debugMode=this._debugMode,this.paused&&t.pause(),this.managers.push(t),t}group(e=!1){if(!this.running&&!this.paused&&!e)throw new n.ControlFlowException(n.ControlFlowCommand.Terminate,"cannot group, stopped");const t=new i;return t.debugMode=this._debugMode,this.paused&&t.pause(),this.managers.push(t),t}remove(e){const t=this.managers.indexOf(e);-1!=t&&(this.managers.splice(t,1),e instanceof i||e.end())}emitError(e){e instanceof n.RuntimeError?this.events.emit("runtimeError",e):this.events.emit("exception",e)}runtimeWarning(e){this.events.emit("runtimeWarning",e)}createCancelationTrigger(){const e=this.sub(),{trigger:t,dispose:r}=e.createCancelationTrigger();return{trigger:t,dispose:()=>{r(),this.remove(e)}}}}t.ExecutionManagerGroup=i,n.ExecutionManager.Default=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionList=void 0;const n=r(2);class i{constructor(...e){this.actions=[],this.runtimeList=null,this.hasBlock=!0,this.primary=!1,this.actions=e}pushAll(e){return e.forEach((e=>this.push(e))),this}push(e){return this.actions.push(e),this.runtimeList&&this.runtimeList.push(e.executor(null)),this}remove(e){const t=this.actions.indexOf(e);-1!==t&&(this.actions.splice(t,1),this.runtimeList&&this.runtimeList.removeAt(t))}removeAt(e){e>=0&&e<this.actions.length&&(this.actions.splice(e,1),this.runtimeList&&this.runtimeList.removeAt(e))}splice(e){if(e>=0&&e<this.actions.length){const t=this.actions.splice(e);return this.runtimeList&&this.runtimeList.splice(e),t}}insertAt(e,t){this.actions.splice(e,0,...t),this.runtimeList&&this.runtimeList.insertAt(e,t.map((e=>e.executor(null))))}move(e,t){const r=this.actions.indexOf(e);-1!==r&&(this.actions.splice(r,1),this.actions[t]=e,this.runtimeList&&(this.runtimeList.removeAt(r),this.runtimeList.insertAt(r,[e.executor(null)])))}clear(){this.actions=[],this.runtimeList&&this.runtimeList.clear()}executor(e,t){const r=this.runtimeList=(new n.RuntimeActionList).pushAll(this.actions.map((e=>e.executor(null))));return e=e||this.instance,async i=>{const o=new n.RuntimeEnvironment(t,this.primary);return!o.internal.actionListScope&&i&&(o.internal.actionListScope=i.actionListScope),await r.execute(e,o)}}executorWithCustomEnvironment(e){const t=this.runtimeList=(new n.RuntimeActionList).pushAll(this.actions.map((e=>e.executor(null))));return e=e||this.instance,async r=>r?await t.execute(e,r):console.warn("No environment provided for:",this)}grammar(){return new n.StatementList(...this.actions.map((e=>e.grammar())))}block(e=null,t=!1){const r=new n.BlockInstanceList(e,[],t,this);let o=-1;return r.children=this.actions.map((e=>e.block(r))).map(((e,t)=>{if(e instanceof n.BlockInstance){if(e.definition.mustEmbed)return n.BlockInstance.for(i.ContainerDefinition(),e.action,r).parameter("action",this.actions,t).updateParts();e.definition.hasTopConnector||(e.definition.hasTopConnector=!0,e.definition.hasBottomConnector=!0),!e.definition.hasBottomConnector&&t<this.actions.length-1&&-1==o&&(o=t)}return e})),-1!=o&&r.children.splice(o+1),r}blockNoEmbedFix(e=null,t=!1){const r=new n.BlockInstanceList(e,[],t,this);return r.children=this.actions.map((e=>e.block(r))),r}}t.ActionList=i,i.ContainerDefinition=()=>new n.BlockDefinition("{action}",[new n.BlockParameterInfo("action",n.ValueType.Any)],null,n.BlockShape.Normal,{hasTopConnector:!0,hasBottomConnector:!0,embeddable:!1,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockGalleryFactory=void 0;const n=r(2),i={_null:()=>new n.NothingLiteralAction,number:e=>new n.NumericLiteralAction(e),string:e=>new n.StringLiteralAction(e),lineLiteral:e=>new n.LineLiteralAction(e),call:(e,t,...r)=>{const i=new n.CallMethodAction(e.getMethod(t),r);return e instanceof n.ScoolcodeStageInfo&&(i.instance=s.stage),i},event:(e,t,...r)=>new n.EventHandlerAction(e.getEvent(t),r,new n.ActionList),read:(e,t)=>{const r=new n.ReadPropertyAction(e.getProperty(t));return e instanceof n.ScoolcodeStageInfo&&(r.instance=s.stage),r},isString:e=>e instanceof n.NumericLiteralAction,variable:e=>i.isString(e)?new n.ReadVariableAction(e.value):e,onArray:(e,t)=>new n.ExecuteAsAction(e,t),callOnArray:(e,t,...r)=>i.onArray(t,i.call(n.ValueType.Array,e,...r)),loopBase:1,mapOperator:e=>{if(e)switch(e){case"increment":return n.AssignmentOperators.Additive;case"decrement":return n.AssignmentOperators.Subtractive;case"divide":return n.AssignmentOperators.Divisive;case"multiply":return n.AssignmentOperators.Multiplicative}return n.AssignmentOperators.Additive},write:(e,t,r)=>new n.AssignmentAction(i.read(e,t),r,n.AssignmentOperators.Assign),change:(e,t,r,o)=>new n.AssignmentAction(i.read(e,t),r,i.mapOperator(o))},o={eventData:()=>new n.ReadEventDataAction,doForever:()=>new n.WhileStatementAction(new n.BooleanLiteralAction(!0),new n.ActionList),doIf:()=>new n.IfStatementAction(i.number(""),new n.ActionList),doIfElse:()=>new n.IfElseStatementAction(i.number(""),new n.ActionList,new n.ActionList),doLineComment:()=>new n.LineCommentStatementAction(null,i.lineLiteral("")),doMultiLineComment:()=>new n.MultiLineCommentStatementAction(null,i.string("")),doRepeat:()=>new n.ForStatementAction(new n.DeclareVariableWithValueAction("__counter__",!0,i.number(i.loopBase),n.ValueType.Numeric,!1),new n.LowerThanOrEqualsOperatorAction(new n.ReadVariableAction("__counter__"),i.number(10)),new n.PostfixAssignmentAction(new n.ReadVariableAction("__counter__"),n.UnaryAssignmentOperators.Increment),new n.ActionList),"doRepeatAs:":(e=10,t="i")=>new n.ForStatementAction(new n.DeclareVariableWithValueAction(t,!0,i.number(i.loopBase),n.ValueType.Numeric,!1),new n.LowerThanOrEqualsOperatorAction(new n.ReadVariableAction(t),i.number(e)),new n.PostfixAssignmentAction(new n.ReadVariableAction(t),n.UnaryAssignmentOperators.Increment),new n.ActionList,i.loopBase),doForOf:(e="i")=>new n.ForOfStatementAction(e,!0,new n.NumericLiteralAction(""),new n.ActionList),doUntil:()=>new n.DoWhileStatementAction(i.number(""),new n.ActionList),doWaitUntil:()=>new n.WhileStatementAction(new n.UnaryNotOperatorAction(i.number("")),new n.ActionList),doWhile:()=>new n.WhileStatementAction(i.number(""),new n.ActionList),"letBlockVar:to:":()=>new n.DeclareVariableWithValueAction(" ",!0,null,n.ValueType.Numeric,!1),readVariable:()=>new n.ReadVariableAction(" "),"setVar:to:":()=>new n.AssignmentAction(new n.ReadVariableAction(" "),i.number(10),n.AssignmentOperators.Assign),"changeVar:by:":()=>new n.AssignmentAction(new n.ReadVariableAction(" "),i.number(1),n.AssignmentOperators.Additive),emptyList:()=>new n.ArrayLiteralAction([]),"item:of:":()=>new n.ReadVariableIndexerAction(" ",i.number(1),!1,!1),"item:of:to:":()=>new n.AssignmentAction(new n.ReadVariableIndexerAction(" ",i.number(1),!1,!1),i.number(10),n.AssignmentOperators.Assign),"item:of:by:":()=>new n.AssignmentAction(new n.ReadVariableIndexerAction(" ",i.number(1),!1,!1),i.number(1),n.AssignmentOperators.Additive),propDef:()=>new n.DefineGlobalVariableAction(new n.PropertyInfo("",n.ValueType.Any),null),procDef:()=>new n.DefineFunctionAction(new n.MethodInfo(""),new n.ActionList),return:()=>new n.ReturnStatementAction(i._null()),"return:":()=>new n.ReturnStatementAction(i.number(1)),call:()=>new n.CallFunctionAction(" ",[],!1),"[embedded]call":()=>new n.CallFunctionAction(" ",[],!0),"+":()=>new n.AdditiveOperatorAction(i.number(1),i.number(1),!1,!1),"-":()=>new n.SubtractiveOperatorAction(i.number(1),i.number(1)),"*":()=>new n.MultiplicativeOperatorAction(i.number(1),i.number(1),!1,!1),"/":()=>new n.DivisiveOperatorAction(i.number(1),i.number(1)),"<":()=>new n.LowerThanOperatorAction(i.number(1),i.number(1)),"<=":()=>new n.LowerThanOrEqualsOperatorAction(i.number(1),i.number(1)),"=":()=>new n.EqualsOperatorAction(i.number(1),i.number(1),!1,!1),"!=":()=>new n.NotEqualsOperatorAction(i.number(1),i.number(1),!1,!1),">":()=>new n.GreaterThanOperatorAction(i.number(1),i.number(1)),">=":()=>new n.GreaterThanOrEqualsOperatorAction(i.number(1),i.number(1)),"&":()=>new n.LogicalAndOperatorAction(i.number(""),i.number("")),"|":()=>new n.LogicalOrOperatorAction(i.number(""),i.number("")),"%":()=>new n.ModuloOperatorAction(i.number(1),i.number(1)),false:()=>new n.BooleanLiteralAction(!1),not:()=>new n.UnaryNotOperatorAction(i.number("")),true:()=>new n.BooleanLiteralAction(!0),"[embedded]exec:context:":e=>{var t,r;let o;const a=s.actorProperty;o=!a||a instanceof n.NothingLiteralAction||a instanceof n.NullLiteralAction?s.otherActorProperty instanceof n.NothingLiteralAction||s.otherActorProperty instanceof n.NullLiteralAction?new n.ReadPropertyAction(new n.PropertyInfo(" ",n.ScoolcodeActor.Type)):s.otherActorProperty:a;const l=i.read(n.ScoolcodeActor.Type,"name");return(null===(r=null===(t=null===l||void 0===l?void 0:l.property)||void 0===t?void 0:t.declaringType)||void 0===r?void 0:r.setDeclaringName)&&l.property.declaringType.setDeclaringName(o.name),new n.ExecuteOfAction(o,l)},"parallax.move":e=>new n.ExecuteAsAction(e.parallaxProperty,i.call(n.ScoolcodeParallax.Type,"move",i.number(10))),"parallax.moveVertical":e=>new n.ExecuteAsAction(e.parallaxProperty,i.call(n.ScoolcodeParallax.Type,"moveVertical",i.number(10))),"parallax.moveInAngle":e=>new n.ExecuteAsAction(e.parallaxProperty,i.call(n.ScoolcodeParallax.Type,"moveInAngle",i.number(90),i.number(10))),"parallax.moveHorizontal":e=>new n.ExecuteAsAction(e.parallaxProperty,i.call(n.ScoolcodeParallax.Type,"moveHorizontal",i.number(10))),"parallax.moveLayer":e=>new n.ExecuteAsAction(e.parallaxProperty,i.call(n.ScoolcodeParallax.Type,"moveLayer",e.parallaxLayerName,i.number(10))),"parallax.moveLayerVertical":e=>new n.ExecuteAsAction(e.parallaxProperty,i.call(n.ScoolcodeParallax.Type,"moveLayerVertical",e.parallaxLayerName,i.number(10))),"parallax.moveLayerInAngle":e=>new n.ExecuteAsAction(e.parallaxProperty,i.call(n.ScoolcodeParallax.Type,"moveLayerInAngle",e.parallaxLayerName,i.number(90),i.number(10))),"parallax.moveLayerHorizontal":e=>new n.ExecuteAsAction(e.parallaxProperty,i.call(n.ScoolcodeParallax.Type,"moveLayerHorizontal",e.parallaxLayerName,i.number(10))),"costume.play":e=>new n.ExecuteAsAction(e.costumeProperty,i.call(n.ScoolcodeCostume.Type,"play")),"costume.stop":e=>new n.ExecuteAsAction(e.costumeProperty,i.call(n.ScoolcodeCostume.Type,"stop")),"costume.playTimes":e=>new n.ExecuteAsAction(e.costumeProperty,i.call(n.ScoolcodeCostume.Type,"playTimes",i.number(1))),"costume.playTimesAndWait":e=>new n.ExecuteAsAction(e.costumeProperty,i.call(n.ScoolcodeCostume.Type,"playTimesAndWait",i.number(1))),"costume.playForSeconds":e=>new n.ExecuteAsAction(e.costumeProperty,i.call(n.ScoolcodeCostume.Type,"playForSeconds",i.number(2))),"pop:from:":()=>i.callOnArray("pop",i.variable(void 0))},a={actorProperty:i._null(),otherActorProperty:i._null(),backdropProperty:i._null(),parallaxProperty:i._null(),costumeProperty:i._null(),soundProperty:i._null(),program:null,parallaxLayerName:i.number(" ")};class s{static get program(){return this.actor||this.stage}static get backdropProperty(){if(this.stage){const e=this.stage.textures[0];if(e)return new n.InfoItemWrapperAction(new n.ReadPropertyAction(this.stage.getType().getProperty(e.name),this.stage))}return i._null()}static get parallaxProperty(){if(this.stage){const e=this.stage instanceof n.ScoolcodeStage?this.stage.textures.filter((e=>e instanceof n.ScoolcodeParallax))[0]:void 0;if(e)return new n.InfoItemWrapperAction(new n.ReadPropertyAction(this.stage.getType().getProperty(e.name),this.stage))}return i._null()}static get parallaxLayerName(){if(this.stage){const e=this.stage instanceof n.ScoolcodeStage?this.stage.textures.filter((e=>e instanceof n.ScoolcodeParallax))[0]:void 0;if(e)return i.number(e.layers[0].name||0)}return i.number(" ")}static get costumeProperty(){if(this.actor){const e=this.actor.textures[0];if(e)return new n.InfoItemWrapperAction(new n.ReadPropertyAction(this.actor.getType().getProperty(e.name)))}return i._null()}static get soundProperty(){const e=this.program;if(e){const t=e.sounds[0];if(t)return new n.ReadPropertyAction(e.getType().getProperty(t.name),e instanceof n.ScoolcodeStage?e:null)}return i._null()}static get actorProperty(){if(s.actor){const e=s.actor.stage,t=e.getType().getProperty(s.actor.name);return t?new n.ReadPropertyAction(t,e):null}if(s.stage){const e=s.stage.actors[0];if(e){const t=s.stage.getType().getProperty(e.name);if(t)return new n.ReadPropertyAction(t,s.stage)}}return i._null()}static get otherActorProperty(){if(s.actor){const e=s.stage.actors[0],t=e===s.actor?s.stage.actors[1]:e;if(t)return new n.ReadPropertyAction(s.stage.getType().getProperty(t.name),s.stage)}else if(s.stage){const e=s.stage.actors[0];if(e)return new n.ReadPropertyAction(s.stage.getType().getProperty(e.name),s.stage)}return i._null()}static block(e,t=!1){const r=o[e];return r?r(t?s:a):this.generate(e,t)}static blockWithParams(e,...t){const r=o[e];if(r)return r(...t)}static processParameter(e,t){const r=()=>{if(e.valueType===n.ValueType.String)return i.string(e.defaultValue||"");switch(e.type||e.valueType){case n.ValueType.String:return i.string(e.defaultValue||"");case n.ValueType.Numeric:case n.ValueType.Any:default:if(e.valueType instanceof n.UnionTypeInfo){const t=e.valueType.possibleTypes.find((e=>e===n.ValueType.String)),r=e.valueType.possibleTypes.find((e=>e===n.ValueType.Number));if(t&&!r)return i.string(e.defaultValue||"")}return i.number(e.defaultValue||0)}};return e.defaultValue instanceof Function?e.defaultValue(t?s:a):"undefined"===typeof e.defaultValue?r():"boolean"===typeof e.defaultValue?new n.BooleanLiteralAction(e.defaultValue):null===e.defaultValue?i.number(""):"number"===typeof e.defaultValue?i.number(e.defaultValue):Array.isArray(e.defaultValue)?new n.ArrayLiteralAction([]):r()}static buildAction(e,t){const r=i.read(e.pop(),t.pop());return e.length?new n.ExecuteOfAction(this.buildAction(e,t),r):r}static generate(e,t=!1){const r=e.split(".");let o=null;r.length>1&&"change"===r[r.length-2]&&(o=r.pop(),e=r.join("."));let a=n.TypeRegistry.resolve(r.shift());if(!a)throw new Error(`"${e}" is invalid. A block type must start with a registered type name.`);const l=a,c=[a],p=e.split(".");let u;for(;r.length;){const n=r.shift();let l,d;if(r.length){const t=a.getProperty(n);if(!t)throw new Error(`"${e}" is invalid. "${n}" is not a property of ${a.fullName}.`);c.push(a=t.valueType)}else switch(n){case"get":if(p.pop(),c.pop(),a=c.pop(),l=p.pop(),d=a.getProperty(l),!d)throw new Error(`"${e}" is invalid. "${n}" is not a property of ${a.fullName}.`);u=i.read(a,l);break;case"set":if(p.pop(),c.pop(),a=c.pop(),l=p.pop(),d=a.getProperty(l),!d)throw new Error(`"${e}" is invalid. "${n}" is not a property of ${a.fullName}.`);u=i.write(a,l,this.processParameter(d,t));break;case"change":if(p.pop(),c.pop(),a=c.pop(),l=p.pop(),d=a.getProperty(l),!d)throw new Error(`"${e}" is invalid. "${n}" is not a property of ${a.fullName}.`);u=i.change(a,l,this.processParameter({valueType:d.valueType,defaultValue:d.defaultChange},t),o);break;default:const r=a.getEvent(n);if(r)p.pop(),u=i.event(c.pop(),n,...r.parameters.map((e=>s.processParameter(e,t))));else{const r=a.getMethod(n);if(r)p.pop(),u=i.call(c.pop(),n,...r.parameters.filter((e=>e.isMandatory||e.hasDefaultValue)).map((e=>s.processParameter(e,t))));else{if(a=c.pop(),l=p.pop(),d=a.getProperty(l),!d)throw new Error(`"${e}" is invalid. "${n}" is not a method, event or property of ${a.fullName}.`);u=i.read(a,l)}}}}return c.length?u instanceof n.UpdatableAction?u=new n.ExecuteOfAction(this.buildAction(c,p),u):u instanceof n.AssignmentAction?u.target=new n.ExecuteOfAction(this.buildAction(c,p),u.target):u=new n.ExecuteAsAction(this.buildAction(c,p),u):l instanceof n.ValueTypeInfoBase&&(u=u instanceof n.UpdatableAction?new n.ExecuteOfAction(i.string(""),u):l instanceof n.ArrayInfo?new n.ExecuteAsAction(new n.ArrayLiteralAction([]),u):new n.ExecuteAsAction(i.string(""),u)),u}static for(e){const t=[];for(let r of e){const e=o[r];e?t.push(e(a)):t.push(this.generate(r))}return t}}t.BlockGalleryFactory=s,s.utils=i,s.registerMixin=e=>{const t=e.createBlocks();for(const r in t)o[r]||(o[r]=t[r])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualTypeBuilder=void 0;const n=r(2);class i{static buildType(e,[t,r]){if(t===e)return r;for(;e instanceof n.ScoolcodeEnumInfoBase&&e.dynamic&&e!==e.itemType;)e=e.itemType;if(!(e instanceof n.ValueTypeInfoBase)){if(e instanceof n.UnionTypeInfo){const n=e.possibleTypes.map((e=>i.buildType(e,[t,r])));return{name:e.name,baseType:null,fields:[],events:[],internal:!0,guess:!0,alternatives:n}}return e instanceof n.ClassInfo?i.buildFor(e):null}switch(e){case n.ValueType.Boolean:return n.BooleanLiteralBaseType;case n.ValueType.Number:case n.ValueType.Angle:return n.NumberLiteralBaseType;case n.ValueType.Numeric:return n.NumericLiteralInterface;case n.ValueType.String:case n.ValueType.Color:return n.StringLiteralBaseType;case n.ValueType.TemplateString:return n.TemplateStringLiteralBaseType;case n.ValueType.Array:return n.ArrayLiteralBaseType;case n.ValueType.Iterable:return n.IterableLiteralInterface;case n.ValueType.Function:return n.FunctionBaseType;case n.ScoolcodeBackdrop.Type:return n.BackdropLiteralBaseType;case n.ScoolcodeCostume.Type:return n.CostumeLiteralBaseType;case n.ValueType.Any:return n.AnyType;case n.ValueType.Dynamic:return n.DynamicType;case n.ValueType.Null:return n.NullType;default:return null}}static buildParameter(e,t){return{name:e.name,ref:e.ref,options:{repeatable:e.isRepeatable,mandatory:e.isMandatory},type:i.buildType(e.valueType,t)}}static buildFunction(e,t){return{name:e.name,private:e.private,options:{description:e.description},type:{name:e.name,baseType:n.FunctionBaseType,returnType:i.buildType(e.returnType,t),fields:e.parameters.map((e=>i.buildParameter(e,t))),events:[],internal:!0}}}static buildField(e,t){return{name:e.name,private:e.private,options:{blockRoot:e.blockRoot,readOnly:!e.setter,description:e.description},type:i.buildType(e.valueType,t)}}static buildEvent(e,t){return{name:e.name,baseType:n.EventBaseType,fields:e.parameters.map((({name:e,type:r})=>({name:e,type:i.buildType(r,t)}))),events:[],internal:!0}}static prepareLiteral(e,t,r=!1){const n=i.buildFor(e,r);t.fields=n.fields,n.implements=t.implements,t.runtimeBinding=e}static prepareLiterals(e=!1){i.prepareLiteral(n.ValueType.Boolean,n.BooleanLiteralBaseType,e),i.prepareLiteral(n.ValueType.Number,n.NumberLiteralBaseType,e),i.prepareLiteral(n.ValueType.Numeric,n.NumericLiteralInterface,e),i.prepareLiteral(n.ValueType.String,n.StringLiteralBaseType,e),i.prepareLiteral(n.ValueType.TemplateString,n.TemplateStringLiteralBaseType,e),i.prepareLiteral(n.ValueType.Array,n.ArrayLiteralBaseType,e),i.prepareLiteral(n.ValueType.Iterable,n.IterableLiteralInterface,e),i.prepareLiteral(n.ValueType.Function,n.FunctionBaseType,e),i.prepareLiteral(n.ValueType.Any,n.AnyType,e),i.prepareLiteral(n.ValueType.Dynamic,n.DynamicType,e),i.prepareLiteral(n.ScoolcodeBackdrop.Type,n.BackdropLiteralBaseType,e),i.prepareLiteral(n.ScoolcodeCostume.Type,n.CostumeLiteralBaseType,e),i.prepareLiteral(n.ScoolcodeParallax.Type,n.ParallaxLiteralBaseType,e),n.ExtraTypes.ClassTypes=[i.buildFor(n.GestureInfo.Type)]}static buildFor(e,t=!1){const r=i.cache.find((t=>t.type===e));if(r&&!t)return r.result;const o={name:e.fullName,baseType:null,fields:[],events:[],internal:!0,runtimeBinding:e};if(i.cache.push({type:e,result:o}),o.implements=e.implements.length?e.implements.map((t=>i.buildType(t,[e,o]))):void 0,o.events=e.events.filter((e=>!e.disabled)).map((t=>i.buildEvent(t,[e,o]))),o.fields=[...e.methods.filter((e=>!e.disabled)).map((t=>i.buildFunction(t,[e,o]))),...e.properties.filter((e=>!e.disabled)).map((t=>i.buildField(t,[e,o])))],e instanceof n.ScoolcodeEnumInfoBase){o.baseType=n.EnumBaseType,o.returnType=i.buildType(e.itemType,[e,o]);const t=e.getStaticInstance();t&&e.properties.filter((e=>!e.disabled)).map(((e,r)=>o.fields[r].options.value=t[e.name]))}return e instanceof n.ScoolcodeStageInfo&&o.fields.push({name:"stage",type:o}),o}}t.ContextualTypeBuilder=i,i.cache=[]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeModuleManager=void 0;const n=r(2),i=r(181);class o{static registerLoader(e,t){this.loaders[e]=t}static registerModule(e,t,r){if(this.modules[e])return this.modules[e];const o=n.ContextualTypeBuilder.buildFor(t);return o.baseType=i.ModuleBaseType,o.runtimeBinding=t,this.modules[e]={info:t,type:o,module:r}}static async loadModule(e,t){const r=this.loaders[t];if(!r)return{type:null,info:null,module:null};const n=this.modules[e];if(n)return n;const i=await r.loadModule(e);return i?this.registerModule(e,i.info,i.module):{type:null,info:null,module:null}}}t.ScoolcodeModuleManager=o,o.loaders={},o.modules={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeTypeBuilder=void 0;const n=r(2);class i{static buildType(e){if(!e)return n.ValueType.Any;switch(e.name){case n.BooleanLiteralBaseType.name:return n.ValueType.Boolean;case n.NumberLiteralBaseType.name:return n.ValueType.Number;case n.NumericLiteralInterface.name:return n.ValueType.Numeric;case n.StringLiteralBaseType.name:return n.ValueType.String;case n.TemplateStringLiteralBaseType.name:return n.ValueType.TemplateString;case n.ArrayLiteralBaseType.name:return n.ValueType.Array;case n.IterableLiteralInterface.name:return n.ValueType.Iterable;case n.FunctionBaseType.name:return n.ValueType.Function;case n.BackdropLiteralBaseType.name:return n.ScoolcodeBackdrop.Type;case n.CostumeLiteralBaseType.name:return n.ScoolcodeCostume.Type;case n.AnyType.name:return n.ValueType.Any;case n.DynamicType.name:return n.ValueType.Dynamic;default:if(e.runtimeBinding&&e.runtimeBinding instanceof n.ClassInfo)return e.runtimeBinding;if(e.alternatives){const t=e.alternatives.map((e=>i.buildType(e)));return n.UnionTypeInfo.for(...t)}return n.ValueType.Any}}}t.RuntimeTypeBuilder=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeBuilder=void 0;const n=r(2),i=r(137),o={"-":n.SubtractiveOperatorAction,"/":n.DivisiveOperatorAction,"//":n.IntegerDivisiveOperatorAction,"%":n.ModuloOperatorAction,"<":n.LowerThanOperatorAction,"<=":n.LowerThanOrEqualsOperatorAction,">":n.GreaterThanOperatorAction,">=":n.GreaterThanOrEqualsOperatorAction,"&&":n.LogicalAndOperatorAction,"||":n.LogicalOrOperatorAction,and:n.LogicalAndOperatorAction,or:n.LogicalOrOperatorAction,"**":n.ExponentativeOperatorAction,is:n.IsOperatorAction,in:n.InOperatorAction,not_in:n.NotInOperatorAction},a={"!":n.UnaryNotOperatorAction,not:n.UnaryNotOperatorAction,"+":n.UnaryPlusOperatorAction,"-":n.UnaryMinusOperatorAction,ref:n.ReferenceOperatorAction},s={string:n.StringLiteralAction,number:n.NumericLiteralAction,boolean:n.BooleanLiteralAction,null:n.NullLiteralAction,None:n.UndefinedLiteralAction,undefined:n.UndefinedLiteralAction,array:n.ArrayLiteralAction,"template-string":n.TemplateStringLiteralAction,line:n.LineLiteralAction},l={"=":n.AssignmentOperators.Assign,"+=":n.AssignmentOperators.Additive,"-=":n.AssignmentOperators.Subtractive,"*=":n.AssignmentOperators.Multiplicative,"/=":n.AssignmentOperators.Divisive},c={"++":n.UnaryAssignmentOperators.Increment,"--":n.UnaryAssignmentOperators.Decrement};class p{constructor(e,t){const{StageBaseType:r,ActorBaseType:i}=n.ContextualTypeProvider.getBaseTypes(e);this.StageBaseType=r,this.ActorBaseType=i,this.language=e,this.symbols=t,this.isInternalActionList=!1,this.isInternalActor=!1}getSymbol(e){return this.symbols[e]}connectCode(e,t){return t||n.RuntimeEnvironment.error(null,"UNEXPECTED_TOKEN",e.range),t.codeRange=e.range,t.contextualLevel=e,t.language=this.language,t}buildLiteral(e,t,r,i=null){let o=s[e.type.name];if("string"===e.type.name){const t=+e.options.value;if(!(t!==t||i&&i instanceof n.ScoolcodeEnumInfoBase))return this.connectCode(e,new n.ExplicitStringLiteralAction(e.options.value));o=s.number}else{if("boolean"===e.type.name){const t="true"===e.options.value;return this.connectCode(e,new n.BooleanLiteralAction(t))}if("array"===e.type.name){const i=e.options.value.map((e=>this.buildAction(e,t,r)));return this.connectCode(e,new n.ArrayLiteralAction(i))}if("template-string"===e.type.name){const i=e.options.value.map((e=>this.buildAction(e,t,r)));return this.connectCode(e,new n.TemplateStringLiteralAction(i))}}return this.connectCode(e,new o(e.options.value))}buildDelete(e,t,r){return this.connectCode(e,new n.DeleteStatementAction(this.buildAction(e.items[0],t,r)))}buildReturn(e,t,r){return this.connectCode(e,new n.ReturnStatementAction(e.items[0]?this.buildAction(e.items[0],t,r):null))}buildPass(e,t,r){return this.connectCode(e,new n.PassStatementAction)}buildBreak(e,t,r){return this.connectCode(e,new n.BreakStatementAction)}buildContinue(e,t,r){return this.connectCode(e,new n.ContinueStatementAction)}buildIf(e,t,r){return 3===e.items.length?this.connectCode(e,new n.IfElseStatementAction(this.buildAction(e.items[0],t,r),this.buildActionList(e.items[1],e.range.inner[0],!1,t,r),this.buildActionList(e.items[2],e.range.inner[1],!1,t,r))):this.connectCode(e,new n.IfStatementAction(this.buildAction(e.items[0],t,r),this.buildActionList(e.items[1],e.range.inner[0],!1,t,r)))}buildLineComment(e,t,r,i=null,o=!1){var a;return this.connectCode(e,new n.LineCommentStatementAction(null,this.buildAction(e.items[0],t,r),i,o,null===(a=e.options)||void 0===a?void 0:a.macro))}buildMultiLineComment(e,t,r,i=null,o=!1){return this.connectCode(e,new n.MultiLineCommentStatementAction(null,this.buildAction(e.items[0],t,r),i,o))}buildFor(e,t,r){return this.connectCode(e,new n.ForStatementAction(this.buildAction(e.items[0],t,r),this.buildAction(e.items[1],t,r),this.buildAction(e.items[2],t,r),this.buildActionList(e.items[3],e.range.inner[0],!1,t,r)))}buildForOf(e,t,r){return this.connectCode(e,new n.ForOfStatementAction(e.items[0].options.name,"block"===e.items[0].options.scope,this.buildAction(e.items[1],t,r),this.buildActionList(e.items[2],e.range.inner[0],!1,t,r)))}buildForIn(e,t,r){return this.connectCode(e,new n.ForInStatementAction(e.items[0].items.map((e=>e.options.name)),"block"===e.items[0].items[0].options.scope,this.buildAction(e.items[1],t,r),this.buildActionList(e.items[2],e.range.inner[0],!1,t,r)))}buildWhile(e,t,r){return this.connectCode(e,new n.WhileStatementAction(this.buildAction(e.items[0],t,r),e.items.length>1?this.buildActionList(e.items[1],e.range.inner[0],!1,t,r):new n.ActionList))}buildDoWhile(e,t,r){return this.connectCode(e,new n.DoWhileStatementAction(this.buildAction(e.items[0],t,r),this.buildActionList(e.items[1],e.range.inner[0],!1,t,r)))}buildActionList(e,t,r,i,o){let a;return e.kind===n.ContextualLevelKind.Block?(a=new n.ActionList(...e.items.map((e=>this.buildAction(e,i,o,!1)))),a.codeRange=t):(a=new n.ActionList(this.buildAction(e,i,o,!1)),a.codeRange=e.range,a.hasBlock=!1),a.primary=r,a}buildOperator(e,t,r){if("*"===e.options.operator)return this.connectCode(e,new n.MultiplicativeOperatorAction(this.buildAction(e.items[0],t,r),this.buildAction(e.items[1],t,r),e.options.grouped,e.options.stringReplication));if("+"===e.options.operator)return this.connectCode(e,new n.AdditiveOperatorAction(this.buildAction(e.items[0],t,r),this.buildAction(e.items[1],t,r),e.options.grouped,e.options.arrayConcatenation));if("=="===e.options.operator)return this.connectCode(e,new n.EqualsOperatorAction(this.buildAction(e.items[0],t,r),this.buildAction(e.items[1],t,r),e.options.grouped,e.options.strictTypeCheck));if("!="===e.options.operator)return this.connectCode(e,new n.NotEqualsOperatorAction(this.buildAction(e.items[0],t,r),this.buildAction(e.items[1],t,r),e.options.grouped,e.options.strictTypeCheck));{let n=o[e.options.operator];return this.connectCode(e,new n(this.buildAction(e.items[0],t,r),this.buildAction(e.items[1],t,r),e.options.grouped))}}isAny(e){return!1}buildReadVariable(e,t,r,i=!1){var o,a;if((null===(a=null===(o=null===e||void 0===e?void 0:e.type)||void 0===o?void 0:o.baseType)||void 0===a?void 0:a.name)&&["ScoolcodeScene"].includes(e.type.baseType.name))return this.buildPropertyAccess(e,e,t,r);const s=new n.ReadVariableAction(e.options.name);return s.mightBeDeclaration=i,e.context&&n.TypeUtils.isDerivedFrom(e.context.type,this.StageBaseType)&&(s.instance=e.context.runtimeBinding||this.stageInstance),this.connectCode(e,s)}buildPropertyAccess(e,t,r,i){var o,a;let s,l;if(t.context)if(t.context.type.alternatives){for(const p of t.context.type.alternatives)if(l=n.TypeUtils.extractRuntimeBinding(p),l)break}else l=t.context.type.name===i.name?i:n.TypeUtils.extractRuntimeBinding(t.context.type);else l=i;!(l instanceof n.ScoolcodeActorInfo||l instanceof n.ScoolcodeStageInfo)&&(this.isAny(t)||t.context&&t.context.type.guess)?s=new n.PropertyInfo(t.options.name,n.ValueType.Any):l&&(s=l.getProperty(t.options.name),s||(s=l.getMethod(t.options.name),s||(s=new n.PropertyInfo(t.options.name,n.ValueType.Any))));const c=new n.ReadPropertyAction(s);return c.codeRange=e.range,t.implicitContext||t.context&&n.TypeUtils.isStronglyDerivedFrom(t.context.type,this.StageBaseType,2)?((t.context&&n.TypeUtils.isStronglyDerivedFrom(t.context.type,this.StageBaseType,2)||t.type&&t.type.name&&["backdrop","scene"].includes(t.type.name)||(null===(a=null===(o=null===t||void 0===t?void 0:t.type)||void 0===o?void 0:o.baseType)||void 0===a?void 0:a.name)&&["ScoolcodeScene"].includes(t.type.baseType.name))&&(c.instance=t.context.runtimeBinding||this.stageInstance,s.declaringType||(s.declaringType=this.stageInstance.getType())),this.connectCode(e,c)):this.connectCode(e,new n.ExecuteOfAction(this.buildAction(t.context,r,i),c))}buildPropertyIndexerOrRangeAccess(e,t,r,i){let o,a,s=t.context?n.TypeUtils.extractRuntimeBinding(t.context.type):i;if(t.context&&(t.context.type.guess||"any"===t.context.type.name))o=new n.PropertyInfo(t.options.name,n.ValueType.Any);else if(o=s.getProperty(t.options.name),!o&&(o=s.getMethod(t.options.name),!o)){if(!this.symbols||!this.getSymbol("FLEXIBLE_TYPES"))throw new n.RuntimeError(null,"INVALID_PROPERTY_ACCESS",e.range,t.options.name);o=new n.PropertyInfo(t.options.name,n.ValueType.Any)}return a=e.kind===n.ContextualLevelKind.PropertyIndexerRange?new n.ReadPropertyIndexerRangeAction(o,t.items[0]?this.buildAction(t.items[0],r,i):null,t.items[1]?this.buildAction(t.items[1],r,i):null):new n.ReadPropertyIndexerAction(o,this.buildAction(t.items[0],r,i),t.options.negativeIndices,t.options.validateIndices),a.codeRange=e.range,t.implicitContext?(t.context&&n.TypeUtils.isDerivedFrom(t.context.type,this.StageBaseType)&&(a.instance=t.context.runtimeBinding||this.stageInstance,o.declaringType||(o.declaringType=this.stageInstance.getType())),this.connectCode(e,a)):this.connectCode(e,new n.ExecuteOfAction(this.buildAction(t.context,r,i),a))}buildExpressionIndexerAccess(e,t,r,i){const o=new n.ReadExpressionIndexerAction(this.buildAction(t.context,r,i),this.buildAction(t.items[0],r,i),t.options.negativeIndices,t.options.validateIndices);return this.connectCode(e,o)}buildExpressionIndexerRangeAccess(e,t,r,i){const o=new n.ReadExpressionIndexerRangeAction(this.buildAction(t.context,r,i),t.items[0]?this.buildAction(t.items[0],r,i):null,t.items[1]?this.buildAction(t.items[1],r,i):null);return this.connectCode(e,o)}buildPostfixUnaryOperator(e,t,r){const i=e.items[0],o=c[e.options.operator],a=this.buildLeftHandSideAccess(i,e,t,r);return this.connectCode(e,new n.PostfixAssignmentAction(a,o,e.options.grouped))}buildPrefixUnaryOperator(e,t,r){if("++"===e.options.operator||"--"===e.options.operator){const i=c[e.options.operator],o=this.buildLeftHandSideAccess(e.items[0],e,t,r);return this.connectCode(e,new n.PrefixAssignmentAction(o,i,e.options.grouped))}{let n=a[e.options.operator];return this.connectCode(e,new n(this.buildAction(e.items[0],t,r),e.options.grouped))}}buildAssignment(e,t,r){const i=e.items[0],o=e.items[1],a=l[e.options.operator];let s=this.buildLeftHandSideAccess(i,e,t,r);if(s&&s instanceof n.ReadPropertyAction&&!s.property.setter&&!this.getSymbol("FLEXIBLE_TYPES"))throw new n.RuntimeError(null,"ACCESS_GET_PROPERTY",e.range,s.property.name);if(s&&s instanceof n.ExecuteOfAction&&s.action instanceof n.ReadPropertyAction&&!s.action.property.setter)throw new n.RuntimeError(null,"ACCESS_GET_PROPERTY",e.range,s.action.property.name);if(n.AssignmentAction.concatArrays&&i&&i.type&&"array"===i.type.name&&!(s instanceof n.ReadVariableIndexerAction)&&"+="===e.options.operator&&o&&o.type&&!["array","any","dynamic"].includes(o.type.name))throw new n.RuntimeError(null,"INVALID_ASSIGNMENT_TYPE_MISMATCH",e.range,i.type.name);return this.connectCode(e,new n.AssignmentAction(s,this.buildAction(o,t,r),a,e.options.grouped,e.options.chainable))}buildLeftHandSideAccess(e,t,r,i){var o;let a;switch(e.kind){case n.ContextualLevelKind.ReadVariable:const s=(null===(o=t.options)||void 0===o?void 0:o.mightBeDeclaration)||!1;a=this.buildReadVariable(e,r,i,s);break;case n.ContextualLevelKind.ReadProperty:a=this.buildPropertyAccess(t,e,r,i);break;case n.ContextualLevelKind.VariableIndexer:a=this.buildReadVariableIndexer(e,r,i);break;case n.ContextualLevelKind.VariableIndexerRange:a=this.buildReadVariableIndexerRange(e,r,i);break;case n.ContextualLevelKind.PropertyIndexer:case n.ContextualLevelKind.PropertyIndexerRange:a=this.buildPropertyIndexerOrRangeAccess(t,e,r,i);break;case n.ContextualLevelKind.ExpressionIndexer:a=this.buildExpressionIndexerAccess(t,e,r,i);break;case n.ContextualLevelKind.ExpressionIndexerRange:a=this.buildExpressionIndexerRangeAccess(t,e,r,i);break;default:throw new n.RuntimeError(null,"UNSUPPORTED_LEFT_HAND_SIDE",t.range,e.kind.toString())}return a}buildReadProperty(e,t,r){var i;return e.context&&"StageScript.Event"===(null===(i=e.context.type)||void 0===i?void 0:i.name)?this.connectCode(e,new n.ReadEventDataAction):this.buildPropertyAccess(e,e,t,r)}buildReadPropertyIndexer(e,t,r){var i;if(e.context&&"StageScript.Event"===(null===(i=e.context.type)||void 0===i?void 0:i.name))throw new n.RuntimeError(null,"INVALID_INDEXING_EVENT_DATA",e.range);return this.buildPropertyIndexerOrRangeAccess(e,e,t,r)}buildReadVariableIndexer(e,t,r){return this.connectCode(e,new n.ReadVariableIndexerAction(e.options.name,this.buildAction(e.items[0],t,r),e.options.negativeIndices,e.options.validateIndices))}buildReadVariableIndexerRange(e,t,r){return this.connectCode(e,new n.ReadVariableIndexerRangeAction(e.options.name,e.items[0]?this.buildAction(e.items[0],t,r):null,e.items[1]?this.buildAction(e.items[1],t,r):null))}buildThis(e,t,r){return this.connectCode(e,new n.ReadThisAction)}buildStageKeyword(e,t,r){return this.connectCode(e,new n.ReadStageAction(t))}buildCallFunction(e,t,r,i=!0){const o=e.items.map((e=>this.buildAction(e,t,r))),a=new n.CallFunctionAction(e.options.name,o,i);return e.context?e.implicitContext?(e.context&&n.TypeUtils.isDerivedFrom(e.context.type,this.StageBaseType)&&(a.instance=e.context.runtimeBinding||this.stageInstance),this.connectCode(e,a)):this.connectCode(e,new n.ExecuteAsAction(this.buildAction(e.context,t,r,i),this.connectCode(e,a),i)):this.connectCode(e,a)}collectCallMethodConstants(e,t,r){if((e instanceof n.ScoolcodeStage||e instanceof n.ScoolcodeActor)&&t.parameters.length>0&&r.length>0&&(t.parameters[0].valueType==n.SignalsInfo.Type||t.parameters[0].valueType==n.MessagesInfo.Type||t.parameters[0].valueType==n.ConversationsInfo.Type)&&r[0]instanceof n.NumericLiteralAction&&"string"===typeof r[0].value){const i=r[0].value,o=e instanceof n.ScoolcodeStage?e:e.stage;let a;switch(t.parameters[0].valueType){case n.SignalsInfo.Type:a=o.signals;break;case n.MessagesInfo.Type:a=o.messages;break;case n.ConversationsInfo.Type:a=n.SpriteManager.Default.ConversationProvider.ProjectSpecific,n.SpriteManager.Default.ConversationProvider.registerValue(i)}this.isInternalActionList||!a||a.includes(i)||a.push(i)}}validateMethodParameters(e,t){for(let r=0;r<e.parameters.length;r++){const i=e.parameters[r],o=t[r];if(i.valueType==n.ValueType.Color&&o instanceof n.NumericLiteralAction||i.valueType instanceof n.UnionTypeInfo&&i.valueType.possibleTypes.some((e=>e===n.ValueType.Color))){const e=o.value;if("string"===typeof e&&!e.match(/^#[0-9a-fA-F]{6}$/))return!1;if("number"===typeof e&&(e!==Math.round(e)||e<0||e>16777215))return!1}if(i.valueType instanceof n.SignalsInfo||i.valueType instanceof n.MessagesInfo){if(o instanceof n.NumericLiteralAction&&"string"!==typeof o.value)return!1;if(""===o.value||+o.value===+o.value)return!1}}return!0}validateEnumParameters(e,t){for(let r=0;r<e.parameters.length;r++){const i=e.parameters[r],o=t[r];if(o instanceof n.ExplicitStringLiteralAction){let e=i.valueType instanceof n.ScoolcodeEnumInfoBase;!e&&i.valueType instanceof n.UnionTypeInfo&&i.valueType.possibleTypes.some((e=>e instanceof n.ScoolcodeEnumInfoBase))&&(e=!0),e&&(t[r]=new n.StringLiteralAction(o.value))}}}buildCallMethod(e,t,r,i,o=!0){var a,s,l,c,p,u,d;const h=e.items.map((e=>this.buildAction(e,t,r))),f=e.context?n.TypeUtils.resolveGuess(e.context.type):null,m=!(null===(s=null===(a=e.context)||void 0===a?void 0:a.type)||void 0===s?void 0:s.guess)&&(null===(l=e.type)||void 0===l?void 0:l.guess)?n.AnyType:n.TypeUtils.resolveGuess(e.type),g=f?n.TypeUtils.extractRuntimeBinding(f):r;let y,v,b=!1;if(g&&(y=g.getMethod(m.name),y&&r instanceof n.ScoolcodeActorInfo&&g instanceof n.ScoolcodeStageInfo)){r.getMethod(m.name)&&(b=!0)}if(y||m!=n.AnyType?y||m!=n.DynamicType?!y&&(null===(p=null===(c=e.context)||void 0===c?void 0:c.type)||void 0===p?void 0:p.returnType)&&e.context.type.returnType==n.DynamicType?y=new n.MethodInfo(e.options.name,n.ValueType.Dynamic):!y&&(null===(d=null===(u=e.context)||void 0===u?void 0:u.type)||void 0===d?void 0:d.runtimeBinding).getMethod&&(y=e.context.type.runtimeBinding.getMethod(m.name)):y=new n.MethodInfo(e.options.name,n.ValueType.Dynamic):y=new n.MethodInfo(e.options.name,n.ValueType.Any),!y)throw new n.RuntimeError(null,"INVALID_METHOD_ACCESS",e.range,m.name);if(!this.validateMethodParameters(y,h))throw new n.RuntimeError(null,"INVALID_ARGUMENT",e.range,y.name);return this.validateEnumParameters(y,h),v=new i(y,h,!1,o),this.collectCallMethodConstants(t,y,h),e.context?e.implicitContext?y&&e.context&&n.TypeUtils.isDerivedFrom(e.context.type,this.StageBaseType)&&(v.instance=t instanceof n.ScoolcodeStagePart?t.proxy:e.context.runtimeBinding||this.stageInstance,y.declaringType?y.declaringType.getMethod(e.type.name)||(v.instance=this.stageInstance):y.declaringType=this.stageInstance.getType(),t instanceof n.ScoolcodeActor&&b)?this.connectCode(e,new n.ExecuteAsAction(this.buildStageKeyword(e.context,t.stage,y.declaringType),this.connectCode(e,v),o)):this.connectCode(e,v):this.connectCode(e,new n.ExecuteAsAction(this.buildAction(e.context,t,r,o),this.connectCode(e,v),o)):(e.implicitContext&&t instanceof n.ScoolcodeActor&&(y.declaringType instanceof n.ScoolcodeStageInfo?v.instance=t.stage:y.declaringType instanceof n.ScoolcodeActorInfo&&(v.instance=t)),this.connectCode(e,v))}buildAction(e,t,r,o=!0,a=null){const s=()=>{const t="RuntimeBuilder.buildAction"+(e.range?` [${e.range.line}/${e.range.char}]`:"");console.log(t);try{console.error(e)}catch(r){console.log(r.message)}throw new n.RuntimeError(null,"UNSUPPORTED_ACTION",e.range,e.kind.toString())};switch(e.kind){case n.ContextualLevelKind.Stage:if(null===t||void 0===t?void 0:t.stage)return this.buildStageKeyword(e,t,r);s();case n.ContextualLevelKind.Literal:return this.buildLiteral(e,t,r,a);case n.ContextualLevelKind.Actor:case n.ContextualLevelKind.ReadProperty:return this.buildReadProperty(e,t,r);case n.ContextualLevelKind.ReadVariable:return this.buildReadVariable(e,t,r);case n.ContextualLevelKind.ExpressionIndexer:return this.connectCode(e,new n.ReadExpressionIndexerAction(this.buildAction(e.context,t,r),this.buildAction(e.items[0],t,r),e.options.negativeIndices,e.options.validateIndices));case n.ContextualLevelKind.ExpressionIndexerRange:return this.connectCode(e,new n.ReadExpressionIndexerRangeAction(this.buildAction(e.context,t,r),e.items[0]?this.buildAction(e.items[0],t,r):null,e.items[1]?this.buildAction(e.items[1],t,r):null));case n.ContextualLevelKind.DeclareVariable:return e.items[0]?this.connectCode(e,new n.DeclareVariableWithValueAction(e.options.name,"block"===e.options.scope,this.buildAction(e.items[0],t,r),n.RuntimeTypeBuilder.buildType(e.type),e.options.typeAnnotated)):this.connectCode(e,new n.DeclareVariableAction(e.options.name,"block"===e.options.scope,null,n.RuntimeTypeBuilder.buildType(e.type),e.options.typeAnnotated));case n.ContextualLevelKind.PropertyIndexer:case n.ContextualLevelKind.PropertyIndexerRange:return this.buildReadPropertyIndexer(e,t,r);case n.ContextualLevelKind.VariableIndexer:return this.buildReadVariableIndexer(e,t,r);case n.ContextualLevelKind.VariableIndexerRange:return this.buildReadVariableIndexerRange(e,t,r);case n.ContextualLevelKind.CallMethod:return this.buildCallMethod(e,t,r,n.CallMethodAction,o);case n.ContextualLevelKind.CallFunction:return this.buildCallFunction(e,t,r,o);case n.ContextualLevelKind.Record:return this.buildCallMethod(e,t,r,i.CreateRecordAction,o);case n.ContextualLevelKind.Operator:return this.buildOperator(e,t,r);case n.ContextualLevelKind.PrefixUnaryOperator:return this.buildPrefixUnaryOperator(e,t,r);case n.ContextualLevelKind.PostfixUnaryOperator:return this.buildPostfixUnaryOperator(e,t,r);case n.ContextualLevelKind.ThisBinding:return this.buildThis(e,t,r);case n.ContextualLevelKind.StageBinding:return this.buildStageKeyword(e,t,r);case n.ContextualLevelKind.Assignment:return this.buildAssignment(e,t,r);case n.ContextualLevelKind.IfStatement:return this.buildIf(e,t,r);case n.ContextualLevelKind.LineCommentStatement:return this.buildLineComment(e,t,r);case n.ContextualLevelKind.MultiLineCommentStatement:return this.buildMultiLineComment(e,t,r);case n.ContextualLevelKind.ForStatement:return this.buildFor(e,t,r);case n.ContextualLevelKind.ForOfStatement:return this.buildForOf(e,t,r);case n.ContextualLevelKind.ForInStatement:return this.buildForIn(e,t,r);case n.ContextualLevelKind.WhileStatement:return this.buildWhile(e,t,r);case n.ContextualLevelKind.DoWhileStatement:return this.buildDoWhile(e,t,r);case n.ContextualLevelKind.DeleteStatement:return this.buildDelete(e,t,r);case n.ContextualLevelKind.ReturnStatement:return this.buildReturn(e,t,r);case n.ContextualLevelKind.BreakStatement:return this.buildBreak(e,t,r);case n.ContextualLevelKind.PassStatement:return this.buildPass(e,t,r);case n.ContextualLevelKind.ContinueStatement:return this.buildContinue(e,t,r);default:s()}}declareStageField(e,t,r){e.internal||e.type&&!e.type.mutable&&n.TypeUtils.isStronglyDerivedFrom(e.type,this.ActorBaseType)&&e.name===e.type.name&&r.declareActor(e.name)}defineStageField(e,t,r){var i,o,a,s,l,c,p,u,d,h;if(!e.internal)if(e.type&&!e.options&&n.TypeUtils.isStronglyDerivedFrom(e.type,n.FunctionBaseType)){if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.RecordConstructorBaseType))return void this.declareRecord(e,t);try{const t=e.value.options.internal?r.declareUserMethod(e.name,n.RuntimeTypeBuilder.buildType(e.type.returnType)):r.declareUserFunction(e.name,n.RuntimeTypeBuilder.buildType(e.type.returnType));t.returnTypeExplicit=e.value.options.typeAnnotated,e.type.fields.forEach((e=>{const{name:r,ref:i,type:o}=e,a=n.RuntimeTypeBuilder.buildType(o);t.declareParameterWithTypeInfo(r,a,e.options.typeAnnotated,void 0,i)})),e.value.options.block&&t.declareBlock(e.value.options.block,n.BlockColor.Gamepad,{hasTopConnector:!e.value.options.returns,hasBottomConnector:!e.value.options.returns,embeddable:e.value.options.returns})}catch(f){f instanceof n.RuntimeError&&n.RuntimeEnvironment.error(null,f.message,e.range)}}else if(e.type&&!e.type.mutable&&n.TypeUtils.isStronglyDerivedFrom(e.type,this.ActorBaseType)&&e.name===e.type.name)this.declareActor(e,t,r);else if(e.type&&n.TypeUtils.isStronglyDerivedFrom(e.type,n.ModuleBaseType))t.declareModule(e.name,e.type.runtimeBinding);else if(e.type&&e.type.baseType&&"ScoolcodeScene"===e.type.baseType.name&&e.name===e.type.name)this.declareScene(e,t,r);else if(e.type&&e.type.baseType&&"ScoolcodeStagePart"===e.type.baseType.name);else if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.TextureLiteralBaseType)&&e.value&&e.value.options&&e.value.options.value){const i=e.value.options.default||!1;if((e.type===n.BackdropLiteralBaseType||e.type===n.CostumeLiteralBaseType)&&e.value&&e.value.options&&e.value.options.value)r.addTexture(t,new n.ScoolcodeBackdrop(e.name,e.value.options.value,i));else{if(!(e.type===n.ParallaxLiteralBaseType&&e.value&&e.value.options&&e.value.options.value))throw new n.RuntimeError(null,"UNSUPPORTED_TEXTURE",e.range,e.name);r.addTexture(t,new n.ScoolcodeParallax(e.name,e.value.options.value.map((e=>new n.ScoolcodeParallaxLayer(e.name,e.path,e.relativeSpeed))),i))}t[e.name].range=e.range}else if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.SoundLiteralBaseType)&&e.value&&e.value.options&&e.value.options.value)r.addSound(t,new n.ScoolcodeSound(e.name,e.value.options.value)),t[e.name].range=e.range;else if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.LineCommentBaseType))r.addComment(t,this.buildLineComment(e.value,t,r,e.name,!0));else if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.MultiLineCommentBaseType))r.addComment(t,this.buildMultiLineComment(e.value,t,r,e.name,!0));else{if(!(e.type&&(e.type.mutable||n.TypeUtils.isStronglyDerivedFrom(e.type,n.LiteralBaseType)||n.TypeUtils.isLiteralType(e.type)||n.TypeUtils.isAnyOrDynamic(e.type)||(null===(i=e.type)||void 0===i?void 0:i.baseType)&&(null===(a=null===(o=e.type)||void 0===o?void 0:o.baseType)||void 0===a?void 0:a.name)&&["ScoolcodeStage","ScoolcodeActor","enum"].includes(e.type.baseType.name))||(null===(s=e.type)||void 0===s?void 0:s.baseType)&&"ScoolcodeActorPart"===(null===(l=e.type)||void 0===l?void 0:l.baseType.name)&&!(null===(c=e.options)||void 0===c?void 0:c.useDef)||(null===(p=e.type)||void 0===p?void 0:p.baseType)&&"ScoolcodeStagePart"===(null===(u=e.type)||void 0===u?void 0:u.baseType.name)&&!(null===(d=e.options)||void 0===d?void 0:d.useDef)||0==(null===(h=null===e||void 0===e?void 0:e.options)||void 0===h?void 0:h.internal)))throw new n.RuntimeError(null,"UNSUPPORTED_FIELD_TYPE",e.range,e.name);try{r.addUserField(t,e.name,e.value?this.buildAction(e.value,t,r):null,n.RuntimeTypeBuilder.buildType(e.type),null,e.options.internal,e.options.typeAnnotated)}catch(f){f instanceof n.RuntimeError&&n.RuntimeEnvironment.error(null,f.message,e.range)}}}defineStagePartField(e,t,r){var i,o,a,s,l;if(!e.internal)if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.FunctionBaseType)){if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.RecordConstructorBaseType))return void this.declareRecord(e,t);try{const i=r.declareUserFunction(e.name,n.RuntimeTypeBuilder.buildType(e.type.returnType));i.returnTypeExplicit=e.value.options.typeAnnotated,e.type.fields.forEach((e=>{const{name:t,ref:r,type:o}=e,a=n.RuntimeTypeBuilder.buildType(o);i.declareParameterWithTypeInfo(t,a,e.options.typeAnnotated,void 0,r)})),e.value.options.block&&i.declareBlock(e.value.options.block,t.metadata.color||n.BlockColor.Gamepad,{hasTopConnector:!e.value.options.returns,hasBottomConnector:!e.value.options.returns,embeddable:e.value.options.returns}),t[e.name]||(t[e.name]=i)}catch(c){c instanceof n.RuntimeError&&n.RuntimeEnvironment.error(null,c.message,e.range)}}else if((null===(i=e.type)||void 0===i?void 0:i.baseType)&&"ScoolcodeStagePart"===(null===(a=null===(o=e.type)||void 0===o?void 0:o.baseType)||void 0===a?void 0:a.name));else if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.LineCommentBaseType))r.addComment(t,this.buildLineComment(e.value,t,r,e.name,!0));else if(n.TypeUtils.isStronglyDerivedFrom(e.type,n.MultiLineCommentBaseType))r.addComment(t,this.buildMultiLineComment(e.value,t,r,e.name,!0));else if(e.type.mutable||n.TypeUtils.isStronglyDerivedFrom(e.type,n.LiteralBaseType)||n.TypeUtils.isAnyOrDynamic(e.type)||"ScoolcodeStage"===(null===(s=e.type.baseType)||void 0===s?void 0:s.name)||"ScoolcodeActor"===(null===(l=e.type.baseType)||void 0===l?void 0:l.name))try{r.addUserField(t,e.name,e.value?this.buildAction(e.value,t,r):null,n.RuntimeTypeBuilder.buildType(e.type),null,e.options.internal,e.options.typeAnnotated)}catch(c){c instanceof n.RuntimeError&&n.RuntimeEnvironment.error(null,c.message,e.range)}else{if(!e.type||!n.TypeUtils.isStronglyDerivedFrom(e.type,n.ModuleBaseType))throw new n.RuntimeError(null,"UNSUPPORTED_FIELD_TYPE",e.range,e.name);t.declareModule(e.name,e.type.runtimeBinding)}}declareStage(e){const t=e.type;if(!n.TypeUtils.isStronglyDerivedFrom(t,this.StageBaseType))throw new n.RuntimeError(null,"INVALID_TREE",e.range);{const r=new n.ScoolcodeStageInfo;r.declareMixinsFromBase(this.StageBaseType.runtimeBinding);const i=this.stageInstance=r.createInstance([{}]);r.applyMixins(i,!0),e.value.runtimeBinding=i,t.runtimeBinding=r,r.contextualField=e,i.codeRange=e.range;for(let e of t.fields)this.declareStageField(e,i,r);for(let e of t.fields)this.defineStageField(e,i,r)}}declareSceneLocal(e,t,r,i,o){const a=e.type,s=new n.ScoolcodeStageInfo;s.declareMixinsFromBase(this.StageBaseType.runtimeBinding);const l=s.createInstance([{}]);s.applyMixins(l,!0),e.value.runtimeBinding=l,a.runtimeBinding=s,s.contextualField=e,l.codeRange=e.range;for(let n of a.fields)this.declareStageField(n,l,s);for(let n of a.fields)this.defineStageField(n,l,s);const c=new n.ScoolcodeSceneInfo(s),p=new n.ScoolcodeScene(c,t,l,r);return e.value.runtimeBinding=l,e.type.runtimeBinding=s,o.addTexture(i,p),p}declareScene(e,t,r){const i=e.type.fields[0],o=i.type,a=new n.ScoolcodeStageInfo;a.declareMixinsFromBase(this.StageBaseType.runtimeBinding);const s=a.createInstance([{}]);a.applyMixins(s,!0),i.value.runtimeBinding=s,o.runtimeBinding=a,a.contextualField=e,s.codeRange=e.range;for(let n of o.fields)this.declareStageField(n,s,a);for(let n of o.fields)this.defineStageField(n,s,a);const l=new n.ScoolcodeSceneInfo(a),c=new n.ScoolcodeScene(l,e.name,s,e.options.subtype,e.options.path,e.options.preload,e.options.default);e.value.runtimeBinding=c,e.type.runtimeBinding=l,r.addTexture(t,c)}declareStagePart(e,t,r){var i,o,a;const s=e.type;let l,c=(null===(i=e.options)||void 0===i?void 0:i.builder)||this;(null===(o=e.options)||void 0===o?void 0:o.builder)&&c.stageInstance!==this.stageInstance&&(c.cachedLocalParts=void 0,c.stageInstance=this.stageInstance);try{l=r.declarePart(t,e.name,null===(a=e.options)||void 0===a?void 0:a.path,c.GenericStage)}catch(d){throw d.range=e.range,d}const p=l.getType();p.range=e.range,e.value.runtimeBinding=l,s.runtimeBinding=p;const u=n.LanguageMixinManager.get(c.language);u&&(u.declare(p,null),u.declareForPart(),p.applyMixins(t)),l.metadata={color:e.value.options.color,category:e.value.options.category};for(let n of s.fields)c.defineStagePartField(n,l,p);return l}buildActor(e,t,r,i=!1){var o,a,s,l,c,p,u,d,h,f,m,g,y,v;const b=e.type,S=e.value.runtimeBinding,T=b.runtimeBinding;S.codeRange=e.value.range;const w=i&&(null===(o=e.options)||void 0===o?void 0:o.builder)||this,E=this.isInternalActionList;w.isInternalActionList=E||(null===(a=e.options)||void 0===a?void 0:a.internal)&&!0===e.options.internal||(null===(l=null===(s=e.value)||void 0===s?void 0:s.options)||void 0===l?void 0:l.internal)&&!0===(null===(c=e.value)||void 0===c?void 0:c.options.internal)||!1,this.isInternalActor=w.isInternalActionList;for(let x of b.fields)if(!x.internal)if(x.type&&!x.options&&n.TypeUtils.isStronglyDerivedFrom(x.type,n.FunctionBaseType)){const e=x.value.options.internal||i?T.methods.find((e=>e.name===x.name)):T.functions.find((e=>e.name===x.name));if(n.TypeUtils.isStronglyDerivedFrom(x.type,n.RecordConstructorBaseType))S.defineRecord(x.name);else{w.isInternalActionList=this.isInternalActor||(null===(p=x.options)||void 0===p?void 0:p.internal)&&!0===x.options.internal||(null===(d=null===(u=x.value)||void 0===u?void 0:u.options)||void 0===d?void 0:d.internal)&&!0===(null===(h=x.value)||void 0===h?void 0:h.options.internal)||!1;const t=new n.ActionList(...x.value.items.map((e=>w.buildAction(e,S,T,!1))));t.primary=!0,t.codeRange=x.value.range.inner?x.value.range.inner[0]:x.value.range,S.defineUserFunction(new n.DefineFunctionAction(e,t,x.value.options.internal||this.isInternalActor))}}else n.TypeUtils.isStronglyDerivedFrom(x.type,n.LineCommentBaseType)||n.TypeUtils.isStronglyDerivedFrom(x.type,n.MultiLineCommentBaseType)?w.connectCode(x.value,S[x.value.name]):x.type&&x.type.baseType&&"ScoolcodeActorPart"===x.type.baseType.name&&(null===(f=x.options)||void 0===f?void 0:f.useDef)&&w.buildActor(x,t,r,!0);for(let x of e.value.items){let e=r.getEvent(x.type.name);e||(e=T.getEvent(x.type.name)),w.isInternalActionList=this.isInternalActor||(null===(m=x.options)||void 0===m?void 0:m.internal)&&!0===x.options.internal||(null===(y=null===(g=x.value)||void 0===g?void 0:g.options)||void 0===y?void 0:y.internal)&&!0===(null===(v=x.value)||void 0===v?void 0:v.options.internal)||!1;const i=[];for(let t=0;t<e.parameters.length;t++)if(t<x.items.length){const r=x.items[t];i.push(w.buildAction(r,S,T,!1,e.parameters[t].type))}const o=x.items.slice(i.length),a=new n.ActionList(...o.map((e=>w.buildAction(e,S,T,!1))));if(a.codeRange=x.range.inner?x.range.inner[0]:x.range,a.primary=!0,!n.EventHandlerAction.validate(e,i))throw new n.RuntimeError(null,"INVALID_ARGUMENT",x.range,e.name);const s=new n.EventHandlerAction(e,i,a,x.options.internal||this.isInternalActor);s.codeRange=x.range;for(let r=0;r<i.length;r++){const o=i[r],a=e.parameters[r];if(o instanceof n.NumericLiteralAction){const e=o.value,r=a.type.valueProvider?a.type.valueProvider({program:t}):[];if(e&&r&&!r.find((t=>t[1]===e))){x.items&&x.items.length>0&&x.items[0].range?x.items[0].range:x.range}}if(o instanceof n.ExplicitStringLiteralAction){let e=a.type instanceof n.ScoolcodeEnumInfoBase;!e&&a.type instanceof n.UnionTypeInfo&&a.type.possibleTypes.some((e=>e instanceof n.ScoolcodeEnumInfoBase))&&(e=!0),e&&(i[r]=new n.StringLiteralAction(o.value))}}S.defineEventHandler(s)}w.isInternalActionList=E}declareRecord(e,t){const r=e.type,i=new n.ScoolcodeRecordInfo(e.name);for(let o of r.fields)o.internal||i.addUserField(o.name,n.RuntimeTypeBuilder.buildType(o.type),o.options.typeAnnotated);t.declareRecord(i),r.runtimeBinding=i}declareActor(e,t,r){var i,o,a,s,l,c,p,u,d,h,f,m;const g=e.type,y=t.declareActor(e.name),v=y.getType();y.metadata={hidden:e.value.options.internal},e.value.runtimeBinding=y,g.runtimeBinding=v;for(let S of g.fields)if(!S.internal)if(S.type&&!S.options&&n.TypeUtils.isStronglyDerivedFrom(S.type,n.FunctionBaseType)){if(n.TypeUtils.isStronglyDerivedFrom(S.type,n.RecordConstructorBaseType)){this.declareRecord(S,y);continue}try{const e=S.value.options.internal?v.declareUserMethod(S.name,n.RuntimeTypeBuilder.buildType(S.type.returnType)):v.declareUserFunction(S.name,n.RuntimeTypeBuilder.buildType(S.type.returnType));e.returnTypeExplicit=S.value.options.typeAnnotated,S.type.fields.forEach((t=>{const{name:r,ref:i,type:o}=t,a=n.RuntimeTypeBuilder.buildType(o);e.declareParameterWithTypeInfo(r,a,t.options.typeAnnotated,void 0,i)})),S.value.options.block&&e.declareBlock(S.value.options.block,n.BlockColor.Gamepad,{hasTopConnector:!S.value.options.returns,hasBottomConnector:!S.value.options.returns,embeddable:S.value.options.returns})}catch(b){b instanceof n.RuntimeError&&n.RuntimeEnvironment.error(null,b.message,S.range)}}else if(n.TypeUtils.isStronglyDerivedFrom(S.type,n.TextureLiteralBaseType)&&S.value&&S.value.options&&S.value.options.value&&S.value.options.value.url){if(S.type!==n.CostumeLiteralBaseType)throw new n.RuntimeError(null,"UNSUPPORTED_TEXTURE",S.range,S.name);{const e=S.value.options.value,t=S.value.options.default||!1,r=new n.ScoolcodeCostume(S.name,e.url,t);r.setCenterX(e.width),r.setCenterY(e.height),r.size=1/e.resolution,r.range=S.range,v.addTexture(y,r)}}else if(n.TypeUtils.isStronglyDerivedFrom(S.type,n.SoundLiteralBaseType)&&S.value&&S.value.options&&S.value.options.value)v.addSound(y,new n.ScoolcodeSound(S.name,S.value.options.value)),y[S.name].range=S.range;else if(n.TypeUtils.isStronglyDerivedFrom(S.type,n.LineCommentBaseType))v.addComment(y,this.buildLineComment(S.value,y,v,S.name,!0));else if(n.TypeUtils.isStronglyDerivedFrom(S.type,n.MultiLineCommentBaseType))v.addComment(y,this.buildMultiLineComment(S.value,y,v,S.name,!0));else if(S.type&&(S.type.mutable||n.TypeUtils.isDerivedFrom(S.type,n.LiteralBaseType)||n.TypeUtils.isLiteralType(S.type)||n.TypeUtils.isAnyOrDynamic(S.type)||(null===(i=S.type)||void 0===i?void 0:i.baseType)&&(null===(a=null===(o=S.type)||void 0===o?void 0:o.baseType)||void 0===a?void 0:a.name)&&["ScoolcodeActor","enum"].includes(S.type.baseType.name))||(null===(s=S.type)||void 0===s?void 0:s.baseType)&&"ScoolcodeActorPart"===(null===(l=S.type)||void 0===l?void 0:l.baseType.name)&&!(null===(c=S.options)||void 0===c?void 0:c.useDef)||(null===(p=S.type)||void 0===p?void 0:p.baseType)&&"ScoolcodeStagePart"===(null===(u=S.type)||void 0===u?void 0:u.baseType.name)&&!(null===(d=S.options)||void 0===d?void 0:d.useDef)||0==(null===(h=null===S||void 0===S?void 0:S.options)||void 0===h?void 0:h.internal))try{v.addUserField(y,S.name,S.value?this.buildAction(S.value,y,v):null,n.RuntimeTypeBuilder.buildType(S.type),null,S.options.internal||this.isInternalActor,S.options.typeAnnotated)}catch(b){b instanceof n.RuntimeError&&n.RuntimeEnvironment.error(null,b.message,S.range)}else if((null===(f=S.type)||void 0===f?void 0:f.baseType)&&"ScoolcodeActorPart"===(null===(m=S.type)||void 0===m?void 0:m.baseType.name))this.declareActorPart(S,y,v);else if(!n.TypeUtils.isStronglyDerivedFrom(S.type,this.StageBaseType))throw new n.RuntimeError(null,"UNSUPPORTED_FIELD_TYPE",S.range,S.name)}declareActorPart(e,t,r){var i,o,a,s,l,c,p;const u=e.type,d=(null===(i=e.options)||void 0===i?void 0:i.builder)||this;let h;(null===(o=e.options)||void 0===o?void 0:o.builder)&&(d.stageInstance!==this.stageInstance&&(d.cachedLocalParts=void 0,d.stageInstance=this.stageInstance),d.prepareLocalParts(e),n.LanguageMixinManager.get(d.language).declareForPart());try{h=r.declarePart(t,e.name,null===(a=e.options)||void 0===a?void 0:a.path,d.GenericActor)}catch(m){throw m.range=e.range,m}const f=h.getType();h.metadata={hidden:e.value.options.internal,color:e.value.options.color,category:e.value.options.category},f.range=e.range,e.value.runtimeBinding=h,u.runtimeBinding=f,(null===(s=e.options)||void 0===s?void 0:s.builder)&&(f.applyMixins(t),d.GenericStage.applyMixins(this.stageInstance));for(let g of u.fields)if(!g.internal)if(n.TypeUtils.isStronglyDerivedFrom(g.type,n.FunctionBaseType)){if(n.TypeUtils.isStronglyDerivedFrom(g.type,n.RecordConstructorBaseType)){this.declareRecord(g,h);continue}try{const e=f.declareUserFunction(g.name,n.RuntimeTypeBuilder.buildType(g.type.returnType));e.returnTypeExplicit=g.value.options.typeAnnotated,g.type.fields.forEach((t=>{const{name:r,ref:i,type:o}=t,a=n.RuntimeTypeBuilder.buildType(o);e.declareParameterWithTypeInfo(r,a,t.options.typeAnnotated,void 0,i)})),g.value.options.block&&e.declareBlock(g.value.options.block,h.metadata.color||n.BlockColor.Gamepad,{hasTopConnector:!g.value.options.returns,hasBottomConnector:!g.value.options.returns,embeddable:g.value.options.returns})}catch(m){m instanceof n.RuntimeError&&n.RuntimeEnvironment.error(null,m.message,g.range)}}else if(n.TypeUtils.isStronglyDerivedFrom(g.type,n.LineCommentBaseType))f.addComment(h,d.buildLineComment(g.value,h,f,g.name,!0));else if(n.TypeUtils.isStronglyDerivedFrom(g.type,n.MultiLineCommentBaseType))f.addComment(h,d.buildMultiLineComment(g.value,h,f,g.name,!0));else if(g.type&&(g.type.mutable||n.TypeUtils.isDerivedFrom(g.type,n.LiteralBaseType)||n.TypeUtils.isAnyOrDynamic(g.type)||"ScoolcodeActor"===(null===(l=g.type.baseType)||void 0===l?void 0:l.name)))try{f.addUserField(h,g.name,g.value?d.buildAction(g.value,h,f,!1):null,n.RuntimeTypeBuilder.buildType(g.type),null,g.options.internal,g.options.typeAnnotated)}catch(m){m instanceof n.RuntimeError&&n.RuntimeEnvironment.error(null,m.message,g.range)}else if((null===(c=g.type)||void 0===c?void 0:c.baseType)&&"ScoolcodeActorPart"===(null===(p=g.type)||void 0===p?void 0:p.baseType.name))d.declareActorPart(g,h,f);else if(!n.TypeUtils.isStronglyDerivedFrom(g.type,d.StageBaseType))throw new n.RuntimeError(null,"UNSUPPORTED_FIELD_TYPE",g.range,g.name);return h}buildSceneInternal(e,t,r,i){var o;for(let a of t.fields)if(!a.internal)if(a.type&&!a.options&&n.TypeUtils.isStronglyDerivedFrom(a.type,n.FunctionBaseType)){const e=a.value.options.internal?i.methods.find((e=>e.name===a.name)):i.functions.find((e=>e.name===a.name)),t=new n.ActionList(...a.value.items.map((e=>this.buildAction(e,r,i,!1))));t.primary=!0,t.codeRange=a.value.range.inner?a.value.range.inner[0]:a.value.range,r.defineUserFunction(new n.DefineFunctionAction(e,t,a.value.options.internal))}else a.type&&!a.type.mutable&&n.TypeUtils.isStronglyDerivedFrom(a.type,this.ActorBaseType)&&a.name===a.type.name?this.buildActor(a,r,i):n.TypeUtils.isStronglyDerivedFrom(a.type,n.LineCommentBaseType)||n.TypeUtils.isStronglyDerivedFrom(a.type,n.MultiLineCommentBaseType)?this.connectCode(a.value,r[a.value.name]):a.type&&a.type.baseType&&"ScoolcodeStagePart"===a.type.baseType.name&&(null===(o=a.options)||void 0===o?void 0:o.useDef)&&(this.declareStagePart(a,r,i),this.buildStage(a,!0));for(let a of e.value.items){const e=i.getEvent(a.type.name),t=e.parameters.map(((e,t)=>this.buildAction(a.items[t],r,i))),o=a.items.slice(t.length),s=new n.ActionList(...o.map((e=>this.buildAction(e,r,i,!1))));if(s.primary=!0,s.codeRange=a.range.inner?a.range.inner[0]:a.range,!n.EventHandlerAction.validate(e,t))throw new n.RuntimeError(null,"INVALID_ARGUMENT",a.range,e.name);const l=new n.EventHandlerAction(e,t,s,a.options.internal);l.codeRange=a.range;for(let i=0;i<t.length;i++){const o=t[i],s=e.parameters[i];if(o instanceof n.NumericLiteralAction){const e=o.value,t=s.type.valueProvider?s.type.valueProvider({program:r}):[];if(e&&t&&!t.find((t=>t[1]===e))){a.items&&a.items.length>0&&a.items[0].range?a.items[0].range:a.range}}}r.defineEventHandler(l)}return r}buildSceneLocal(e){const t=e.type,r=e.value.runtimeBinding.stage,n=e.value.runtimeBinding.stage.getType(),i=this.stageInstance;return this.stageInstance=r,this.buildSceneInternal(e,t,r,n),this.stageInstance=i,r}buildScene(e){var t;const r=e.type.fields[0],n=r.type,i=r.value.runtimeBinding,o=n.runtimeBinding,a=this.stageInstance;return"part"!==(null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.subtype)&&(this.stageInstance=i),this.buildSceneInternal(r,n,i,o),this.stageInstance=a,i}buildStage(e,t=!1){var r,i,o,a,s,l,c,p,u,d;const h=e.type,f=e.value.runtimeBinding,m=h.runtimeBinding;t||n.SpriteManager.Default.ConversationProvider.resetProjectSpecific();const g=t&&(null===(r=e.options)||void 0===r?void 0:r.builder)||this,y=this.isInternalActionList;g.isInternalActionList=y;for(let v of h.fields)if(v.type&&v.value&&!v.options&&n.TypeUtils.isStronglyDerivedFrom(v.type,n.FunctionBaseType)){const e=v.internal||v.value.options.internal||t?m.methods.find((e=>e.name===v.name)):m.functions.find((e=>e.name===v.name));if(n.TypeUtils.isStronglyDerivedFrom(v.type,n.RecordConstructorBaseType))f.defineRecord(v.name);else{g.isInternalActionList=y||(null===(i=v.options)||void 0===i?void 0:i.internal)&&!0===v.options.internal||(null===(a=null===(o=v.value)||void 0===o?void 0:o.options)||void 0===a?void 0:a.internal)&&!0===(null===(s=v.value)||void 0===s?void 0:s.options.internal)||!1;const t=new n.ActionList(...v.value.items.map((e=>g.buildAction(e,f,m,!1))));t.primary=!0,t.codeRange=v.value.range.inner?v.value.range.inner[0]:v.value.range,f.defineUserFunction(new n.DefineFunctionAction(e,t,v.value.options.internal)),g.isInternalActionList=y}}else n.TypeUtils.isStronglyDerivedFrom(v.type,n.ModuleBaseType)?f.defineModule(v.name,v.value):v.type&&!v.type.mutable&&n.TypeUtils.isStronglyDerivedFrom(v.type,g.ActorBaseType)&&v.name===v.type.name?g.buildActor(v,f,m):v.type&&v.type.baseType&&"ScoolcodeScene"===v.type.baseType.name&&v.name===v.type.name?g.buildScene(v):n.TypeUtils.isStronglyDerivedFrom(v.type,n.LineCommentBaseType)||n.TypeUtils.isStronglyDerivedFrom(v.type,n.MultiLineCommentBaseType)?g.connectCode(v.value,f[v.value.name]):v.type&&v.type.baseType&&"ScoolcodeStagePart"===v.type.baseType.name&&(null===(l=v.options)||void 0===l?void 0:l.useDef)&&(this.declareStagePart(v,f,m),g.buildStage(v,!0));for(let v of e.value.items){const e=m.getEvent(v.type.name),t=e.parameters.map(((e,t)=>g.buildAction(v.items[t],f,m,!1,e.type)));g.isInternalActionList=(null===(c=v.options)||void 0===c?void 0:c.internal)&&!0===v.options.internal||(null===(u=null===(p=v.value)||void 0===p?void 0:p.options)||void 0===u?void 0:u.internal)&&!0===(null===(d=v.value)||void 0===d?void 0:d.options.internal)||!1;const r=v.items.slice(t.length),i=new n.ActionList(...r.map((e=>g.buildAction(e,f,m,!1))));if(i.primary=!0,i.codeRange=v.range.inner?v.range.inner[0]:v.range,!n.EventHandlerAction.validate(e,t))throw new n.RuntimeError(null,"INVALID_ARGUMENT",v.range,e.name);const o=new n.EventHandlerAction(e,t,i,v.options.internal);o.codeRange=v.range;for(let a=0;a<t.length;a++){const r=t[a],i=e.parameters[a];if(r instanceof n.NumericLiteralAction){const e=r.value,t=i.type.valueProvider?i.type.valueProvider({program:f}):[];if(e&&t&&!t.find((t=>t[1]===e))){v.items&&v.items.length>0&&v.items[0].range?v.items[0].range:v.range}}if(r instanceof n.ExplicitStringLiteralAction){let e=i.type instanceof n.ScoolcodeEnumInfoBase;!e&&i.type instanceof n.UnionTypeInfo&&i.type.possibleTypes.some((e=>e instanceof n.ScoolcodeEnumInfoBase))&&(e=!0),e&&(t[a]=new n.StringLiteralAction(r.value))}}f.defineEventHandler(o)}return f}declareLocalParts(e){var t,r;let i=[];const o=e.types.find((e=>"ActorParts"===e.name)),a=e.types.find((e=>"StageParts"===e.name));let s=null,l=null;if((null===o||void 0===o?void 0:o.fields.length)||(null===a||void 0===a?void 0:a.fields.length)){if(this.GenericStage=l=new n.ScoolcodeStageInfo,l.declareMixinsFromBase(this.StageBaseType.runtimeBinding),s=new n.ScoolcodeStage({},l),l.applyMixins(s,!0),o.runtimeBinding=l,null===a||void 0===a?void 0:a.fields.length)for(let e of a.fields)e.type&&e.type.baseType&&"ScoolcodeStagePart"===e.type.baseType.name&&!(null===(t=e.options)||void 0===t?void 0:t.useDef)&&i.push(this.declareStagePart(e,s,l));if(null===o||void 0===o?void 0:o.fields.length){const e=new n.ScoolcodeActor({name:"GenericActor",stage:s}),t=this.GenericActor=e.getType();for(let n of o.fields)n.type&&n.type.baseType&&"ScoolcodeActorPart"===n.type.baseType.name&&!(null===(r=n.options)||void 0===r?void 0:r.useDef)&&i.push(this.declareActorPart(n,e,t))}}return{parts:i,GenericStage:l,genericStage:s}}buildLocalParts(e,t,r){var n,i;const o=e.types.find((e=>"ActorParts"===e.name)),a=e.types.find((e=>"StageParts"===e.name));if(null===a||void 0===a?void 0:a.fields.length)for(let s of a.fields)s.type&&s.type.baseType&&"ScoolcodeStagePart"===s.type.baseType.name&&!(null===(n=s.options)||void 0===n?void 0:n.useDef)&&this.buildStage(s,!0);if(null===o||void 0===o?void 0:o.fields.length)for(let s of o.fields)s.type&&s.type.baseType&&"ScoolcodeActorPart"===s.type.baseType.name&&!(null===(i=s.options)||void 0===i?void 0:i.useDef)&&this.buildActor(s,t,r,!0)}prepareLocalParts(e){let t=!1;const r=this.preSetTree;if(!r)throw new n.RuntimeError(null,"MISSING_CONTEXTUAL_TREE",e.range);if(this.cachedLocalParts)return this.cachedLocalParts;t=!0;const i=this.declareLocalParts(r);return this.buildLocalParts(r,i.genericStage,i.GenericStage),t&&(this.cachedLocalParts=i),i}buildApplication(e){const t=new n.ScoolcodeApplication([]),r=e.root.type;let{parts:i,GenericStage:o,genericStage:a}=this.declareLocalParts(e);t.parts=i;for(let l of r.fields)!l.type.mutable&&n.TypeUtils.isStronglyDerivedFrom(l.type,this.StageBaseType)&&this.declareStage(l);this.buildLocalParts(e,a,o);for(let l of r.fields)!l.type.mutable&&n.TypeUtils.isStronglyDerivedFrom(l.type,this.StageBaseType)&&t.addStage(this.buildStage(l));const s=e.types.filter((e=>{var t;return"ScoolcodeScene"===(null===(t=null===e||void 0===e?void 0:e.baseType)||void 0===t?void 0:t.name)}));for(let l of s)for(let e of l.fields){a||(a=new n.ScoolcodeStage({},new n.ScoolcodeStageInfo),o=a.getType(),o.declareMixinsFromBase(this.StageBaseType.runtimeBinding),o.applyMixins(a,!0));const r=".Stage";let i=e.name.includes(r)?e.name.slice(0,e.name.length-r.length):e.name;const s=t.stage&&t.stage[i]&&t.stage[i].kind?t.stage[i].kind:"local";if(t.scenes.find((e=>e.name===i)))throw new n.RuntimeError(null,"REDECLARATION_PROPERTY",e.range,i,"stage");if("local"===s&&e.type&&e.type.baseType&&"ScoolcodeStage"===e.type.baseType.name){const r=this.declareSceneLocal(e,i,s,a,o);this.buildSceneLocal(e),t.scenes.push(r)}}return t}}t.RuntimeBuilder=p,p.logTimer=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartManager=void 0;const n=r(2);let i;class o{constructor(e){this.actorParts={},this.stageParts={},this.sceneParts={},this.runtimeParts={},this.partContainerCache={},this.projectCache={},this.loader=e}static get GenericStage(){return i==new n.ScoolcodeStage({},new n.ScoolcodeStageInfo).getType()}static beginLoad(e){let t=0;for(const r of this.currentlyLoading)r===e&&t++;switch(t){case 0:this.currentlyLoading.push(e);break;case 1:break;default:throw new Error(`Circular part dependency found: ${this.currentlyLoading.join(" --\x3e ")} --\x3e ${e}`)}}static endLoad(e){const t=this.currentlyLoading.indexOf(e);-1!==t&&this.currentlyLoading.splice(t,1)}loadLocalParts(e){var t,r,n;this.actorParts={},this.stageParts={},this.sceneParts={},this.actorPartsType=e.types.find((e=>"ActorParts"===e.name));const i=(null===(t=this.actorPartsType)||void 0===t?void 0:t.fields)||[];for(let s of i)this.actorParts[s.name]={part:s,builder:!1,type:e.types.find((e=>e.name===s.name))};this.stagePartsType=e.types.find((e=>"StageParts"===e.name));const o=(null===(r=this.stagePartsType)||void 0===r?void 0:r.fields)||[];for(let s of o)this.stageParts[s.name]={part:s,builder:!1,type:e.types.find((e=>e.name===s.name))};this.scenePartsType=e.types.find((e=>"SceneParts"===e.name));const a=(null===(n=this.scenePartsType)||void 0===n?void 0:n.fields)||[];for(let s of a)s&&s.name&&(this.sceneParts[s.name]={part:s,builder:!1,type:e.types.find((e=>e.name===s.name))});this.exluded=[this.actorPartsType,this.stagePartsType,this.scenePartsType]}loadLocalRuntimeParts(e,t){this.runtimeParts={};for(let r of e)r.language=t,this.runtimeParts[r.name]=r}async loadPart(e,t,r){var i,a;let{ct:s,builder:l}=this.partContainerCache[t]||n.PartCache.Instance.resolve(t),c=null===(i=this.projectCache[t])||void 0===i?void 0:i.language;if(!s||!l){o.beginLoad(`${t}/${e}`),n.ContextualParserLogger.log(`ProjectLoading - PartManager.loadPart-00 ${e} ${t}`);const i=this.projectCache[t]||await this.loader.loadPartContainer(t);if(n.ContextualParserLogger.log("ProjectLoading - PartManager.loadPart-01"),this.projectCache[t]=i,!i)return o.endLoad(`${t}/${e}`),null;if(c=i.language||"stagescript",!i.source)return console.error("Blox mode load not implemented",e,t,r),o.endLoad(`${t}/${e}`),null;if(n.ContextualParserLogger.log("ProjectLoading - PartManager.loadPart-02 "),s=await this.loader.compileSource(i.source,i.language,null,i.symbols||{}),!s){const e=i.symbols||{};e.COMPATIBILITY_MODE||(e.COMPATIBILITY_MODE=!0),s=await this.loader.compileSource(i.source,i.language,null,e)}l=new n.RuntimeBuilder(c),l.preSetTree=s,this.partContainerCache[t]={ct:s,builder:l},n.PartCache.Instance.store(t,{ct:s,builder:l}),n.ContextualParserLogger.log("ProjectLoading - PartManager.loadPart-03"),o.endLoad(`${t}/${e}`)}const p=r?[r]:["Actor","Stage","Scene"];for(const n of p){const r=s.types.find((e=>e.name===n+"Parts"));r&&"Actor"===n&&(r.runtimeBinding=o.GenericStage);const i=(null===(a=s.types.find((e=>e.name===n+"Parts")))||void 0===a?void 0:a.fields).find((t=>t.name===e));if(i)return i.options=i.options||{},i.options.path=t,i.options.language=c,{part:i,builder:l,type:s.types.find((e=>e.name===i.name)),ct:s}}return null}instantiatePart(e){const t=n.TypeUtils.deepCloneType(e.type,this.exluded);return{part:n.TypeUtils.deepReplace(e.part,e.type,t,this.exluded),type:t,builder:e.builder}}async getActorPart(e,t){let r=this.actorParts[e];return r||t&&(r=await this.loadPart(e,t,"Actor"),r)?this.instantiatePart(r):{part:null,type:null,builder:!1}}async getStagePart(e,t){let r=this.stageParts[e];return r||t&&(r=await this.loadPart(e,t,"Stage"),r)?this.instantiatePart(r):{part:null,type:null,builder:!1}}async getScenePart(e,t){let r=this.sceneParts[e];return r||(t&&(r=await this.loadPart(e,t,"Scene"),r)?r:{part:null,type:null,builder:!1})}async loadRuntimePart(e){if(!e.path)return this.runtimeParts[e.name];{o.beginLoad(`${e.path}/${e.name}`);const t=this.projectCache[e.path]||await this.loader.loadPartContainer(e.path);if(o.endLoad(`${e.path}/${e.name}`),this.projectCache[e.path]=t,t&&t.application){const r=t.application.parts.find((t=>t.name===e.name));if(r){r.path=e.path,r.language=t.language;for(let t of r.statements.statements)"use"!==t.subKind||t.path||(t.path=e.path);return r}return this.loadPart(e.name,e.path)||t}}return null}getActorPartType(e){return this.actorParts[e]}getStagePartType(e){return this.stageParts[e]}getScenePartType(e){return this.sceneParts[e]}}t.PartManager=o,o.currentlyLoading=[]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeImporter=void 0;const n=r(2);t.RuntimeImporter=class{constructor(e,t,r=null,i="mix"){this.serializer=new n.GrammarSerializer,this.resolveTypeExpression=e=>{if(!e)return null;const t=[],r=[];for(const i of e.fullNames)if(i.includes("|")){const e=i.split("|");for(const i of e)if(!t.includes(i)){const e=n.TypeRegistry.resolve(i);e&&(r.push(e),t.push(i))}}else if(!t.includes(i)){const e=n.TypeRegistry.resolve(i);e&&(r.push(e),t.push(i))}switch(r.length){case 0:return;case 1:return r[0];default:return n.UnionTypeInfo.for(...r)}},this.importLiteral=(e,t=null)=>e instanceof n.ArrayLiteral?new n.ArrayLiteralAction(e.expressions.map((e=>this.importEntry(e)))):e instanceof n.TemplateStringLiteral?new n.TemplateStringLiteralAction(e.expressions.map((e=>this.importEntry(e)))):e instanceof n.BooleanLiteral?new n.BooleanLiteralAction(e.value):e instanceof n.NullLiteral?new n.NullLiteralAction(e.value):e instanceof n.NothingLiteral?new n.NothingLiteralAction(e.value):e instanceof n.NumericLiteral?new n.NumericLiteralAction(e.value):e instanceof n.StringLiteral?+e.value!==+e.value||"blox"===this.projectMode||this.isEnumType(t)?new n.StringLiteralAction(e.value):new n.ExplicitStringLiteralAction(e.value):e instanceof n.UndefinedLiteral?new n.UndefinedLiteralAction("python"===this.language?"None":void 0):e instanceof n.LineLiteral||"line"===e.subKind?new n.LineLiteralAction(e.value):void 0,this.importExpression=(e,t=!0)=>{const r=r=>{if(!t)return!1;if(this.currentActor&&(!r.declaringType||"null"===r.declaringType.name)){const t=this.currentActor.getType(),i=n.TypeRegistry.resolve(t.name),o=i.getProperty(r.name),a=o?null:i.getMethod(r.name);return o?(r.declaringType=t,e.property=o,!0):!!a&&(r.declaringType=t,e.method=a,!0)}if(!r.declaringType){const t=this.stage.getType(),n=t.getMethod(r.name);n&&(r.declaringType=t,e.method=n)}},i=(e,r,i)=>{if(!t)return!1;r.declaringType instanceof n.ScoolcodeStageInfo?r.declaringType instanceof n.ScoolcodeStagePartInfo?e.instance=this.stage[r.declaringType.name]:e.instance=this.stage:r.valueType instanceof n.ScoolcodeStageInfo?r.valueType instanceof n.ScoolcodeStagePartInfo?e.instance=this.stage[r.valueType.name]:e.instance=this.stage:"ScoolcodeStage"!==i||e.instance||(e.instance=this.stage)};if(e instanceof n.AwaitExpression)return this.importExpression(e.expression);if(e instanceof n.CallExpression)return new n.CallExpressionAction(this.importEntry(e.expression),e.parameters.map((e=>this.importEntry(e))));if(e instanceof n.CallFunctionExpression)return new n.CallFunctionAction(e.name,e.parameters.map((e=>this.importEntry(e))),e.embedded);if(e instanceof n.AssignmentExpression)return new n.AssignmentAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),n.AssignmentOperators.Assign,e.grouped,e.chainable);if(e instanceof n.DotExpression)switch(e.metadata){case"as":return new n.ExecuteAsAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide,!1),e.embedded);case"of":return new n.ExecuteOfAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide));case"event":return new n.ReadEventDataAction;default:throw new Error("Invalid metadata in DotExpression: "+e.metadata)}else{if(e instanceof n.IndexerExpression){if(e.expression instanceof n.PropertyName){const t=new n.ReadPropertyIndexerAction(e.expression.property,this.importEntry(e.indexer),e.negativeIndices,e.validateIndices);return i(t,e.expression.property),t}return e.expression instanceof n.Identifier?new n.ReadVariableIndexerAction(e.expression.name,this.importEntry(e.indexer),e.negativeIndices,e.validateIndices):new n.ReadExpressionIndexerAction(this.importEntry(e.expression),this.importEntry(e.indexer),e.negativeIndices,e.validateIndices)}if(e instanceof n.IndexerRangeExpression){if(e.expression instanceof n.PropertyName){const t=new n.ReadPropertyIndexerRangeAction(e.expression.property,this.importEntry(e.indexStart),this.importEntry(e.indexEnd));return i(t,e.expression.property),t}return e.expression instanceof n.Identifier?new n.ReadVariableIndexerRangeAction(e.expression.name,this.importEntry(e.indexStart),this.importEntry(e.indexEnd)):new n.ReadExpressionIndexerRangeAction(this.importEntry(e.expression),this.importEntry(e.indexStart),this.importEntry(e.indexEnd))}if(e instanceof n.PropertyName){const t=e.property.declaringType?e.property.declaringType:e.property.valueType;let o=e.property;if(t instanceof n.ScoolcodeStageInfo){const t=this.stage.getType();o=t.properties.find((t=>t.name===e.property.name))||t.methods.find((t=>t.name===e.property.name))||e.property}else r(o)&&(o=e.property);const a=new n.ReadPropertyAction(o,t instanceof n.ScoolcodeStageInfo?this.stage:null);return i(a,o),a}if(e instanceof n.ThisExpression)return new n.ReadThisAction;if(e instanceof n.StageExpression)return new n.ReadStageAction(this.stage);if(e instanceof n.CallMethodExpression){r(e.method);const t=new n.CallMethodAction(e.method,e.parameters.filter(((t,r)=>{const n=e.method.parameters.length-1;return!(n>-1&&n<r&&!e.method.parameters[n].isRepeatable)})).map(((t,r)=>{let n=r;const i=e.method.parameters.length-1;return i>-1&&i<r&&e.method.parameters[i].isRepeatable&&(n=i),this.importEntry(t,!0,e.method.parameters&&e.method.parameters.length?e.method.parameters[n].valueType:null)})),!1,e.embedded);return t.language=this.language,i(t,e.method,e.declaringType),this.collectCallMethodConstants(t.instance,t.method,t.parameters),t}if(e instanceof n.Identifier){const t=new n.ReadVariableAction(e.name);return t.mightBeDeclaration=e.mightBeDeclaration||!1,t}}},this.importOperator=e=>e instanceof n.UnaryNotOperator?new n.UnaryNotOperatorAction(this.importEntry(e.leftHandSide),e.grouped):e instanceof n.UnaryPlusOperator?new n.UnaryPlusOperatorAction(this.importEntry(e.leftHandSide),e.grouped):e instanceof n.UnaryMinusOperator?new n.UnaryMinusOperatorAction(this.importEntry(e.leftHandSide),e.grouped):e instanceof n.ReferenceOperator?new n.ReferenceOperatorAction(this.importEntry(e.leftHandSide),e.grouped):e instanceof n.ExponentativeOperator?new n.ExponentativeOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.MultiplicativeOperator?new n.MultiplicativeOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped,e.stringReplication):e instanceof n.DivisiveOperator?new n.DivisiveOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.IntegerDivisiveOperator?new n.IntegerDivisiveOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.ModuloOperator?new n.ModuloOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.AdditiveOperator?new n.AdditiveOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped,e.arrayConcatenation):e instanceof n.SubtractiveOperator?new n.SubtractiveOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.GreaterThanOperator?new n.GreaterThanOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.GreaterThanOrEqualsOperator?new n.GreaterThanOrEqualsOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.LowerThanOperator?new n.LowerThanOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.LowerThanOrEqualsOperator?new n.LowerThanOrEqualsOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.IsOperator?new n.IsOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.InOperator?new n.InOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.NotInOperator?new n.NotInOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.EqualsOperator?new n.EqualsOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped,e.strictTypeCheck):e instanceof n.NotEqualsOperator?new n.NotEqualsOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped,e.strictTypeCheck):e instanceof n.LogicalAndOperator?new n.LogicalAndOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.LogicalOrOperator?new n.LogicalOrOperatorAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),e.grouped):e instanceof n.AdditiveAssignmentOperator?new n.AssignmentAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),n.AssignmentOperators.Additive,e.grouped):e instanceof n.SubtractiveAssignmentOperator?new n.AssignmentAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),n.AssignmentOperators.Subtractive,e.grouped):e instanceof n.MultiplicativeAssignmentOperator?new n.AssignmentAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),n.AssignmentOperators.Multiplicative,e.grouped):e instanceof n.DivisiveAssignmentOperator?new n.AssignmentAction(this.importEntry(e.leftHandSide),this.importEntry(e.rightHandSide),n.AssignmentOperators.Divisive,e.grouped):e instanceof n.PostfixIncrementationOperator?new n.PostfixAssignmentAction(this.importEntry(e.leftHandSide),n.UnaryAssignmentOperators.Increment,e.grouped):e instanceof n.PostfixDecrementationOperator?new n.PostfixAssignmentAction(this.importEntry(e.leftHandSide),n.UnaryAssignmentOperators.Decrement,e.grouped):e instanceof n.PrefixIncrementationOperator?new n.PrefixAssignmentAction(this.importEntry(e.leftHandSide),n.UnaryAssignmentOperators.Increment,e.grouped):e instanceof n.PrefixIncrementationOperator?new n.PrefixAssignmentAction(this.importEntry(e.leftHandSide),n.UnaryAssignmentOperators.Decrement,e.grouped):void 0,this.importStatement=e=>{if(e instanceof n.BlockScopedVariableDeclaration)return new n.DeclareVariableWithValueAction(e.name,!0,this.importEntry(e.expression),this.resolveTypeExpression(e.type),e.type.explicit);if(e instanceof n.FunctionScopedVariableDeclaration)return new n.DeclareVariableWithValueAction(e.name,!1,this.importEntry(e.expression),this.resolveTypeExpression(e.type),e.type.explicit);if(e instanceof n.PropertyDeclaration){const t=new n.PropertyInfo(e.name,this.resolveTypeExpression(e.type));return t.valueTypeExplicit=e.type.explicit,new n.DefineGlobalVariableAction(t,this.importEntry(e.expression))}if(e instanceof n.DoWhileStatement)return new n.DoWhileStatementAction(this.importEntry(e.expression),this.importList(e.statements));if(e instanceof n.ForOfStatement)return new n.ForOfStatementAction(e.variableName,"boolean"!==typeof e.isVariableLoopScoped||e.isVariableLoopScoped,this.importEntry(e.expression),this.importList(e.statements));if(e instanceof n.ForInStatement)return new n.ForInStatementAction(e.variableNames,"boolean"!==typeof e.isVariableLoopScoped||e.isVariableLoopScoped,this.importEntry(e.expression),this.importList(e.statements));if(e instanceof n.ForStatement)return new n.ForStatementAction(this.importEntry(e.expression1),this.importEntry(e.expression2),this.importEntry(e.expression3),this.importList(e.statements));if(e instanceof n.IfElseStatement)return new n.IfElseStatementAction(this.importEntry(e.expression),this.importList(e.statements),this.importList(e.statementsElse));if(e instanceof n.IfStatement)return new n.IfStatementAction(this.importEntry(e.expression),this.importList(e.statements));if(e instanceof n.LineCommentStatement)return new n.LineCommentStatementAction(null,this.importEntry(e.expression),e.name,e.declarationOnly);if(e instanceof n.MultiLineCommentStatement)return new n.MultiLineCommentStatementAction(null,this.importEntry(e.expression),e.name,e.declarationOnly);if(e instanceof n.DeleteStatement)return new n.DeleteStatementAction(this.importEntry(e.expression));if(e instanceof n.ReturnStatement){const t=e.expression?this.importEntry(e.expression):null;return new n.ReturnStatementAction(t)}return e instanceof n.BreakStatement?new n.BreakStatementAction:e instanceof n.PassStatement?new n.PassStatementAction:e instanceof n.ContinueStatement?new n.ContinueStatementAction:e instanceof n.WhileStatement?new n.WhileStatementAction(this.importEntry(e.expression),this.importList(e.statements)):e instanceof n.ExpressionStatement?this.importEntry(e.expression):void 0},this.importList=e=>new n.ActionList(...e.statements.map((e=>this.importEntry(e)))),this.importAction=(e,t)=>{const r=t.stage.getType(),i=t.getType();if(e instanceof n.WhenStatement){const t=e.isStageEvent?r.getEvent(e.name):i.getEvent(e.name),o=t.parameters.map((t=>this.importEntry(e.parameters.shift(),!0,t.type))),a=new n.EventHandlerAction(t,o,this.importList(e.statements),e.internal);return a.position=e.position,a}return this.importEntry(e)},this.importEntry=(e,t=!0,r=null)=>e?e instanceof n.Statement?this.importStatement(e):e instanceof n.Literal||"literal"===e.kind?this.importLiteral(e,r):e instanceof n.Operator?this.importOperator(e):e instanceof n.Expression?this.importExpression(e,t):void 0:new n.NothingLiteralAction,this.deserializeRootLevelEntries=e=>{switch(e.subKind){case"actor":return new n.Actor(null,e.name,e.metadata,...e.statements.statements.map(this.deserializeRootLevelEntries));case"record":return new n.Record(e.name,...e.statements.statements.map(this.deserializeRootLevelEntries));case"import":return new n.ImportStatement(e.name,e.path);case"scene":return new n.Scene(e.name,e.metadata,new n.Stage(null,...e.stage.statements.statements.map(this.deserializeRootLevelEntries)));case"backdrop":return new n.BackdropDeclaration(e.name,e.path,e.isDefault);case"costume":return new n.CostumeDeclaration(e.name,e.path,e.isDefault);case"function":return new n.FunctionDeclaration(e.name,e.parameters.map((e=>({name:e.name,ref:e.ref,type:e.type?new n.TypeExpression(e.type.fullNames,e.type.explicit):n.TypeExpression.Default}))),e.returnType?new n.TypeExpression(e.returnType.fullNames,e.returnType.explicit):n.TypeExpression.Default,e.statements,e.position,e.specification||null,e.internal||!1);case"parallax":return new n.ParallaxDeclaration(e.name,e.layers.map((e=>new n.ParallaxLayerDeclaration(e.name,e.path,e.relativeSpeed))),e.isDefault);case"property":return new n.PropertyDeclaration(e.name,e.expression,e.type?new n.TypeExpression(e.type.fullNames,e.type.explicit):n.TypeExpression.Default,e.position,e.internal||!1);case"sound":return new n.SoundDeclaration(e.name,e.path);case"use":return new n.UseDeclaration(e.name,e.path);case"external-scene":return new n.ExternalSceneDeclaration(e.name,e.path);case"lineComment":return new n.LineCommentStatementAction(e.position,this.importEntry(e.expression),e.name,e.declarationOnly);case"multiLineComment":return new n.MultiLineCommentStatementAction(e.position,this.importEntry(e.expression),e.name,e.declarationOnly);case"when":return new n.WhenStatement(e.name,e.parameters,e.statements,e.isStageEvent,e.position,e.internal||!1);case"texture":throw new Error("Unsupported entry: texture is abstract");default:throw new Error("Invalid project file: unsupported root level entry:"+e.subKind)}},this.buildActor=async(e,t,r,i)=>{const o=i||t[e.name],a=o.getType();this.currentActor=o;const s=this.isInternalActor;this.isInternalActor=this.isInternalActor||o.metadata.hidden;for(let l=0;l<e.statements.statements.length;l++){const s=e.statements.statements[l];if(s instanceof n.FunctionDeclaration){const e=s.internal||i?a.methods.find((e=>e.name===s.name)):a.functions.find((e=>e.name===s.name));e.returnType=this.resolveTypeExpression(s.returnType);for(let r=0;r<s.parameters.length;r++){const t=s.parameters[r];e.parameters[r].valueType=this.resolveTypeExpression(t.type)}s.statements=this.serializer.deserializeList(s.statements),this.isInternalActionList=s.internal;const t=new n.DefineFunctionAction(e,this.importList(s.statements),s.internal);this.isInternalActionList=!1,t.position=s.position,o.defineUserFunction(t)}else if(s instanceof n.PropertyDeclaration)a.getProperty(s.name).valueType=this.resolveTypeExpression(s.type);else if(s instanceof n.WhenStatement){if(s.parameters=s.parameters.map(this.serializer.deserialize),s.statements=this.serializer.deserializeList(s.statements),"never"===s.name&&0==s.statements.statements.length){e.statements.statements.splice(l,1),l--;continue}const t=s.isStageEvent?r.getEvent(s.name):a.getEvent(s.name),i=[...s.parameters],c=t.parameters.map((e=>this.importEntry(i.shift(),!0,e.type)));this.isInternalActionList=s.internal;const p=new n.EventHandlerAction(t,c,this.importList(s.statements),s.internal);this.isInternalActionList=!1,p.position=s.position,o.defineEventHandler(p)}else if(s instanceof n.UseDeclaration){if(o[s.name])continue;const l=await this.partManager.loadRuntimePart(s);if((l instanceof n.ActorPart||"actor-part"===l.subKind)&&(!i||l.name!==e.name)){const e=o[s.name]||await this.declareActorPart(l,o,a);await this.buildActor(l,t,r,e),this.currentActor=o}}}this.isInternalActor=s,this.currentActor=null},this.importActor=e=>{const t=this.stage,r=t.getType(),i=new n.ScoolcodeActorInfo(e.name),o=i.createInstance([{name:e.name,stage:t}]);e.type=i,o.metadata=e.metadata||{hidden:!1};for(let a of e.statements.statements)if(a instanceof n.CostumeDeclaration)i.addTexture(o,new n.ScoolcodeCostume(a.name,a.path));else if(a instanceof n.SoundDeclaration)i.addSound(o,new n.ScoolcodeSound(a.name,a.path));else if(a instanceof n.PropertyDeclaration)a.expression=this.serializer.deserialize(a.expression),i.addUserField(o,a.name,this.importEntry(a.expression),this.resolveTypeExpression(a.type),a.position,a.internal,a.type.explicit);else if(a instanceof n.FunctionDeclaration){let e=a.internal?i.declareUserMethod(a.name,this.resolveTypeExpression(a.returnType),a.returnType.explicit):i.declareUserFunction(a.name,this.resolveTypeExpression(a.returnType),a.returnType.explicit);e||(e=a.internal?i.declareUserMethod(a.name,this.resolveTypeExpression(a.returnType),a.returnType.explicit):i.declareUserFunction(a.name,this.resolveTypeExpression(a.returnType),a.returnType.explicit)),a.parameters.forEach((({name:t,ref:r,type:n})=>e.declareParameterWithTypeInfo(t,this.resolveTypeExpression(n),n.explicit,null,r))),a.specification&&("string"===typeof a.specification?e.declareBlock(a.specification,n.BlockColor.Gamepad):e.declareBlock(a.specification.text,n.BlockColor.Gamepad,{hasTopConnector:!a.specification.returns,hasBottomConnector:!a.specification.returns,embeddable:a.specification.returns}))}for(let a=0;a<e.statements.statements.length;a++){const t=e.statements.statements[a];if(t instanceof n.FunctionDeclaration){const e=t.internal?i.methods.find((e=>e.name===t.name)):i.functions.find((e=>e.name===t.name));t.statements=this.serializer.deserializeList(t.statements),this.isInternalActionList=t.internal;const r=new n.DefineFunctionAction(e,this.importList(t.statements),t.internal);this.isInternalActionList=!1,r.position=t.position,o.defineUserFunction(r)}else if(t instanceof n.WhenStatement){if(t.parameters=t.parameters.map(this.serializer.deserialize),t.statements=this.serializer.deserializeList(t.statements),"never"===t.name&&0==t.statements.statements.length){e.statements.statements.splice(a,1),a--;continue}const s=t.isStageEvent?r.getEvent(t.name):i.getEvent(t.name),l=s.parameters.map((e=>this.importEntry(t.parameters.shift(),!0,e.type)));this.isInternalActionList=t.internal;const c=new n.EventHandlerAction(s,l,this.importList(t.statements),t.internal);this.isInternalActionList=!1,c.position=t.position,o.defineEventHandler(c)}}return o},this.importParallaxLayer=e=>new n.ScoolcodeParallaxLayer(e.name,e.path,e.relativeSpeed),this.declareActor=async(e,t,r)=>{const i=t.declareActor(e.name),o=i.getType();o.declareMixinsFromBase(this.StageBaseType.runtimeBinding),o.applyMixins(i,!0),e.type=o,i.metadata=e.metadata||{hidden:!1};const a=this.isInternalActor;this.isInternalActor=this.isInternalActor||i.metadata.hidden;for(let s of e.statements.statements)if(s instanceof n.CostumeDeclaration)o.addTexture(i,new n.ScoolcodeCostume(s.name,s.path,s.isDefault));else if(s instanceof n.SoundDeclaration)o.addSound(i,new n.ScoolcodeSound(s.name,s.path));else if(s instanceof n.PropertyDeclaration){let e=null;s.expression&&(s.expression=this.serializer.deserialize(s.expression),e=this.importEntry(s.expression)),o.addUserField(i,s.name,e,n.ValueType.Any,s.position,s.internal,s.type.explicit)}else if(s instanceof n.FunctionDeclaration){const e=s.internal?o.declareUserMethod(s.name,n.ValueType.Any,s.returnType.explicit):o.declareUserFunction(s.name,n.ValueType.Any,s.returnType.explicit);s.parameters.forEach((({name:t,ref:r,type:i})=>e.declareParameterWithTypeInfo(t,n.ValueType.Any,i.explicit,null,r))),s.specification&&("string"===typeof s.specification?e.declareBlock(s.specification,n.BlockColor.Gamepad):e.declareBlock(s.specification.text,n.BlockColor.Gamepad,{hasTopConnector:!s.specification.returns,hasBottomConnector:!s.specification.returns,embeddable:s.specification.returns}))}else if(s instanceof n.LineCommentStatementAction)o.addComment(i,s);else if(s instanceof n.MultiLineCommentStatementAction)o.addComment(i,s);else if(s instanceof n.UseDeclaration){let e=await this.partManager.loadRuntimePart(s);if(e){if("actor-part"!==e.subKind){const t=e.builder.buildApplication(e.ct).parts.find((e=>e.name===s.name));t&&(e=t.grammar())}if("actor-part"===e.subKind){e=this.deserializePart(e);const n=await this.declareActorPart(e,i,o);await this.buildActor(e,t,r,n),await this.declareActorPart(e,i,o)}else console.warn("Invalid part kind for declaration:",s.name)}}i.setCostume(i.defaultTextureId+1,!0),this.isInternalActor=a},this.declareActorPart=async(e,t,r)=>{let i;if(r.getProperty(e.name)){if(i=t.parts.find((t=>t.name===e.name)),i)return i;i=new n.ScoolcodeActorPart(t,e.name,e.path)}else i=r.declarePart(t,e.name,e.path);const o=e.language?n.ContextualTypeProvider.getBaseTypes(e.language).StageBaseType.runtimeBinding:this.StageBaseType.runtimeBinding,a=i.getType();a.declareMixinsFromBase(o),a.applyMixins(i,!0),e.type=r,t.metadata=e.metadata||{hidden:!1};for(let s of e.statements.statements)if(s instanceof n.PropertyDeclaration){let e=null;s.expression&&(s.expression=this.serializer.deserialize(s.expression),e=this.importEntry(s.expression)),a.addUserField(i,s.name,e,s.position,s.internal,s.type.explicit)}else if(s instanceof n.FunctionDeclaration){const e=a.declareUserMethod(s.name,n.ValueType.Any,s.returnType.explicit);s.parameters.forEach((({name:t,ref:r,type:i})=>e.declareParameterWithTypeInfo(t,n.ValueType.Any,i.explicit,null,r))),s.specification&&("string"===typeof s.specification?e.declareBlock(s.specification,n.BlockColor.Gamepad):e.declareBlock(s.specification.text,n.BlockColor.Gamepad,{hasTopConnector:!s.specification.returns,hasBottomConnector:!s.specification.returns,embeddable:s.specification.returns}))}else if(s instanceof n.LineCommentStatementAction)a.addComment(i,s);else if(s instanceof n.MultiLineCommentStatementAction)a.addComment(i,s);else if(s instanceof n.UseDeclaration){let n=await this.partManager.loadRuntimePart(s);if(n)if("actor-part"===n.subKind&&n.name!==e.name){n=this.deserializePart(n);let e=await this.declareActorPart(n,t,r);await this.buildActor(n,this.genericStage,this.GenericStage,e),a.addPart(i,e)}else console.warn("Invalid part kind for declaration:",s.name)}return i},this.importStage=async(e,t,r)=>{r||n.SpriteManager.Default.ConversationProvider.resetProjectSpecific();const i=e.getType();i.declareMixinsFromBase(this.StageBaseType.runtimeBinding);const o=this.stage;this.stage=e,i.applyMixins(this.stage,!0);for(let a=0;a<t.statements.statements.length;a++){const o=t.statements.statements[a];if(o instanceof n.FunctionDeclaration||"function"===o.subKind){let t=o.internal||r?i.methods.find((e=>e.name===o.name)):i.functions.find((e=>e.name===o.name));t||(t=o.internal?i.declareUserMethod(o.name,this.resolveTypeExpression(o.returnType),!!o.returnType&&o.returnType.explicit):i.declareUserFunction(o.name,this.resolveTypeExpression(o.returnType),!!o.returnType&&o.returnType.explicit)),o.statements=this.serializer.deserializeList(o.statements),this.isInternalActionList=o.internal;const a=new n.DefineFunctionAction(t,this.importList(o.statements),o.internal);this.isInternalActionList=!1,a.position=o.position,e.defineUserFunction(a)}else if(o instanceof n.WhenStatement||"when"===o.subKind){if(o.parameters=o.parameters.map(this.serializer.deserialize),o.statements=this.serializer.deserializeList(o.statements),"never"===o.name&&0==o.statements.statements.length){t.statements.statements.splice(a,1),a--;continue}const r=i.getEvent(o.name),s=r.parameters.map((e=>this.importEntry(o.parameters.shift(),!0,e.type)));this.isInternalActionList=o.internal;const l=new n.EventHandlerAction(r,s,this.importList(o.statements),o.internal);this.isInternalActionList=!1,l.position=o.position,e.defineEventHandler(l)}else if(o instanceof n.Actor)await this.buildActor(o,e,i);else if(o instanceof n.UseDeclaration||"use"===o.subKind){const t=await this.partManager.loadRuntimePart(o);if(t&&"stage-part"===t.subKind){const r=e[o.name]||this.declareStagePart(t,e,i);r&&await this.importStage(r,t,r)}}}return this.stage=o,{Stage:i,stage:e}},this.declareStage=async e=>{const t=new n.ScoolcodeStageInfo;t.declareMixinsFromBase(this.StageBaseType.runtimeBinding);let r=this.stage=t.createInstance([{}]);t.applyMixins(this.stage,!0);for(let n of e.statements.statements)await this.declareStageField(n,r,t);for(let n of e.statements.statements)await this.defineStageField(n,r,t);return{Stage:t,stage:r}},this.declareStagePart=(e,t,r)=>{let i;if(r.getProperty(e.name)){if(i=t.parts.find((t=>t.name===e.name)),i)return i;i=new n.ScoolcodeStagePart(t,e.name,e.path,e.language)}else{if(t.name===e.name)return null;if(e instanceof n.ScoolcodeStagePart)i=r.declarePart(t,e.name,e);else{const n=e.path||e.options&&e.options.path||e;i=r.declarePart(t,e.name,n)}}this.prepareMixins&&this.prepareMixins(e.language);const o=i.getType(),a=n.LanguageMixinManager.get(e.language);if(a&&(a.declare(o,null),a.declareForPart(),o.applyMixins(t,!0)),e.statements&&e.statements.statements)for(let n of e.statements.statements)this.defineStagePartField(n,i,o);return i},this.deserializeStage=e=>{if("declaration"!==e.kind||"stage"!==e.subKind)throw new Error("Invalid project file: stage declaration not found.");return new n.Stage(new n.ScoolcodeStageInfo,...e.statements.statements.filter((e=>null!=e)).map(this.deserializeRootLevelEntries))},this.deserializePart=e=>{if("declaration"!==e.kind)throw new Error("Invalid project file: part declaration not found.");if("actor-part"===e.subKind)return new n.ActorPart(new n.ScoolcodeActorInfo,e.name,e.path,e.language,e.metadata,...e.statements.statements.filter((e=>null!=e)).map(this.deserializeRootLevelEntries));if("stage-part"===e.subKind)return new n.StagePart(new n.ScoolcodeStageInfo,e.name,e.path,e.language,...e.statements.statements.filter((e=>null!=e)).map(this.deserializeRootLevelEntries));throw new Error("Invalid project file: part declaration not found.")},this.importApplication=async(e,t)=>{if("declaration"!==e.kind||"application"!==e.subKind)throw new Error("Invalid project file: application declaration not found.");try{if(this.prepareMixins){const e=await this.prepareMixins(t);e&&(this.StageBaseType=e.StageBaseType,this.ActorBaseType=e.ActorBaseType)}let r=this.stage=this.genericStage=new n.ScoolcodeStage({});const i=this.GenericStage=r.getType(),o=this.genericActor=new n.ScoolcodeActor({name:"GenericActor",stage:r}),a=this.GenericActor=o.getType();i.declareMixinsFromBase(this.StageBaseType.runtimeBinding),r=this.genericStage=this.stage=i.createInstance([{}]),i.applyMixins(this.stage,!0);const s=(e.parts||[]).map((e=>this.deserializePart(e)));this.partManager.loadLocalRuntimeParts(s,t);const l=[];for(let e of s){let t;"actor-part"===e.subKind?(t=await this.declareActorPart(e,o,a),await this.buildActor(e,r,i,t)):(t=this.declareStagePart(e,r,i),await this.importStage(t,e,t)),l.push(t)}const c=[];for(let t of e.stages){const e=this.deserializeStage(t),{stage:r}=await this.declareStage(e);c.push([r,e])}const p=[];for(let[e,t]of c)p.push((await this.importStage(e,t)).stage);const u=new n.ScoolcodeApplication(p);return u.parts=l,u}catch(r){throw console.error(r),r}},this.partManager=new n.PartManager(e);const{StageBaseType:o,ActorBaseType:a}=n.ContextualTypeProvider.getBaseTypes(t);this.StageBaseType=o,this.ActorBaseType=a,this.language=t,this.prepareMixins=r,this.projectMode=i,this.isInternalActionList=!1,this.isInternalActor=!1}collectCallMethodConstants(e,t,r){if((e instanceof n.ScoolcodeStage||e instanceof n.ScoolcodeActor)&&(!e.metadata||!e.metadata.hidden)&&!this.isInternalActionList&&!this.isInternalActor&&t.parameters.length>0&&r.length>0&&(t.parameters[0].valueType==n.SignalsInfo.Type||t.parameters[0].valueType==n.MessagesInfo.Type||t.parameters[0].valueType==n.ConversationsInfo.Type)&&r[0]instanceof n.NumericLiteralAction&&"string"===typeof r[0].value){const i=r[0].value,o=e instanceof n.ScoolcodeStage?e:e.stage;let a;switch(t.parameters[0].valueType){case n.SignalsInfo.Type:a=o.signals;break;case n.MessagesInfo.Type:a=o.messages;break;case n.ConversationsInfo.Type:a=n.SpriteManager.Default.ConversationProvider.ProjectSpecific,n.SpriteManager.Default.ConversationProvider.registerValue(i)}a&&!a.includes(i)&&a.push(i)}}isEnumType(e){return e instanceof n.ScoolcodeEnumInfoBase||!!(e instanceof n.UnionTypeInfo&&e.possibleTypes.some((e=>e instanceof n.ScoolcodeEnumInfoBase)))}async declareStageField(e,t,r){if(e instanceof n.Actor)r.declareActor(e.name);else if(e instanceof n.UseDeclaration){let n=await this.partManager.loadRuntimePart(e);if(n)if("stage-part"===n.subKind){n=this.deserializePart(n);const e=this.declareStagePart(n,t,r);await this.importStage(e,n),this.declareStagePart(e,t,r)}else if(n.builder&&n.ct){const i=n.builder.buildApplication(n.ct).parts.find((t=>t.name===e.name));i&&r.addPart(t,i)}}else if(e instanceof n.ExternalSceneDeclaration){const n=await this.partManager.getScenePart(e.name,e.path);n&&(n.builder.declareScene(n.part,t,r),n.builder.buildScene(n.part))}}async defineStageField(e,t,r){if(e instanceof n.BackdropDeclaration)r.addTexture(t,new n.ScoolcodeBackdrop(e.name,e.path,e.isDefault));else if(e instanceof n.ParallaxDeclaration)r.addTexture(t,new n.ScoolcodeParallax(e.name,e.layers.map(this.importParallaxLayer),e.isDefault));else if(e instanceof n.CostumeDeclaration)r.addTexture(t,new n.ScoolcodeBackdrop(e.name,e.path,e.isDefault));else if(e instanceof n.SoundDeclaration)r.addSound(t,new n.ScoolcodeSound(e.name,e.path));else if(e instanceof n.Scene){const i=this.stage,{stage:o,Stage:a}=await this.declareStage(e.stage);await this.importStage(o,e.stage),r.addTexture(t,new n.ScoolcodeScene(new n.ScoolcodeSceneInfo(a),e.name,o,e.metadata.embedded?"embedded":"part","",e.metadata.preload,e.metadata.default)),this.stage=i}else if(e instanceof n.LineCommentStatementAction)r.addComment(t,e);else if(e instanceof n.MultiLineCommentStatementAction)r.addComment(t,e);else if(e instanceof n.PropertyDeclaration){let i=null;e.expression&&(e.expression=this.serializer.deserialize(e.expression),i=this.importEntry(e.expression)),r.addUserField(t,e.name,i,n.ValueType.Any,e.position,e.internal,e.type.explicit)}else if(e instanceof n.FunctionDeclaration){const t=e.internal?r.declareUserMethod(e.name,this.resolveTypeExpression(e.returnType),e.returnType.explicit):r.declareUserFunction(e.name,this.resolveTypeExpression(e.returnType),e.returnType.explicit);e.parameters.forEach((({name:e,ref:r,type:n})=>t.declareParameterWithTypeInfo(e,this.resolveTypeExpression(n),n.explicit,null,r))),e.specification&&("string"===typeof e.specification?t.declareBlock(e.specification,n.BlockColor.Gamepad):t.declareBlock(e.specification.text,n.BlockColor.Gamepad,{hasTopConnector:!e.specification.returns,hasBottomConnector:!e.specification.returns,embeddable:e.specification.returns}))}else e instanceof n.Actor&&await this.declareActor(e,t,r)}defineStagePartField(e,t,r){const i=e;if(i instanceof n.LineCommentStatementAction)r.addComment(t,i);else if(i instanceof n.MultiLineCommentStatementAction)r.addComment(t,i);else if(i instanceof n.PropertyDeclaration||"property"===i.subKind){let e=null;i.expression&&(i.expression=this.serializer.deserialize(i.expression),e=this.importEntry(i.expression)),r.addUserField(t,i.name,e,n.ValueType.Numeric,i.position,i.internal)}else if(i instanceof n.FunctionDeclaration||"function"===i.subKind){const e=i.internal?r.declareUserMethod(i.name,n.ValueType.Any):r.declareUserFunction(i.name,n.ValueType.Any);i.parameters.forEach((({name:t,ref:r,type:n})=>n?e.declareParameterWithTypeInfo(t,this.resolveTypeExpression(n),n.explicit,null,r):e.declareParameter(t,null,void 0,r))),i.specification&&("string"===typeof i.specification?e.declareBlock(i.specification,n.BlockColor.Gamepad):e.declareBlock(i.specification.text,n.BlockColor.Gamepad,{hasTopConnector:!i.specification.returns,hasBottomConnector:!i.specification.returns,embeddable:i.specification.returns}))}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionBuilder=void 0;const n=r(2),i="MISSING_EXPRESSION",o="MISSING_EXPRESSION_WITH_PARAM",a="EXPECTED_END_OF_STATEMENT";t.ExpressionBuilder=class{constructor(e,t){this.returnStatements=[],this.controlFlowBranchTotal=0,this.controlFlowBranchCount=0,this.controlFlowBranchLevelStack=[],this.controlFlowPrimaryStack=[],this.hasUnprocessedEndOfExecutionMarker=!1,this.hasUnprocessedNoStepBackMarker=!1,this.hasUnprocessedJumpToPrimaryMarker=!1,this.parser=t}resetReturnStatements(){this.returnStatements=[]}getReturnStatements(){return[...this.returnStatements]}buildBlock(e,t,r){const i={name:null,kind:n.ContextualLevelKind.Block,type:null,range:e.range,parent:t,items:[]};return i.items=e.items.map((e=>this.processExpression(e,i,r))),i}buildDelete(e,t,r){const i={name:null,kind:n.ContextualLevelKind.DeleteStatement,type:null,range:e.range,parent:t,returnedType:n.BooleanLiteralBaseType,items:[]};return i.items.push(this.processExpression(e.items[0],i,r)),i}buildReturn(e,t,r){const i={name:null,kind:n.ContextualLevelKind.ReturnStatement,type:null,range:e.range,parent:t,items:[]};if(e.items[0]){const t=this.processExpression(e.items[0],i,r);i.returnedType=t.returnedType||t.type,i.items.push(t)}return this.returnStatements.push(i),this.hasUnprocessedEndOfExecutionMarker=!0,i}buildContinue(e,t,r){return this.hasUnprocessedJumpToPrimaryMarker=!0,{name:null,kind:n.ContextualLevelKind.ContinueStatement,type:null,range:e.range,parent:t,items:[]}}buildPass(e,t,r){return{name:null,kind:n.ContextualLevelKind.PassStatement,type:null,range:e.range,parent:t,items:[]}}buildBreak(e,t,r){return this.hasUnprocessedJumpToPrimaryMarker=!0,{name:null,kind:n.ContextualLevelKind.BreakStatement,type:null,range:e.range,parent:t,items:[]}}enableControlFlowBranchCounting(){return this.controlFlowBranch=this.startOfLevelBranch=this.startBranch={index:0,level:0,version:0,total:this.controlFlowBranchTotal=0,next:[],previous:[]},this.endOfExecutionBranch=this.endOfLevelBranch=this.primaryBranch={index:-1,level:-1,version:0,total:++this.controlFlowBranchTotal,next:[],previous:[]},this.controlFlowBranchLevelStack=[],this.controlFlowPrimaryStack=[],this.endOfExecutionBranch}disableControlFlowBranchCounting(){const e=this.startBranch;return 0===e.next.length&&(e.next.push(this.endOfExecutionBranch),e.version++,this.endOfExecutionBranch.previous.push(e),this.endOfExecutionBranch.version++),this.controlFlowBranch=this.startBranch=this.endOfExecutionBranch=this.endOfLevelBranch=this.primaryBranch=void 0,this.hasUnprocessedEndOfExecutionMarker=this.hasUnprocessedJumpToPrimaryMarker=this.hasUnprocessedNoStepBackMarker=!1,e}beginControlFlowLevel(e=!1){this.controlFlowBranchLevelStack.push([this.startOfLevelBranch,this.endOfLevelBranch]),this.startOfLevelBranch=this.controlFlowBranch,this.endOfLevelBranch={level:this.controlFlowBranch.level,index:-1,version:0,total:++this.controlFlowBranchTotal,previous:[],next:[]},this.controlFlowBranchCount=0,e&&(this.controlFlowPrimaryStack.push(this.primaryBranch),this.primaryBranch=this.endOfLevelBranch)}beginControlFlowBranch(){this.controlFlowBranch={level:this.startOfLevelBranch.level+1,index:++this.controlFlowBranchCount,total:++this.controlFlowBranchTotal,previous:[this.startOfLevelBranch],next:[],version:0},this.startOfLevelBranch.next.push(this.controlFlowBranch),this.startOfLevelBranch.version++}endControlFlowBranch(e=!1){e||this.hasUnprocessedEndOfExecutionMarker?(this.hasUnprocessedEndOfExecutionMarker=!1,this.endOfExecutionBranch.previous.push(this.controlFlowBranch),this.controlFlowBranch.next.push(this.endOfExecutionBranch),this.endOfExecutionBranch.version++,this.controlFlowBranch.version++):this.hasUnprocessedNoStepBackMarker?this.hasUnprocessedNoStepBackMarker=!1:this.hasUnprocessedJumpToPrimaryMarker?(this.hasUnprocessedJumpToPrimaryMarker=!1,this.primaryBranch.previous.push(this.controlFlowBranch),this.controlFlowBranch.next.push(this.primaryBranch),this.primaryBranch.version++,this.controlFlowBranch.version++):(this.endOfLevelBranch.previous.push(this.controlFlowBranch),this.controlFlowBranch.next.push(this.endOfLevelBranch),this.endOfLevelBranch.version++,this.controlFlowBranch.version++)}endControlFlowLevel(e=!1){e&&(this.endOfLevelBranch.previous.push(this.startOfLevelBranch),this.startOfLevelBranch.next.push(this.endOfLevelBranch),this.startOfLevelBranch.version++,this.endOfLevelBranch.version++),this.endOfLevelBranch===this.primaryBranch&&(this.primaryBranch=this.controlFlowPrimaryStack.pop()),this.controlFlowBranch=this.endOfLevelBranch;const[t,r]=this.controlFlowBranchLevelStack.pop()||[this.endOfExecutionBranch,{index:-2,level:-2,total:++this.controlFlowBranchTotal,previous:[],next:[],version:0}];this.startOfLevelBranch=t,this.endOfLevelBranch=r}buildIf(e,t,r){this.beginControlFlowLevel();const i={name:null,kind:n.ContextualLevelKind.IfStatement,type:null,range:e.range,parent:t,items:[]},o={name:null,kind:n.ContextualLevelKind.Block,type:null,range:e.range,parent:i,items:[]};return i.items.push(this.processExpression(e.items[0],i,r)),this.beginControlFlowBranch(),i.items.push(this.processStatement(e.items[1],o,r)),this.endControlFlowBranch(),e.items[2]&&(this.beginControlFlowBranch(),i.items.push(this.processStatement(e.items[2],o,r)),this.endControlFlowBranch()),this.endControlFlowLevel(!e.items[2]),i}buildLineComment(e,t,r){const i={name:null,kind:n.ContextualLevelKind.LineCommentStatement,type:null,range:e.range,parent:t,items:[]};return i.items.push(this.processExpression(e.items[0],i,r)),i}buildMultiLineComment(e,t,r){const i={name:null,kind:n.ContextualLevelKind.MultiLineCommentStatement,type:null,range:e.range,parent:t,items:[]};return i.items.push(this.processExpression(e.items[0],i,r)),i}buildFor(e,t,r){const i={name:null,kind:n.ContextualLevelKind.ForStatement,type:null,range:e.range,parent:t,items:[]};return i.items.push(this.processExpression(e.items[0],i,r)),i.items.push(this.processExpression(e.items[1],i,r)),this.beginControlFlowLevel(!0),this.beginControlFlowBranch(),i.items.push(this.processExpression(e.items[2],i,r)),i.items.push(this.processStatement(e.items[3],i,r)),this.endControlFlowBranch(),this.endControlFlowLevel(!0),i}buildForOfVariableName(e,t,r,i){const o={name:null,kind:n.ContextualLevelKind.DeclareVariable,type:null,range:e.range,parent:r,items:[],options:{name:e.name,scope:e.scope}};if("block"===e.scope&&(t=r),t.references=t.references||[],!e.options||!e.options.mightBeAssignment){let r,o=n.TypeUtils.resolveIdentifier(t,e.name,i);o||(r=n.TypeUtils.resolveIdentifierUp(t,e.name,i)),(o||r)&&this.parser.storeWarning("REDECLARATION",e)}return t.references.push({name:e.name,type:n.AnyType}),o}buildForOf(e,t,r){const i={name:null,kind:n.ContextualLevelKind.ForOfStatement,type:null,range:e.range,parent:t,items:[]};return this.beginControlFlowLevel(!0),this.beginControlFlowBranch(),i.items.push(this.buildForOfVariableName(e.items[0],t,i,r)),i.items.push(this.processExpression(e.items[1],i,r)),i.items.push(this.processStatement(e.items[2],i,r)),this.endControlFlowBranch(),this.endControlFlowLevel(!0),i}buildForIn(e,t,r){const i={name:null,kind:n.ContextualLevelKind.ForInStatement,type:null,range:e.range,parent:t,items:[]},o={name:null,kind:n.ContextualLevelKind.DeclareVariableList,type:null,range:e.items[0].range,parent:i,items:[]};if(o.items=e.items[0].items.map((e=>this.buildForOfVariableName(e,t,o,r))),i.items.push(o),this.beginControlFlowLevel(!0),n.VariablesInfo.functionScopedVars){const r=n.TypeUtils.resolvePrimaryContextUp(t);r.references=r.references||[],o.items.forEach((t=>{const i=r.references.find((e=>e.name===t.name||e.name===t.options.name));if(i){i.options&&(i.options.unresolved=!1);const r=t.type||n.AnyType;i.rangedTypes=i.rangedTypes||[],i.rangedTypes.push({type:r,from:e.range.from,controlFlowBranch:this.controlFlowBranch}),i.type=r}else{const i=t.type||n.AnyType;r.references.push({name:t.name||t.options.name,rangedTypes:[{type:i,from:e.range.from,controlFlowBranch:this.controlFlowBranch}],type:i})}}))}const a=this.processExpression(e.items[1],i,r);return n.TypeUtils.isLiteralType(a.type)&&!n.IterableTypeNames.includes(a.type.name)&&this.parser.storeError("INVALID_PARAM_TYPE",e,n.ArrayLiteralBaseType.name),i.items.push(a),i.items.push(this.processStatement(e.items[2],i,r)),this.endControlFlowBranch(),this.endControlFlowLevel(!0),i}buildWhile(e,t,r){const i={name:null,kind:n.ContextualLevelKind.WhileStatement,type:null,range:e.range,parent:t,items:[]};return this.beginControlFlowLevel(!0),this.beginControlFlowBranch(),i.items.push(this.processExpression(e.items[0],i,r)),e.items.length>1&&i.items.push(this.processStatement(e.items[1],i,r)),this.endControlFlowBranch(),this.endControlFlowLevel(!0),i}buildDoWhile(e,t,r){const i={name:null,kind:n.ContextualLevelKind.DoWhileStatement,type:null,range:e.range,parent:t,items:[]};return i.items.push(this.processExpression(e.items[1],i,r)),i.items.push(this.processStatement(e.items[0],i,r)),i}isInScopeOf(e,t){return!(!e||!t)&&(!!(e.name===t||e.type&&e.type.name===t)||!!e.parent&&this.isInScopeOf(e.parent,t))}buildReadVariable(e,t,r,i=!0,o){var a,s,l,c,p,u,d,h;let f=n.TypeUtils.resolveIdentifier(t,e.name,r);if((null===(s=null===(a=null===t||void 0===t?void 0:t.type)||void 0===a?void 0:a.baseType)||void 0===s?void 0:s.name)&&t.type.baseType.name.endsWith(".Event")){if(t.type.fields.find((t=>t.name===e.name)))return void this.parser.storeError("UNRESOLVED_IDENTIFIER",e)}let m=!1;if(f)return t.returnedType&&!f.rangedTypes?{name:null,kind:n.ContextualLevelKind.ReadProperty,context:t,type:n.TypeUtils.getActiveType(f,this.controlFlowBranch,o,e.range.from),range:e.range,parent:t,items:[],options:{name:e.name,field:f}}:{name:null,kind:n.ContextualLevelKind.ReadVariable,type:n.TypeUtils.getActiveType(f,this.controlFlowBranch,o,e.range.from),range:e.range,parent:t,items:[],options:{name:e.name,field:f}};if(t.type===n.AnyType)return{name:null,kind:n.ContextualLevelKind.ReadProperty,context:t,type:o||this.parser.genericType,range:e.range,parent:t,items:[],options:{name:e.name}};if(i){const i=n.TypeUtils.resolveIdentifierUp(t,e.name,r);if(i){let r=n.ContextualLevelKind.ReadVariable,o=!1,a=i.context.type.baseType;if("stage"!==e.name&&i.context.type.baseType&&["ScoolcodeActorPart","ScoolcodeStagePart"].includes(i.context.type.baseType.name)&&(a=a.baseType),"stage"!==e.name&&a&&["ScoolcodeActor","ScoolcodeStage"].includes(a.name)){o=t!==i.context&&"ScoolcodeActor"!==(null===(c=null===(l=n.TypeUtils.getActiveType(i.field,this.controlFlowBranch))||void 0===l?void 0:l.baseType)||void 0===c?void 0:c.name);for(const t of a.fields)if(t.name===e.name){r=n.ContextualLevelKind.ReadProperty,t.name[0].toUpperCase()===t.name[0]&&"ScoolcodeStage"===a.name&&(o=!1);break}if(r!==n.ContextualLevelKind.ReadProperty)for(const t of i.context.type.fields){const i=n.TypeUtils.getActiveType(t,this.controlFlowBranch);if(t.name===e.name&&(!t.options||t.options.internal||(null===(p=null===i||void 0===i?void 0:i.baseType)||void 0===p?void 0:p.name)&&"ScoolcodeScene"===i.baseType.name)){r=n.ContextualLevelKind.ReadProperty;break}}}return"explicit"===e.subtype&&o&&!(null===(u=i.field.options)||void 0===u?void 0:u.blockRoot)?void this.parser.storeError("ILLEGAL_IMPLICIT_PROPERTY_ACCESS",e):{name:null,kind:r,context:i.context,implicitContext:!0,type:n.TypeUtils.getActiveType(i.field,this.controlFlowBranch),range:e.range,parent:i.context,items:[],options:{name:e.name,field:i.field}}}(null===(d=e.options)||void 0===d?void 0:d.mightBeDeclaration)&&(m=!0)}else(null===(h=e.options)||void 0===h?void 0:h.mightBeDeclaration)&&(m=!0);if(m){const r=n.TypeUtils.resolvePrimaryContextUp(t);r.references=r.references||[];const i=r.references.find((t=>t.name===e.name));if(i){i.options&&(i.options.unresolved=!1);const t=o||this.parser.genericType;i.rangedTypes=i.rangedTypes||[],i.rangedTypes.push({type:t,from:e.range.from,controlFlowBranch:this.controlFlowBranch}),i.type=t}else{const t=o||this.parser.genericType;r.references.push({name:e.name,rangedTypes:[{type:t,from:e.range.from,controlFlowBranch:this.controlFlowBranch}],type:t})}return{name:null,kind:n.ContextualLevelKind.ReadVariable,type:o||this.parser.genericType,range:e.range,parent:t,items:[],options:{name:e.name}}}this.parser.storeError("UNRESOLVED_IDENTIFIER",e)}processVariableDeclaration(e,t,r){if(t.references=t.references||[],e.options&&e.options.mightBeAssignment){let i=n.TypeUtils.resolveIdentifier(t,e.name,r),o=null;if(!i&&this.parser.getSymbol("FORCE_GLOBAL_PROPERTY_ASSIGNMENT")&&(o=n.TypeUtils.resolveIdentifierUp(t,e.name,r)),i||o)return 1==e.items.length&&(e.items=[{items:[],name:e.name,range:e.range,subtype:"",type:"identifier",scope:e.scope,value:e.value},e.items[0]],e.subtype="=",e.options.mightBeDeclaration=!0,e.type="assignment"),this.processAssignment(e,t,r)}const i={name:null,kind:n.ContextualLevelKind.DeclareVariable,type:e.subtype?this.parser.processTypeAnnotation(e.subtype,e,t,r):null,range:e.range,parent:t,items:[],options:{name:e.name,scope:e.scope,typeAnnotated:!!e.subtype}};let o,a,s;e.items.length&&(o=this.processExpression(e.items[0],i,r),i.items=[o]),t.references=t.references||[],e.options&&e.options.mightBeAssignment||(a=n.TypeUtils.resolveIdentifier(t,e.name,r),a||(s=n.TypeUtils.resolveIdentifierUp(t,e.name,r)));const l=n.TypeUtils.resolvePrimaryContextUp(t);l.references=l.references||[];const c=l.references.find((t=>t.name===e.name));if("local"===e.scope)if(c){c.options&&(c.options.unresolved=!1);const t=o?o.returnedType||o.type:this.parser.genericType;c.rangedTypes=c.rangedTypes||[],c.rangedTypes.push({type:t,from:e.range.from,controlFlowBranch:this.controlFlowBranch}),c.type=t}else{const t=o?o.returnedType||o.type:this.parser.genericType;l.references.push({name:e.name,rangedTypes:[{type:t,from:e.range.from,controlFlowBranch:this.controlFlowBranch}],type:t})}else if("block"===e.scope){const r=o?o.returnedType||o.type:this.parser.genericType;t.references.push({name:e.name,rangedTypes:[{type:r,from:e.range.from,controlFlowBranch:this.controlFlowBranch}],type:r})}else{const r=o?o.returnedType||o.type:this.parser.genericType;t.references.push({name:e.name,type:r})}return e.options&&e.options.mightBeAssignment||(a||s)&&this.parser.storeWarning("REDECLARATION",e),i}replaceAsyncSetupMethods(e,t,r){if(n.ContextualParserUtils.isInContext(e,"setup")){const e={createClone:"createCloneAndWait",broadcast:"broadcastAndWait",broadcastData:"broadcastDataAndWait"};e[r.name]&&(r.name=e[r.name],this.parser.storeWarning("ASYNC_SETUP",t,r.name))}}processLeftHandSide(e,t,r){var o,a;if(!(e.subtype="call"))return this.parser.storeError(i,e),null;{const[s,l]=e.items;let c,p;if("identifier"===s.type){if(this.replaceAsyncSetupMethods(t,e,s),c=n.TypeUtils.resolveIdentifier(t,s.name,r),!c){const e=n.TypeUtils.resolveIdentifierUp(t,s.name,r);e&&(c=e.field,p=e.context)}if(!c){const t=e.items.length>0?e.items[0]:e;return this.parser.storeError("NOT_A_METHOD",t,s.name),null}if(l&&"arguments"===l.type){if(!c.type||!c.type.guess&&!n.TypeUtils.isDerivedFrom(c.type,n.FunctionBaseType))return this.parser.storeError("NOT_A_METHOD",e,s.name),null;let i=c.type&&c.type!==n.AnyType&&c.type!==n.FunctionBaseType?n.ContextualLevelKind.CallMethod:n.ContextualLevelKind.CallFunction;(null===(o=null===c||void 0===c?void 0:c.type)||void 0===o?void 0:o.baseType)&&c.type.baseType===n.RecordConstructorBaseType&&(i=n.ContextualLevelKind.Record);const u={name:null,kind:i,options:{name:c.name},type:c.type,returnedType:c.type.returnType,range:e.range,parent:t,context:p,implicitContext:!0,items:[]};let d=u.type.fields[u.type.fields.length-1];return"undefined"===typeof d||(null===(a=d.options)||void 0===a?void 0:a.repeatable)||(d=void 0),u.items=l.items.map(((e,n)=>{var i;return this.processExpression(e,t,r,(null===(i=u.type.fields[n])||void 0===i?void 0:i.type)||(null===d||void 0===d?void 0:d.type))})),this.checkCallParameterTypes(u),u}if(!l||"indexer"!==l.type&&"indexer-range"!==l.type)return this.parser.storeError(i,e),null;{const i=n.TypeUtils.resolveActorParentType(t),o=!!i&&this.isInScopeOf(t,i.name),a=!(!c.options||0!=c.options.internal),s=p&&!o&&!a,u={name:null,kind:s?n.ContextualLevelKind.PropertyIndexer:n.ContextualLevelKind.VariableIndexer,options:Object.assign({name:c.name},l.options),type:c.type,returnedType:this.parser.genericType,range:e.range,parent:t,context:p,implicitContext:!0,items:[]};return"indexer-range"===l.type?(u.kind=s?n.ContextualLevelKind.PropertyIndexerRange:n.ContextualLevelKind.VariableIndexerRange,u.items=[l.items[0]?this.processExpression(l.items[0],t,r):null,l.items[1]?this.processExpression(l.items[1],t,r):null]):u.items=[this.processExpression(l.items[0],t,r)],u}}if(p=this.processExpression(s,t,r),c=null,!l||"arguments"!==l.type){if(!l||"indexer"!==l.type&&"indexer-range"!==l.type)return this.parser.storeError(i,e),null;{const i={name:null,kind:n.ContextualLevelKind.ExpressionIndexer,type:this.parser.genericType,returnedType:this.parser.genericType,range:e.range,parent:t,context:p,items:[],options:Object.assign({},l.options)};return"indexer-range"===l.type?(i.kind=n.ContextualLevelKind.ExpressionIndexerRange,i.items=[l.items[0]?this.processExpression(l.items[0],t,r):null,l.items[1]?this.processExpression(l.items[1],t,r):null]):i.items=[this.processExpression(l.items[0],t,r)],i}}this.parser.storeError("ILLEGAL_FUNCTION_NAME",e,s.name||s.value)}}checkCallParameterTypes(e){var t;const r=n.TypeUtils.checkCallParameterTypes(e,this.parser);return r.ok?(r.warning&&this.parser.storeWarning(...r.warning),r.matches):(r.error[1]&&!r.error[1].name&&(r.error[1].name=e.name||(null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.name)),this.parser.storeError(...r.error),!1)}processDot(e,t,r){let o=e.range,a=null,s=null,l=null;const c=e=>{var p,u,d;for(const h in e.items){const f=e.items[h];switch(o||(o=f.range),f.type){case"this":const h=n.TypeUtils.resolveThisContext(t);n.TypeUtils.resolveStageContext(t)===h&&(l=h),a=h.type;break;case"stage":const m=n.TypeUtils.resolveTopStageContext(t);l=m;break;case"identifier":if(a){if(s=n.TypeUtils.getFieldExplicit(a,f.name),!s&&(s=n.TypeUtils.resolveIdentifier(l,f.name,r),!s)){const e=l&&l.options&&l.options.name?l.options.name:n.TypeUtils.stringify(a);if(a!==n.AnyType)a&&a.runtimeBinding&&(n.TypeUtils.isMember(a.runtimeBinding,f.name)||a.runtimeBinding.options&&"none"==a.runtimeBinding.options.validateMembers)||(n.TypeUtils.isAnyOrDynamic(a)?a=n.TypeUtils.narrowToAnyOrDynamic(a):this.parser.getSymbol("FLEXIBLE_TYPES")?this.parser.storeWarning("UNRESOLVED_IDENTIFIER",f,e+"."+f.name):this.parser.storeError("UNRESOLVED_IDENTIFIER",f,e+"."+f.name));else{n.TypeUtils.resolveIdentifierAnywhere(r,f.name).length||(this.parser.getSymbol("FLEXIBLE_TYPES")||!n.TypeUtils.isAnyOrDynamic(a)?this.parser.storeWarning("UNRESOLVED_IDENTIFIER",f,e+"."+f.name):this.parser.storeError("UNRESOLVED_IDENTIFIER",f,e+"."+f.name))}s={name:f.name,type:a===n.DynamicType?n.DynamicType:n.AnyType}}l={name:null,kind:n.ContextualLevelKind.ReadProperty,context:l,implicitContext:!l,type:n.TypeUtils.getActiveType(s,this.controlFlowBranch),range:f.range,parent:t,items:[],options:{name:f.name}}}else{let i=!1;if(!s&&(s=n.TypeUtils.resolveIdentifier(l||t,f.name,r),!s)){const o=n.TypeUtils.resolveIdentifierUp(l||t,f.name,r);o?s=o.field:(this.parser.storeError("UNRESOLVED_IDENTIFIER",e,f.name),i=!0)}i||(l=this.buildReadVariable(f,l||t,r))}a=n.TypeUtils.getActiveType(s,this.controlFlowBranch)||n.TypeUtils.constructGuess();break;case"literal":a?this.parser.storeError(i,e):l=this.processLiteral(f,t,r),a=l.type;break;case"lefthandside":{const[h,m]=f.items;let g;"lefthandside"===h.type&&c(f);let y,v,b=!1,S=e;if(e.items.length>1&&(S=e.items[1]),s){const e=n.TypeUtils.getActiveType(s,this.controlFlowBranch);if(e)g=n.TypeUtils.getField(e,h.name,r);else{"call"==f.subtype&&m&&"arguments"===m.type&&(v=m.items.map(((e,n)=>this.processExpression(e,t,r))));const e=n.TypeUtils.resolveMethodAnywhere(r,h.name,v,this.parser);g=e[0].field,b=e.length>1}}else if(a)this.replaceAsyncSetupMethods(l||t,S,h),g=n.TypeUtils.getField(a,h.name,r);else if(this.replaceAsyncSetupMethods(l||t,S,h),g=n.TypeUtils.resolveIdentifier(l||t,h.name,r),!g){const e=n.TypeUtils.resolveIdentifierUp(l||t,h.name,r);e&&(g=e.field)}const T=a&&(null===(p=null===a||void 0===a?void 0:a.runtimeBinding)||void 0===p?void 0:p.options)?a.runtimeBinding.options.validateMembers:this.parser.getSymbol("FLEXIBLE_TYPES")?"warning":"error";if(g){if(a&&("any"===a.name||"()"===a.name)){let i=s||a,o=i?i.name:"";e.items.length>1&&e.items[0].name&&(o=e.items[0].name);let c=(o.length>0?o+".":"")+h.name;"call"==f.subtype&&m&&"arguments"===m.type&&(v=m.items.map(((e,n)=>this.processExpression(e,t,r))));const p="call"===f.subtype?n.TypeUtils.resolveMethodAnywhere(r,h.name,v,this.parser):n.TypeUtils.resolveIdentifierAnywhere(r,h.name);if(p.length){if(1===p.length)g=p[0].field,l.type=p[0].type,"undefined"!==typeof s.rangedTypes&&s.rangedTypes.push({type:p[0].type,from:S.range.from,controlFlowBranch:this.controlFlowBranch});else if(p.length&&"undefined"!==typeof s.rangedTypes){const e=n.TypeUtils.constructGuess(p.map((e=>e.type)));s.rangedTypes.push({type:e,from:S.range.from,controlFlowBranch:this.controlFlowBranch}),e.baseType&&(g=p[0].field,l.type=p[0].type)}}else{n.TypeUtils.resolveIdentifierAnywhere(r,h.name).length||(this.parser.getSymbol("FLEXIBLE_TYPES")||!n.TypeUtils.isAnyOrDynamic(a)?this.parser.storeWarning("UNRESOLVED_IDENTIFIER",S,c):this.parser.storeError("UNRESOLVED_IDENTIFIER",S,c))}}}else{let e=(a?n.TypeUtils.stringify(a)+".":"")+h.name;switch(T){case"error":this.parser.storeError("NOT_A_METHOD",S,e);case"warning":n.TypeUtils.resolveIdentifierAnywhere(r,h.name).length?this.parser.storeWarning("UNRESOLVED_METHOD",S,e):this.parser.storeError("UNRESOLVED_IDENTIFIER",S,e);case"none":g={name:h.name,type:a===n.DynamicType?n.DynamicType:n.AnyType}}}if("call"==f.subtype&&m&&"arguments"===m.type){if(g&&(!g.type||!n.TypeUtils.isDerivedFrom(g.type,n.FunctionBaseType))){let t=(a?n.TypeUtils.stringify(a)+".":"")+h.name;const r=e.items.length>1?e.items[1]:e;this.parser.storeError("NOT_A_METHOD",r,t)}let i=!l;if(l&&l.type&&"Stage"===l.type.name)i=!0;else if(!l&&e.items.length>1){if("stage"===e.items[0].type){const e=n.TypeUtils.resolveIdentifierOnStage(t,h.name,r);e&&(l=e.context,i=!0)}if("this"===e.items[0].type){const e=n.TypeUtils.resolveIdentifierUp(t,h.name,r);e&&(l=e.context,i=!0)}}if(!v&&"call"==f.subtype&&m&&"arguments"===m.type){let e=g.type.fields[g.type.fields.length-1];"undefined"===typeof e||(null===(u=e.options)||void 0===u?void 0:u.repeatable)||(e=void 0),v=m.items.map(((n,i)=>{var o;return this.processExpression(n,t,r,(null===(o=g.type.fields[i])||void 0===o?void 0:o.type)||(null===e||void 0===e?void 0:e.type))}))}y={name:null,kind:(null===(d=null===g||void 0===g?void 0:g.type)||void 0===d?void 0:d.baseType)&&g.type.baseType===n.RecordConstructorBaseType?n.ContextualLevelKind.Record:n.ContextualLevelKind.CallMethod,context:l,implicitContext:i,type:b||!g?this.parser.genericType:g.type,returnedType:g&&g.type!=n.AnyType?g.type.returnType:this.parser.genericType,options:{name:g?g.name:h.name},range:{char:o.char,line:o.line,from:o.from,to:f.range.to},parent:t,items:v},this.checkCallParameterTypes(y)}else if(!m||"indexer"!==m.type&&"indexer-range"!==m.type)this.parser.storeError(i,e);else{let e=n.ContextualLevelKind.VariableIndexer;if(l)switch(l.kind){case n.ContextualLevelKind.VariableIndexer:case n.ContextualLevelKind.PropertyIndexer:case n.ContextualLevelKind.ExpressionIndexer:e=n.ContextualLevelKind.ExpressionIndexer;break;default:e=n.ContextualLevelKind.PropertyIndexer}if(a&&"dynamic"===a.name){const e=n.TypeUtils.resolveIdentifierAnywhere(r,h.name);if(e&&e.length){const t=e[0].field.type;e.every((e=>{var r;return t&&(null===(r=e.field)||void 0===r?void 0:r.type)&&e.field.type.name==t.name}))&&(g=e[0].field,l.type=e[0].type)}}y={name:null,kind:e,context:l,implicitContext:!l,type:b||!g?this.parser.genericType:g.type,returnedType:this.parser.genericType,options:Object.assign({name:g?g.name:null},m.options),range:{char:o.char,line:o.line,from:o.from,to:f.range.to},parent:t,items:[]},"indexer-range"===m.type?(y.kind=l?n.ContextualLevelKind.PropertyIndexerRange:n.ContextualLevelKind.VariableIndexerRange,y.items=[m.items[0]?this.processExpression(m.items[0],t,r):null,m.items[1]?this.processExpression(m.items[1],t,r):null]):y.items=[this.processExpression(m.items[0],t,r)]}o=null,a=null,s=y.returnedType?{name:y.type.name,type:y.returnedType}:null,l=y;break}case"indexer":case"indexer-range":break;case"dot":c(f);break;default:this.parser.storeError(i,e)}}};return c(e),l&&(l.range.to=e.range.to),l}processAssignment(e,t,r){var i,o,a,s,l,c;const p=e.items,u=this.parser.getSymbol("FLEXIBLE_TYPES"),d={name:null,kind:n.ContextualLevelKind.Assignment,type:null,range:e.range,parent:t,items:[],options:{operator:e.subtype,grouped:e.grouped||!1,mightBeDeclaration:(null===(i=e.options)||void 0===i?void 0:i.mightBeDeclaration)||!1}};d.items=[this.processExpression(p[0],d,r),this.processExpression(p[1],d,r)],d.returnedType=d.items[1].returnedType||d.items[1].type;let h=t;const f=![n.ContextualLevelKind.Block,n.ContextualLevelKind.ForStatement].includes(t.kind);for(;f&&h;){if([n.ContextualLevelKind.IfStatement].includes(h.kind)){this.parser.storeWarning("INVALID_ASSIGNMENT",e,'"if"');break}if([n.ContextualLevelKind.WhileStatement,n.ContextualLevelKind.DoWhileStatement].includes(h.kind)){this.parser.storeWarning("INVALID_ASSIGNMENT",e,'"while"');break}h=h.parent}const m=d.items[0];m&&m.type&&m.type.baseType&&["StageScript.Function","ScoolcodeActor"].includes(m.type.baseType.name)&&p[0].name===m.type.name&&!this.parser.getSymbol("FLEXIBLE_TYPES")&&this.parser.storeError("INVALID_ASSIGNMENT_READ_ONLY",e,p[0].name);const g=d.items[1].returnedType||d.items[1].type;if("identifier"===p[0].type){let i=n.TypeUtils.resolveIdentifier(t,p[0].name,r);if("undefined"!==typeof(null===i||void 0===i?void 0:i.rangedTypes))g!==i.type&&g!==n.AnyType&&(0===i.rangedTypes.length&&i.rangedTypes.push({type:i.type,from:0,controlFlowBranch:this.controlFlowBranch}),i.rangedTypes.push({type:g,from:e.range.to,controlFlowBranch:this.controlFlowBranch,assignment:!0}));else if(!i){const i=n.TypeUtils.resolveIdentifierUp(t,p[0].name,r);if(i){const t=i.field,r=n.TypeUtils.getActiveType(t,this.controlFlowBranch);if((null===(o=t.options)||void 0===o?void 0:o.readOnly)&&!this.parser.getSymbol("FLEXIBLE_TYPES"))this.parser.storeError("INVALID_ASSIGNMENT_READ_ONLY",e,p[0].name);else if(g&&g.alternatives&&r&&r!==n.DynamicType&&r!==n.AnyType){if(!g.alternatives.find((e=>e===n.AnyType)))for(const i of g.alternatives)if(i!==n.AnyType&&i.baseType!==n.DynamicType&&i!==n.DynamicType&&r.name!==i.name&&(!i.returnType||!n.TypeUtils.isSame(r,i.returnType))){this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,r.name);break}}else!g||g===n.DynamicType||g===n.AnyType||r===n.AnyType||r===n.DynamicType||n.TypeUtils.isSame(g,r)||n.TypeUtils.canAccept(g,r)||r.returnType&&n.TypeUtils.isSame(g,r.returnType)?r.baseType!==n.EnumBaseType||d.items[1].kind!==n.ContextualLevelKind.Literal||n.TypeUtils.isValidEnumValue(d.items[1],r)?r.baseType!==n.EnumBaseType||(null===(s=null===(a=d.items[1].context)||void 0===a?void 0:a.type)||void 0===s?void 0:s.baseType)!==n.EnumBaseType||n.TypeUtils.isSame(r,d.items[1].context.type)||this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,r.name):this.parser.storeError("INVALID_ASSIGNMENT_ENUM_MISMATCH",e,d.items[1].options.value,r.fields.map((e=>e.name)).join("|")):u?this.parser.storeWarning("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,r.name):this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,r.name)}}}else{const t=d.items[0].returnedType||d.items[0].type;if(t.guess&&t.alternatives){let r=!1,i=null,o=[];for(const e of t.alternatives)if(o.push(e.name),!g||g===n.DynamicType||g===n.AnyType||e===n.AnyType||e.baseType===n.DynamicType||e===n.DynamicType||g.name===e.name||n.TypeUtils.canAccept(g,e)||e.returnType&&n.TypeUtils.isSame(g,e.returnType)){r=!0;break}!r&&i&&this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,o.join("|"))}else if(g&&g.alternatives&&t&&t!==n.DynamicType&&t!==n.AnyType){if(!g.alternatives.find((e=>e===n.AnyType)))for(const r of g.alternatives)if(r!==n.AnyType&&r.baseType!==n.DynamicType&&r!==n.DynamicType&&t.name!==r.name&&!(n.TypeUtils.canAccept(g,t)||r.returnType&&n.TypeUtils.isSame(t,r.returnType))){this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,t.name);break}}else!g||n.TypeUtils.isAnyOrDynamic(g)||n.TypeUtils.isAnyOrDynamic(t)||n.TypeUtils.isAnyOrDynamic(t.baseType)||g.name===t.name||n.TypeUtils.canAccept(g,t)||t.returnType&&n.TypeUtils.isSame(g,t.returnType)?t.baseType!==n.EnumBaseType||d.items[1].kind!==n.ContextualLevelKind.Literal||n.TypeUtils.isValidEnumValue(d.items[1],t)?t.baseType!==n.EnumBaseType||(null===(c=null===(l=d.items[1].context)||void 0===l?void 0:l.type)||void 0===c?void 0:c.baseType)!==n.EnumBaseType||n.TypeUtils.isSame(t,d.items[1].context.type)||this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,t.name):u?this.parser.storeWarning("INVALID_ASSIGNMENT_ENUM_MISMATCH",e,d.items[1].options.value,t.fields.map((e=>e.name)).join("|")):this.parser.storeError("INVALID_ASSIGNMENT_ENUM_MISMATCH",e,d.items[1].options.value,t.fields.map((e=>e.name)).join("|")):this.parser.getSymbol("FLEXIBLE_TYPES")?this.parser.storeWarning("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,t.name):this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e,t.name)}return d}processOperator(e,t,r,i=0,o){const a=e.items;if(i==a.length-1)return this.processExpression(a[0],t,r,o);{const s=a.length-1-i,l={name:null,kind:n.ContextualLevelKind.Operator,type:null,range:e.range,parent:t,items:[],options:Object.assign({operator:a[s-1].subtype,grouped:e.grouped||!1},e.options||{})};o=n.LiteralTypes[l.options.expectedType]||this.parser.genericType,l.items=[this.processOperator(e,l,r,i+2,o),this.processExpression(a[s],l,r,o)];const c=l.items[0].returnedType||l.items[0].type,p=l.items[1].returnedType||l.items[1].type;return"*"!==l.options.operator||l.options.stringReplication?"number"===c.name&&"number"===p.name?l.returnedType=n.LiteralTypes.number:"array"===c.name&&"array"===p.name?l.options.arrayConcatenation?l.returnedType=n.LiteralTypes.array:l.returnedType=n.LiteralTypes.string:"string"===c.name||"string"===p.name?l.returnedType=n.LiteralTypes.string:l.returnedType=this.parser.genericType:l.returnedType=n.LiteralTypes.number,l}}processLogical(e,t,r,i=0){const o=e.items;if(i==o.length-1)return this.processExpression(o[0],t,r);{const a=o.length-1-i,s={name:null,kind:n.ContextualLevelKind.Operator,type:null,range:e.range,parent:t,items:[],options:{operator:"and"==e.subtype?"&&":"||",grouped:e.grouped||!1}};return s.items=[this.processLogical(e,s,r,i+1),this.processExpression(o[a],s,r)],n.TypeUtils.isSame(s.items[0].returnedType,s.items[1].returnedType)?s.returnedType=s.items[0].returnedType||this.parser.genericType:s.returnedType={name:"union",baseType:null,fields:[],events:[],alternatives:[s.items[0].returnedType,s.items[1].returnedType]},s}}processPrefixOperator(e,t,r,i=0){const o=e.items[0],a={name:null,kind:n.ContextualLevelKind.PrefixUnaryOperator,type:null,range:e.range,parent:t,items:[],options:{operator:e.subtype,grouped:e.grouped||!1}};return a.items=[this.processExpression(o,a,r)],a.returnedType="!"===e.subtype||"not"===e.subtype?n.BooleanLiteralBaseType:n.NumberLiteralBaseType,a}processPostfixOperator(e,t,r,o=0){const a=e.items[0],s={name:null,kind:n.ContextualLevelKind.PostfixUnaryOperator,type:null,range:e.range,parent:t,items:[],options:{operator:e.subtype,grouped:e.grouped||!1}};return a?(s.items=[this.processExpression(a,s,r)],s.returnedType=n.NumberLiteralBaseType):this.parser.storeError(i,e),s}processLiteral(e,t,r){if("array"===e.subtype){const i={name:null,kind:n.ContextualLevelKind.Literal,type:n.StageBuilder.extractLiteralType(e),range:e.range,parent:t,items:[],options:{value:[]}};return i.options.value=e.items.map((e=>this.processExpression(e,i,r))),i}if("template-string"===e.subtype){const i={name:null,kind:n.ContextualLevelKind.Literal,type:n.StageBuilder.extractLiteralType(e),range:e.range,parent:t,items:[],options:{value:[]}};return i.options.value=e.items.map((e=>this.processExpression(e,i,r))),i}return{name:null,kind:n.ContextualLevelKind.Literal,type:n.StageBuilder.extractLiteralType(e,!1),range:e.range,parent:t,items:[],options:{value:e.value}}}processExpression(e,t,r,i){const o=e;switch((e="expression"===e.type?e.items[0]:e).range=o.range,e.type){case"parameterList":break;case"variable":case"variableDeclaration":return this.processVariableDeclaration(e,t,r);case"additive":case"multiplicative":case"exponentative":case"subtractive":case"relational":case"equality":return this.processOperator(e,t,r);case"logical":return this.processLogical(e,t,r);case"unary":return this.processPrefixOperator(e,t,r);case"postfix":return this.processPostfixOperator(e,t,r);case"assignment":return this.processAssignment(e,t,r);case"lefthandside":return this.processLeftHandSide(e,t,r);case"this":return{name:null,kind:n.ContextualLevelKind.ThisBinding,type:n.TypeUtils.resolveThisType(t),range:e.range,parent:t,items:[]};case"stage":return{name:null,kind:n.ContextualLevelKind.StageBinding,type:n.TypeUtils.resolveStageType(t),range:e.range,parent:t,items:[]};case"literal":return this.processLiteral(e,t,r);case"identifier":return this.buildReadVariable(e,t,r,!0,i);case"dot":return this.processDot(e,t,r);default:return this.processStatement(e,t,r)}}processIteration(e,t,r){const i=()=>{n.ContextualParserUtils.isInContext(t,"setup")&&this.parser.storeWarning("FOREVER_SETUP",e)};switch(e.subtype){case"for":return this.buildFor(e,t,r);case"forof":return this.buildForOf(e,t,r);case"forin":return this.buildForIn(e,t,r);case"while":return i(),this.buildWhile(e,t,r);case"dowhile":return i(),this.buildDoWhile(e,t,r);default:this.parser.storeError("UNSUPPORTED_ITERATION: "+e.subtype,e)}}processStatement(e,t,r){switch(e.type){case"block":return this.buildBlock(e,t,r);case"if":return this.buildIf(e,t,r);case"comment":if("single"===e.subtype)return this.buildLineComment(e,t,r);if("multi"===e.subtype)return this.buildMultiLineComment(e,t,r);break;case"lineComment":return this.buildLineComment(e,t,r);case"multiLineComment":return this.buildMultiLineComment(e,t,r);case"iteration":return this.processIteration(e,t,r);case"delete":return this.buildDelete(e,t,r);case"return":return this.buildReturn(e,t,r);case"break":return this.buildBreak(e,t,r);case"pass":return this.buildPass(e,t,r);case"continue":return this.buildContinue(e,t,r);case"expressionStatement":return e.items[0].range=e.range,this.processExpression(e.items[0],t,r)}e.type?this.parser.storeError(o,e,e.type):this.parser.storeError(a,e)}process(e,t,r){try{let n;"expressionStatement"===e.type?(e.items[0].range=e.range,n=this.processExpression(e.items[0],t,r)):n=this.processExpression(e,t,r),n&&t.items.push(n)}catch(n){}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionBuilder=void 0;const n=r(2);class i{constructor(e,t){this.tree=e,this.parser=t,this.expressionBuilder=new n.ExpressionBuilder(e,t)}static extractWhenType(e,t,r){let i=t.type,o=e.name;if(-1!==o.indexOf(".")){const[e,t]=o.split(".");return o=t,i="stage"===e?r.types.find((e=>"Stage"===e.name)):n.TypeUtils.getTypeDefinition(r.types,e),n.TypeUtils.getEvent(i,o)}return n.TypeUtils.getEvent(i,o)||n.TypeUtils.getEvent(r.types.find((e=>"Stage"===e.name)),o)}doLexicalAnalysis(e,t){t.references=t.references||[];for(let r of e.items)null!==r&&("variable"===r.type&&"local"===r.scope?t.references.push({name:r.name,type:null,options:{unresolved:!0}}):r.items.length&&this.doLexicalAnalysis(r,t))}processWhen(e,t,r){const o={name:null,parent:t,range:e.range,kind:n.ContextualLevelKind.When,type:i.extractWhenType(e,t,r),items:[],references:[{name:"event",type:(0,n.EventDataType)(this.parser.genericType)}],options:{internal:!!e.attributes.find((e=>"internal"===e.name))}};if(!o.type)throw this.parser.storeError("INVALID_WHEN",e),new Error("INVALID_WHEN");this.doLexicalAnalysis(e,o),this.expressionBuilder.enableControlFlowBranchCounting(),e.items.forEach((e=>this.expressionBuilder.process(e,o,r))),this.expressionBuilder.disableControlFlowBranchCounting(),t.items.push(o)}processFunction(e,t,r){this.expressionBuilder.resetReturnStatements(),this.expressionBuilder.enableControlFlowBranchCounting(),e.items.forEach((e=>this.expressionBuilder.process(e,t,r)));const i=this.expressionBuilder.getReturnStatements(),o=this.expressionBuilder.disableControlFlowBranchCounting();for(let a of t.type.fields)a.rangedTypes.length?(a.type=n.TypeUtils.gatherParamType(a,o),a.type!==n.AnyType&&a.type!==n.DynamicType||(a.type=this.parser.genericType,a.rangedTypes=[{type:a.type,from:0,controlFlowBranch:o}])):a.rangedTypes.push({type:a.type,from:0,controlFlowBranch:o});if(i.some((e=>e.returnedType))){if(!t.type.returnType)throw this.parser.storeError("VOID_MUST_NOT_RETURN",e),new Error("VOID_MUST_NOT_RETURN");const r=[];for(let e of i){let t=e.returnedType||n.UndefinedLiteralType;r.some((e=>n.TypeUtils.isSame(e,t)))||r.push(t)}let o;if(1===r.length?o=r[0]:r.length>1&&(o={name:"union",baseType:null,fields:[],events:[],alternatives:r}),!n.TypeUtils.isAnyOrDynamic(t.type.returnType)&&!n.TypeUtils.isSame(t.type.returnType,o))throw this.parser.storeError("RETURN_TYPE_MUST_MATCH_ANNOTATION",e,t.type.returnType.name),new Error("RETURN_TYPE_MUST_MATCH_ANNOTATION");t.type.returnType=o}else{if(t.type.returnType&&!n.TypeUtils.isAnyOrDynamic(t.type.returnType))throw this.parser.storeError("NON_VOID_MUST_RETURN",e,t.type.returnType.name),new Error("NON_VOID_MUST_RETURN");t.type.returnType=n.UndefinedLiteralType}}processFunctionParameter(e,t,r,i,o){const a=e.subtype?this.parser.processTypeAnnotation(e.subtype,e,r,i):o?n.DynamicType:this.parser.genericType;return{name:e.name,type:a,rangedTypes:e.subtype?[{type:a,from:t.range.from}]:[],ref:e.ref,options:Object.assign(Object.assign({},e.options||{repeatable:!1,mandatory:!1}),{typeAnnotated:!!e.subtype})}}processFunctionDeclaration(e,t,r,i=!1){const o={baseType:n.FunctionBaseType,returnType:e.subtype?this.parser.processTypeAnnotation(e.subtype,e,t,r):i?n.DynamicType:this.parser.genericType,name:e.name,fields:e.items[0].items.map((n=>this.processFunctionParameter(n,e,t,r,i))),events:[]},a=e.attributes.find((e=>"block"===e.name)),s=e.attributes.find((e=>"returns"===e.name)),l={name:null,range:e.range,type:o,kind:n.ContextualLevelKind.Function,references:[...o.fields],parent:t,items:[],options:{internal:!!e.attributes.find((e=>"internal"===e.name)),block:!!a&&a.items[0].value,returns:!!s,typeAnnotated:!!e.subtype}};return this.doLexicalAnalysis(e,l),{name:e.name,type:o,value:l}}}t.FunctionBuilder=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBuilder=void 0;const n=r(2);t.ActorBuilder=class{constructor(e,t,r){this.processMethodDefinition=e=>{this.functionBuilder.processFunction(e,this.type.fields.find((t=>t.name===e.name)).value,this.tree)},this.processLineComment=e=>{this.type.fields.push(this.lineCommentBuilder.process(e,this.level,this.tree))},this.processMultiLineComment=e=>{this.type.fields.push(this.multiLineCommentBuilder.process(e,this.level,this.tree))},this.tree=e,this.parser=t,this.functionBuilder=new n.FunctionBuilder(e,t),this.expressionBuilder=new n.ExpressionBuilder(e,t),this.lineCommentBuilder=new n.LineCommentBuilder(e,t),this.multiLineCommentBuilder=new n.MultiLineCommentBuilder(e,t),this.actorBaseType=r,this.actorPartBaseType={name:"ScoolcodeActorPart",baseType:r,fields:[],events:[]}}processCostume(e){n.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name);let t=e.value,r=n.StageBuilder.extractTextureType(e);this.type.fields.find((t=>t.name===e.name))&&this.parser.storeError("REDECLARATION",e),this.type.fields.push({name:e.name,type:r,value:{leaf:e,parent:this.level,kind:"literal",type:r,items:[],options:{value:t,default:e.default}},range:e.range})}processSound(e){n.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name);let t=e.value;this.type.fields.find((t=>t.name===e.name))&&this.parser.storeError("REDECLARATION",e),this.type.fields.push({name:e.name,type:n.SoundLiteralBaseType,value:{leaf:e,parent:this.level,kind:"literal",type:n.SoundLiteralBaseType,items:[],options:{value:t}},range:e.range})}processRecord(e){n.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name),this.type.fields.find((t=>t.name===e.name))&&this.parser.storeError("REDECLARATION",e);const t={baseType:n.RecordBaseType,name:e.name,fields:e.items[0].items.map((e=>({name:e.name,options:{typeAnnotated:!!e.subtype},type:e.subtype?this.parser.processTypeAnnotation(e.subtype,e,this.level,this.tree):n.AnyType}))),events:[]},r=new n.ScoolcodeRecordInfo(e.name);t.fields.map((e=>r.addUserField(e.name,n.RuntimeTypeBuilder.buildType(e.type),e.options.typeAnnotated))),t.runtimeBinding=r;const i={baseType:n.RecordConstructorBaseType,returnType:t,name:e.name,fields:[...t.fields],events:[]};this.type.fields.push({name:e.name,type:i,value:{leaf:e,parent:this.level,kind:n.ContextualLevelKind.Record,type:i,items:[],options:{},range:e.range},range:e.range})}processUseDeclaration(e,t){this.type.fields.find((t=>t.name===e.name))&&this.parser.storeError("REDECLARATION",e),this.type.fields.push({name:e.name,type:n.DynamicType,value:null,range:e.range,options:{path:e.value,blockRoot:!0,readOnly:!0,useDef:!0}})}async processUseDefinition(e,t){try{const{part:r,type:n}=await this.parser.partManager.getActorPart(e.name,e.value);if(!r||!n)return void this.parser.storeError("INVALID_USE",e);"actor"!==t&&(n.name=`${n.name}<${t}>`);const i=this.type.fields.find((t=>t.name===e.name));i.type=n,i.value=Object.assign(Object.assign({},r.value),{type:n})}catch(r){this.parser.storeError("CIRCULAR_USE",e,r.message)}}processCostumes(e){e.items.filter((e=>"costume"===e.type)).forEach((e=>this.processCostume(e)))}processSounds(e){e.items.filter((e=>"sound"===e.type)).forEach((e=>this.processSound(e)))}processRecords(e){e.items.filter((e=>"record"===e.type)).forEach((e=>this.processRecord(e)))}processUseDeclarations(e){const t=e.items.filter((e=>"use"===e.type));for(let r of t)this.processUseDeclaration(r,e.name)}async processUseDefinitions(e){const t=e.items.filter((e=>"use"===e.type));for(let r of t)await this.processUseDefinition(r,e.name)}processVariableDeclaration(e,t){let r=e.value,i=e.subtype?this.parser.processTypeAnnotation(e.subtype,e,this.level,this.tree):t?n.DynamicType:this.parser.genericType;if(n.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name),!e.options||!e.options.mightBeAssignment){this.type.fields.find((t=>t.name===e.name))&&this.parser.storeError("REDECLARATION",e);for(const t of this.tree.types[0].fields)t.name===e.name&&this.parser.storeWarning("REDECLARATION",e)}this.type.fields.push({name:e.name,type:i,value:r,range:e.range,options:{typeAnnotated:!!e.subtype,internal:!!e.attributes.find((e=>"internal"===e.name))}})}processVariableDeclarations(e,t){e.items.filter((e=>"variable"===e.type)).forEach((e=>this.processVariableDeclaration(e,t)))}processVariableDefinition(e,t){var r;let i=e.value;i?i=this.expressionBuilder.processExpression(i,this.level,this.tree):e.items.length&&(i=this.expressionBuilder.processExpression(e.items[0],this.level,this.tree));const o=this.type.fields.find((t=>t.name===e.name));if(o){if(!i||n.TypeUtils.isAnyOrDynamic(o.type)||n.TypeUtils.isSame(o.type,i.type)||this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e),i&&!(null===(r=o.options)||void 0===r?void 0:r.typeAnnotated)&&!this.parser.getSymbol("IMPLICIT_GLOBAL_ANY_TYPE")){const e=i.returnedType||i.type||o.type;n.TypeUtils.isStronglyDerivedFrom(e,n.DynamicType)||(o.type=e)}o.value=i}}processVariableDefinitions(e){e.items.filter((e=>"variable"===e.type)).forEach((e=>this.processVariableDefinition(e,this)))}processMethodDeclaration(e,t,r=!1){n.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name);const i=this.type.fields.findIndex((t=>t.name===e.name));-1!==i&&(r?this.type.fields.splice(i,1,this.functionBuilder.processFunctionDeclaration(e,this.level,this.tree,t)):this.parser.storeError("REDECLARATION",e)),this.type.fields.push(this.functionBuilder.processFunctionDeclaration(e,this.level,this.tree,t))}processMethodDeclarations(e,t){e.items.filter((e=>"function"===e.type)).forEach((e=>this.processMethodDeclaration(e,t)))}processMethodDefinitions(e){e.items.filter((e=>"function"===e.type)).forEach(this.processMethodDefinition)}processWhenDeclarations(e){try{e.items.filter((e=>"when"===e.type)).forEach((e=>this.functionBuilder.processWhen(e,this.level,this.tree)))}catch(t){}}processComments(e){this.lineCommentBuilder.resetCounter(),this.multiLineCommentBuilder.resetCounter();for(const t of e.items)"comment"===t.type&&("single"===t.subtype?this.processLineComment(t):"multi"===t.subtype&&this.processMultiLineComment(t))}processDeclaration(e,t,r=!1){this.type={name:e.name,baseType:Object.assign({},r?this.actorPartBaseType:this.actorBaseType),fields:[],events:[]};const i=[];for(const n of this.type.baseType.fields)"getClone"!==n.name&&i.push(Object.assign({},n));this.type.baseType.fields=i;const o=this.actorBaseType.fields.find((e=>"getClone"===e.name));this.type.fields.push(Object.assign(Object.assign({},o),{type:Object.assign(Object.assign({},o.type),{returnType:this.type}),internal:!0})),this.level={name:null,parent:t,range:e.range,kind:n.ContextualLevelKind.Actor,type:this.type,items:[],options:{internal:!!e.attributes.find((e=>"internal"===e.name))}},this.tree.types=this.tree.types.filter((e=>e.name!=this.type.name)),this.tree.types.push(this.type);try{r||(this.processSounds(e),this.processCostumes(e)),this.processRecords(e),this.processUseDeclarations(e),this.processVariableDeclarations(e,r),this.processMethodDeclarations(e,r)}catch(a){console.error(a)}return{name:e.name,type:this.type,value:this.level,range:e.range}}prepare(e){this.type=e.type,this.level=e}async process(e,t){try{this.type=t.type,this.level=t.value,await this.processUseDefinitions(e),this.processVariableDefinitions(e),this.processMethodDefinitions(e),this.processWhenDeclarations(e),this.processComments(e)}catch(r){console.error(r)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StageBuilder=void 0;const n=r(187),i=r(2);class o{constructor(e,t,r,n,o=!1){this.processActorDefinition=async(e,t=null)=>{let r=this.findFieldByName(e.name);!r&&t&&(r=t.type.fields.find((t=>!(!t||!t.name)&&t.name===e.name))),r?await this.actorBuilder.process(e,r):this.parser.storeError("UNEXPECTED_TOKEN",e,e.name)},this.processSceneDefinition=async e=>{await this.sceneBuilder.process(e,this.findFieldByName(e.name))},this.processMethodDefinition=e=>{i.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name),this.functionBuilder.processFunction(e,this.findFieldByName(e.name).value,this.tree)},this.processLineComment=e=>{this.type.fields.push(this.lineCommentBuilder.process(e,this.level,this.tree))},this.processMultiLineComment=e=>{this.type.fields.push(this.multiLineCommentBuilder.process(e,this.level,this.tree))},this.tree=e,this.parser=t,this.actorBuilder=new i.ActorBuilder(e,t,n),o||(this.sceneBuilder=new i.SceneBuilder(e,t,r,n)),this.functionBuilder=new i.FunctionBuilder(e,t),this.expressionBuilder=new i.ExpressionBuilder(e,t),this.lineCommentBuilder=new i.LineCommentBuilder(e,t),this.multiLineCommentBuilder=new i.MultiLineCommentBuilder(e,t),this.stageBaseType=r,this.stagePartBaseType={name:"ScoolcodeStagePart",baseType:r,fields:[],events:[]}}static extractLiteralType(e,t=!1,r=!1){var n;let o=i.LiteralTypes[e.subtype]||{fields:[],runtimeBinding:null,baseType:"dynamic"===(null===(n=e.options)||void 0===n?void 0:n.base)?i.DynamicType:i.LiteralBaseType};return r&&o===i.StringLiteralBaseType&&(o=i.NumericLiteralInterface,e.subtype="number"),{name:e.subtype,baseType:o.baseType,implements:o.implements?[...o.implements]:void 0,fields:o.fields,events:[],runtimeBinding:o.runtimeBinding,internal:!0,mutable:t}}static extractTextureType(e){return i.TextureTypes[e.subtype]}findFieldByName(e){return this.type.fields.find((t=>!(!t||!t.name)&&t.name===e))}findFieldIndexByName(e){return this.type.fields.findIndex((t=>!(!t||!t.name)&&t.name===e))}processBackdrop(e){let t=e.value,r=o.extractTextureType(e);i.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name),this.findFieldByName(e.name)&&this.parser.storeError("REDECLARATION",e),this.type.fields.push({name:e.name,type:r,value:{leaf:e,parent:this.level,kind:"literal",type:r,items:[],options:{value:t,blockRoot:!0,readOnly:!0,default:e.default}},range:e.range})}processSound(e){let t=e.value;i.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name),this.findFieldByName(e.name)&&this.parser.storeError("REDECLARATION",e),this.type.fields.push({name:e.name,type:i.SoundLiteralBaseType,value:{leaf:e,parent:this.level,kind:"literal",type:i.SoundLiteralBaseType,items:[],options:{value:t}},range:e.range})}processRecord(e){e.value;i.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name),this.findFieldByName(e.name)&&this.parser.storeError("REDECLARATION",e);const t={baseType:i.RecordBaseType,name:e.name,fields:e.items[0].items.map((e=>({name:e.name,options:{typeAnnotated:!!e.subtype},type:e.subtype?this.parser.processTypeAnnotation(e.subtype,e,this.level,this.tree):this.parser.genericType}))),events:[]},r=new i.ScoolcodeRecordInfo(e.name);t.fields.map((e=>r.addUserField(e.name,i.RuntimeTypeBuilder.buildType(e.type),e.options.typeAnnotated))),t.runtimeBinding=r;const n={baseType:i.RecordConstructorBaseType,returnType:t,name:e.name,fields:[...t.fields],events:[]};this.type.fields.push({name:e.name,type:n,value:{leaf:e,parent:this.level,kind:i.ContextualLevelKind.Record,type:n,items:[],options:{},range:e.range},range:e.range})}processUseDeclaration(e,t){return this.findFieldByName(e.name)&&this.parser.storeError("REDECLARATION",e),this.type.fields.push({name:e.name,type:i.DynamicType,value:null,range:e.range,options:{path:e.value,blockRoot:!0,readOnly:!0,useDef:!0}}),e.value?`${e.value}/${e.name}`:e.name}async processUseDefinition(e,t){var r;try{i.ContextualParserLogger.log("ProjectLoading - StageBuilder.processUseDefinition-00 "+e.name+" "+t);const{part:n,type:o,builder:a}=await this.parser.partManager.getStagePart(e.name,e.value);if(!n||!o)return i.ContextualParserLogger.log("ProjectLoading - StageBuilder.processUseDefinition-020 INVALID_USE "+e.name),this.parser.storeError("INVALID_USE",e),void i.ContextualParserLogger.log("ProjectLoading - StageBuilder.processUseDefinition-021");"stage"!==t&&(o.name=`${o.name}<${t}>`);const s=this.findFieldByName(e.name);s.type=o,s.value=Object.assign(Object.assign({},n.value),{type:o}),s.options={path:e.value,blockRoot:!0,readOnly:!0,language:null===(r=n.options)||void 0===r?void 0:r.language,builder:a,useDef:!0}}catch(n){i.ContextualParserLogger.log("ProjectLoading - StageBuilder.processUseDefinition-09"),console.error(n),this.parser.storeError("CIRCULAR_USE",e)}}async processImportDeclaration(e){try{const{type:t,module:r}=await i.ScoolcodeModuleManager.loadModule(e.value,e.options.loader);if(!t||!r)return void this.parser.storeError("INVALID_IMPORT",e);this.findFieldByName(e.name)&&this.parser.storeError("REDECLARATION",e),(0,n.isObject)(r.options)?r.options.externalModule=!0:r.options={externalModule:!0},this.type.fields.push({name:e.name,type:t,value:r,range:e.range,options:{blockRoot:!0,readOnly:!0,path:e.value}})}catch(t){console.error(t),this.parser.storeError("CIRCULAR_USE",e)}}processBackdrops(e){e.items.filter((e=>"costume"===e.type)).forEach((e=>this.processBackdrop(e)))}processSounds(e){e.items.filter((e=>"sound"===e.type)).forEach((e=>this.processSound(e)))}processRecords(e){e.items.filter((e=>"record"===e.type)).forEach((e=>this.processRecord(e)))}processUseDeclarations(e){const t=e.items.filter((e=>"use"===e.type)),r=new Set;for(let n of t)r.add(this.processUseDeclaration(n,e.name));return[...r]}async processUseDefinitions(e){const t=e.items.filter((e=>"use"===e.type));for(let r of t)await this.processUseDefinition(r,e.name)}async processImportDeclarations(e){const t=e.items.filter((e=>"import"===e.type));for(let r of t)await this.processImportDeclaration(r)}processVariableDeclaration(e,t,r){i.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name);let n=e.value,o=e.subtype?this.parser.processTypeAnnotation(e.subtype,e,this.level,this.tree):t||r?i.DynamicType:this.parser.genericType;this.findFieldByName(e.name)&&this.parser.storeError("REDECLARATION",e),this.type.fields.push({name:e.name,type:o,value:n,range:e.range,options:{internal:!!e.attributes.find((e=>"internal"===e.name)),typeAnnotated:!!e.subtype}})}processVariableDeclarations(e,t,r){e.items.filter((e=>"variable"===e.type)).forEach((e=>this.processVariableDeclaration(e,t,r)))}processVariableDefinition(e,t){var r;let n=e.value;n?n=this.expressionBuilder.processExpression(n,this.level,this.tree):e.items.length&&(n=this.expressionBuilder.processExpression(e.items[0],this.level,this.tree));const o=this.findFieldByName(e.name);if(o){if(!n||i.TypeUtils.isAnyOrDynamic(o.type)||i.TypeUtils.isSame(o.type,n.type)||this.parser.storeError("INVALID_ASSIGNMENT_TYPE_MISMATCH",e),n&&!(null===(r=o.options)||void 0===r?void 0:r.typeAnnotated)&&!this.parser.getSymbol("IMPLICIT_GLOBAL_ANY_TYPE")){const e=n.returnedType||n.type||o.type;i.TypeUtils.isStronglyDerivedFrom(e,i.DynamicType)||(o.type=e)}o.value=n}}processVariableDefinitions(e){e.items.filter((e=>"variable"===e.type)).forEach((e=>this.processVariableDefinition(e,this)))}async processActorDeclaration(e,t=!1){i.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name);const r=this.findFieldIndexByName(e.name);-1!==r?t?this.type.fields.splice(r,1,await this.actorBuilder.processDeclaration(e,this.level)):this.parser.storeError("REDECLARATION",e):this.type.fields.push(await this.actorBuilder.processDeclaration(e,this.level))}async processActorDeclarations(e){const t=e.items.filter((e=>"actor"===e.type));for(let r of t)await this.processActorDeclaration(r)}async processSceneDeclaration(e,t=!1){i.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name);const r=this.findFieldIndexByName(e.name);-1!==r?t?this.type.fields.splice(r,1,await this.sceneBuilder.processDeclaration(e,this.level)):this.parser.storeError("REDECLARATION",e):this.type.fields.push(await this.sceneBuilder.processDeclaration(e,this.level))}async processSceneDeclarations(e){const t=e.items.filter((e=>"scene"===e.type||"costume"===e.type));for(let r of t)"costume"===r.type?this.processBackdrop(r):await this.processSceneDeclaration(r)}async processActorDefinitions(e,t){const r=e.items.filter((e=>"actor"===e.type));for(let n of r)await this.processActorDefinition(n,t)}async processSceneDefinitions(e){const t=e.items.filter((e=>"scene"===e.type));for(let r of t)await this.processSceneDefinition(r)}processMethodDeclaration(e,t,r=!1){i.NameValidator.validateName(e.name)||this.parser.storeError("ILLEGAL_IDENTIFIER_NAME",e,e.name);const n=this.findFieldIndexByName(e.name);-1!==n&&(r?this.type.fields.splice(n,1,this.functionBuilder.processFunctionDeclaration(e,this.level,this.tree,t)):this.parser.storeError("REDECLARATION",e)),this.type.fields.push(this.functionBuilder.processFunctionDeclaration(e,this.level,this.tree,t))}processMethodDeclarations(e,t,r){e.items.filter((e=>"function"===e.type)).forEach((e=>this.processMethodDeclaration(e,t||r)))}processMethodDefinitions(e){e.items.filter((e=>"function"===e.type)).forEach(this.processMethodDefinition)}processWhenDeclarations(e){try{e.items.filter((e=>"when"===e.type)).forEach((e=>this.functionBuilder.processWhen(e,this.level,this.tree)))}catch(t){}}processComments(e){for(const t of e.items)"comment"===t.type&&("single"===t.subtype?this.processLineComment(t):"multi"===t.subtype&&this.processMultiLineComment(t))}async processDeclaration(e,t,r=!1){const n="scene"===e.type,o=this.parser.genericType;let a;this.parser.genericType=n?i.DynamicType:this.predictGenericType(e),this.type={name:r||n?e.name:"Stage",baseType:r?this.stagePartBaseType:this.stageBaseType,fields:[],events:[]},this.level={name:null,parent:t,range:e.range,kind:i.ContextualLevelKind.Stage,type:this.type,items:[],options:{internal:!!e.attributes.find((e=>"internal"===e.name))}},this.tree.types.unshift(this.type);try{r||(n?this.processBackdrops(e):await this.processSceneDeclarations(e),this.processSounds(e)),this.processRecords(e),a=this.processUseDeclarations(e),await this.processImportDeclarations(e),r||await this.processActorDeclarations(e),this.processMethodDeclarations(e,r,n),this.processVariableDeclarations(e,r,n)}catch(s){console.error(s)}return n&&(this.parser.genericType=o),{name:e.name,type:this.type,value:this.level,range:e.range,options:{dependencies:a}}}predictGenericType(e){if(e.items.some((e=>"use"===e.type||"scene"===e.type)))return i.DynamicType;const t=e.items.filter((e=>"actor"===e.type));for(let r of t)if(r.items.some((e=>"use"===e.type)))return i.DynamicType;return i.AnyType}prepare(e){this.type=e.type,this.level=e}async process(e,t){this.type=t.type,this.level=t.value;const r="scene"===e.type,n=this.parser.genericType;this.parser.genericType=r?i.DynamicType:this.predictGenericType(e);try{await this.processUseDefinitions(e),this.processVariableDefinitions(e),await this.processActorDefinitions(e,t),r||await this.processSceneDefinitions(e),this.processMethodDefinitions(e),this.processWhenDeclarations(e),this.processComments(e)}catch(o){console.error(o)}r&&(this.parser.genericType=n)}}t.StageBuilder=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationBuilder=t.applicationBaseType=void 0;const n=r(2);t.applicationBaseType={name:"StageScript.ScoolcodeApplication",baseType:null,fields:[],events:[],internal:!0};t.ApplicationBuilder=class{constructor(e,t,r,i){this.tree=e,this.parser=t,this.stageBuilder=new n.StageBuilder(e,t,r,i)}async processStageDeclarations(e){const t=e.items.filter((e=>"stage"===e.type));for(let r of t){if(this.type.fields.find((e=>e.name===r.name)))throw this.parser.storeError("REDECLARATION",r),new Error("REDECLARATION");this.type.fields.push(await this.stageBuilder.processDeclaration(r,this.level))}}async processStageDefinitions(e){const t=e.items.filter((e=>"stage"===e.type));for(let r of t)await this.stageBuilder.process(r,this.type.fields.find((e=>e.name===r.name)))}async process(e){this.type={name:"Application",baseType:t.applicationBaseType,fields:[],events:[]},this.tree.root=this.level={name:null,parent:null,range:e.range,kind:n.ContextualLevelKind.Application,type:this.type,items:[]},this.tree.types.unshift(this.type);try{await this.processStageDeclarations(e),await this.processStageDefinitions(e)}catch(r){console.error(r)}return this.tree}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SceneBuilder=void 0;const n=r(2);t.SceneBuilder=class{constructor(e,t,r,i){this.tree=e,this.parser=t,this.stageBuilder=new n.StageBuilder(e,t,r,i,!0),this.sceneBaseType={name:"ScoolcodeScene",baseType:null,fields:[],events:[]}}async processDeclaration(e,t){n.ContextualParserLogger.log("ProjectLoading - SceneBuilder.processDeclaration-00 "+e.name),this.type={name:e.name,baseType:this.sceneBaseType,fields:[],events:[]},this.level={name:null,parent:t,range:e.range,kind:n.ContextualLevelKind.Scene,type:this.type,items:[]},this.tree.types.unshift(this.type);try{if("embedded"===e.subtype||"part"===e.subtype){const t=await this.stageBuilder.processDeclaration(e,this.level);n.ContextualParserLogger.log("ProjectLoading - SceneBuilder.processDeclaration-041 "),t.internal=!0,t.name+=".Stage",t.type.name+=".Stage",this.type.fields.push(t),this.type.fields.push(...t.type.fields.filter((e=>{var t,r,n;return!(null===(t=e.options)||void 0===t?void 0:t.internal)&&!(null===(n=null===(r=e.value)||void 0===r?void 0:r.options)||void 0===n?void 0:n.internal)})))}else{n.ContextualParserLogger.log("ProjectLoading - SceneBuilder.processDeclaration-05 "+e.name);const{part:t}=await this.parser.partManager.getScenePart(e.name,e.value);t?(n.ContextualParserLogger.log("ProjectLoading - SceneBuilder.processDeclaration-060"),this.type=t.type,this.level.type=this.type):(n.ContextualParserLogger.log("ProjectLoading - SceneBuilder.processDeclaration-070 INVALID_SCENE_USE "+e.name),this.parser.storeError("INVALID_SCENE_USE ",e))}}catch(r){n.ContextualParserLogger.log("ProjectLoading - SceneBuilder.processDeclaration-080 {e.message}"),console.error(r)}return{name:e.name,type:this.type,value:this.level,range:e.range,options:{blockRoot:!0,readOnly:!0,subtype:e.subtype,path:e.value,default:e.default,preload:!!e.attributes.find((e=>"preload"===e.name)),internal:!!e.attributes.find((e=>"internal"===e.name))}}}async process(e,t){if("embedded"===e.subtype||"part"===e.subtype){const i=t.type.fields[0];this.type=i.type,this.level=i.value;try{i.type.fields.push({name:"completeScene",type:{name:"completeScene",baseType:n.FunctionBaseType,events:[],fields:[{name:"data",type:n.AnyType}],returnType:null},internal:!0}),i.type.fields.push({name:"pauseScene",type:{name:"pauseScene",baseType:n.FunctionBaseType,events:[],fields:[{name:"data",type:n.AnyType}],returnType:null},internal:!0}),i.type.fields.push({name:"stopScene",type:{name:"stopScene",baseType:n.FunctionBaseType,events:[],fields:[{name:"data",type:n.AnyType}],returnType:null},internal:!0}),i.type.fields.push({name:"isVisible",type:{name:"isVisible",baseType:n.FunctionBaseType,events:[],fields:[],returnType:n.BooleanLiteralBaseType},internal:!0}),i.type.fields.push({name:"scene",type:i.type,internal:!0}),i.type.fields.push({name:"opacity",type:n.NumberLiteralBaseType,internal:!0}),await this.stageBuilder.process(e,i)}catch(r){console.error(r)}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualParser=t.ContextualParserLogger=void 0;const n=r(2),i=r(647);class o{static enable(){o.loggingEnabled=!0}static disable(){o.loggingEnabled=!1}static log(e){o.loggingEnabled&&console.info(e)}}t.ContextualParserLogger=o,o.loggingEnabled=!1;t.ContextualParser=class{constructor(e,t,r,i={log:!1}){this.enableLog=!1,this.input=[],this.warnings=[],this.errors=[],this.genericType=n.AnyType,this.symbols={},this.enableLog=i.log,this.stageType=e,this.monitorType=e.fields.find((e=>"createMonitor"===e.name)).type.returnType,this.actorType=t,this.partManager=new n.PartManager(r)}setInput(e){this.input=e.split("\n")}getInputLine(e){return this.input[e-1].trim()}getSymbol(e){return this.symbols[e]}setSymbol(e,t){this.symbols[e]=t;const r=i.SYMBOL_GROUPS[e];r&&r.forEach((e=>this.symbols[e]=t))}getLeafName(e,...t){var r;return e.name||(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.name)||t&&t.find((e=>e&&"string"===typeof e))}getSnippet(e,...t){return this.getLeafName(e,...t)||this.getInputLine(e.range.line)}storeError(e,t,...r){const i=this.getLeafName(t,...r),o=i||this.getInputLine(t.range.line);r.length>0?this.errors.push(new n.ParserError(e,o,t.range.line,t.range.char,t.range.to-t.range.from,...r)):this.errors.push(new n.ParserError(e,o,t.range.line,t.range.char,t.range.to-t.range.from,i))}storeWarning(e,t,...r){const i=this.getLeafName(t,...r),o=i||this.getInputLine(t.range.line);r.length>0?this.warnings.push(new n.ParserWarning(e,o,t.range.line,t.range.char,t.range.to-t.range.from,...r)):this.warnings.push(new n.ParserWarning(e,o,t.range.line,t.range.char,t.range.to-t.range.from,i))}processRecordTypeInPartAnnotation(e,t,r){const i=e.split(".");let o=null;if(i&&i.length>1){let e=i[0],r=t.type.fields.find((t=>t.name==e)),a=0;for(;i&&a<i.length-1&&r&&(o=this.partManager.getActorPartType(e)||this.partManager.getStagePartType(e)||this.partManager.getScenePartType(e),o&&o.type);){const t=i[a+1],s=o.type.fields.find((e=>e.name===t));if(!s||!s.type)break;const l=this.partManager.getActorPartType(t)||this.partManager.getStagePartType(t)||this.partManager.getScenePartType(t);if(l)a++,r=l.type,e=i[a];else{const e=o.type.fields.find((e=>e.name===t));if(e&&e.type&&n.TypeUtils.isStronglyDerivedFrom(e.type,n.RecordConstructorBaseType))return e.type.returnType}}}return null}processTypeAnnotation(e,t,r,i){var o;if("<union>"===e){const e=t.options.unionType;return{name:e.join("|"),baseType:null,fields:[],events:[],alternatives:e.map((e=>this.processTypeAnnotation(e,t,r,i)))}}if("actor"===e)return this.actorType;if("stage"===e)return this.stageType;if("function"===e||"Callable"===e)return n.FunctionBaseType;if("monitor"===e)return this.monitorType;if("any"===e||"Any"===e)return n.AnyType;if("dynamic"===e)return n.DynamicType;if("sound"===e)return n.SoundLiteralBaseType;if("iterable"===e||"Iterable"===e)return n.IterableLiteralInterface;if("numeric"===e)return n.NumericLiteralInterface;"int"!==e&&"float"!==e||(e="number"),"list"!==e&&"tuple"!==e||(e="array"),"bool"===e&&(e="boolean"),"str"===e&&(e="string");const a=n.LiteralTypes[e];if(a)return a;const s=n.TextureTypes[e];if(s)return s;const l=n.TypeUtils.resolveIdentifierUp(r,e,i);if(!l&&e.includes(".")){const t=this.processRecordTypeInPartAnnotation(e,r,i);if(t)return t}else if(null===(o=null===l||void 0===l?void 0:l.field)||void 0===o?void 0:o.type)return n.TypeUtils.isStronglyDerivedFrom(l.field.type,n.RecordConstructorBaseType)?l.field.type.returnType:l.field.type;return this.storeError("INVALID_TYPE_ANNOTATION",t,e),null}async buildApplication(e,t){var r,i;if(null===(r=e.options)||void 0===r?void 0:r.macros)for(let n in e.options.macros)this.setSymbol(n,e.options.macros[n]);const o=e.items[1];if(o){const r={name:null,parent:null,range:e.range,kind:n.ContextualLevelKind.Stage,type:{name:"ActorParts",baseType:this.stageType,fields:[],events:[]},items:[]},a={name:null,parent:null,range:e.range,kind:n.ContextualLevelKind.Part,type:{name:"StageParts",baseType:n.AnyType,fields:[],events:[]},items:[]},s={name:null,parent:null,range:e.range,kind:n.ContextualLevelKind.Part,type:{name:"SceneParts",baseType:n.AnyType,fields:[],events:[]},items:[]};t.types.push(r.type),t.types.push(a.type),t.types.push(s.type);const l={baseType:this.stageType,name:"Stage",fields:[],events:[]};t.types.push(l);const c={},p=[],u=[],d={};for(let e of o.items){let o;d[e.name]=e,"scene"===e.type?(c[e.name]=o=await this.declareScene(e,s,t),p.push({name:e.name,type:n.DynamicType,options:{blockRoot:!0}})):"stage"===e.subtype||"generic"===e.subtype?(c[e.name]=o=await this.declareStage(e,a,t,!0),p.push({name:e.name,type:n.DynamicType,options:{blockRoot:!0}})):"actor"===e.subtype&&(c[e.name]=o=await this.declareActorPart(e,r,t),u.push({name:e.name,type:n.DynamicType,options:{blockRoot:!0}})),e.options=e.options||{},e.options.dependencies=(null===(i=o.options)||void 0===i?void 0:i.dependencies)||[]}this.partManager.loadLocalParts(t);let h=new Set,f=new Set;const m=async e=>{if(f.has(e.name))return this.storeError("CIRCULAR_USE",e),!1;if(h.has(e.name))return!0;f.add(e.name);for(let t of e.options.dependencies){const e=d[t];if(e&&!await m(e))return!1}f.delete(e.name),h.add(e.name);let r=c[e.name];if("scene"===e.type)await this.buildScene(e,r,t);else if("stage"===e.subtype||"generic"===e.subtype){let n=r.type.fields;r.type.fields=[...n,...p],await this.buildStage(e,r,t),r.type.fields=n}else if("actor"===e.subtype){let n=r.type.fields;r.type.fields=[...n,...u],await this.buildActorPart(e,r,t),r.type.fields=n}return!0};for(let e of o.items)if(!await m(e))return!1;t.types.splice(t.types.indexOf(l),1)}const a=new n.ApplicationBuilder(t,this,this.stageType,this.actorType);return await a.process(e),!0}async declareStage(e,t,r,i=!1){const o=new n.StageBuilder(r,this,this.stageType,this.actorType),a=await o.processDeclaration(e,t,i);return i&&(this.processPartAttributes(a,e),t.type.fields.push(a)),a}async buildStage(e,t,r){const i=new n.StageBuilder(r,this,this.stageType,this.actorType);await i.process(e,t)}async declareScene(e,t,r){const i=new n.SceneBuilder(r,this,this.stageType,this.actorType),o=await i.processDeclaration(e,t);return t.type.fields.push(o),o}async buildScene(e,t,r){const i=new n.SceneBuilder(r,this,this.stageType,this.actorType);await i.process(e,t)}processPartAttributes(e,t){var r,i;const o=null===(r=t.attributes.find((e=>"category"===e.name)))||void 0===r?void 0:r.items[0].value,a=null===(i=t.attributes.find((e=>"color"===e.name)))||void 0===i?void 0:i.items[0].value,s=n.BlockColor[a||o]||n.BlockColor.Purple;e.value.options=Object.assign(Object.assign({},e.value.options),{color:s,category:o})}async buildActor(e,t,r){const i=new n.StageBuilder(r,this,this.stageType,this.actorType);i.prepare(t),await i.processActorDeclaration(e,!0),await i.processActorDefinition(e)}async declareActorPart(e,t,r){const i=new n.ActorBuilder(r,this,this.actorType),o=await i.processDeclaration(e,t,!0);return this.processPartAttributes(o,e),t.type.fields.push(o),o}async buildActorPart(e,t,r){const i=new n.ActorBuilder(r,this,this.actorType);await i.process(e,t)}buildWhen(e,t,r){new n.FunctionBuilder(r,this).processWhen(e,t,r)}buildFunction(e,t,r){const i="ScoolcodeStage"===t.type.name?new n.StageBuilder(r,this,this.stageType,this.actorType):new n.ActorBuilder(r,this,this.stageType);i.prepare(t),i.processMethodDeclaration(e,!0),i.processMethodDefinition(e)}buildLineComment(e,t,r){new n.LineCommentBuilder(r,this).process(e,t,r)}buildMultiLineComment(e,t,r){new n.MultiLineCommentBuilder(r,this).process(e,t,r)}parseExpression(e,t,r){new n.ExpressionBuilder(r,this).process(e,t,r)}async parse(e,t=null,r=null){r=r||{types:[],root:null};let i=0;for(;i<e.length&&"comment"===e[i].type;)i++;return i==e.length-1?"application"===e[i].type?await this.buildApplication(e[i],r):"stage"===e[i].type?await this.buildStage(e[i],await this.declareStage(e[i],t,r),r):"actor"===e[i].type?await this.buildActor(e[i],t,r):"when"===e[i].type?this.buildWhen(e[i],t,r):"function"===e[i].type?this.buildFunction(e[i],t,r):"comment"===e[i].type?this.buildMultiLineComment(e[i],t,r):this.parseExpression(e[i],t,r):this.errors.push(new n.ParserError("INVALID_ROOT","",0,0,1,"")),0===this.errors.length?r:null}static isInContext(e,t){if(!e)return!1;let r=e;do{if(r.type&&r.type.name===t)return!0;r=r.parent}while(r);return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYMBOL_GROUPS=void 0,t.SYMBOL_GROUPS={COMPATIBILITY_MODE:["ALLOW_TOO_MANY_PARAMS","ALLOW_TOO_FEW_PARAMS","ALLOW_INVALID_PARAM_TYPE","IMPLICIT_GLOBAL_ANY_TYPE"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(649),a=y(o),s=y(r(190)),l=r(0),c=y(r(7)),p=y(r(656)),u=y(r(657)),d=y(r(658)),h=y(r(659)),f=y(r(660)),m=r(661),g=r(662);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var S=function(e){function t(e){var r;v(this,t);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=b(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this,e].concat(i)));return a.getScrollLeft=a.getScrollLeft.bind(a),a.getScrollTop=a.getScrollTop.bind(a),a.getScrollWidth=a.getScrollWidth.bind(a),a.getScrollHeight=a.getScrollHeight.bind(a),a.getClientWidth=a.getClientWidth.bind(a),a.getClientHeight=a.getClientHeight.bind(a),a.getValues=a.getValues.bind(a),a.getThumbHorizontalWidth=a.getThumbHorizontalWidth.bind(a),a.getThumbVerticalHeight=a.getThumbVerticalHeight.bind(a),a.getScrollLeftForOffset=a.getScrollLeftForOffset.bind(a),a.getScrollTopForOffset=a.getScrollTopForOffset.bind(a),a.scrollLeft=a.scrollLeft.bind(a),a.scrollTop=a.scrollTop.bind(a),a.scrollToLeft=a.scrollToLeft.bind(a),a.scrollToTop=a.scrollToTop.bind(a),a.scrollToRight=a.scrollToRight.bind(a),a.scrollToBottom=a.scrollToBottom.bind(a),a.handleTrackMouseEnter=a.handleTrackMouseEnter.bind(a),a.handleTrackMouseLeave=a.handleTrackMouseLeave.bind(a),a.handleHorizontalTrackMouseDown=a.handleHorizontalTrackMouseDown.bind(a),a.handleVerticalTrackMouseDown=a.handleVerticalTrackMouseDown.bind(a),a.handleHorizontalThumbMouseDown=a.handleHorizontalThumbMouseDown.bind(a),a.handleVerticalThumbMouseDown=a.handleVerticalThumbMouseDown.bind(a),a.handleWindowResize=a.handleWindowResize.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleDrag=a.handleDrag.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a.state={didMountUniversal:!1},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,o.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,r=void 0===t?0:t,n=e.scrollTop,i=void 0===n?0:n,o=e.scrollWidth,a=void 0===o?0:o,s=e.scrollHeight,l=void 0===s?0:s,c=e.clientWidth,p=void 0===c?0:c,u=e.clientHeight,d=void 0===u?0:u;return{left:r/(a-p)||0,top:i/(l-d)||0,scrollLeft:r,scrollTop:i,scrollWidth:a,scrollHeight:l,clientWidth:p,clientHeight:d}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,i=n.scrollWidth,o=n.clientWidth,a=(0,h.default)(this.trackHorizontal),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,r)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,i=n.scrollHeight,o=n.clientHeight,a=(0,f.default)(this.trackVertical),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,r)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,r=t.scrollWidth,n=t.clientWidth;return e/((0,h.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(r-n)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,r=t.scrollHeight,n=t.clientHeight;return e/((0,f.default)(this.trackVertical)-this.getThumbVerticalHeight())*(r-n)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,u.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.addEventListener("mouseenter",this.handleTrackMouseEnter),r.addEventListener("mouseleave",this.handleTrackMouseLeave),r.addEventListener("mousedown",this.handleVerticalTrackMouseDown),n.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,u.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.removeEventListener("mouseenter",this.handleTrackMouseEnter),r.removeEventListener("mouseleave",this.handleTrackMouseLeave),r.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),n.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,r=this.props,n=r.onScroll,i=r.onScrollFrame;n&&n(e),this.update((function(e){var r=e.scrollLeft,n=e.scrollTop;t.viewScrollLeft=r,t.viewScrollTop=n,i&&i(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,r=e.clientX,n=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),o=Math.abs(n-r)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,r=e.clientY,n=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),o=Math.abs(n-r)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientX,n=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=n-(r-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientY,n=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=n-(r-i)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=d.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,r=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(r)}if(this.prevPageY){var n=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+n-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&a.default.cancel(this.requestFrame),this.requestFrame=(0,a.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,r=t.onUpdate,n=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,u.default)()){var o=i.scrollLeft,a=i.clientWidth,l=i.scrollWidth,c=(0,h.default)(this.trackHorizontal),p=this.getThumbHorizontalWidth(),d={width:p,transform:"translateX("+o/(l-a)*(c-p)+"px)"},m=i.scrollTop,g=i.clientHeight,y=i.scrollHeight,v=(0,f.default)(this.trackVertical),b=this.getThumbVerticalHeight(),S={height:b,transform:"translateY("+m/(y-g)*(v-b)+"px)"};if(n){var T={visibility:l>a?"visible":"hidden"},w={visibility:y>g?"visible":"hidden"};(0,s.default)(this.trackHorizontal,T),(0,s.default)(this.trackVertical,w)}(0,s.default)(this.thumbHorizontal,d),(0,s.default)(this.thumbVertical,S)}r&&r(i),"function"===typeof e&&e(i)}},{key:"render",value:function(){var e=this,t=(0,u.default)(),r=this.props,i=(r.onScroll,r.onScrollFrame,r.onScrollStart,r.onScrollStop,r.onUpdate,r.renderView),o=r.renderTrackHorizontal,a=r.renderTrackVertical,s=r.renderThumbHorizontal,c=r.renderThumbVertical,d=r.tagName,h=(r.hideTracksWhenNotNeeded,r.autoHide),f=(r.autoHideTimeout,r.autoHideDuration),g=(r.thumbSize,r.thumbMinSize,r.universal),y=r.autoHeight,v=r.autoHeightMin,b=r.autoHeightMax,S=r.style,T=r.children,w=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),E=this.state.didMountUniversal,x=n({},m.containerStyleDefault,y&&n({},m.containerStyleAutoHeight,{minHeight:v,maxHeight:b}),S),_=n({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},y&&n({},m.viewStyleAutoHeight,{minHeight:(0,p.default)(v)?"calc("+v+" + "+t+"px)":v+t,maxHeight:(0,p.default)(b)?"calc("+b+" + "+t+"px)":b+t}),y&&g&&!E&&{minHeight:v,maxHeight:b},g&&!E&&m.viewStyleUniversalInitial),k={transition:"opacity "+f+"ms",opacity:0},O=n({},m.trackHorizontalStyleDefault,h&&k,(!t||g&&!E)&&{display:"none"}),A=n({},m.trackVerticalStyleDefault,h&&k,(!t||g&&!E)&&{display:"none"});return(0,l.createElement)(d,n({},w,{style:x,ref:function(t){e.container=t}}),[(0,l.cloneElement)(i({style:_}),{key:"view",ref:function(t){e.view=t}},T),(0,l.cloneElement)(o({style:O}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,l.cloneElement)(s({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,l.cloneElement)(a({style:A}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,l.cloneElement)(c({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(l.Component);t.default=S,S.propTypes={onScroll:c.default.func,onScrollFrame:c.default.func,onScrollStart:c.default.func,onScrollStop:c.default.func,onUpdate:c.default.func,renderView:c.default.func,renderTrackHorizontal:c.default.func,renderTrackVertical:c.default.func,renderThumbHorizontal:c.default.func,renderThumbVertical:c.default.func,tagName:c.default.string,thumbSize:c.default.number,thumbMinSize:c.default.number,hideTracksWhenNotNeeded:c.default.bool,autoHide:c.default.bool,autoHideTimeout:c.default.number,autoHideDuration:c.default.number,autoHeight:c.default.bool,autoHeightMin:c.default.oneOfType([c.default.number,c.default.string]),autoHeightMax:c.default.oneOfType([c.default.number,c.default.string]),universal:c.default.bool,style:c.default.object,children:c.default.node},S.defaultProps={renderView:g.renderViewDefault,renderTrackHorizontal:g.renderTrackHorizontalDefault,renderTrackVertical:g.renderTrackVerticalDefault,renderThumbHorizontal:g.renderThumbHorizontalDefault,renderThumbVertical:g.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},function(e,t,r){(function(t){for(var n=r(650),i="undefined"===typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],l=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!l){var p=0,u=0,d=[];s=function(e){if(0===d.length){var t=n(),r=Math.max(0,16.666666666666668-(t-p));p=r+t,setTimeout((function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(p)}catch(r){setTimeout((function(){throw r}),0)}}),Math.round(r))}return d.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,r(47))},function(e,t,r){(function(t){(function(){var r,n,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,o=(r=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,r(32))},function(e,t){var r=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){r||(r=document.createElement("div"));var t=r.style;if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=n.length;o>=0;o--){var a=n[o]+i;if(a in t)return a}return!1}},function(e,t,r){var n=r(653);e.exports=function(e){return n(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,r){var n=r(654);e.exports=function(e){return n(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return r.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(o,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():i.test(e)?function(e){return e.replace(a,(function(e,t,r){return t+" "+r.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var r=/\s/,n=/(_|-|\.|:)/,i=/([a-z][A-Z]|[A-Z][a-z])/;var o=/[\W_]+(.|$)/g;var a=/(.)([A-Z]+)/g},function(e,t){var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!==typeof t||r[e]?t:t+"px"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!1!==a)return a;if("undefined"!==typeof document){var e=document.createElement("div");(0,o.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),a=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else a=0;return a||0};var n,i=r(190),o=(n=i)&&n.__esModule?n:{default:n};var a=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,r=getComputedStyle(e),n=r.paddingLeft,i=r.paddingRight;return t-parseFloat(n)-parseFloat(i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,r=getComputedStyle(e),n=r.paddingTop,i=r.paddingBottom;return t-parseFloat(n)-parseFloat(i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.renderViewDefault=function(e){return a.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,r=s(e,["style"]),i=n({},t,{right:2,bottom:2,left:2,borderRadius:3});return a.default.createElement("div",n({style:i},r))},t.renderTrackVerticalDefault=function(e){var t=e.style,r=s(e,["style"]),i=n({},t,{right:2,bottom:2,top:2,borderRadius:3});return a.default.createElement("div",n({style:i},r))},t.renderThumbHorizontalDefault=function(e){var t=e.style,r=s(e,["style"]),i=n({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return a.default.createElement("div",n({style:i},r))},t.renderThumbVerticalDefault=function(e){var t=e.style,r=s(e,["style"]),i=n({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return a.default.createElement("div",n({style:i},r))};var i,o=r(0),a=(i=o)&&i.__esModule?i:{default:i};function s(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StageScriptCodeGenerator=t.JavaScriptCodeGenerator=void 0;var n=r(664);Object.defineProperty(t,"JavaScriptCodeGenerator",{enumerable:!0,get:function(){return n.JavaScriptCodeGenerator}});var i=r(667);Object.defineProperty(t,"StageScriptCodeGenerator",{enumerable:!0,get:function(){return i.StageScriptCodeGenerator}})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(665),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JavaScriptCodeGenerator=void 0;const n=r(4),i=r(192),o="  ";class a extends i.StageScriptCodeGenerator{generateAwaitExpression(e,t="",r){return`${t}await ${this.generate(e.expression,r)}`}generateArrayLiteral(e,t="",r){return`${t}StageScript.ScoolcodeArray.from([ ${e.expressions.map((e=>this.generateExpression(e,r))).join(", ")} ])`}generateWhenStatement(e,t,r=""){const n=e.isStageEvent?"stage":"this";return`${r}{\n${r+o}const when = ${n}.getType().getEvent("${e.name}")\n${r+o}this.declareWhen(when, async function () {\n${r+o+o}if(when.validator && !when.validator([ ${e.parameters.map((e=>this.generateExpression(e,t))).join(", ")} ], arguments[0])) return;\n${r+o+o}const event = { data: arguments[0] }\n${this.generateStatementList(e.statements,t,"    "+r)}\n${r+o}})\n${r}}`}generateFunctionDeclaration(e,t,r=""){return`${r}this.${e.name} = async (${e.parameters.map((e=>e.name)).join(", ")}) => {\n${this.generateStatementList(e.statements,t,o+r)}\n${r}}`}generatePropertyDeclaration(e,t,r=""){return e.expression?`${r}this.${e.name} = ${this.generate(e.expression,t)};`:`${r}this.${e.name} = undefined;`}generateStage(e,t=""){return`${t}class Stage extends StageScript.ScoolcodeStage {\n${t+o}constructor() {\n${t+o+o}super();\n${t+o+o}const stage = this;\n${this.generateStatementList(e.statements,{active:!0,type:e.type},"    "+t)}\n${t+o}}\n${t}}`}generateActor(e,t=""){return`${t}this.defineActor(new class extends StageScript.ScoolcodeActor {\n${t+o}constructor() {\n${t+o+o}super({ name: "${e.name}", stage });\n${this.generateStatementList(e.statements,{active:!0,type:e.type},"    "+t)}\n${t+o}}\n${t}});`}generateTexture(e,t=""){if(e instanceof n.CostumeDeclaration)return`${t}this.${e.name} = new StageScript.ScoolcodeCostume("${e.name}", "${e.path}"${e.isDefault?", true":""});`;if(e instanceof n.BackdropDeclaration)return`${t}this.${e.name} = new StageScript.ScoolcodeBackdrop("${e.name}", "${e.path}"${e.isDefault?", true":""});`;if(e instanceof n.ParallaxDeclaration)return`${t}this.${e.name} = new StageScript.ScoolcodeParallax("${e.name}", [\n`+e.layers.map((e=>`${t+o}new StageScript.ScoolcodeParallaxLayer("${e.name}", "${e.path}", ${e.relativeSpeed})`)).join(",\n")+"\n"+`${t}]${e.isDefault?", true":""})`;throw new Error("Unsupported texture entry.")}generateSound(e,t=""){return`${t}this.${e.name} = new StageScript.ScoolcodeSound("${e.name}", "${e.path}");`}}t.JavaScriptCodeGenerator=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0,t.Utils={findLastIndent(e,t){const r=t.lastIndexOf("\n",e-1)+1;let n="",i=0;for(;" "==t[r+i++];)n+=" ";return n},findNextLine:(e,t)=>t.indexOf("\n",e),separateAt:(e,t)=>({start:t.substring(0,e+1),end:t.substring(e+1)}),processThis:({declaringType:e,name:t,blockRoot:r},{active:n,type:i})=>n&&e&&(e.fullLocaleName===i.fullLocaleName||i.thisType&&e.fullLocaleName===i.thisType.fullLocaleName)?r?"":"this.":"",processStage:({declaringType:e,name:t,blockRoot:r},{active:n,type:i})=>n&&e&&e.fullLocaleName===i.fullLocaleName?r?"":"stage.":""}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(192),t)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;const o=r(669),a=r(670),s=r(689),l=r(715),c=r(138);i(r(15),t);t.Parser=class{constructor(e={log:!1,validateAssetPath:()=>!0}){this._warnings=[],this.symbols={},this.options=e}setSymbol(e,t){this.symbols[e]=t;const r=c.SYMBOL_GROUPS[e];r&&r.forEach((e=>this.symbols[e]=t))}setPredefinedSymbols(e){for(let t in e)e.hasOwnProperty(t)&&this.setSymbol(t,e[t]);return this.symbols}parse(e){const t=new o.ParserState(new s.StatementParser(this.options),new a.ExpressionParser(this.options));for(let r in this.symbols)this.symbols.hasOwnProperty(r)&&t.setSymbol(r,this.symbols[r]);if(t.validateAssetPath=this.options.validateAssetPath||(()=>!0),t.begin(e),t.processor.process(t),this._warnings.push(...t.warnings),t.ok){return{root:new l.ASTOptimiser(this.options).optimise(t.root)}}return this._errors=[t.lastError],null}get errors(){return this._errors}get warnings(){return this._warnings}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserState=void 0;const n=r(15),i=r(4),o=r(138);t.ParserState=class{constructor(e,t){this.index=0,this.tokens=[],this.level=[],this.stack=[],this.itemStack=[],this.preparedLeaf=null,this.scopeStack=[],this.leafStack=[],this.validateAssetPath=()=>!0,this.flags=[],this.symbols={},this.warnings=[],this.ok=!0,this.token=null,this.scope=n.ParserScope.Default,this.item=null,this.root=[],this.lastError=null,this.processor=e,this.expressionProcessor=t}getSymbol(e){return this.symbols[e]}setSymbols(e){this.symbols=e}setSymbol(e,t){this.symbols[e]=t;const r=o.SYMBOL_GROUPS[e];r&&r.forEach((e=>this.symbols[e]=t))}hasFlag(e){return this.flags.includes(e)}addFlag(e){this.flags.push(e)}removeFlag(e,t=!0){let r=this.flags.indexOf(e);for(;-1!==r;){if(this.flags.splice(r,1),!t)return;r=this.flags.indexOf(e)}}storeItem(){this.itemStack.push(this.item)}restoreItem(){this.item=this.itemStack.pop()}levelDown(e){this.stack.push(this.level),this.scopeStack.push(this.scope),this.level=this.item.items,e&&(this.scope=e)}pushScope(e){this.scopeStack.push(this.scope),e&&(this.scope=e)}levelUp(){this.level=this.stack.pop(),this.scope=this.scopeStack.pop()}hasScope(e,t=!1){if(t)return this.scope===e;if(this.scope===e)return!0;for(let r of this.scopeStack)if(r===e)return!0;return!1}hasItemInStack(e){for(const t of this.itemStack)for(const r of e)if(t.type===r||t.subtype===r)return!0;return!1}begin(e){this.tokens=e,this.token=this.tokens[this.index],this.root=[],this.level=this.root}end(e){this.token=null,e||(this.ok=!1)}hasFinished(){return this.index==this.tokens.length}prepareLeaf(e={}){return this.leafStack.push(this.item),e.items=e.items||[],this.preparedLeaf=e,this.preparedLeaf}clearLeaf(){this.preparedLeaf=null,this.item=this.leafStack.pop()}leaf(e=null){e?(this.item=e,this.level.push(this.item)):this.preparedLeaf?(this.item=this.preparedLeaf,this.preparedLeaf=null):(this.item={items:[]},this.level.push(this.item)),this.item.range||(this.token?this.item.range={line:this.token.line,char:this.token.char,from:this.token.range.from,to:this.token.range.to,inner:[]}:this.item.range={line:NaN,char:NaN,from:NaN,to:NaN,inner:[]})}removeLeaf(){this.level.pop()}closeLeafRange(){this.lookback&&(this.item.range.to=this.lookback.range.to)}openInnerRange(){this.item.range.inner||(this.item.range.inner=[]),this.item.range.inner.push({from:this.lookback.range.to,to:this.lookback.range.to})}closeInnerRange(){if(this.item.range.inner){const e=this.item.range.inner[this.item.range.inner.length-1];e&&(e.to=this.lookback.range.to-1)}}get lookback(){return this.tokens[this.index-1]}get lookahead(){return this.tokens[this.index+1]}lookBackDelta(e){if(this.index>=e)return this.tokens[this.index-e]}next(){this.token=this.tokens[++this.index]}skipComment(){for(;this.token&&"comment"===this.token.type;){const e=this.index>0?this.tokens[this.index-1].type:null,t=this.index>1?this.tokens[this.index-2].type:null;if("literal"===e&&"comment"===t)return;this.token.type="commentIgnored",this.next(),this.next()}}isSkippedComment(){const e=this.index>0?this.tokens[this.index-1].type:null,t=this.index>1?this.tokens[this.index-2].type:null;return"literal"===e&&"commentIgnored"===t}restoreComment(){this.isSkippedComment()&&(this.tokens[this.index-2].type="comment")}skipCommentInExpression(){if(this.token&&"comment"===this.token.type&&this.index<this.tokens.length-1){let e=this.index+2,t=this.tokens[e];for(;"comment"===t.type;)t=this.tokens[e],e+=2;t&&!["keyword","identifier","}"].includes(t.type)&&this.skipComment()}}isActor(){if(this.stack.length>0){const e=this.stack[this.stack.length-1];for(let t of e)if("actor"===t.type)return{actor:t,stage:e}}return null}getSnippet(){let e="";for(let t=Math.min(this.index,this.tokens.length-1);t>=0;t--){if(e&&"newline"===this.tokens[t].type)return e;e=this.tokens[t].data+e}return e}error(e,...t){const r=this.token?this.token:this.lookback;return this.ok&&(this.lastError=new i.ParserError(e,this.getSnippet(),r?r.line:0,r?r.char:0,r?r.range.to-r.range.from:1,...t)),this.end(!1),!1}errorAt(e,t,...r){const n=t||this.token||this.lookback;return this.ok&&(this.lastError=new i.ParserError(e,this.getSnippet(),n?n.line:0,n?n.char:0,n?n.range.to-n.range.from:1,...r)),this.end(!1),!1}warning(e,...t){const r=this.token?this.token:this.lookback;this.ok&&this.warnings.push(new i.ParserWarning(e,this.getSnippet(),r?r.line:0,r?r.char:0,r?r.range.to-r.range.from:1,...t))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionParser=void 0;const n=[],i={},o={};function a(e){n.push(e),i[e.name]=e}var s;a(r(671)),a(r(672)),a(r(193)),a(r(194)),a(r(673)),a(r(674)),a(r(675)),a(r(676)),a(r(677)),a(r(678)),a(r(679)),a(r(680)),a(r(681)),a(r(682)),a(r(683)),a(r(684)),a(r(685)),a(r(686)),a(r(687)),s=r(688),o[s.name]=s.value;t.ExpressionParser=class{constructor(e={log:!1}){this.enableLog=!1,this.indentLevel=0,this.enableLog=e.log}indent(e){return new Array(e).join(" ")}log(e){this.enableLog&&console.log(e)}token(e,t){e.skipComment();let r=this.tokenInternal(e,t);return e.skipCommentInExpression(),r}tokenInternal(e,t){var r;let n,a;"string"===typeof t&&(t=o[r=t]||[r]);for(let o of t){if(a=i[o],!a)return e.error("MISS_PROC"),!1;if(a.canProcess(e))return this.log(this.indent(++this.indentLevel)+" > "+a.name),n=a.process(e),this.log(this.indent(this.indentLevel--)+" < "+a.name+" ("+n+")"),n}return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i="[",o="]",a=",",s={isArrayStart:e=>e.token&&e.token.type===i,isArrayEnd:e=>e.token&&e.token.type===o,isSeparator:e=>e.token&&e.token.type===a},l={array(e){for(e.next(),e.storeItem(),e.levelDown(n.ParserScope.Value);e.token&&!s.isArrayEnd(e);)if(e.expressionProcessor.token(e,["assignment"]))s.isSeparator(e)&&e.next();else{if(!s.isSeparator(e))return!1;e.next()}return e.levelUp(),e.restoreItem(),e.closeLeafRange(),e.next(),!0}};e.exports={name:"array",canProcess:e=>s.isArrayStart(e),process:e=>(e.leaf(),e.item.type="literal",e.item.subtype="array",l.array(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i={separatorCharacter:",",operators:["=","*=","/=","+=","-="]},o={isOperator:e=>e.token&&-1!==i.operators.indexOf(e.token.type),isSeparator:e=>e.token&&e.token.type===i.separatorCharacter},a={separator:e=>!!o.isSeparator(e)&&(e.next(),!0),conditional:e=>e.expressionProcessor.token(e,["conditional"]),leftHandSide:e=>e.expressionProcessor.token(e,["lefthandside"]),operator:(e,t)=>!!o.isOperator(e)&&(t.subtype=e.token.type,e.next(),!0),assignment(e){e.leaf(),e.item.type="assignment";const t=e.item;if(e.levelDown(n.ParserScope.Assignment),!a.conditional(e))return!1;if(o.isOperator(e)){e.levelUp();let r=null,n=t;for(;1===n.items.length;)if(n=n.items[0],"lefthandside"===n.type||"dot"===n.type){r=n;break}if(!r)return!1;if(t.items=[r],t.range.from=r.range.from,t.range.line=r.range.line,t.range.char=r.range.char,e.item=t,e.levelDown(),!a.operator(e,t))return!1;if(!a.assignment(e))return!1}return e.levelUp(),e.item=t,e.closeLeafRange(),!0}};e.exports={name:"assignment",canProcess:()=>!0,process:e=>a.assignment(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="?",i=":",o={isQuestionMark:e=>e.token&&e.token.type===n,isSeparator:e=>e.token&&e.token.type===i},a={questionMark:e=>!!o.isQuestionMark(e)&&(e.next(),!0),separator:e=>!!o.isSeparator(e)&&(e.next(),!0),logicalOR:e=>e.expressionProcessor.token(e,["logicalOR"]),assignment:e=>e.expressionProcessor.token(e,["assignment"])};e.exports={name:"conditional",canProcess:()=>!0,process(e){e.leaf(),e.item.type="conditional";const t=e.item;if(e.storeItem(),e.levelDown(),!a.logicalOR(e))return!1;if(a.questionMark(e)){if(t.subtype="complex",!a.assignment(e))return!1;if(!a.separator(e))return!1;if(!a.assignment(e))return!1}return e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=["==","!="],o=["<",">","<=",">="],a=["-"],s=["+"],l=["*","/","%"],c=["**"],p={isTokenTypeEqualsWithAny:(e,t)=>e.token&&-1!==t.indexOf(e.token.data)},u={token:(e,t)=>!!p.isTokenTypeEqualsWithAny(e,t)&&(e.leaf(),e.item.type="operator",e.item.subtype=e.token.data,e.next(),!0),processWhile(e,t,r){e.storeItem(),e.levelDown();do{if(!r(e))return e.error(n.constants.missingExpression),!1}while(u.token(e,t));return e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0},unary:e=>e.expressionProcessor.token(e,["unary"]),exponentative:e=>(e.leaf(),e.item.type="exponentative",e.item.options={expectedType:"numeric"},u.processWhile(e,c,u.unary)),multiplicative:e=>(e.leaf(),e.item.type="multiplicative",e.item.options={expectedType:"numeric"},u.processWhile(e,l,u.exponentative)),subtractive:e=>(e.leaf(),e.item.type="subtractive",e.item.options={expectedType:"numeric"},u.processWhile(e,a,u.multiplicative)),additive:e=>(e.leaf(),e.item.type="additive",u.processWhile(e,s,u.subtractive)),relational:e=>(e.leaf(),e.item.type="relational",e.item.options={expectedType:"numeric"},u.processWhile(e,o,u.additive)),equality:e=>(e.leaf(),e.item.type="equality",u.processWhile(e,i,u.relational))};e.exports={name:"equality",canProcess:()=>!0,process:e=>u.equality(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={assignment:e=>e.expressionProcessor.token(e,["assignment"])};e.exports={name:"expression",canProcess:()=>!0,process:e=>(e.leaf(),e.item.type="expression",e.storeItem(),e.levelDown(),!!n.assignment(e)&&(e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="function",i={isFunction:e=>e.token&&"keyword"===e.token.type&&e.token.data===n};e.exports={name:"function",canProcess(e){i.isFunction(e)},process:e=>e.error("FUNC_EXPR")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="(",i=")",o={isSegmentStart:e=>e.token&&e.token.type===n,isSegmentEnd:e=>e.token&&e.token.type===i},a={group:e=>(e.next(),o.isSegmentEnd(e)?(e.next(),!0):(e.item.items.push(e.prepareLeaf()),e.expressionProcessor.token(e,["expression"]),e.clearLeaf(),!!o.isSegmentEnd(e)&&(e.next(),e.closeLeafRange(),!0)))};e.exports={name:"group",canProcess:e=>o.isSegmentStart(e),process:e=>(e.leaf(),e.item.type="group",a.group(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i={isIdentifier:e=>e.token&&"identifier"===e.token.type};e.exports={name:"identifier",canProcess:e=>i.isIdentifier(e),process(e){const t=e.hasScope(n.ParserScope.When),r=e.hasScope(n.ParserScope.Function);return e.getSymbol("UNRESTRICTED_PROPERTY_INIT")||t||r?(e.leaf(),e.item.type="identifier",e.item.subtype=e.token.subtype,e.item.name=e.token.data,e.next(),e.closeLeafRange(),!0):e.error("PROPERTY_INIT",e.token.data)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=",",i="(",o=")",a="[",s="]",l=".",c="{",p={isDot:e=>e.token&&e.token.type===l,isArgumentsStart:e=>e.token&&e.token.type===i,isBlockStart:e=>e.token&&e.token.type===c,isArgumentsEnd:e=>e.token&&e.token.type===o,isIndexerStart:e=>e.token&&e.token.type===a,isIndexerEnd:e=>e.token&&e.token.type===s,isIdentifier:e=>e.token&&"identifier"===e.token.type,isKeyword:e=>e.token&&"keyword"===e.token.type,isArgumentSeparator:e=>e.token&&e.token.data===n},u={dot(e,t){if(e.skipComment(),e.next(),e.skipComment(),p.isIdentifier(e)||p.isKeyword(e)){const r={leaf:e.prepareLeaf({items:[t.leaf]})};return e.leaf(),e.item.range.from=t.leaf.range.from,e.item.range.line=t.leaf.range.line,e.item.range.char=t.leaf.range.char,e.item.type="dot",e.storeItem(),e.levelDown(),e.leaf(),e.item.type="lefthandside",e.item.subtype="call",e.storeItem(),e.levelDown(),e.expressionProcessor.token(e,["identifier"])||e.expressionProcessor.token(e,["keyword"])?(e.skipComment(),u.memberExpressionEnd(e,r),e.levelUp(),e.restoreItem(),e.closeLeafRange(),e.levelUp(),e.restoreItem(),e.closeLeafRange(),t.leaf=r.leaf,e.clearLeaf(),!0):!1}return!1},indexerNested(e,t){const r=p.isDot(e),n={leaf:e.prepareLeaf({items:[t.leaf]})};return e.leaf(),e.item.range.from=t.leaf.range.from,e.item.range.line=t.leaf.range.line,e.item.range.char=t.leaf.range.char,e.item.type="lefthandside",e.item.subtype="call",e.storeItem(),e.levelDown(),r?u.dot(e,n):u.indexer(e,n),e.levelUp(),e.restoreItem(),e.closeLeafRange(),t.leaf=n.leaf,e.clearLeaf(),!0},indexer:(e,t)=>(e.skipComment(),e.leaf(),e.item.type="indexer",e.next(),e.storeItem(),e.levelDown(),!!e.expressionProcessor.token(e,["expression"])&&(e.levelUp(),e.restoreItem(),!!p.isIndexerEnd(e)&&(e.skipComment(),e.next(),e.closeLeafRange(),!p.isIndexerStart(e)&&!p.isDot(e)||u.indexerNested(e,t)))),argumentItem:e=>!!e.expressionProcessor.token(e,["assignment"])&&(p.isArgumentSeparator(e)?(e.next(),!0):p.isArgumentsEnd(e)),arguments(e){for(e.skipComment(),e.leaf(),e.item.type="arguments",e.next(),e.storeItem(),e.levelDown();!p.isArgumentsEnd(e);)if(!u.argumentItem(e))return!1;return e.levelUp(),e.restoreItem(),e.next(),e.closeLeafRange(),!0},memberExpressionEnd(e,t){if(p.isDot(e)){if(u.dot(e,t))return!0}else if(p.isIndexerStart(e)){if(e.lookback&&e.lookback.type===o)return u.indexerNested(e,t);if(u.indexer(e,t))return!0}else if(p.isArgumentsStart(e)&&u.arguments(e))return u.memberExpressionEnd(e,t),!0;return!1},memberExpression:(e,t)=>!!e.expressionProcessor.token(e,"primary")&&(u.memberExpressionEnd(e,t),!0),lefthandside(e){const t={leaf:e.prepareLeaf()};return e.leaf(),e.item.type="lefthandside",e.item.subtype="call",e.storeItem(),e.levelDown(),!!u.memberExpression(e,t)&&(e.levelUp(),e.restoreItem(),t.leaf.range.to=e.item.range.to,e.clearLeaf(),e.leaf(t.leaf),!0)}};e.exports={name:"lefthandside",canProcess:()=>!0,process:e=>u.lefthandside(e)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const validators={isLiteral:e=>e.token&&"literal"===e.token.type},utils={mathematicalValue(value){return eval(value)},literal:e=>(e.item.type="literal",e.item.subtype=e.token.subtype,"number"==e.token.subtype?e.item.value=utils.mathematicalValue(e.token.data):("undefined"!==e.token.data&&"null"!==e.token.data||(e.item.options={base:"dynamic"}),e.item.value=e.token.data),e.next(),e.closeLeafRange(),!0)};module.exports={name:"literal",canProcess:e=>validators.isLiteral(e),process:e=>(e.leaf(),utils.literal(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="||",i="&&",o={isTokenTypeEquals:(e,t)=>e.token&&e.token.type===t},a={token:(e,t)=>!!o.isTokenTypeEquals(e,t)&&(e.next(),!0),processWhile(e,t,r){e.storeItem(),e.levelDown();do{if(!r(e))return!1}while(a.token(e,t));return e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0},equality:e=>e.expressionProcessor.token(e,["equality"]),logicalAND:e=>(e.leaf(),e.item.type="logical",e.item.subtype="and",a.processWhile(e,i,a.equality)),logicalOR:e=>(e.leaf(),e.item.type="logical",e.item.subtype="or",a.processWhile(e,n,a.logicalAND))};e.exports={name:"logicalOR",canProcess:()=>!0,process:e=>a.logicalOR(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="{",i={isObjectStart:e=>e.token&&e.token.type===n};e.exports={name:"object",canProcess:e=>i.isObjectStart(e),process:e=>e.error("OBJ_LITERAL")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="stage",i={isStage:e=>e.token&&"keyword"===e.token.type&&e.token.data===n};e.exports={name:"stage",canProcess:e=>i.isStage(e),process:e=>(e.leaf(),e.item.type="stage",e.next(),e.closeLeafRange(),!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="this",i={isThis:e=>e.token&&"keyword"===e.token.type&&e.token.data===n};e.exports={name:"this",canProcess:e=>i.isThis(e),process:e=>(e.leaf(),e.item.type="this",e.next(),e.closeLeafRange(),!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={prefixPunctuations:["++","--","+","-","!"],ref:"ref",postfixPunctuations:["++","--"]},i={isPrefix(e){if(e.token&&e.token.type===e.token.data){for(let t of n.prefixPunctuations)if(e.token.type===t)return!0}else if(e.token&&"keyword"==e.token.type&&e.token.data==n.ref)return!0;return!1},isPostfix(e){if(e.token&&e.token.type===e.token.data)for(let t of n.postfixPunctuations)if(e.token.type===t)return!0;return!1}},o={postfix(e,t=!0){if(!e.token)return!1;t&&e.leaf();const r=e.token.line;return e.storeItem(),e.levelDown(),!!e.expressionProcessor.token(e,["lefthandside"])&&(e.levelUp(),e.restoreItem(),i.isPostfix(e)&&e.token.line===r&&(e.item.subtype=e.token.data,e.item.type="postfix",e.next()),!0)},unary(e){if(!e.token)return!1;e.leaf(),e.item.type="unary";let t=e.token.line;if(i.isPrefix(e)){if(n.postfixPunctuations.includes(e.token.data)){e.item.subtype=e.token.data;let r=e.item.subtype;if(e.next(),e.levelDown(),t=e.token.line,!o.postfix(e,!1))return!1;e.levelUp(),e.item.subtype=r}else{if(e.item.subtype=e.token.data,e.next(),e.storeItem(),e.levelDown(),t=e.token.line,!o.unary(e))return!1;e.levelUp(),e.restoreItem()}if(n.prefixPunctuations.includes(e.item.subtype)&&"="===e.token.data&&e.token.line===t)return!1}else{if(e.storeItem(),e.levelDown(),!o.postfix(e))return!1;e.levelUp(),e.restoreItem()}return e.closeLeafRange(),!0}};e.exports={name:"unary",canProcess:()=>!0,process:e=>o.unary(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(43),o="var",a="let",s="=",l=";",c=",",p=")",u=r(22),d={isVariableKeyword:e=>e.token&&"keyword"===e.token.type&&e.token.data===o,isLetKeyword:e=>e.token&&"keyword"===e.token.type&&e.token.data===a,isVariable:e=>d.isVariableKeyword(e)||d.isLetKeyword(e),isIdentifier:e=>e.token&&"identifier"===e.token.type,isSemicolon:e=>e.token&&e.token.type===l,isSeparator:e=>e.token&&e.token.type===c,isEqualSign:e=>e.token&&e.token.type===s,isBlockEnd:e=>e.token&&e.token.type===p,isVariableEnd:e=>d.isSemicolon(e)||d.isBlockEnd(e)},h={scope:e=>d.isVariableKeyword(e)?(e.item.scope="local",e.next(),!0):!!d.isLetKeyword(e)&&(e.item.scope="block",e.next(),!0),name:e=>!!d.isIdentifier(e)&&(e.item.name=e.token.data,e.next(),!0),equalSign:e=>(e.skipComment(),!!d.isEqualSign(e)&&(e.next(),!0)),expression:e=>(e.skipComment(),e.storeItem(),e.levelDown(n.ParserScope.Value),!!e.expressionProcessor.token(e,["assignment"])&&(e.levelUp(),e.restoreItem(),e.skipComment(),!0)),semicolon(e){if(d.isSemicolon(e))e.skipComment(),e.next();else if(!d.isBlockEnd(e))return!1;return!0},separator:e=>!!d.isSeparator(e)&&(e.skipComment(),e.next(),!0)};e.exports={name:"variableDeclarationNoIn",canProcess:e=>d.isVariable(e),process(e){if(e.leaf(),e.item.type="variableDeclarationList",!h.scope(e))return!1;const t=e.item.scope;e.skipComment(),e.storeItem(),e.levelDown();do{if(e.leaf(),e.item.type="variableDeclaration",e.item.scope=t,!h.name(e))return!1;if(!i.validateName(e.item.name)&&!e.hasScope(n.ParserScope.Function)&&!e.hasScope(n.ParserScope.When))return e.error(u.constants.wrongVariableName,e.item.name),!1;if(h.equalSign(e)&&!h.expression(e))return e.error(u.constants.missingExpression),!1}while(h.separator(e));return e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i={isTemplateStringStart:e=>!(!e.token||"template-string"!==e.token.type||"start"!==e.token.subtype),isTemplateStringEnd:e=>e.token&&("newline"===e.token.type||"template-string"===e.token.type&&"end"===e.token.subtype)},o={templateString(e){for(e.item.type="literal",e.item.subtype="template-string",e.next(),e.levelDown(n.ParserScope.Value);e.token&&!i.isTemplateStringEnd(e);)e.expressionProcessor.token(e,["expression"])||e.next();return!!e.token&&(e.levelUp(),e.next(),e.closeLeafRange(),!0)}};e.exports={name:"template-string",canProcess:e=>i.isTemplateStringStart(e),process:e=>(e.leaf(),o.templateString(e))}},function(e,t){e.exports={name:"primary",value:["identifier","literal","array","object","this","stage","group","template-string"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatementParser=void 0;const n=[],i={},o={};function a(e,t){t.name=e,t.tokenType&&(i[t.tokenType]=t),n.push(t),o[e]=t}a("actor",r(690)),a("asm",r(691)),a("default",r(692)),a("backdrop",r(693)),a("parallax",r(694)),a("block",r(695)),a("macro",r(193)),a("comment",r(194)),a("costume",r(696)),a("sound",r(697)),a("dowhile",r(698)),a("for",r(699)),a("function",r(700)),a("if",r(701)),a("return",r(702)),a("break",r(703)),a("continue",r(704)),a("semicolon",r(705)),a("stage",r(706)),a("variable",r(707)),a("when",r(708)),a("while",r(709)),a("attribute",r(710)),a("use",r(711)),a("part",r(712)),a("record",r(713)),a("expression",r(714));t.StatementParser=class{constructor(e={log:!1}){this.enableLog=!1,this.enableLog=e.log}log(e){this.enableLog&&console.log(e)}token(e){if(e.token){const t="keyword"===e.token.type?"keyword/"+e.token.data:e.token.type;let r=i[t];if(r)return this.log(r.name+" ========================================================"),r.process(e);for(r of n)if(r.canProcess(e))return this.log(r.name+" ========================================================"),r.process(e);e.error("INVALID_TOKEN",JSON.stringify(e.token))}}process(e){for(;;){if(!e.token)return e.end(!0),!0;if(this.token(e),!e.ok)return!1}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22).utils;e.exports={tokenType:"keyword/actor",canProcess:e=>e.token&&"keyword"===e.token.type&&"actor"===e.token.data,process(e){if(!e.hasScope(n.ParserScope.Stage,!0))return e.error("ACTOR_STAGE");if(e.hasScope(n.ParserScope.When))return e.error("ACTOR_WHEN");if(e.hasScope(n.ParserScope.Part))return e.error("ACTOR_STAGE");let t=[];e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.attributes=t,e.item.type="actor",e.next(),e.skipComment(),i.name(e)?(e.skipComment(),i.block(e,n.ParserScope.Actor),e.closeLeafRange()):e.error("ACTOR_NAME")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={_asm(e){e.next()},text(e){"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value=e.token.data,e.next()):e.error("ASM")}};e.exports={tokenType:"keyword/asm",canProcess:e=>e.token&&"keyword"==e.token.type&&"asm"==e.token.subtype,process(e){e.leaf(),e.item.type="asm",n._asm(e),n.text(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators;i.utils.extend({equalSign:e=>!!o.isEqualSign(e)&&(e.next(),!0),string(e){if(!e.token||"literal"!=e.token.type||"string"!=e.token.subtype)return e.error("COSTUME_PATH");e.item.value={url:e.token.data},e.next()},size(e){let t=!1;if(o.isColon(e)&&(e.next(),t=!0),!o.isLiteral(e))return t?(e.error("INVALID_CENTER"),!1):(e.item.value.width=.5,e.item.value.height=.5,e.item.value.resolution=1,!0);if("number"==e.token.subtype)e.item.value.width=e.token.data/100,e.next(),e.token&&"%"==e.token.type&&e.next();else{if("string"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;switch(e.token.data){case"left":case"start":e.item.value.width=0;break;case"right":case"end":e.item.value.width=1;break;case"center":case"middle":e.item.value.width=.5;break;default:return e.error("INVALID_CENTER"),!1}e.next()}if(o.isColon(e)){if(e.next(),!o.isLiteral(e))return e.error("INVALID_CENTER"),!1;if("number"==e.token.subtype)e.item.value.height=e.token.data/100,e.next(),e.token&&"%"==e.token.type&&e.next();else{if("string"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;switch(e.token.data){case"top":case"up":e.item.value.height=0;break;case"bottom":case"down":e.item.value.height=1;break;case"center":case"middle":e.item.value.height=.5;break;default:return e.error("INVALID_CENTER"),!1}e.next()}}else e.item.value.height=e.item.value.width+0;if(o.isColon(e)){if(e.next(),!e.token||"literal"!=e.token.type||"number"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;e.item.value.resolution=e.token.data,e.next()}else e.item.value.resolution=1;return!0}});e.exports={tokenType:"keyword/default",canProcess:e=>e.token&&"identifier"===e.token.type&&"default"===e.token.data,process(e){if(e.hasScope(n.ParserScope.When))return e.error("COSTUME_WHEN");if(!e.hasScope(n.ParserScope.Actor,!0)&&!e.hasScope(n.ParserScope.Stage,!0))return e.error("COSTUME_ACTOR");let t=[];e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.next(),e.leaf(),e.item.default=!0,e.prepareLeaf(e.item),e.processor.token(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=r(22).utils.extend({string:(e,t=!1)=>e.token&&"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value=e.token.data,t&&!e.validateAssetPath("backdrop",e.token.data)&&e.warning("COSTUME_PATH",e.token.data,e.item.name,"backdrop"),e.next(),!0):(e.error("COSTUME_PATH"),!1)});e.exports={tokenType:"keyword/backdrop",canProcess(e){const t=e.lookahead;return e.token&&"identifier"===e.token.type&&("scene"===e.token.data||"backdrop"===e.token.data)&&(!t||"."!==t.type)},process(e){if(e.hasScope(n.ParserScope.When))return e.error("SCENE_WHEN");if(e.hasScope(n.ParserScope.Part))return e.error("SCENE_STAGE");let t=[];e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf();const r=e.item;if(e.item.type="costume",e.item.subtype="backdrop",e.next(),e.skipComment(),!o.name(e))return e.error("COSTUME_NAME"),!1;if(o.segmentStart(e,!0)){if(!e.hasScope(n.ParserScope.Stage,!0))return e.error("SCENE_STAGE");if(!o.string(e,!0))return!1;o.segmentEnd(e),o.semicolon(e)}else if(r.attributes=t,r.type="scene",e.skipComment(),i.validators.isBlockStart(e))e.hasScope(n.ParserScope.Stage,!0)?r.subtype="embedded":r.subtype="part",o.block(e,n.ParserScope.Scene,n.ParserScope.Stage);else{if(!e.hasScope(n.ParserScope.Stage,!0)&&e.hasScope(n.ParserScope.Stage,!1))return e.error("SCENE_STAGE");if(i.validators.isFrom(e)){if(r.subtype="external",e.next(),!o.string(e))return!1}else r.subtype="local"}e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.utils.extend({stringList(e){for(e.item.value=[];e.token;){const t={name:"",path:"",relativeSpeed:100};if(o.isIdentifier(e)&&(t.name=e.token.data,e.next()),e.skipComment(),o.isSegmentStart(e)){if(e.next(),e.skipComment(),!e.token||"literal"!=e.token.type||"string"!=e.token.subtype)return e.error("LAYER_PATH"),!1;if(t.path=e.token.data,e.next(),e.skipComment(),o.isColon(e)){if(e.next(),e.skipComment(),!e.token||"literal"!=e.token.type||"number"!=e.token.subtype)return e.error("LAYER_SPEED"),!1;t.relativeSpeed=e.token.data,e.next(),e.skipComment()}a.segmentEnd(e),e.skipComment()}else{if(!e.token||"literal"!=e.token.type||"string"!=e.token.subtype)return e.error("LAYER_PATH"),!1;e.skipComment(),t.path=e.token.data,e.next(),e.skipComment()}if(e.item.value.push(t),!o.isColon(e))break;e.next(),e.skipComment()}}});e.exports={tokenType:"keyword/parallax",canProcess:e=>e.token&&"identifier"===e.token.type&&"parallax"===e.token.data,process:e=>e.hasScope(n.ParserScope.When)?e.error("SCENE_WHEN"):e.hasScope(n.ParserScope.Stage,!0)?(e.leaf(),e.item.type="costume",e.item.subtype="parallax",e.next(),a.name(e)?(a.segmentStart(e),a.stringList(e),a.segmentEnd(e),a.semicolon(e),void e.closeLeafRange()):(e.error("COSTUME_NAME"),!1)):e.error("SCENE_STAGE")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils;e.exports={tokenType:a.blockStartCharacter,canProcess:e=>o.isBlockStart(e),process(e){if(!e.hasScope(n.ParserScope.When))return e.error("ONLY_IN_WHEN");e.leaf(),e.item.type="block",s.block(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.utils.extend({equalSign:e=>!!o.isEqualSign(e)&&(e.next(),!0),string:e=>e.token&&"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value={url:e.token.data},e.validateAssetPath("costume",e.token.data)||e.warning("COSTUME_PATH",e.token.data,e.item.name,"costume"),e.next(),!0):(e.error("COSTUME_PATH"),!1),size(e){let t=!1;if(o.isColon(e)&&(e.next(),t=!0),!o.isLiteral(e))return t?(e.error("INVALID_CENTER"),!1):(e.item.value.width=.5,e.item.value.height=.5,e.item.value.resolution=1,!0);if("number"==e.token.subtype)e.item.value.width=e.token.data/100,e.next(),e.token&&"%"==e.token.type&&e.next();else{if("string"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;switch(e.token.data){case"left":case"start":e.item.value.width=0;break;case"right":case"end":e.item.value.width=1;break;case"center":case"middle":e.item.value.width=.5;break;default:return e.error("INVALID_CENTER"),!1}e.next()}if(o.isColon(e)){if(e.next(),!o.isLiteral(e))return e.error("INVALID_CENTER"),!1;if("number"==e.token.subtype)e.item.value.height=e.token.data/100,e.next(),e.token&&"%"==e.token.type&&e.next();else{if("string"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;switch(e.token.data){case"top":case"up":e.item.value.height=0;break;case"bottom":case"down":e.item.value.height=1;break;case"center":case"middle":e.item.value.height=.5;break;default:return e.error("INVALID_CENTER"),!1}e.next()}}else e.item.value.height=e.item.value.width+0;if(o.isColon(e)){if(e.next(),!e.token||"literal"!=e.token.type||"number"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;e.item.value.resolution=e.token.data,e.next()}else e.item.value.resolution=1;return!0}});e.exports={tokenType:"keyword/costume",canProcess:e=>e.token&&"identifier"===e.token.type&&"costume"===e.token.data,process(e){if(e.hasScope(n.ParserScope.When))return e.error("COSTUME_WHEN");if(!e.hasScope(n.ParserScope.Actor,!0)&&!e.hasScope(n.ParserScope.Stage,!0))return e.error("COSTUME_ACTOR");let t=[];return e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.attributes=t,e.item.type="costume",e.item.subtype="costume",e.next(),e.skipComment(),a.name(e)?(a.segmentStart(e),!!a.string(e)&&(a.size(e),a.segmentEnd(e),a.semicolon(e),void e.closeLeafRange())):(e.error("COSTUME_NAME"),!1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.utils.extend({equalSign:function(e){return!!o.isEqualSign(e)&&(e.next(),!0)},string:function(e){return e.token&&"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value=e.token.data,e.validateAssetPath("sound",e.token.data)||e.warning("SOUND_PATH",e.token.data,e.item.name,"sound"),e.next(),!0):(e.error("SOUND_PATH"),!1)}});e.exports={tokenType:"keyword/sound",canProcess:e=>e.token&&"identifier"===e.token.type&&"sound"===e.token.data,process:function(e){return e.hasScope(n.ParserScope.When)?e.error("SOUND_WHEN"):e.hasScope(n.ParserScope.Actor,!0)||e.hasScope(n.ParserScope.Stage,!0)?(e.leaf(),e.item.type="sound",e.next(),a.name(e)?(a.segmentStart(e),!!a.string(e)&&(a.segmentEnd(e),a.semicolon(e),void e.closeLeafRange())):(e.error("SOUND_NAME"),!1)):e.error("SOUND_ACTOR")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils.extend({do_(e){e.next(),e.skipComment()},statement(e){e.storeItem(),e.levelDown(n.ParserScope.Iteration),e.item.items[0]=e.prepareLeaf(),e.processor.token(e),e.clearLeaf(),e.levelUp(),e.restoreItem()},while_(e){if(e.skipComment(),!o.isWhile(e))return e.error(a.unexpectedToken);e.next(),e.skipComment()},expression(e){if(e.item.items[1]=e.prepareLeaf(),!e.expressionProcessor.token(e,["expression"]))return e.error(a.missingExpression);e.clearLeaf()}});e.exports={tokenType:"keyword/"+a.doKeyword,canProcess:e=>o.isDo(e),process:e=>e.hasScope(n.ParserScope.When)?(e.leaf(),e.item.type="iteration",e.item.subtype="dowhile",s.do_(e),o.isSemicolon(e)?e.error("INVALID_TOKEN",";"):(s.statement(e),s.while_(e),s.segmentStart(e),s.expression(e),s.segmentEnd(e),s.semicolon(e),void e.closeLeafRange())):e.error("ONLY_IN_WHEN")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils.extend({for_(e){e.skipComment(),e.next()},of_(e){e.skipComment(),e.next()},variable(e,t){if(t.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["variableDeclarationNoIn"]))return e.error("MISSING_VARIABLE");e.clearLeaf()},expression(e,t){if(t.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["expression"]))return e.error(a.missingExpression);e.clearLeaf()},statement(e){e.storeItem(),e.levelDown(n.ParserScope.Iteration),e.item.items.push(e.prepareLeaf()),e.processor.token(e),e.clearLeaf(),e.levelUp(),e.restoreItem()}});e.exports={tokenType:"keyword/"+a.forKeyword,canProcess:e=>o.isFor(e),process(e){if(!e.hasScope(n.ParserScope.When))return e.error("ONLY_IN_WHEN");e.leaf(),e.item.type="iteration",e.item.subtype="for";const t=e.item;if(s.for_(e),s.segmentStart(e),o.isVar(e)||o.isLet(e))if(s.variable(e,t),o.isOf(e))t.subtype="forof",s.of_(e),s.expression(e,t);else{if(s.semicolon(e),o.isSemicolon(e)||s.expression(e,t),!o.isSemicolon(e))return e.error(a.missingExpression);if(s.semicolon(e),o.isSegmentEnd(e))return e.error(a.missingExpression);s.expression(e,t)}else{if(o.isSemicolon(e)||s.expression(e,t),o.isOf(e))return e.error("MISSING_VARIABLE");if(s.semicolon(e),o.isSemicolon(e)||s.expression(e,t),!o.isSemicolon(e))return e.error(o.missingExpression);if(s.semicolon(e),o.isSegmentEnd(e))return e.error(o.missingExpression);s.expression(e,t)}if(s.segmentEnd(e),o.isSemicolon(e))return e.error("INVALID_TOKEN",";");s.statement(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(43),o=r(22),a=o.validators,s=o.constants,l=o.utils.extend({parameterList(e){if(e.skipComment(),!a.isSegmentStart(e))return e.error("FUNCTION_PARAMS");for(e.next(),e.skipComment(),e.storeItem(),e.levelDown(),e.leaf(),e.item.type="parameterList",e.storeItem(),e.levelDown();a.isIdentifier(e)||a.isRef(e);){let t=!1;if(e.skipComment(),a.isRef(e)&&(t=!0,e.next(),e.skipComment(),!a.isIdentifier(e)))return e.error("INVALID_REF");if(e.leaf(),e.item.type="parameter",e.item.name=e.token.data,e.item.ref=t,e.next(),e.skipComment(),a.isDoubleDot(e)&&!o.utils.typeAnnotation(e))return!1;if(!a.isParameterSeparator(e)){if(a.isSegmentEnd(e))break;return e.error("MISSING_SEGMENT_END")}e.next(),e.skipComment()}if(e.levelUp(),e.restoreItem(),e.item.items.length&&e.closeLeafRange(),e.levelUp(),e.restoreItem(),!a.isSegmentEnd(e))return e.error("MISSING_SEGMENT_END");e.skipComment(),e.next()}});e.exports={tokenType:"keyword/"+s.functionKeyword,canProcess:e=>a.isFunction(e),process(e){if(e.hasScope(n.ParserScope.When))return e.error("FUNCTION_WHEN");let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.attributes=t,e.item.type="function",e.next(),e.skipComment(),l.name(e))if(i.validateName(e.item.name)){if(l.parameterList(e),a.isDoubleDot(e)&&!l.typeAnnotation(e))return!1;if(e.skipComment(),a.isSemicolon(e))return e.error("INVALID_TOKEN",";");if(!a.isBlockStart(e))return e.error("MISSING_BLOCK_START");l.block(e,n.ParserScope.When,n.ParserScope.Function),e.hasFlag("return-value")&&(e.removeFlag("return-value"),t.push({name:"returns",type:"attribute",items:[],range:{line:NaN,char:NaN,from:NaN,to:NaN,inner:[]}})),e.closeLeafRange()}else e.error(s.wrongFunctionName,e.item.name);else e.error(s.wrongFunctionName,e.token.data)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils.extend({if_(e){e.next(),e.skipComment()},else_:e=>(e.skipComment(),o.isElse(e)?(e.next(),e.skipComment(),!0):(e.restoreComment(),!1)),expression(e){if(e.item.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["expression"]))return e.error(a.missingExpression);e.clearLeaf()},statement(e){e.item.items.push(e.prepareLeaf()),e.processor.token(e),e.clearLeaf()}});e.exports={tokenType:"keyword/"+a.ifKeyword,canProcess:e=>o.isIf(e),process:e=>e.hasScope(n.ParserScope.When)?(e.leaf(),e.item.type="if",s.if_(e),s.segmentStart(e),s.expression(e),s.segmentEnd(e),o.isSemicolon(e)?e.error("INVALID_TOKEN",";"):(s.statement(e),s.else_(e)&&s.statement(e),void e.closeLeafRange())):e.error("ONLY_IN_WHEN")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils.extend({return_(e){e.next(),e.skipComment()},expression(e){e.item.items.push(e.prepareLeaf()),e.expressionProcessor.token(e,["expression"]),e.clearLeaf()}});e.exports={tokenType:"keyword/"+a.returnKeyword,canProcess:e=>o.isReturn(e),process(e){if(!e.hasScope(n.ParserScope.Function)&&!e.hasScope(n.ParserScope.When))return e.error("INVALID_RETURN");e.leaf(),e.item.type="return",s.return_(e),s.semicolon(e,!0)||(s.expression(e),s.semicolonNonTerminal(e),e.addFlag("return-value")),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils.extend({break_(e){e.next()}});e.exports={tokenType:"keyword/"+a.breakKeyword,canProcess:e=>o.isBreak(e),process(e){if(!e.hasScope(n.ParserScope.Iteration))return e.error("INVALID_BREAK");e.leaf(),e.item.type="break",s.break_(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils.extend({continue_(e){e.next()}});e.exports={tokenType:"keyword/"+a.continueKeyword,canProcess:e=>o.isBreak(e),process(e){if(!e.hasScope(n.ParserScope.Iteration))return e.error("INVALID_CONTINUE");e.leaf(),e.item.type="continue",s.continue_(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=n.validators,o=n.constants;e.exports={tokenType:o.semicolonCharacter,canProcess:e=>i.isSemicolon(e),process(e){e.next()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22).utils;e.exports={canProcess(e){const t=e.lookahead;return e.token&&"keyword"===e.token.type&&"stage"===e.token.data&&t&&("{"===t.type||"comment"===t.type)},process(e){if(e.hasScope(n.ParserScope.Stage))return e.error("STAGE_STAGE");let t=[];e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.type="application",e.item.options={macros:e.symbols},e.levelDown(),e.leaf(),e.item.attributes=t,e.item.type="stage",e.item.name="stage",e.next(),e.skipComment(),i.block(e,n.ParserScope.Stage),e.closeLeafRange(),e.levelUp(),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(43),o=r(22),a=o.validators,s=o.constants,l=o.utils.extend({scope(e){if(a.isVariable(e))e.item.scope="local";else if(a.isLet(e))e.hasScope(n.ParserScope.When)?e.item.scope="block":e.item.scope="local";else{if(!a.isConst(e))return e.error(s.unexpectedToken),!1;e.item.scope="constant"}e.next(),e.skipComment()},equalSign:e=>!!a.isEqualSign(e)&&(e.next(),e.skipComment(),!0),expression:e=>(e.storeItem(),e.levelDown(n.ParserScope.Value),!!e.expressionProcessor.token(e,["assignment"])&&(e.levelUp(),e.restoreItem(),!0)),literal:function(e){a.isLiteral(e)?(e.item.value=e.token,e.next(),e.skipComment()):a.isArrayStart(e)?(e.levelDown(n.ParserScope.Value),e.expressionProcessor.token(e,["array"]),e.levelUp()):e.error(s.unexpectedToken)},separator:e=>(e.skipComment(),!!a.isColon(e)&&(e.next(),e.skipComment(),!0))});e.exports={canProcess:e=>a.isVariable(e)||a.isLet(e)||a.isConst(e),process(e){let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.type="variable",e.item.attributes=t,l.scope(e),!l.name(e))return void e.error(s.wrongVariableName,e.token.data);const r=e.isActor(),o=!!r,c=e.hasScope(n.ParserScope.When);if(e.getSymbol("DISALLOW_SHADOWING")&&!e.getSymbol("ALLOW_SHADOWING")){if(!i.validateName(e.item.name,{actorProps:o,stageProps:!0}))return void e.errorAt(s.wrongVariableName,e.lookback,e.item.name);if(o)for(const t of r.stage)if(t.name===e.item.name)return void e.errorAt(s.redeclarationProperty,e.lookback,e.item.name,r.actor.name)}else if(!o&&!i.validateName(e.item.name,{actorProps:o&&!c,stageProps:!o&&!c,typeKeywords:!1}))return void e.errorAt(s.wrongVariableName,e.lookback,e.item.name);if(e.skipComment(),a.isDoubleDot(e)){if(c)return e.error("UNSUPPORTED_TYPE_ANNOTATION");if(!e.hasScope(n.ParserScope.Actor,!0)&&!e.hasScope(n.ParserScope.Stage,!0)&&!e.hasScope(n.ParserScope.Part,!0)&&!e.hasScope(n.ParserScope.Scene,!0))return e.error("UNSUPPORTED_TYPE_ANNOTATION");if(!l.typeAnnotation(e))return!1}e.skipComment(),!l.equalSign(e)||l.expression(e)?(a.isSemicolon(e)?l.semicolon(e,!0):e.isSkippedComment()&&e.restoreComment(),e.closeLeafRange()):e.error(s.missingExpression)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils.extend({complexName(e){if(e.item.name="",o.isThis(e)){if(e.next(),e.skipComment(),!o.isDot(e))return e.error("INVALID_WHEN");e.next(),e.skipComment(),e.item.name="this."}if(o.isStage(e)){if(e.next(),e.skipComment(),!o.isDot(e))return e.error("INVALID_WHEN");e.next(),e.skipComment(),e.item.name="stage."}if(!o.isIdentifier(e))return e.error("INVALID_WHEN");for(e.item.name+=e.token.data,e.next(),e.skipComment();o.isDot(e);){if(e.item.name+=".",e.next(),e.skipComment(),!o.isIdentifier(e))return e.error("INVALID_WHEN");e.item.name+=e.token.data,e.next(),e.skipComment()}},expression(e){if(e.item.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["expression"]))return e.error(a.missingExpression);e.clearLeaf()}});e.exports={tokenType:"keyword/when",canProcess:e=>e.token&&"keyword"===e.token.type&&"when"==e.token.data,process(e){if(e.hasScope(n.ParserScope.When))return e.error("WHEN_WHEN");let t=[];e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.attributes=t,e.item.type="when",e.next(),e.skipComment(),s.complexName(e),s.segmentStart(e,!0)&&(e.levelDown(n.ParserScope.When),s.expression(e),e.levelUp(),s.segmentEnd(e)),e.skipComment(),s.block(e,n.ParserScope.When),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.constants,s=i.utils.extend({while_(e){if(e.skipComment(),!o.isWhile(e))return e.error(a.unexpectedToken);e.next(),e.skipComment()},expression(e){if(e.item.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["expression"]))return e.error("MISSING_EXPRESSION");e.clearLeaf()},statement(e){e.storeItem(),e.levelDown(n.ParserScope.Iteration),e.item.items[1]=e.prepareLeaf(),e.processor.token(e),e.clearLeaf(),e.levelUp(),e.restoreItem()}});e.exports={tokenType:"keyword/"+a.whileKeyword,canProcess:e=>o.isWhile(e),process(e){if(!e.hasScope(n.ParserScope.When))return e.error("ONLY_IN_WHEN");e.leaf(),e.item.type="iteration",e.item.subtype="while",s.while_(e),s.segmentStart(e),s.expression(e),s.segmentEnd(e),o.isSemicolon(e),o.isBlockStart(e)&&s.statement(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=n.validators,o=n.utils.extend({argumentItem(e){if(!e.token)return!1;let t=!1;return"-"==e.token.type&&(t=!0,e.next()),!!e.expressionProcessor.token(e,["literal"])&&(t&&(e.item.value=-e.item.value),i.isParameterSeparator(e)?(e.next(),!0):i.isSegmentEnd(e))},arguments(e){for(e.levelDown();!i.isSegmentEnd(e);)if(!o.argumentItem(e))return!1;e.levelUp()}});e.exports={canProcess:e=>"attribute"==e.token.type,process(e){e.item&&"attributes"==e.item.type||(e.leaf(),e.item.type="attributes");const t=e.item;e.levelDown(),e.leaf(),e.item.type="attribute",e.item.name=e.token.data,e.next(),o.segmentStart(e,!0)&&(o.arguments(e),o.segmentEnd(e)),e.closeLeafRange(),e.levelUp(),e.item=t,e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.utils.extend({string:function(e){return e.token&&"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value=e.token.data,e.next(),!0):e.error("USE_PATH")}});e.exports={tokenType:"keyword/use",canProcess:e=>e.token&&"keyword"===e.token.type&&"use"==e.token.data,process:e=>e.hasScope(n.ParserScope.When)?e.error("USE_WHEN"):e.hasScope(n.ParserScope.Actor,!0)||e.hasScope(n.ParserScope.Stage,!0)||e.hasScope(n.ParserScope.Part,!0)||e.hasScope(n.ParserScope.Scene,!0)?(e.leaf(),e.item.type="use",e.next(),a.name(e)?!(o.isFrom(e)&&(e.next(),!a.string(e)))&&(a.semicolon(e),void e.closeLeafRange()):(e.error("USE_NAME"),!1)):e.error("USE_ACTOR_STAGE")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.utils,a=i.validators;e.exports={tokenType:"keyword/part",canProcess:e=>e.token&&"keyword"===e.token.type&&"part"===e.token.data,process(e){if(e.hasScope(n.ParserScope.Stage))return e.error("PART_STAGE");let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.type="part",e.item.attributes=t,e.next(),e.skipComment(),!o.name(e))return e.error("PART_NAME"),!1;let r=n.ParserScope.Default;if(e.item.subtype="generic",a.isFor(e))if(e.next(),a.isActor(e))e.next(),r=n.ParserScope.Actor,e.item.subtype="actor";else{if(!a.isStage(e))return e.error("PART_TYPE"),!1;e.next(),r=n.ParserScope.Stage,e.item.subtype="stage"}e.skipComment(),o.block(e,r,n.ParserScope.Part),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.validators,a=i.utils.extend({fields(e){if(e.skipComment(),!o.isSegmentStart(e))return e.error("RECORD_FIELDS"),!1;for(e.next(),e.skipComment(),e.storeItem(),e.levelDown(),e.leaf(),e.item.type="parameterList",e.storeItem(),e.levelDown();o.isIdentifier(e);){if(e.skipComment(),e.leaf(),e.item.type="parameter",e.item.name=e.token.data,e.next(),e.skipComment(),o.isDoubleDot(e)&&!i.utils.typeAnnotation(e))return!1;if(!o.isParameterSeparator(e)){if(o.isSegmentEnd(e))break;return e.error("MISSING_SEGMENT_END"),!1}e.next(),e.skipComment()}return e.levelUp(),e.restoreItem(),e.item.items.length&&e.closeLeafRange(),e.levelUp(),e.restoreItem(),o.isSegmentEnd(e)?(e.skipComment(),e.next(),!0):(e.error("MISSING_SEGMENT_END"),!1)}});e.exports={tokenType:"record",canProcess:e=>e.token&&"identifier"===e.token.type&&"record"===e.token.data,process:function(e){return e.hasScope(n.ParserScope.When)?e.error("RECORD_WHEN"):e.hasScope(n.ParserScope.Actor,!0)||e.hasScope(n.ParserScope.Stage,!0)||e.hasScope(n.ParserScope.Part,!0)?(e.leaf(),e.item.type="record",e.next(),a.name(e)?!!a.fields(e)&&(a.semicolon(e),void e.closeLeafRange()):(e.error("RECORD_NAME"),!1)):e.error("RECORD_ACTOR")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(22),o=i.constants,a=i.validators.extend({isStageStatement(e){const t=e.lookahead;return e.token&&"keyword"==e.token.type&&"stage"==e.token.data&&t&&"{"===t.type}}),s=i.utils.extend({expression(e){e.expressionProcessor.token(e,["expression"])||e.error(o.missingExpression)}});e.exports={canProcess:e=>!a.isLookaheadLabelSeparator(e)&&!a.isStageStatement(e),process(e){if(!e.hasScope(n.ParserScope.When))return e.error("ONLY_IN_WHEN");e.leaf(),e.item.type="expressionStatement",e.storeItem(),e.levelDown(),s.expression(e),e.levelUp(),e.restoreItem(),s.semicolon(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASTOptimiser=void 0;class n{constructor(e={log:!1}){this.enableLog=!1,this.enableLog=e.log}static optimiseUnaryMinusOrPlus(e,t,r){if(1===e.items.length){n.optimiseAssignment(e.items[0],e.items,0);const i=e.items[0];"literal"===i.type&&"number"===i.subtype&&(i.value="-"===e.subtype?-i.value:+i.value,t[r]=i)}}static optimiseCall(e,t,r){1===e.items.length&&(t[r]=e.items[0])}static optimiseAssignment(e,t,r){let n=!1;for(;1===e.items.length&&("unary"!==e.type&&"postfix"!==e.type&&"literal"!==e.type||!e.subtype);)"group"===e.type&&(n=!0),e=e.items[0];n&&(e.grouped=!0),t[r]=e}optimiseVariableList(e,t,r){this.walkLevel(e.items),t.splice(r,1,...e.items)}static optimiseParts(e){let t;const r=[];for(let n=0;n<e.length;++n){const i=e[n];"application"===i.type&&(t=i),"part"!==i.type&&"scene"!==i.type||r.push(i)}for(let n of r){const t=e.indexOf(n);e.splice(t,1)}r.length&&t.items.push({type:"parts",range:Object.assign(Object.assign({},r[0].range),{to:r[r.length-1].range.to}),items:r})}optimiseLeaf(e,t,r){"unary"!==e.type||"-"!==e.subtype&&"+"!==e.subtype?"assignment"===e.type||"relational"===e.type||"additive"===e.type||"subtractive"===e.type||"multiplicative"===e.type||"exponentative"===e.type||"unary"===e.type||"postfix"===e.type||"logical"===e.type||"equality"===e.type||"conditional"===e.type?n.optimiseAssignment(e,t,r):"variableList"===e.type||"variableDeclarationList"===e.type?this.optimiseVariableList(e,t,r):"lefthandside"===e.type&&"call"===e.subtype&&n.optimiseCall(e,t,r):n.optimiseUnaryMinusOrPlus(e,t,r)}walkLevel(e){e.forEach(((t,r)=>{this.optimiseLeaf(t,e,r),this.optimiseLeaf(e[r],e,r),this.walkLevel(e[r].items)}))}optimise(e){return this.walkLevel(e),n.optimiseParts(e),e}}t.ASTOptimiser=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tokenizer=t.constants=t.removeRegexpSpecialChars=t.validateName=t.Token=t.TokenizerError=t.TokenizerState=void 0;const n=r(195),i=r(198);var o=r(195);Object.defineProperty(t,"TokenizerState",{enumerable:!0,get:function(){return o.TokenizerState}});var a=r(197);Object.defineProperty(t,"TokenizerError",{enumerable:!0,get:function(){return a.TokenizerError}});var s=r(196);Object.defineProperty(t,"Token",{enumerable:!0,get:function(){return s.Token}});var l=r(43);Object.defineProperty(t,"validateName",{enumerable:!0,get:function(){return l.validateName}}),Object.defineProperty(t,"removeRegexpSpecialChars",{enumerable:!0,get:function(){return l.removeRegexpSpecialChars}}),Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return l.constants}});t.Tokenizer=class{constructor(e={comments:!0}){this.options=e}tokenize(e){const t=new n.TokenizerState;return t.processComments=this.options.comments,t.begin(e),i.tokenizer.process(t),t.ok?t.tokens:(this._error=t.lastError,null)}get error(){return this._error}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={macroMarkerCharacter:"#",commentMarkerCharacter:"/",singleLineCommentMarkerCharacter:"/",multiLineCommentMarkerCharacter:"*",singleLineCommentEndCharacters:"\n\r\u2028\u2029",lineTerminators:"\n\r\u2028\u2029"},i={isMacroStart:e=>e===n.macroMarkerCharacter,isSingleLineStart:(e,t)=>e===n.commentMarkerCharacter&&t===n.singleLineCommentMarkerCharacter,isMultiLineStart:(e,t)=>e===n.commentMarkerCharacter&&t===n.multiLineCommentMarkerCharacter,isSingleLineEnd:e=>-1!=n.singleLineCommentEndCharacters.indexOf(e),isMultiLineEnd:(e,t)=>e===n.multiLineCommentMarkerCharacter&&t===n.commentMarkerCharacter,isLineTerminator:e=>-1!=n.lineTerminators.indexOf(e)};function o(e,t=!1){(e.processComments||t)&&e.add(),e.next()}const a={processSingleLine(e,t=!1,r=!1){for((e.processComments||r)&&e.token(r?"macro":"comment","single");e.char&&!i.isSingleLineEnd(e.char);)o(e,r);if((e.processComments||r)&&e.token("literal","line"),t){for(;e.char&&i.isSingleLineEnd(e.char);)e.next(),e.skip();e.newLine()}},processMultiLine(e){let t=1;for(e.processComments&&e.token("comment","multi");e.char;){if(i.isMultiLineEnd(e.char,e.lookahead)){if(t--,!(t>0))break;o(e)}else i.isMultiLineStart(e.char,e.lookahead)?(t++,o(e)):i.isLineTerminator(e.char)&&e.newLine();o(e)}return t<0?e.error("MISSING_COMMENT_START"):t>0?e.error("MISSING_COMMENT_END"):(e.processComments&&e.token("literal","line"),e.next(),e.skip(),e.next(),void e.skip())}};e.exports={name:"comment",canProcess:e=>i.isSingleLineStart(e.char,e.lookahead)||i.isMultiLineStart(e.char,e.lookahead)||i.isMacroStart(e.char),process(e){const t=e.lastToken&&e.lastToken.line!=e.line,r=i.isMacroStart(e.char);return e.next(),e.skip(),r?a.processSingleLine(e,t,!0):e.char===n.singleLineCommentMarkerCharacter?(e.next(),e.skip(),a.processSingleLine(e,t)):(e.next(),e.skip(),a.processMultiLine(e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(43),i={zero:"0",hexMarkers:"xX",exponentIndicators:"eE",digits:"0123456789",hexDigits:"0123456789abcdefABCDEF",dotCharacter:".",signs:"-+"},o={isZeroDigit:function(e){return e.char===i.zero},isDot:function(e){return e.char===i.dotCharacter},isDecimalDigit:function(e){return-1!==i.digits.indexOf(e.char)},isHexDigit:function(e){return-1!==i.hexDigits.indexOf(e.char)},isHexLiteral:function(e){return o.isZeroDigit(e)&&-1!==i.hexMarkers.indexOf(e.lookahead)},isDecimalLiteral:function(e){return o.isDecimalDigit(e)&&-1===i.hexMarkers.indexOf(e.lookahead)},isNumericLiteral:function(e){return o.isDot(e)&&-1!==i.digits.indexOf(e.lookahead)||o.isHexLiteral(e)||o.isDecimalLiteral(e)},isExponentIndicator:function(e){return-1!==i.exponentIndicators.indexOf(e.char)},isSign:function(e){return-1!==i.signs.indexOf(e.char)},identifierCharacter:e=>n.constants.startCharacters.includes(e.char)},a={hex(e){if(e.add(),e.next(),e.add(),e.next(),!e.char||!o.isHexDigit(e)&&o.identifierCharacter(e))return e.error("INVALID_NUMBER_HEX");do{e.add(),e.next()}while(e.char&&o.isHexDigit(e));return o.identifierCharacter(e)?e.error("INVALID_NUMBER_HEX"):void 0},digits(e,t){if(e.char&&o.isDecimalDigit(e)){do{e.add(),e.next()}while(e.char&&o.isDecimalDigit(e));return o.identifierCharacter(e)&&!o.isExponentIndicator(e)?e.error("INVALID_NUMBER"):void 0}t||o.identifierCharacter(e)&&e.error("INVALID_NUMBER")},sign(e){o.isSign(e)&&(e.add(),e.next())},exponent:e=>!!o.isExponentIndicator(e)&&(e.add(),e.next(),a.sign(e),a.digits(e,!1),!0),decimal(e){if(o.isZeroDigit(e))if(e.add(),e.next(),o.isDot(e))e.add(),e.next(),a.digits(e,!0),a.exponent(e);else{if(!e.char||!o.isDecimalDigit(e))return void(o.isHexDigit(e)&&e.error("INVALID_NUMBER_HEX"));e.error("INVALID_NUMBER_HEX")}else o.isDot(e)?(e.add(),e.next(),a.digits(e,!1),a.exponent(e)):(a.digits(e,!1),!a.exponent(e)&&o.isDot(e)&&(e.add(),e.next(),a.digits(e,!0),a.exponent(e)))}};e.exports={name:"number",canProcess:function(e){return o.isNumericLiteral(e)},process:function(e){o.isHexLiteral(e)?a.hex(e):a.decimal(e),e.token("literal","number")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={commentMarkers:"/*",punctuatorStartCharacters:"+-!&|^*/%><=?:",punctuators:["++","--","+","-","!","^","*","/","%","<",">","<=",">=","==","!=","?","=",":","+=","-=","/=","*=","&&","||","|","**"]},i={isPart:e=>-1!==n.punctuatorStartCharacters.indexOf(e),isPunctuator:e=>-1!==n.punctuators.indexOf(e)};e.exports={name:"punctuation",canProcess:function(e){return!(!i.isPunctuator(e.char)&&!i.isPunctuator(e.char+e.lookahead))},process:function(e){do{if(i.isPunctuator(e.tokenValue)&&!i.isPunctuator(e.tokenValue+e.char))break;e.add(),e.next()}while(e.char&&i.isPart(e.char));e.token(e.tokenValue)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={separatorCharacters:".;{}()[]:,",segmentStart:"(",segmentEnd:")",blockStart:"{",blockEnd:"}",arrayStart:"[",arrayEnd:"]",semicolon:";"};let i={segment:0,block:0,array:0};const o={isSeparator:e=>-1!==n.separatorCharacters.indexOf(e),isSemicolon:e=>n.semicolon===e};e.exports={name:"separator",canProcess:function(e){return o.isSeparator(e.char)},process:function(e){const t=e.char;if(e.add(),e.next(),o.isSemicolon(t))for(;o.isSemicolon(e.char);)e.skip(1),e.next();e.token(e.tokenValue)},end:function(e){if(0!==i.segment||0!==i.block||0!==i.array)return i.segment=0,i.block=0,i.array=0,e.error("UNEXPECTED_EOF")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={zeroCharacter:"0",nul:"\0",startEndCharacters:["'",'"'],escapeMarker:"\\",escapeCharacters:"'\"\\bfnrtv",lineTerminators:"\n\r\u2028\u2029",digits:"0123456789",hexDigits:"0123456789abcdefABCDEF",hexMarker:"x",unicodeMarker:"u"},i={isStart:e=>-1!==n.startEndCharacters.indexOf(e.char),isEnd:(e,t)=>t.char===e,isEscapeMarker:e=>e.char===n.escapeMarker,isEscapeCharacter:e=>-1!==n.escapeCharacters.indexOf(e.char),isLineTerminator:e=>-1!==n.lineTerminators.indexOf(e.char),isZero:e=>e.char===n.zeroCharacter,isHexMarker:e=>e.char===n.hexMarker,isUnicodeMarker:e=>e.char===n.unicodeMarker,isLookaheadDecimalDigit:e=>-1!==n.digits.indexOf(e.lookahead),isHexDigit:e=>-1!==n.hexDigits.indexOf(e.char)},o={lineContinuation(e){for(e.skip();i.isLineTerminator(e);)e.next(),e.skip()},hexEscape:function(e){e.next();let t="";for(let r=0;r<2;r++){if(!i.isHexDigit(e))return e.error("UNUSUAL_TOKEN");t+=e.char,e.next()}e.add("\\x"+t),e.skip(4)},unicodeEscape:function(e){e.next();let t="";for(let r=0;r<4;r++){if(!i.isHexDigit(e))return e.error("UNUSUAL_TOKEN");t+=e.char,e.next()}e.add("\\u"+t),e.skip(6)},string:function(e){const t=e.char,r='"'===t?"'":'"';for(e.next(),e.skip();e.char&&!i.isEnd(t,e);)if(e.char===r)e.add(),e.next();else{if(i.isLineTerminator(e))return e.error("MISSING_STRING_END");i.isEscapeMarker(e)?(e.next(),i.isLineTerminator(e)?o.lineContinuation(e):i.isEscapeCharacter(e)?(e.add(n.escapeMarker),e.skip(),e.add(),e.next()):i.isZero(e)&&!i.isLookaheadDecimalDigit(e)?(e.skip(),e.add(n.nul),e.skip(),e.next()):i.isHexMarker(e)?o.hexEscape(e):i.isUnicodeMarker(e)?o.unicodeEscape(e):e.skip()):(e.add(),e.next())}e.skip(),e.next()}};e.exports={name:"string",canProcess:function(e){return i.isStart(e)},process:function(e){o.string(e),e.token("literal","string")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(198),i={markerCharacter:"`",replacementStartCharacter:"$",replacementStartLookaheadCharacter:"{",replacementEndCharacter:"}",commentMarkerCharacter:"/",commentMarkerLookaheadCharacters:"*/",zeroCharacter:"0",nul:"\0",startEndCharacters:["'",'"'],escapeMarker:"\\",escapeCharacters:"'\"\\bfnrtv",lineTerminators:"\n\r\u2028\u2029",digits:"0123456789",hexDigits:"0123456789abcdefABCDEF",hexMarker:"x",unicodeMarker:"u"},o={isMarker:e=>i.markerCharacter===e.char,isReplacementStart:e=>e.char===i.replacementStartCharacter&&e.lookahead===i.replacementStartLookaheadCharacter,isReplacementEnd:e=>e.char===i.replacementEndCharacter,isEscapeReplacementStart:e=>e.char===i.replacementStartCharacter&&e.lookahead===i.replacementStartCharacter,isEnd:(e,t)=>t.char===e,isEscapeMarker:e=>e.char===i.escapeMarker,isEscapeCharacter:e=>-1!==i.escapeCharacters.indexOf(e.char),isLineTerminator:e=>-1!==i.lineTerminators.indexOf(e.char),isZero:e=>e.char===i.zeroCharacter,isHexMarker:e=>e.char===i.hexMarker,isUnicodeMarker:e=>e.char===i.unicodeMarker,isLookaheadDecimalDigit:e=>-1!==i.digits.indexOf(e.lookahead),isHexDigit:e=>-1!==i.hexDigits.indexOf(e.char)},a={lineContinuation(e){for(e.skip();o.isLineTerminator(e);)e.next(),e.skip()},hexEscape:function(e){e.next();let t="";for(let r=0;r<2;r++){if(!o.isHexDigit(e))return e.error("UNUSUAL_TOKEN");t+=e.char,e.next()}e.add("\\x"+t),e.skip(4)},unicodeEscape:function(e){e.next();let t="";for(let r=0;r<4;r++){if(!o.isHexDigit(e))return e.error("UNUSUAL_TOKEN");t+=e.char,e.next()}e.add("\\u"+t),e.skip(6)},string:function(e,t){const r='"'===t?"'":'"';for(;e.char&&!o.isEnd(t,e)&&!o.isReplacementStart(e);)if(e.char===r)e.add(),e.next();else{if(o.isLineTerminator(e))return void e.token("newline","",!1);o.isEscapeMarker(e)?(e.next(),o.isLineTerminator(e)?a.lineContinuation(e):o.isEscapeCharacter(e)?(e.add(i.escapeMarker),e.skip(),e.add(),e.next()):o.isZero(e)&&!o.isLookaheadDecimalDigit(e)?(e.skip(),e.add(i.nul),e.skip(),e.next()):o.isHexMarker(e)?a.hexEscape(e):o.isUnicodeMarker(e)?a.unicodeEscape(e):e.skip()):o.isEscapeReplacementStart(e)?(e.skip(),e.next(),e.add(),e.next()):(e.add(),e.next())}return!0},replacement(e,t){let r=1,a=e.tokens.length,s=!1,l=n.tokenizer.processUntil(e,(()=>{if(e.char===i.replacementStartCharacter?r++:e.char===i.replacementEndCharacter&&r--,e.char===i.commentMarkerCharacter)return e.error("INVALID_REPLACEMENT_COMMENT"),s=!0,!0;return!(o.isReplacementEnd(e)&&0===r)}));return l?s||a!==e.tokens.length||(e.error("INVALID_REPLACEMENT"),l=!1):e.lastError||e.error("INVALID_REPLACEMENT_START"),l&&!s}};e.exports={name:"template-string",canProcess:function(e){return o.isMarker(e)},process:function(e){const t=e.char;for(e.next(),e.skip(),e.token("template-string","start");e.char&&!o.isEnd(t,e);){if(!a.string(e,t))return!1;if(e.tokenValue&&e.token("literal","string"),o.isReplacementStart(e)){if(e.next(),e.skip(),e.next(),e.skip(),!a.replacement(e,t))return!1;e.next(),e.skip()}}e.next(),e.skip(),e.token("template-string","end")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={whiteSpaceCharacters:"\t\v\f \xa0\ufeff\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\n\r\u2028\u2029",lineTerminatorCharacters:"\n\r\u2028\u2029",CR:"\r",LF:"\n"},i=function(e){return-1!==n.whiteSpaceCharacters.indexOf(e.char)},o=function(e){return-1!==n.lineTerminatorCharacters.indexOf(e.char)},a=function(e){return e.char===n.CR&&e.lookahead===n.LF};e.exports={name:"whitespace",canProcess:function(e){return i(e)},process:function(e){o(e)&&(a(e)&&e.next(),e.newLine()||(e.add(";"),e.token(";","",!1),e.newLine())),e.next()}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(725),t),i(r(726),t),i(r(727),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLanguageConfiguration=void 0;t.createLanguageConfiguration=(e,t)=>{const r={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:e.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:e.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:e.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:e.languages.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}]};e.languages.setLanguageConfiguration(t,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStaticSnippets=t.separators=void 0;const n=r(4);t.separators="+-!^*/%<>?=;{}()[]:,(){}[];'\" \t\v\f \xa0\ufeff\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\n\r\u2028\u2029";t.getStaticSnippets=(e,t)=>{const r={label:"if",kind:e.Snippet,insertText:["if (${1:true}) {","\t${2}","}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"If Statement",documentation:"If Statement"},i={label:"ifelse",kind:e.Snippet,insertText:["if (${1:true}) {","\t${2}","} else {","\t${3}","}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"If-Else Statement",documentation:"If-Else Statement"},o={label:"while",kind:e.Snippet,insertText:["while (${1:true}) {","\t${2}","}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"While loop",documentation:"While loop"},a={label:"dowhile",kind:e.Snippet,insertText:["do {","\t${1}","} while (${2:true})"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Do-While loop",documentation:"Do-While loop"},s={label:"for",kind:e.Snippet,insertText:["for (let ${1:i} = 1; ${1:i} <= ${2:10}; ${1:i}++) {","\t${3}","}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"For loop",documentation:"For loop"},l={label:"function",kind:e.Snippet,detail:"user defined function",insertText:["function ${1:functionName}(${2:parameter}) {","\t${3}","}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Function"},c={label:"when",kind:e.Snippet,detail:"when statement",insertText:["when ${1:eventName} {","\t${2}","}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"When statement"},p={label:"actor",kind:e.Snippet,detail:"actor declaration",insertText:["actor ${1:actorName} {","\t${2}","}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Actor declaration"},u={label:"return",kind:e.Keyword,insertText:"return"},d={label:"this",kind:e.Keyword,insertText:"this"},h=["true","false","null"].map((t=>({label:t,kind:e.Keyword,insertText:t}))),f=["let","ref","and","or","not"].map((t=>({label:t,kind:e.Keyword,insertText:t+" "}))),m=[r,i,o,a,s,u,d,...h,...f];return{[n.ContextualLevelKind.Stage]:[l,c,p,...h,...f],[n.ContextualLevelKind.Actor]:[l,c,...h,...f],[n.ContextualLevelKind.When]:m,[n.ContextualLevelKind.Function]:m,[n.ContextualLevelKind.IfStatement]:m,[n.ContextualLevelKind.ForStatement]:m,[n.ContextualLevelKind.WhileStatement]:m,[n.ContextualLevelKind.DoWhileStatement]:m,[n.ContextualLevelKind.ForInStatement]:m}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTokensProvider=void 0;const n=r(43);t.createTokensProvider=(e,t)=>{const r={keywords:[...n.constants.stageKeywords,...n.constants.nonTerminalKeywords],typeKeywords:n.constants.typeKeywords,operators:n.constants.operators,symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z\xc0-\xd6\xd8-\xde\u0100-\u017d\u0180-\u01fa\u01fc-\u01fe\u0218-\u021a\u1ea0-\u1eac\u1eae-\u1eb4\u1eb6-\u1eb8\u1eba-\u1ebc\u1ebe-\u1ec4\u1ec6-\u1ec8\u1eca-\u1ecc\u1ece-\u1ed0\u1ed2-\u1ed4\u1ed6-\u1ed8\u1eda-\u1edc\u1ede-\u1ee0\u1ee2-\u1ee6\u1ee8-\u1eea\u1eec-\u1eee\u1ef0-\u1ef4\u1ef6-\u1ef8\u0410-\u042f\u0401\u0408\u0402\u0409\u040a\u040b\u040f\u04e8\u04ae]([0-9A-Za-z\xc0-\xfa\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xc1\xc9\xcd\xd3\xda\xdd\xe1\xe9\xed\xf3\xfa\xfd\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc3\xd1\xd5\xe3\xf1\xf5\xc4\xcb\xcf\xd6\xdc\xe4\xeb\xef\xf6\xfc\xe7\xc7\xdf\xd8\xf8\xc5\xe5\xc6\xe6\xde\xfe\xd0\xf0\u0151\u0171\u0150\u0170\u016f\xfd\u017e\u010d\u010f\u011b\u0148\u0159\u0161\u0165\u0104\u0141\u013d\u013f\u015a\u0160\u015e\u0164\u0179\u017d\u017b\u0105\u0142\u013e\u0140\u015b\u0161\u015f\u0165\u017a\u017e\u017c\u0154\u0102\u0106\u0139\xc7\u010c\u0118\u011a\xce\u010e\u0143\u0147\xd4\u0158\u016e\xdd\u0162\u0155\u0103\u0110\u0107\xe7\u010d\u0119\xee\u010f\u0111\u0144\u0148\u0159\u016f\xfd\u0163\u011b\u0218\u021a\u0219\u021b\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u0458\u0452\u0459\u045a\u045b\u045f\u0408\u0402\u0409\u040a\u040b\u040f\u04e9\u04af\u04e8\u04ae\u1ee4\u1eea\u1eec\u1eee\u1ee8\u1ef0\u1ef2\u1ef6\u1ef8\u1ef4\u1ea2\u1ea0\u1eb6\u1eac\u1eba\u1ebc\u1eb8\u1ec6\u1ec8\u0128\u1eca\u1ece\u1ecc\u1ed8\u1edc\u1ede\u1ee0\u1eda\u1ee2\u1ee6\u0168\u01a0\u01af\u01a1\u01b0\u1eb0\u1ea3\u1ea1\u1eb2\u1eb1\u1eb3\u1eb5\u1eaf\u1eb4\u1eae\u1ea6\u1ea8\u1eaa\u1ea4\u1ec0\u1eb7\u1ea7\u1ea9\u1eab\u1ea5\u1ead\u1ec2\u1ebb\u1ebd\u1eb9\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7\u1ec9\u1ec4\u1ebe\u1ed2\u0129\u1ecb\u1ed4\u1ecf\u1ecd\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u1edd\u1edf\u1ee1\u1edb\u1ee3\u1ed6\u1ee7\u0169\u1ee5\u1eeb\u1eed\u1eef\u1ee9\u1ef1\u1ef3\u1ef7\u1ef9\u1ef5\u1ed0I\u0131\u0130\u011e\u011f_$]*)/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,{token:"string.quote",bracket:"@open",next:"@char"}]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],char:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}};e.languages.setMonarchTokensProvider(t,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringStageScriptMixin=void 0;const n=r(4),i={};t.StringStageScriptMixin=class{constructor(){this.name="StringStageScriptMixin"}get language(){return"stagescript"}declare(e){e.declareReadOnlyProperty("length",n.ValueType.Number),e.declareAsyncMethod("concat",n.ValueType.String).declareParameter("value",n.ValueType.String).declareBlock("concat {this} with {value}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("charAt1",n.ValueType.String,!0,!1).declareParameter("index",n.ValueType.Number,1).declareBlock("letter {index} of {this}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}).markAsPrivate(),e.declareMethod("charAt",n.ValueType.String,!0,!1).declareParameter("index",n.ValueType.Number,0).declareBlock("letter {index} of {this}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("endsWith",n.ValueType.Boolean).declareParameter("searchString",n.ValueType.String).declareBlock("{this} ends with {searchString}?",n.BlockColor.Operators),e.declareMethod("includes",n.ValueType.Boolean).declareParameter("searchString",n.ValueType.String).declareBlock("is {this} includes {searchString}?",n.BlockColor.Operators),e.declareMethod("indexOf",n.ValueType.Number).declareParameter("searchValue",n.ValueType.String).declareBlock("index of {searchValue} in {this}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("lastIndexOf",n.ValueType.Number).declareParameter("searchValue",n.ValueType.String).declareBlock("last index of {searchValue} in {this}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("padEnd",n.ValueType.String).declareParameter("targetLength",n.ValueType.Number).declareParameter("padString",n.ValueType.String).declareBlock("",n.BlockColor.Operators),e.declareMethod("padStart",n.ValueType.String).declareParameter("targetLength",n.ValueType.Number).declareParameter("padString",n.ValueType.String).declareBlock("",n.BlockColor.Operators),e.declareMethod("repeat",n.ValueType.String).declareParameter("count",n.ValueType.Number).declareBlock("repeat {this} {count} times",n.BlockColor.Operators),e.declareMethod("startsWith",n.ValueType.Boolean).declareParameter("searchString",n.ValueType.String).declareBlock("{this} starts with {searchString}?",n.BlockColor.Operators),e.declareMethod("substring",n.ValueType.String).declareParameter("indexStart",n.ValueType.Number,1).declareParameter("indexEnd",n.ValueType.Number,2).declareBlock("substring {this} from {indexStart} to {indexEnd}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("split",n.ValueType.Array).declareParameter("separator",n.ValueType.String,",").declareBlock("split {this} with {separator}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("toLowerCase",n.ValueType.String).declareBlock("{this} to lowercase",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("toUpperCase",n.ValueType.String).declareBlock("{this} to uppercase",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("trim",n.ValueType.String).declareBlock("remove whitespaces of {this}",n.BlockColor.Operators),e.declareMethod("replace",n.ValueType.String).declareParameter("original",n.ValueType.String).declareParameter("new",n.ValueType.String),e.declareMethod("replaceAll",n.ValueType.String).declareParameter("original",n.ValueType.String).declareParameter("new",n.ValueType.String)}implementation(e){return i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StageScriptLanguageMixin=void 0;const n=r(4),i=r(199),o=r(730),a=r(731),s=r(732),l=r(200);class c extends n.LanguageMixinCollection{constructor(){super(),this.declared=!1}static async register(){n.LanguageMixinManager.register(c.Instance)}get language(){return"stagescript"}getEmptyStageSource(){return"stage {\n\t\n}"}declare(e,t){n.Terminal.stringBuilder=l.str,this.declareForPart(),n.MathInfo.Type.declareAndApplyMixin(new s.MathStageScriptMixin),n.BlockGalleryFactory.registerMixin(new a.StageScriptBlockGalleryFactory),n.VariablesInfo.functionScopedVars=!1}declareForPart(){this.declared||(this.declared=!0,n.ValueType.String.declareAndApplyMixin(new i.StringStageScriptMixin),n.ValueType.Line.declareAndApplyMixin(new i.StringStageScriptMixin),n.ValueType.Array.declareAndApplyMixin(new o.ArrayStageScriptMixin))}}t.StageScriptLanguageMixin=c,c.Instance=new c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayStageScriptMixin=void 0;const n=r(4),i=r(200),o=r(201),a=r(202),s={__str__:function(){return`[${Array.prototype.map.call(this,(e=>(0,i.repr)(e))).join(", ")}]`},__repr__:function(){return`[${Array.prototype.map.call(this,(e=>(0,i.repr)(e))).join(", ")}]`}};t.ArrayStageScriptMixin=class{constructor(){this.name="ArrayStageScriptMixin"}get language(){return"stagescript"}declare(e){n.AssignmentAction.concatArrays=!1,e.declareMethod("concat",n.ValueType.Array).declareRepeatableParameter("value",n.ListsInfo.Type).declareBlock("concat {value} list with {this} list",n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareAsyncMethod("every",n.ValueType.Boolean).declareParameter("func",n.ValueType.Function),e.declareAsyncMethod("map",n.ValueType.Array).declareParameter("func",n.ValueType.Function),e.declareAsyncMethod("reduce",n.ValueType.Any).declareParameter("func",n.ValueType.Function).declareOptionalParameter("initialValue",n.ValueType.Numeric),e.declareAsyncMethod("fill",n.ValueType.Array).declareParameter("value",n.ValueType.Any,"a").declareBlock("fill {this} with {value}",n.BlockColor.Data),e.declareReadOnlyProperty("length",n.ValueType.Number,!0),e.declareMethod("pop",n.ValueType.Any).declareBlock(o.RemoveFromListBlockInstance,n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("reverse",n.ValueType.Array).declareBlock("reverse {this}",n.BlockColor.Data),e.declareMethod("shift",n.ValueType.Any).declareBlock(o.RemoveFromListBlockInstance,n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("indexOf",n.ValueType.Number).declareParameter("searchElement",n.ValueType.Any,"").declareBlock("index of {searchElement} in {this}",n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("join",n.ValueType.String).declareOptionalParameter("separator",n.ValueType.String,",").declareBlock("join {this} with {separator}",n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("lastIndexOf",n.ValueType.Number).declareParameter("searchElement",n.ValueType.Any,"").declareBlock("last index of {searchElement} in {this}",n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareAsyncMethod("slice",n.ValueType.Array).declareOptionalParameter("begin",n.ValueType.Number).declareOptionalParameter("end",n.ValueType.Number),e.declareMethod("push",n.ValueType.Number).declareRepeatableParameter("element",n.ValueType.Any,"").declareBlock(a.AddToListBlockInstance,n.BlockColor.Data),e.declareAsyncMethod("splice",n.ValueType.Array).declareParameter("start",n.ValueType.Number).declareOptionalParameter("deleteCount",n.ValueType.Number).declareOptionalParameter("item",n.ValueType.Any),e.declareMethod("unshift",n.ValueType.Number).declareRepeatableParameter("element",n.ValueType.Any,"").declareBlock(a.AddToListBlockInstance,n.BlockColor.Data),e.declareAsyncMethod("filter",n.ValueType.Array).declareParameter("callback",n.ValueType.Function),e.declareAsyncMethod("find",n.ValueType.Any).declareParameter("callback",n.ValueType.Function),e.declareAsyncMethod("findIndex",n.ValueType.Number).declareParameter("callback",n.ValueType.Function),e.declareMethod("includes",n.ValueType.Boolean).declareParameter("searchElement",n.ValueType.Any,"").declareBlock("is {this} includes {searchElement}?",n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareAsyncMethod("keys",n.ValueType.Array),e.declareMethod("values",n.ValueType.Array),e.declareMethod("reduceRight",n.ValueType.Any,!0).declareParameter("callback",n.ValueType.Function).declareOptionalParameter("initialValue",n.ValueType.Any),e.declareAsyncMethod("some",n.ValueType.Boolean).declareParameter("callback",n.ValueType.Function),e.declareMethod("sort",n.ValueType.Array).declareOptionalParameter("sorter",n.ValueType.Function),e.declareMethod("insertAt",n.ValueType.Number).declareOptionalParameter("index",n.ValueType.Number,1).declareOptionalParameter("value",n.ValueType.Any,"").declareBlock("insert {value} at {index} of {this}",n.BlockColor.Data),e.declareMethod("removeAt",n.ValueType.Any).declareOptionalParameter("index",n.ValueType.Number,1).declareBlock("remove item {index} from {this}",n.BlockColor.Data),e.declareMethod("removeItemsAt",n.ValueType.Array).declareOptionalParameter("index",n.ValueType.Number,1).declareOptionalParameter("count",n.ValueType.Number,1).declareBlock("remove {count} items at {index} from {this}",n.BlockColor.Data),e.declareMethod("remove",n.ValueType.Number).declareParameter("item",n.ValueType.Any,"").declareBlock("remove {item} from {this}",n.BlockColor.Data),e.declareMethod("__str__",n.ValueType.String).markAsPrivate(),e.declareMethod("__repr__",n.ValueType.String).markAsPrivate()}implementation(e){return s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StageScriptBlockGalleryFactory=void 0;const n=r(4);t.StageScriptBlockGalleryFactory=class{constructor(){this.createBlocks=()=>{const e=n.BlockGalleryFactory.utils;e.loopBase=1;return{Null:()=>new n.NullLiteralAction,"pop:from:":()=>e.callOnArray("pop",e.variable(void 0)),"computeFunction:of:":()=>new n.ExecuteAsAction(e.read(n.ScoolcodeStage.Type,"Math"),e.call(n.MathInfo.Type,"round",e.number(10))),"computeFunction:of::":()=>new n.ExecuteAsAction(e.read(n.ScoolcodeStage.Type,"Math"),e.call(n.MathInfo.Type,"roundToDigits",e.number(10),e.number(10)))}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathStageScriptMixin=void 0;const n=r(4),i=r(733),o={randomBetween:(e,t)=>~~(Math.random()*(t-e+1))+e,atan2:(e,t)=>Math.atan2(e,t)*n.RAD_TO_DEG,roundToDigits:(e,t)=>{const r=10**t;return Math.round(e*r)/r},min:(e,t,...r)=>Math.min(e,t,...r),max:(e,t,...r)=>Math.max(e,t,...r),pow:(e,t)=>Math.pow(e,t)};t.MathStageScriptMixin=class{constructor(){this.name="MathStageScriptMixin"}get language(){return"stagescript"}declare(e){e.declareMethod("randomBetween",n.ValueType.Number,!0,!1).declareParameter("a",n.ValueType.Number,1).declareParameter("b",n.ValueType.Number,10).declareBlock("pick random {a} to {b}",n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1});const t=t=>{e.declareMethod(t,n.ValueType.Number,!0,!1).declareParameter("a",n.ValueType.Numeric,1).declareParameter("b",n.ValueType.Numeric,2).declareBlock(i.Math2StageScriptBlockInstance,n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1})},r=t=>{e.declareMethod(t,n.ValueType.Number,!0,!1).declareParameter("a",n.ValueType.Numeric,1).declareRepeatableParameter("b",n.ValueType.Numeric,2).declareBlock(i.Math2StageScriptBlockInstance,n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1})};t("atan2"),t("roundToDigits"),t("pow"),r("max"),r("min")}implementation(e){return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Math2StageScriptBlockInstance=t.Math2StageScriptOperationInfo=void 0;const n=r(4);class i extends n.Math2OperationInfo{constructor(){super("Math2StageScriptOperation",i.Instance),this.declareReadOnlyProperty("min",n.ValueType.String),this.declareReadOnlyProperty("max",n.ValueType.String),this.declareReadOnlyProperty("pow",n.ValueType.String)}getStaticInstance(){const e={};e.min=n.MathInfo.Type.getMethod("min"),e.max=n.MathInfo.Type.getMethod("max"),e.pow=n.MathInfo.Type.getMethod("pow");const t=super.getStaticInstance();for(const r of Object.keys(t))e[r]=t[r];return e}}t.Math2StageScriptOperationInfo=i,i.Type=new i,i.Instance={};class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("operation",e,"method"),this.parameter("value",e,"parameters.0"),this.parameter("value2",e,"parameters.1"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.Math2StageScriptBlockInstance=o,o.Definition=()=>new n.BlockDefinition("{operation} {value} {value2}",[new n.BlockParameterInfo("operation",i.Type),new n.BlockParameterInfo("value",n.ValueType.Number),new n.BlockParameterInfo("value2",n.ValueType.Number)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=l(o),s=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},p=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],u=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},d=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),h=function(){return d?"_"+Math.random().toString(36).substr(2,12):void 0},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.inputRef=function(e){r.input=e,"function"===typeof r.props.inputRef&&r.props.inputRef(e)},r.placeHolderSizerRef=function(e){r.placeHolderSizer=e},r.sizerRef=function(e){r.sizer=e},r.state={inputWidth:e.minWidth,inputId:e.id||h()},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||h()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(u(e,this.sizer),this.placeHolderSizer&&u(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return d&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!==e&&void 0!==e?e:t})),t=n({},this.props.style);t.display||(t.display="inline-block");var r=n({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(this.props,[]);return function(e){p.forEach((function(t){return delete e[t]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=r,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",n({},i,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(o.Component);f.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},f.defaultProps={minWidth:1,injectStyles:!0},t.default=f},function(e,t,r){"use strict";var n=r(39),i=r(203),o=r(737),a=r(139);function s(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var l=s(a);l.Axios=o,l.create=function(e){return s(n.merge(a,e))},l.Cancel=r(207),l.CancelToken=r(751),l.isCancel=r(206),l.all=function(e){return Promise.all(e)},l.spread=r(752),e.exports=l,e.exports.default=l},function(e,t){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(139),i=r(39),o=r(746),a=r(747);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(n,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}})),e.exports=s},function(e,t,r){"use strict";var n=r(39);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(205);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e}},function(e,t,r){"use strict";var n=r(39);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)&&(t+="[]"),n.isArray(e)||(e=[e]),n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,r){"use strict";var n=r(39),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var n=r(39);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,i=String(e),o="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|a)||(s="=",a%1);o+=s.charAt(63&t>>8-a%1*8)){if((r=i.charCodeAt(a+=3/4))>255)throw new n;t=t<<8|r}return o}},function(e,t,r){"use strict";var n=r(39);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(39);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(39),i=r(748),o=r(206),a=r(139),s=r(749),l=r(750);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(39);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(207);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChallengeAPI=void 0;const n=r(140),i=r(772);class o{constructor(){this.api=i.Api.getInstance(),this.cancelTokens=[],this.fileRequest=new i.ApiRequest("/files",{})}static getInstance(){return this.instance}async createProjectForChallenge(e,t,r){let n;if(e.useOriginalProject)n=e.url;else{const t=this.fileRequest.clearParams().param("create-project");t.accessToken=this.accessToken,t.body={kind:"project/challenge",template:e.url};n=(await this.api.post(t)).id}return this.createChallengeResult({challenge:e.id,challengeSet:t.id,project:n,lastScore:0},r)}async getChallengeSets(e){const t=new i.ApiRequest("/challenge-sets/my",[]);t.accessToken=this.accessToken;const r=await this.api.get(t);return Promise.all(r.map((async t=>{const r=await this.getChallenges(t.id),n=await this.getChallengeSetResults(t.id,e);for(let e of n){const t=r.find((t=>t.id==e.challenge));t&&(t.result=e)}return Object.assign(Object.assign({},t),{challenges:r})})))}async getChallengeSet(e,t){const r=new i.ApiRequest("/challenge-sets",null).param(e);r.accessToken=this.accessToken;const n=await this.api.get(r),o=await this.getChallengeSetResults(e,t);if(n){n.challenges=await this.getChallenges(e);for(let e of o){const t=n.challenges.find((t=>t.id==e.challenge));t&&(t.result=e)}}return n}async getChallengeByIndex(e,t){const r=new i.ApiRequest(`challenge-sets/${e}/challenges`,[]).filter("index",t.toString()).embed("challengeSet"),n=new i.ApiRequest(`challenge-sets/${e}/results`,[]);r.accessToken=this.accessToken,n.accessToken=this.accessToken;const o=await this.api.get(r),a=await Promise.all(o.map((({id:e})=>(n.filter("challenge",e),this.api.get(n))))).then((([e=[]])=>e));return{challenge:o[0],result:a[0]}}async getChallenges(e,t=[]){const r=new i.ApiRequest(`/challenge-sets/${e}/challenges`,[]);return r.filter("sort","index"),r.filter("published","true"),t.length>0&&t.map((e=>r.field(e))),r.accessToken=this.accessToken,this.api.get(r)}async getChallengeSetResults(e,t){const r=new i.ApiRequest(`/challenge-sets/${e}/results`,[]);return t&&r.filter("owner",t),r.accessToken=this.accessToken,this.api.get(r)}async getChallengeResult(e){const t=new i.ApiRequest(`/challenge-results/${e}`,null).embed("challenge");return t.accessToken=this.accessToken,this.api.get(t)}async createChallengeResult(e,t){const r=new i.ApiRequest("/challenge-results",e);return r.body=Object.assign({owner:t},e),r.accessToken=this.accessToken,this.api.post(r)}async updateChallengeResult(e,t){const r=new i.ApiRequest(`/challenge-results/${e}`,null);return r.accessToken=this.accessToken,r.body={lastScore:t},this.api.patch(r)}async resetChallengeSet(e){const t=new i.ApiRequest("/challenge-results/reset-account-challenge",null);return t.accessToken=this.accessToken,t.body={challengeSetId:e},this.api.post(t)}cancelRequests(){this.cancelTokens.forEach((e=>{e.cancel()})),this.cancelTokens=[]}static isCancel(e){return n.default.isCancel(e)}}t.ChallengeAPI=o,o.instance=new o},function(e,t,r){"use strict";var n=r(35),i=r(209),o=r(756),a=r(215);var s=function e(t){var r=new o(t),s=i(o.prototype.request,r);return n.extend(s,o.prototype,r),n.extend(s,r),s.create=function(r){return e(a(t,r))},s}(r(105));s.Axios=o,s.Cancel=r(106),s.CancelToken=r(769),s.isCancel=r(214),s.VERSION=r(216).version,s.all=function(e){return Promise.all(e)},s.spread=r(770),s.isAxiosError=r(771),e.exports=s,e.exports.default=s},function(e,t,r){"use strict";var n=r(35),i=r(210),o=r(757),a=r(758),s=r(215),l=r(768),c=l.validators;function p(e){this.defaults=e,this.interceptors={request:new o,response:new o}}p.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!n){var p=[a,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(o),i=Promise.resolve(e);p.length;)i=i.then(p.shift(),p.shift());return i}for(var u=e;r.length;){var d=r.shift(),h=r.shift();try{u=d(u)}catch(f){h(f);break}}try{i=a(u)}catch(f){return Promise.reject(f)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},p.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){p.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){p.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=p},function(e,t,r){"use strict";var n=r(35);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(35),i=r(759),o=r(214),a=r(105),s=r(106);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(35),i=r(105);e.exports=function(e,t,r){var o=this||i;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},function(e,t,r){"use strict";var n=r(35);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(213);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";var n=r(35);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(764),i=r(765);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(35),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var n=r(35);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(216).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new Error(i(n," has been removed"+(t?" in "+t:"")));return t&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!==typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:i}},function(e,t,r){"use strict";var n=r(106);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Api=t.ApiRequest=void 0;const n=r(140),i=r(217);t.ApiRequest=class{constructor(e,t){DiversityEvents.hello();this._path=e,this._defaultValue=t,this._accessToken=null,this._embed=new Set,this._fields=new Set,this._filters={},this._params=[]}get path(){return[this._path,...this._params].join("/")}get defaultValue(){return this._defaultValue}get query(){const e={};return this._embed.size>0&&(e.embed=Array.from(this._embed.values()).join(",")),this._fields.size>0&&(e.fields=Array.from(this._fields.values()).join(",")),this._accessToken&&(e.access_token=this._accessToken),Object.keys(this._filters).map((t=>{e[t]=this._filters[t]})),e}set accessToken(e){this._accessToken=e}get body(){return this._body}set body(e){this._body=e}embed(e){return this._embed.add(e),this}field(e){return this._fields.add(e),this}filter(e,t){return this._filters[e]=t,this}limit(e){return this._filters.limit=e.toString(),this}param(e){return this._params=[...this._params,e],this}clearParams(){return this._params=[],this}};class o{constructor(){this.scoolcodeApi=n.default.create({baseURL:i.runtimeEnv.REACT_APP_API_URL}),this.scoolcodeApi.interceptors.response.use((e=>e),(e=>(e.response&&403===e.response.status&&"Invalid Token"===e.response.data&&window.location.assign(window.location.pathname+window.location.search),Promise.reject(e))))}static getInstance(){return this.instance}async get({path:e,query:t,defaultValue:r}){try{const{data:r}=await this.scoolcodeApi.get(e,{params:t});return r}catch(n){throw n}}async post({path:e,query:t,defaultValue:r,body:n}){try{const{data:r}=await this.scoolcodeApi.post(e,n,{params:t});return r}catch(i){return i.response?(console.warn(i.response.status),console.warn(i.response.data)):i.request?console.warn(i.request):console.warn("Error",i.message),r}}async patch({path:e,query:t,defaultValue:r,body:n}){try{const{data:r}=await this.scoolcodeApi.patch(e,n,{params:t});return r}catch(i){return i.response?(console.warn(i.response.status),console.warn(i.response.data)):i.request?console.warn(i.request):console.warn("Error",i.message),r}}async put({path:e,query:t,defaultValue:r,body:n}){try{const{data:r}=await this.scoolcodeApi.put(e,n,{params:t});return r}catch(i){return i.response?(console.warn(i.response.status),console.warn(i.response.data)):i.request?console.warn(i.request):console.warn("Error",i.message),r}}}t.Api=o,o.instance=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeEnv=void 0,t.runtimeEnv="undefined"!==typeof window&&window&&window._env_?window._env_:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StagePythonCodeGenerator=void 0;var n=r(775);Object.defineProperty(t,"StagePythonCodeGenerator",{enumerable:!0,get:function(){return n.StagePythonCodeGenerator}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StagePythonCodeGenerator=void 0;const n=r(4),i=r(776),o=r(142),a=r(4),s="    ",l=function(...e){false};var c;!function(e){e[e.Undefined=-1]="Undefined",e[e.Stage=0]="Stage",e[e.Actor=1]="Actor"}(c||(c={}));t.StagePythonCodeGenerator=class{constructor(){this.contextStack=[c.Undefined],this.symbols={}}setSymbol(e,t){this.symbols[e]=t;const r=o.SYMBOL_GROUPS[e];r&&r.forEach((e=>this.symbols[e]=t))}getSymbol(e){return this.symbols[e]}generateNumericLiteral(e,t=""){return"boolean"===typeof e.value?e.value?"True":"False":+e.value===+e.value?t+n.NumericLiteral.toString(e.value):`${t}"${""+e.value}"`}generateStringLiteral(e,t=""){return`${t}"${e.value}"`}generateTemplateStringLiteral(e,t="",r){return e.expressions.length?`${t}f'{${e.expressions.map((e=>this.generateExpression(e,r))).join("}{")}}'`:`${t}f''`}generateBooleanLiteral(e,t=""){return`${t}${e.value?"True":"False"}`}generateArrayLiteral(e,t="",r){return`${t}[ ${e.expressions.map((e=>this.generateExpression(e,r))).join(", ")} ]`}generateNullLiteral(e,t=""){return`${t}None`}generateNothingLiteral(e,t=""){return`${t}`}generateUndefinedLiteral(e,t=""){return`${t}None`}generateLineLiteral(e,t=""){return`${t}${e.value}`}generateIndexerExpression(e,t="",r){return"identifier"===e.expression.subKind&&" "===e.expression.name?`${t}[  ][${this.generateExpression(e.indexer,r)}]`:`${this.generateExpression(e.expression,r,t)}[${this.generateExpression(e.indexer,r)}]`}generateIndexerRangeExpression(e,t="",r){const n=e.indexStart?this.generateExpression(e.indexStart,r):"",i=e.indexEnd?this.generateExpression(e.indexEnd,r):"";return"identifier"===e.expression.subKind&&" "===e.expression.name?`${t}[  ][${n}:${i}]`:`${this.generateExpression(e.expression,r,t)}[${n}:${i}]`}generateIdentifier(e,t="",r){return e instanceof n.PropertyName?e.property.instance?t+(this.getSymbol("DISALLOW_SHADOWING")?"":i.Utils.processSelf(e.property,r))+e.name:t+e.property.declaringType.name+"."+e.name:e instanceof n.StageVariable?t+(r.active&&!this.getSymbol("SELFLESS_DEF")?"stage.":"")+e.name:e instanceof n.ThisExpression?t+"self":t+e.name}generateAwaitExpression(e,t="",r){return this.generateExpression(e.expression,r,t)}generateAssignment(e,t="",r){return`${t}${this.generateExpression(e.leftHandSide,r)} = ${this.generateExpression(e.rightHandSide,r)}`}generateDot(e,t="",r){var i,o;const a=e.leftHandSide,s=this.generateExpression(e.rightHandSide,{active:!1,type:r.type});let l=(null===(o=null===(i=null===a||void 0===a?void 0:a.property)||void 0===i?void 0:i.valueType)||void 0===o?void 0:o.itemToProvidedValue)&&(s.startsWith("'")||s.startsWith('"'))&&(s.endsWith("'")||s.endsWith('"'))?s.substring(1,s.length-1):s;if(a instanceof n.PropertyName&&a.property.instance&&a.property.valueType instanceof n.ScoolcodeEnumInfoBase&&a.property.valueType.getStaticInstance){const n=a.property.valueType.getStaticInstance();if("object"===typeof n)if(+l===+l){const i=Object.keys(n).find((e=>n[e]===+l||n[e]===l));if(i)return`${t}${this.generateExpression(e.leftHandSide,r)}.${i}`}else{const i=Object.keys(n).find((e=>n[e]===l));if(i)return`${t}${this.generateExpression(e.leftHandSide,r)}.${i}`;if(n[l]&&"function"===typeof n[l])return`${t}${this.generateExpression(e.leftHandSide,r)}.${l}()`}}return`${t}${this.generateExpression(e.leftHandSide,r)}.${l}`}generateMethodCall(e,t="",r){return`${t}${e.method.name}(${e.parameters.map((e=>this.generateExpression(e,{active:!0,type:r.type}))).join(", ")})`}generateFunctionCall(e,t="",r){return`${t}${e.name}(${e.parameters.map((e=>this.generateExpression(e,{active:!0,type:r.type}))).join(", ")})`}generateExpressionStatement(e,t,r=""){return`${this.generate(e.expression,t,r)}`}generateWhenStatement(e,t,r=""){if(e.isStageEvent&&"never"===e.name)return"";let n="";e.internal&&(n=`${r}@internal\n`);const i=e.parameters.length?`(${e.parameters.map((e=>this.generateExpression(e,t)))})`:"";return`\n${n}${r}when ${e.isStageEvent&&"ScoolcodeStage"!==t.type.name&&!this.getSymbol("SELFLESS_DEF")?"stage.":""}${e.name}${i}:\n${this.generateStatementList(e.statements,t,s+r)}`}generateIfStatement(e,t="",r){return`${t}if ${this.generateExpression(e.expression,r)}: \n${this.generateStatementList(e.statements,r,s+t)}`}generateIfElseStatement(e,t="",r){return`${t}if ${this.generateExpression(e.expression,r)}: \n${this.generateStatementList(e.statements,r,s+t)}\n${t}else: \n${this.generateStatementList(e.statementsElse,r,s+t)}\n`}generateWhileStatement(e,t="",r){return e.expression&&e.expression instanceof n.UnaryNotOperator&&!e.statements.statements.length?`${t}while ${this.generateExpression(e.expression,r)}: \n${t+s}pass`:`${t}while ${this.generateExpression(e.expression,r)}: \n${this.generateStatementList(e.statements,r,s+t)}`}generateDoWhileStatement(e,t="",r){return`${t}do {\n${this.generateStatementList(e.statements,r,s+t)}\n${t}} while(${this.generateExpression(e.expression,r)});`}generateForStatement(e,t="",r){return console.log(e),`${t}for ${e.expression1.name} in range(${this.generateExpression(e.expression1.expression,r)}, ${this.generateExpression(e.expression2.rightHandSide,r)}): \n${this.generateStatementList(e.statements,r,s+t)}`}generateForInStatement(e,t="",r){return`${t}for ${e.variableNames.join(", ")} in ${this.generateExpression(e.expression,r)}: \n${this.generateStatementList(e.statements,r,s+t)}`}generateLineCommentStatement(e,t="",r){let i=e.expression;if(e&&e.expression instanceof n.NumericLiteral){const t=e.expression.value;i=new n.LineLiteral("string"===typeof t?t:t.toString())}return`${t}#${this.generateExpression(i,r)}`}generateMultiLineCommentStatement(e,t="",r){return`\n${t}"""${this.generateExpression(e.expression,r)}"""`}generateReturnStatement(e,t="",r){return!e.expression||e.expression instanceof n.ValueLiteral&&e.expression.value instanceof n.NothingLiteralAction?`${t}return`:`${t}return ${this.generateExpression(e.expression,r)}`}generateDeleteStatement(e,t="",r){return`${t}del ${this.generateExpression(e.expression,r)}`}generatePassStatement(e,t=""){return`${t}pass`}generateBreakStatement(e,t=""){return`${t}break`}generateContinueStatement(e,t=""){return`${t}continue`}generateTypeAnnotation(e,t=":"){return e.explicit?`${t} ${e.fullNames.map((e=>(e=>{switch(e){case"ScoolcodeActor":return"actor";default:return e}})(e))).join("|")}`:""}generateBlockScopedVariableDeclaration(e,t,r=""){return e.expression?`${r}${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,t)}`:`${r}${e.name}${this.generateTypeAnnotation(e.type)} = None`}generateFunctionScopedVariableDeclaration(e,t,r=""){return e.expression&&"nothing"!==e.expression.subKind?`${r}${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,t)}`:`${r}${e.name}${this.generateTypeAnnotation(e.type)} = None`}generatePropertyDeclaration(e,t,r=""){let n="";e.internal&&(n=`${r}@internal\n`);let i=`${n}${r}${e.name}`;return e.expression?i+=`${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,t)}`:i+=`${this.generateTypeAnnotation(e.type)}${e.type.explicit?"":" = None"}`,i}generateBlockScopedVariableDeclarationExpression(e,t="",r){return e.expression?`${t}${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,r)}`:`${t}${e.name}${this.generateTypeAnnotation(e.type)} = None`}generateFunctionScopedVariableDeclarationExpression(e,t="",r){return e.expression?`${t}${e.name}${this.generateTypeAnnotation(e.type)} = ${this.generate(e.expression,r)}`:`${t}${e.name}${this.generateTypeAnnotation(e.type)} = None`}generateFunctionDeclaration(e,t,r=""){let n="";e.internal&&(n=`${r}@internal\n`),e.specification&&(n+=`${r}@block("${e.specification.text||e.specification}")\n`);const i=this.getSymbol("SELFLESS_DEF")?e.parameters:[{name:"self",ref:!1,type:a.TypeExpression.Default},...e.parameters];return`\n${n}${r}def ${e.name}(${i.map((e=>(e.ref?`ref ${e.name}`:e.name)+this.generateTypeAnnotation(e.type))).join(", ")})${this.generateTypeAnnotation(e.returnType," ->")}:\n${this.generateStatementList(e.statements,t,s+r)}`}generateStatementList(e,t,r=""){if(e.statements.length){if(!e.statements.find((e=>!(e instanceof n.WhenStatement&&"never"===e.name))))return this.generatePassStatement(null,r);let i="";for(let n=0;n<e.statements.length;n++){const o=e.statements[n];if(o){const a=this.generateStatement(o,t,r);a&&(i+=a+(n<e.statements.length-1?"\n":""))}}return e.statements.find((e=>!(e instanceof n.LineCommentStatement||e instanceof n.MultiLineCommentStatement)))?i:i+"\n"+this.generatePassStatement(null,r)}return this.generatePassStatement(null,r)}generateLiteral(e,t,r=""){if(e instanceof n.NumericLiteral)return this.generateNumericLiteral(e,r);if(e instanceof n.StringLiteral)return this.generateStringLiteral(e,r);if(e instanceof n.BooleanLiteral)return this.generateBooleanLiteral(e,r);if(e instanceof n.ArrayLiteral)return this.generateArrayLiteral(e,r,t);if(e instanceof n.NullLiteral)return this.generateNullLiteral(e,r);if(e instanceof n.NothingLiteral)return this.generateNothingLiteral(e,r);if(e instanceof n.UndefinedLiteral)return this.generateUndefinedLiteral(e,r);if(e instanceof n.LineLiteral)return this.generateLineLiteral(e,r);if(e instanceof n.TemplateStringLiteral)return this.generateTemplateStringLiteral(e,r,t);throw l(),new Error("Unsupported literal entry.")}generateStatement(e,t,r=""){if(e instanceof n.ExpressionStatement)return this.generateExpressionStatement(e,t,r);if(e instanceof n.WhenStatement)return this.generateWhenStatement(e,t,r);if(e instanceof n.IfStatement)return this.generateIfStatement(e,r,t);if(e instanceof n.IfElseStatement)return this.generateIfElseStatement(e,r,t);if(e instanceof n.ForStatement)return this.generateForStatement(e,r,t);if(e instanceof n.ForInStatement)return this.generateForInStatement(e,r,t);if(e instanceof n.WhileStatement)return this.generateWhileStatement(e,r,t);if(e instanceof n.DoWhileStatement)return this.generateDoWhileStatement(e,r,t);if(e instanceof n.BlockScopedVariableDeclaration)return this.generateBlockScopedVariableDeclaration(e,t,r);if(e instanceof n.FunctionScopedVariableDeclaration)return this.generateFunctionScopedVariableDeclaration(e,t,r);if(e instanceof n.LineCommentStatement)return this.generateLineCommentStatement(e,r,t);if(e instanceof n.MultiLineCommentStatement)return this.generateMultiLineCommentStatement(e,r,t);if(e instanceof n.FunctionDeclaration)return this.generateFunctionDeclaration(e,t,r);if(e instanceof n.DeleteStatement)return this.generateDeleteStatement(e,r,t);if(e instanceof n.ReturnStatement)return this.generateReturnStatement(e,r,t);if(e instanceof n.PassStatement)return this.generatePassStatement(e,r);if(e instanceof n.BreakStatement)return this.generateBreakStatement(e,r);if(e instanceof n.ContinueStatement)return this.generateContinueStatement(e,r);if(e instanceof n.TextureDeclaration)return this.generateTexture(e,r);if(e instanceof n.SoundDeclaration)return this.generateSound(e,r);if(e instanceof n.Record)return this.generateRecord(e,r);if(e instanceof n.UseDeclaration)return this.generateUse(e,r);if(e instanceof n.ImportStatement)return this.generateImport(e,r);if(e instanceof n.ExternalSceneDeclaration)return this.generateExternalScene(e,r);if(e instanceof n.PropertyDeclaration)return this.generatePropertyDeclaration(e,t,r);if(e instanceof n.Actor)return this.generateActor(e,r);if(e instanceof n.ActorPart)return this.generateActorPart(e,r);if(e instanceof n.StagePart)return this.generateStagePart(e,r);if(e instanceof n.Scene)return this.generateScene(e,r);throw l(),new Error("Unsupported statement entry.")}generateUnaryOperator(e,t="",r){const i=e.leftHandSide instanceof n.Operator&&(e.leftHandSide.priority<e.priority||e.leftHandSide.grouped)?`(${this.generateExpression(e.leftHandSide,r)})`:this.generateExpression(e.leftHandSide,r);if(e instanceof n.PostfixIncrementationOperator)return`${t}${i} += 1`;if(e instanceof n.PostfixDecrementationOperator)return`${t}${i} -= 1`;if(e instanceof n.UnaryNotOperator)return`${t}not ${i}`;if(e instanceof n.UnaryPlusOperator)return`${t}+${i}`;if(e instanceof n.UnaryMinusOperator)return`${t}-${i}`;if(e instanceof n.PrefixIncrementationOperator)return`${t}javascript.prefixIncrement(${i})`;if(e instanceof n.PrefixDecrementationOperator)return`${t}javascript.prefixDecrement(${i})`;if(e instanceof n.ReferenceOperator)return`${t}ref ${i}`;throw l(),new Error("Unsupported operator entry.")}generateBinaryOperator(e,t="",r){const i=e.leftHandSide instanceof n.Operator&&(e.leftHandSide.priority<e.priority||e.leftHandSide.grouped)?`(${this.generateExpression(e.leftHandSide,r)})`:this.generateExpression(e.leftHandSide,r),o=e.rightHandSide instanceof n.Operator&&(e.rightHandSide.priority<e.priority||e.rightHandSide.grouped)?`(${this.generate(e.rightHandSide,r)})`:this.generate(e.rightHandSide,r);let a=null;if(e instanceof n.MultiplicativeOperator)a="*";else if(e instanceof n.DivisiveOperator)a="/";else if(e instanceof n.ModuloOperator)a="%";else if(e instanceof n.AdditiveOperator)a="+";else if(e instanceof n.SubtractiveOperator)a="-";else if(e instanceof n.GreaterThanOperator)a=">";else if(e instanceof n.GreaterThanOrEqualsOperator)a=">=";else if(e instanceof n.LowerThanOperator)a="<";else if(e instanceof n.LowerThanOrEqualsOperator)a="<=";else if(e instanceof n.IsOperator)a="is";else if(e instanceof n.InOperator)a="in";else if(e instanceof n.NotInOperator)a="not in";else if(e instanceof n.EqualsOperator)a="==";else if(e instanceof n.NotEqualsOperator)a="!=";else if(e instanceof n.LogicalAndOperator)a="and";else if(e instanceof n.LogicalOrOperator)a="or";else if(e instanceof n.AssignmentOperator)a=e.chainable?":=":"=";else if(e instanceof n.AdditiveAssignmentOperator)a="+=";else if(e instanceof n.SubtractiveAssignmentOperator)a="-=";else if(e instanceof n.MultiplicativeAssignmentOperator)a="*=";else if(e instanceof n.DivisiveAssignmentOperator)a="/=";else if(e instanceof n.ExponentativeOperator)a="**";else{if(!(e instanceof n.IntegerDivisiveOperator))throw l(),new Error("Unsupported operator entry.");a="//"}return`${t}${i} ${a} ${o}`}generateExpression(e,t,r=""){if(e instanceof n.Identifier)return this.generateIdentifier(e,r,t);if(e instanceof n.BinaryOperator)return this.generateBinaryOperator(e,r,t);if(e instanceof n.UnaryOperator)return this.generateUnaryOperator(e,r,t);if(e instanceof n.AwaitExpression)return this.generateAwaitExpression(e,r,t);if(e instanceof n.CallMethodExpression)return this.generateMethodCall(e,r,t);if(e instanceof n.CallFunctionExpression)return this.generateFunctionCall(e,r,t);if(e instanceof n.AssignmentExpression)return this.generateAssignment(e,r,t);if(e instanceof n.DotExpression)return this.generateDot(e,r,t);if(e instanceof n.Literal)return this.generateLiteral(e,t,r);if(e instanceof n.IndexerExpression)return this.generateIndexerExpression(e,r,t);if(e instanceof n.IndexerRangeExpression)return this.generateIndexerRangeExpression(e,r,t);if(e instanceof n.BlockScopedVariableDeclaration)return this.generateBlockScopedVariableDeclarationExpression(e,r,t);if(e instanceof n.FunctionScopedVariableDeclaration)return this.generateFunctionScopedVariableDeclarationExpression(e,r,t);throw l(),new Error("Unsupported expression entry.")}generateTexture(e,t=""){const r=this.contextStack[this.contextStack.length-1];let i;!function(e){e[e.Undefined=-1]="Undefined",e[e.Costume=0]="Costume",e[e.Backdrop=1]="Backdrop",e[e.Parallax=2]="Parallax"}(i||(i={}));let o=i.Undefined;switch(r===c.Actor&&e instanceof n.CostumeDeclaration?o=i.Costume:r===c.Stage&&e instanceof n.CostumeDeclaration||e instanceof n.BackdropDeclaration?o=i.Backdrop:e instanceof n.ParallaxDeclaration&&(o=i.Parallax),o){case i.Costume:return`${t}${e.isDefault?"default ":""}costume ${e.name}("${e.path}")`;case i.Backdrop:return`${t}${e.isDefault?"default ":""}backdrop ${e.name}("${e.path}")`;case i.Parallax:return`${t}${e.isDefault?"default ":""}parallax ${e.name}:\n`+e.layers.map((e=>`${t+s}layer ${e.name} ("${e.path}", ${e.relativeSpeed})`)).join("\n");default:throw l(),new Error("Unsupported texture entry.")}}generateSound(e,t=""){return`${t}sound ${e.name}("${e.path}")`}generateRecord(e,t=""){return`${t}record ${e.name}(${e.statements.statements.map((e=>{const t=e;return t.name+this.generateTypeAnnotation(t.type)})).join(", ")})`}generateActor(e,t=""){this.contextStack.push(c.Actor);let r="";e.metadata.hidden&&(r=`${t}@internal\n`);const n=`\n${r}${t}actor ${e.name}:\n${this.generateStatementList(e.statements,{active:!0,type:e.type},t+s)}`;return this.contextStack.pop(),n}generateScene(e,t=""){this.contextStack.push(c.Stage);let r="";e.metadata.preload&&(r=`${t}@preload\n`);const n=`${t}\n${r}${t}scene ${e.name}:\n${this.generateStatementList(e.stage.statements,{active:!0,type:e.stage.type},t+s)}`;return this.contextStack.pop(),n}generateActorPart(e,t=""){let r="";return e.metadata.hidden&&(r=`${t}@internal\n`),`${t}\n${r}${t}part ${e.name} for actor:\n${this.generateStatementList(e.statements,{active:!0,type:e.type},t+s)}`}generateStagePart(e,t=""){return`${t}\n${t}part ${e.name} for stage:\n${this.generateStatementList(e.statements,{active:!0,type:e.type},t+s)}`}generateUse(e,t=""){const r=e.path?` from "${e.path}"`:"";return`${t}use ${e.name}${r}`}generateImport(e,t=""){return`${t}import ${e.name}`}generateExternalScene(e,t=""){const r=e.path?` from "${e.path}"`:"";return`${t}scene ${e.name}${r}`}generateStage(e,t=""){this.contextStack.push(c.Stage);const r=`${t}stage:\n${this.generateStatementList(e.statements,{active:!0,type:e.type},s+t)}`;return this.contextStack.pop(),r}generateApplication(e,t="",r){return[this.generateStage(e.stages[0],t),...e.parts.map((e=>this.generate(e,{active:!1,type:null},t))),...r&&r.scenes?r.scenes.filter((e=>"local"===e.kind)).map((e=>{const t="local"===e.kind?e.grammarLocal():e.grammar();return this.generate(t)})):[]].join("\n")}generate(e,t={active:!1,type:null},r="",i=null){if(e instanceof n.Literal)return this.generateLiteral(e,t,r);if(e instanceof n.Expression)return this.generateExpression(e,t,r);if(e instanceof n.StatementList)return this.generateStatementList(e,t,r);if(e instanceof n.ExternalSceneDeclaration)return this.generateExternalScene(e,r);if(e instanceof n.Scene)return this.generateScene(e,r);if(e instanceof n.Statement)return this.generateStatement(e,t,r);if(e instanceof n.Actor)return this.generateActor(e,r);if(e instanceof n.Stage)return this.generateStage(e,r);if(e instanceof n.ActorPart)return this.generateActorPart(e,r);if(e instanceof n.StagePart)return this.generateStagePart(e,r);if(e instanceof n.Application&&i)return this.generateApplication(e,r,i);throw l(),new Error("Unsupported grammar entry.")}insertAt(e,t,r,n,o,a){const l=r?s.repeat(r):i.Utils.findLastIndent(e,n),{start:c,end:p}=i.Utils.separateAt(e,n),u=this.generate(o,a,l),d=l.length,h=t?e+d+1:e;return{code:c+(t?l+"\n":"")+u+"\n"+p,range:{from:h+d+1,to:h+u.length+1}}}replaceAt(e,t,r,n){const{start:o}=i.Utils.separateAt(e.from,t),{end:a}=i.Utils.separateAt(e.to,t),s=this.generate(r,n);return{code:o+s+a,range:{from:e.from,to:e.from+s.length}}}insertInto({from:e,to:t},r,n,i,o,a=!0){console.log("insertInto",e,t);const s=t===e?e-1:e;return this.insertAt(s,a,o,r,n,i)}insertIntoAtEnd({from:e,to:t},r,n,i,o,a=!0){console.log("insertInto",e,t);const s=t===e?e-1:t-1;return this.insertAt(s,a,o,r,n,i)}insertAfter({to:e},t,r,n){return this.insertAt(e,!1,0,t,r,n)}remove(e,{from:t,to:r}){const{start:n,end:o}=i.Utils.separateAt(r,e),{start:a}=i.Utils.separateAt(t,n);return a+o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0,t.Utils={findLastIndent(e,t){const r=t.lastIndexOf("\n",e-1)+1;let n="",i=0;for(;" "==t[r+i++];)n+=" ";return n},findNextLine:(e,t)=>t.indexOf("\n",e),separateAt:(e,t)=>({start:t.substring(0,e+1),end:t.substring(e+1)}),processSelf({declaringType:e,name:t,valueType:r,blockRoot:n},{active:i,type:o}){if(i&&e){if(r&&r.name===t&&"ScoolcodeActor"===r.localeName)return"";if(e.fullLocaleName===o.fullLocaleName)return n&&"ScoolcodeStage"===e.fullLocaleName?"":"self.";if("ScoolcodeStage"===e.fullName)return"stage."}return""},processStage:({declaringType:e,name:t,blockRoot:r},{active:n,type:i})=>n&&e&&e.fullLocaleName===i.fullLocaleName?"stage.":""}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;const o=r(778),a=r(779),s=r(802),l=r(829),c=r(142);i(r(12),t);t.Parser=class{constructor(e={log:!1,validateAssetPath:()=>!0}){this._warnings=[],this.symbols={},this.options=e}setSymbol(e,t){this.symbols[e]=t;const r=c.SYMBOL_GROUPS[e];r&&r.forEach((e=>this.symbols[e]=t))}setPredefinedSymbols(e){for(let t in e)e.hasOwnProperty(t)&&this.setSymbol(t,e[t]);return this.symbols}parse(e,t){const r=new o.ParserState(new s.StatementParser(this.options),new a.ExpressionParser(this.options));if(r.setSymbols(this.symbols),r.validateAssetPath=this.options.validateAssetPath||(()=>!0),r.begin(e),t&&r.pushScope(t),r.processor.process(r),this._warnings.push(...r.warnings),r.ok){return{root:new l.ASTOptimiser(this.options).optimise(r.root)}}return this._errors=[r.lastError],null}get errors(){return this._errors}get warnings(){return this._warnings}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserState=void 0;const n=r(12),i=r(4),o=r(142);t.ParserState=class{constructor(e,t){this.index=0,this.tokens=[],this.level=[],this.stack=[],this.itemStack=[],this.preparedLeaf=null,this.scopeStack=[],this.leafStack=[],this.validateAssetPath=()=>!0,this.flags=[],this.symbols={},this.warnings=[],this.ok=!0,this.token=null,this.scope=n.ParserScope.Default,this.item=null,this.root=[],this.lastError=null,this.processor=e,this.expressionProcessor=t}setSymbols(e){this.symbols=e}setSymbol(e,t){this.symbols[e]=t;const r=o.SYMBOL_GROUPS[e];r&&r.forEach((e=>this.symbols[e]=t))}getSymbol(e){return this.symbols[e]}hasFlag(e){return this.flags.includes(e)}addFlag(e){this.flags.push(e)}removeFlag(e,t=!0){let r=this.flags.indexOf(e);for(;-1!==r;){if(this.flags.splice(r,1),!t)return;r=this.flags.indexOf(e)}}storeItem(){this.itemStack.push(this.item)}restoreItem(){this.item=this.itemStack.pop()}levelDown(e){this.stack.push(this.level),this.scopeStack.push(this.scope),this.level=this.item.items,e&&(this.scope=e)}pushScope(e){this.scopeStack.push(this.scope),e&&(this.scope=e)}levelUp(){this.level=this.stack.pop(),this.scope=this.scopeStack.pop()}hasScope(e,t=!1){if(t)return this.scope===e;if(this.scope===e)return!0;for(let r of this.scopeStack)if(r===e)return!0;return!1}hasItemInStack(e){for(const t of this.itemStack)for(const r of e)if(t.type===r||t.subtype===r)return!0;return!1}begin(e){this.tokens=e,this.token=this.tokens[this.index],this.root=[],this.level=this.root}end(e){this.token=null,e||(this.ok=!1)}hasFinished(){return this.index==this.tokens.length}prepareLeaf(e={}){return this.leafStack.push(this.item),e.items=e.items||[],this.preparedLeaf=e,this.preparedLeaf}clearLeaf(){this.preparedLeaf=null,this.item=this.leafStack.pop()}leaf(e=null){e?(this.item=e,this.level.push(this.item)):this.preparedLeaf?(this.item=this.preparedLeaf,this.preparedLeaf=null):(this.item={items:[]},this.level.push(this.item)),this.item.range||(this.token?this.item.range={line:this.token.line,char:this.token.char,from:this.token.range.from,to:this.token.range.to,inner:[]}:this.item.range={line:NaN,char:NaN,from:NaN,to:NaN,inner:[]})}removeLeaf(){this.level.pop()}closeLeafRange(){this.lookback&&(this.item.range.to=this.lookback.range.to)}openInnerRange(){this.item.range.inner||(this.item.range.inner=[]),this.item.range.inner.push({from:this.lookback.range.to,to:this.lookback.range.to})}closeInnerRange(e){if(this.item.range.inner){const t=this.item.range.inner[this.item.range.inner.length-1];t&&(e?t.to=e.range.to-1:this.lookback&&(t.to=this.lookback.range.to-1))}}get lookback(){return this.tokens[this.index-1]}get lookback2(){return this.tokens[this.index-2]}get lookahead(){return this.tokens[this.index+1]}lookBackDelta(e){if(this.index>=e)return this.tokens[this.index-e]}next(){this.token=this.tokens[++this.index]}isActor(){if(this.stack.length>0){const e=this.stack[this.stack.length-1];for(let t of e)if("actor"===t.type)return{actor:t,stage:e}}return null}getSnippet(){let e="";for(let t=this.index;t>=0;t--){if(e&&"newline"===this.tokens[t].type)return e;e=this.tokens[t].data+e}return e}error(e,...t){const r=this.token?this.token:this.lookback;return this.ok&&(this.lastError=new i.ParserError(e,this.getSnippet(),r?r.line:0,r?r.char:0,r?r.range.to-r.range.from:1,...t)),this.end(!1),!1}errorAt(e,t,...r){const n=t||this.token||this.lookback;return this.ok&&(this.lastError=new i.ParserError(e,this.getSnippet(),n?n.line:0,n?n.char:0,n?n.range.to-n.range.from:1,...r)),this.end(!1),!1}warning(e,...t){const r=this.token?this.token:this.lookback;this.ok&&this.warnings.push(new i.ParserWarning(e,this.getSnippet(),r?r.line:0,r?r.char:0,r?r.range.to-r.range.from:1,...t))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionParser=void 0;const n=[],i={},o={};function a(e){n.push(e),i[e.name]=e}var s;a(r(780)),a(r(781)),a(r(782)),a(r(783)),a(r(219)),a(r(784)),a(r(785)),a(r(786)),a(r(787)),a(r(788)),a(r(789)),a(r(790)),a(r(791)),a(r(792)),a(r(793)),a(r(794)),a(r(795)),a(r(796)),a(r(797)),a(r(798)),a(r(799)),a(r(800)),s=r(801),o[s.name]=s.value;t.ExpressionParser=class{constructor(e={log:!1}){this.enableLog=!1,this.indentLevel=0,this.enableLog=e.log}indent(e){return new Array(e).join(" ")}log(e){this.enableLog&&console.log(e)}token(e,t){return this.tokenInternal(e,t)}tokenInternal(e,t){var r;let n,a;"string"===typeof t&&(t=o[r=t]||[r]);for(let o of t){if(a=i[o],!a)return e.error("MISS_PROC",o),!1;if(a.canProcess(e))return this.log(this.indent(++this.indentLevel)+" > "+a.name),n=a.process(e),this.log(this.indent(this.indentLevel--)+" < "+a.name+" ("+n+")"),!!e.ok&&n}return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i="[",o="]",a=",",s={isArrayStart:e=>e.token&&e.token.type===i,isArrayEnd:e=>e.token&&e.token.type===o,isSeparator:e=>e.token&&e.token.type===a},l={array(e){for(e.next(),e.storeItem(),e.levelDown(n.ParserScope.Value);e.token&&!s.isArrayEnd(e);)if(e.expressionProcessor.token(e,["parenthesizedAssignment"]))s.isSeparator(e)&&e.next();else{if(!s.isSeparator(e))return!1;e.next()}return e.levelUp(),e.restoreItem(),e.closeLeafRange(),e.next(),!0}};e.exports={name:"array",canProcess:e=>s.isArrayStart(e),process:e=>(e.leaf(),e.item.type="literal",e.item.subtype="array",l.array(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i={separatorCharacter:",",operators:["=","*=","/=","+=","-="],illegalOperator:":="},o={isOperator:e=>e.token&&-1!==i.operators.indexOf(e.token.type),isIllegalOperator:e=>e.token&&e.token.type===i.illegalOperator,isSeparator:e=>e.token&&e.token.type===i.separatorCharacter},a={separator:e=>!!o.isSeparator(e)&&(e.next(),!0),conditional:e=>e.expressionProcessor.token(e,["conditional"]),leftHandSide:e=>e.expressionProcessor.token(e,["lefthandside"]),operator(e,t){var r,n;return!!o.isOperator(e)&&(t.subtype=e.token.type,"="===t.subtype&&"identifier"===(null===(n=null===(r=t.items[0])||void 0===r?void 0:r.items[0])||void 0===n?void 0:n.type)&&(t.options=t.options||{},t.options.mightBeDeclaration=!0,t.items[0].items[0].options={mightBeDeclaration:!0}),e.next(),!0)},assignment(e){e.leaf(),e.item.type="assignment";const t=e.item;if(e.levelDown(n.ParserScope.Assignment),!a.conditional(e))return!1;if(o.isOperator(e)){e.levelUp();let r=null,n=t;for(;1===n.items.length;)if(n=n.items[0],"lefthandside"===n.type||"dot"===n.type){r=n;break}if(!r)return!1;if(t.items=[r],t.range.from=r.range.from,t.range.line=r.range.line,t.range.char=r.range.char,e.item=t,e.levelDown(),!a.operator(e,t))return!1;if(!a.conditional(e))return!1}else if(o.isIllegalOperator(e))return e.error("MISSING_GROUP_ASSIGNMENT_CHAINING"),!1;return e.levelUp(),e.item=t,e.closeLeafRange(),!0}};e.exports={name:"assignment",canProcess:()=>!0,process:e=>a.assignment(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i={separatorCharacter:",",operators:["="],illegalOperators:[":=","*=","/=","+=","-="],chainOperator:":="},o={isOperator:e=>e.token&&-1!==i.operators.indexOf(e.token.type),isIllegalOperator:e=>e.token&&-1!==i.illegalOperators.indexOf(e.token.type),isSeparator:e=>e.token&&e.token.type===i.separatorCharacter,isChainOperator:e=>e.token&&e.token.type===i.chainOperator},a={separator:e=>!!o.isSeparator(e)&&(e.next(),!0),conditional:e=>e.expressionProcessor.token(e,["conditional"]),leftHandSide:e=>e.expressionProcessor.token(e,["lefthandside"]),operator(e,t){var r,n;return!!o.isOperator(e)&&(t.subtype=e.token.type,"="===t.subtype&&"identifier"===(null===(n=null===(r=t.items[0])||void 0===r?void 0:r.items[0])||void 0===n?void 0:n.type)&&(t.options=t.options||{},t.options.mightBeDeclaration=!0,t.items[0].items[0].options={mightBeDeclaration:!0}),e.next(),!0)},assignment(e){e.leaf(),e.item.type="assignment";const t=e.item;if(e.levelDown(n.ParserScope.Assignment),!a.conditional(e))return!1;if(o.isOperator(e)){e.levelUp();let r=null,n=t;for(;1===n.items.length;)if(n=n.items[0],"lefthandside"===n.type||"dot"===n.type){r=n;break}if(!r)return!1;if(t.items=[r],t.range.from=r.range.from,t.range.line=r.range.line,t.range.char=r.range.char,e.item=t,e.levelDown(),!a.operator(e,t))return!1;if(!a.conditional(e))return!1}else if(o.isIllegalOperator(e))return o.isChainOperator(e)?e.error("MISSING_GROUP_ASSIGNMENT_CHAINING"):e.error("INVALID_ASSIGNMENT_CHAINING"),!1;return e.levelUp(),e.item=t,e.closeLeafRange(),!0}};e.exports={name:"chainableAssignment",canProcess:()=>!0,process:e=>a.assignment(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i={separatorCharacter:",",chainOperator:":=",assignmentOperator:"=",illegalOperators:["=","*=","/=","+=","-="]},o={isOperator:e=>e.token&&e.token.type===i.chainOperator,isIllegalOperator:e=>e.token&&-1!==i.illegalOperators.indexOf(e.token.type)},a={conditional:e=>e.expressionProcessor.token(e,["conditional"]),leftHandSide:e=>e.expressionProcessor.token(e,["lefthandside"]),operator:(e,t)=>o.isOperator(e)?(t.subtype=i.assignmentOperator,t.options={chainable:!0},e.next(),!0):!!o.isIllegalOperator(e)&&(e.error("INVALID_ASSIGNMENT_CHAINING"),!1),chainableAssignment(e){e.leaf(),e.item.type="assignment";const t=e.item;if(e.levelDown(n.ParserScope.Assignment),!a.conditional(e))return!1;if(o.isOperator(e)||o.isIllegalOperator(e)){e.levelUp();let r=null,n=t;for(;1===n.items.length;)if(n=n.items[0],"lefthandside"===n.type||"dot"===n.type){r=n;break}if(!r)return!1;if(t.items=[r],t.range.from=r.range.from,t.range.line=r.range.line,t.range.char=r.range.char,e.item=t,e.levelDown(),!a.operator(e,t))return!1;if(!a.chainableAssignment(e))return!1}return e.levelUp(),e.item=t,e.closeLeafRange(),!0}};e.exports={name:"parenthesizedAssignment",canProcess:()=>!0,process:e=>a.chainableAssignment(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={logicalOR:e=>e.expressionProcessor.token(e,["logicalOR"])};e.exports={name:"conditional",canProcess:()=>!0,process:e=>(e.leaf(),e.item.type="conditional",e.storeItem(),e.levelDown(),!!n.logicalOR(e)&&(e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),i=["==","!=","is","in",["not","in"]],o=["<",">","<=",">="],a=["-"],s=["+"],l=["*","/","%","//"],c=["**"],p={isTokenTypeEqualsWithAny(e,t){if(!e.token)return!1;for(let r of t)if("string"===typeof r){if(e.token.data===r)return r}else if(e.token.data===r[0]&&e.lookahead.data===r[1])return e.next(),`${r[0]}_${r[1]}`;return!1}},u={token(e,t){const r=p.isTokenTypeEqualsWithAny(e,t);return!!r&&(e.leaf(),e.item.type="operator",e.item.subtype=r,e.next(),!0)},processWhile(e,t,r){e.storeItem(),e.levelDown();do{if(!r(e))return e.error(n.constants.missingExpression),!1}while(u.token(e,t));return"keyword"===e.token.type&&"is"===e.token.data?(e.error("CURRENTLY_UNSUPPORTED",e.token.data),!1):(e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0)},unary:e=>e.expressionProcessor.token(e,["unary"]),exponentative:e=>(e.leaf(),e.item.type="exponentative",e.item.options={expectedType:"number"},u.processWhile(e,c,u.unary)),multiplicative:e=>(e.leaf(),e.item.type="multiplicative",e.item.options={stringReplication:!0},u.processWhile(e,l,u.exponentative)),subtractive:e=>(e.leaf(),e.item.type="subtractive",e.item.options={expectedType:"number"},u.processWhile(e,a,u.multiplicative)),additive:e=>(e.leaf(),e.item.type="additive",e.item.options={arrayConcatenation:!0},u.processWhile(e,s,u.subtractive)),relational:e=>(e.leaf(),e.item.type="relational",e.item.options={expectedType:"number"},u.processWhile(e,o,u.additive)),equality:e=>(e.leaf(),e.item.type="equality",e.item.options={strictTypeCheck:"python"},u.processWhile(e,i,u.relational))};e.exports={name:"equality",canProcess:()=>!0,process:e=>u.equality(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={assignment:e=>e.expressionProcessor.token(e,["assignment"])};e.exports={name:"expression",canProcess:()=>!0,process:e=>(e.leaf(),e.item.type="expression",e.storeItem(),e.levelDown(),!!n.assignment(e)&&(e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={assignment:e=>e.expressionProcessor.token(e,["parenthesizedAssignment"])};e.exports={name:"parenthesizedExpression",canProcess:()=>!0,process:e=>(e.leaf(),e.item.type="expression",e.storeItem(),e.levelDown(),!!n.assignment(e)&&(e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={assignment:e=>e.expressionProcessor.token(e,["parenthesizedAssignment"])};e.exports={name:"chainableExpression",canProcess:()=>!0,process:e=>(e.leaf(),e.item.type="expression",e.storeItem(),e.levelDown(),!!n.assignment(e)&&(e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="def",i={isDef:e=>e.token&&"keyword"===e.token.type&&e.token.data===n};e.exports={name:"def",canProcess(e){i.isDef(e)},process:e=>e.error("FUNC_EXPR")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="(",i=")",o={isSegmentStart:e=>e.token&&e.token.type===n,isSegmentEnd:e=>e.token&&e.token.type===i},a={group:e=>(e.next(),o.isSegmentEnd(e)?(e.next(),!0):(e.item.items.push(e.prepareLeaf()),e.expressionProcessor.token(e,["chainableExpression"]),e.clearLeaf(),!!o.isSegmentEnd(e)&&(e.next(),e.closeLeafRange(),!0)))};e.exports={name:"group",canProcess:e=>o.isSegmentStart(e),process:e=>(e.leaf(),e.item.type="group",a.group(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i={isIdentifier:e=>e.token&&"identifier"===e.token.type};e.exports={name:"identifier",canProcess:e=>i.isIdentifier(e),process(e){const t=e.hasScope(n.ParserScope.When),r=e.hasScope(n.ParserScope.Function),i=e.getSymbol("IMPLICIT_PROPERTY_ACCESS");return e.getSymbol("UNRESTRICTED_PROPERTY_INIT")||t||r?(e.leaf(),e.item.type="identifier",e.item.subtype=e.token.subtype||(i?void 0:"explicit"),e.item.name=e.token.data,e.next(),e.closeLeafRange(),!0):e.error("PROPERTY_INIT",e.token.data)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=",",i="(",o=")",a="[",s="]",l=".",c="{",p={isDot:e=>e.token&&e.token.type===l,isArgumentsStart:e=>e.token&&e.token.type===i,isBlockStart:e=>e.token&&e.token.type===c,isArgumentsEnd:e=>e.token&&e.token.type===o,isIndexerStart:e=>e.token&&e.token.type===a,isIndexerEnd:e=>e.token&&e.token.type===s,isIdentifier:e=>e.token&&"identifier"===e.token.type,isKeyword:e=>e.token&&"keyword"===e.token.type,isArgumentSeparator:e=>e.token&&e.token.data===n},u={dot(e,t){if(e.next(),p.isIdentifier(e)||p.isKeyword(e)){const r={leaf:e.prepareLeaf({items:[t.leaf]})};return e.leaf(),e.item.range.from=t.leaf.range.from,e.item.range.line=t.leaf.range.line,e.item.range.char=t.leaf.range.char,e.item.type="dot",e.storeItem(),e.levelDown(),e.leaf(),e.item.type="lefthandside",e.item.subtype="call",e.storeItem(),e.levelDown(),e.expressionProcessor.token(e,["identifier"])||e.expressionProcessor.token(e,["keyword"])?(u.memberExpressionEnd(e,r),e.levelUp(),e.restoreItem(),e.closeLeafRange(),e.levelUp(),e.restoreItem(),e.closeLeafRange(),t.leaf=r.leaf,e.clearLeaf(),!0):!1}return!1},indexer(e,t){e.leaf(),e.item.type="indexer",e.item.options={negativeIndices:!0,validateIndices:!0};const r=e.item;if(e.next(),e.storeItem(),e.levelDown(),":"===e.token.type){if(r.type="indexer-range",r.items.push(null),e.next(),p.isIndexerEnd(e))r.items.push(null),e.next();else if(!e.expressionProcessor.token(e,["parenthesizedExpression"]))return!1}else{if(!e.expressionProcessor.token(e,["parenthesizedExpression"]))return!1;if(":"===e.token.type)if(r.type="indexer-range",e.next(),p.isIndexerEnd(e))r.items.push(null),e.next();else if(!e.expressionProcessor.token(e,["parenthesizedExpression"]))return!1}return e.levelUp(),e.restoreItem(),!!p.isIndexerEnd(e)&&(e.next(),e.closeLeafRange(),!p.isIndexerStart(e)&&!p.isDot(e)||u.indexerNested(e,t))},indexerNested(e,t){const r=p.isDot(e),n={leaf:e.prepareLeaf({items:[t.leaf]})};return e.leaf(),e.item.range.from=t.leaf.range.from,e.item.range.line=t.leaf.range.line,e.item.range.char=t.leaf.range.char,e.item.type="lefthandside",e.item.subtype="call",e.storeItem(),e.levelDown(),r?u.dot(e,n):u.indexer(e,n),e.levelUp(),e.restoreItem(),e.closeLeafRange(),t.leaf=n.leaf,e.clearLeaf(),!0},argumentItem:e=>!!e.expressionProcessor.token(e,["parenthesizedAssignment"])&&(p.isArgumentSeparator(e)?(e.next(),!0):p.isArgumentsEnd(e)),arguments(e){for(e.leaf(),e.item.type="arguments",e.next(),e.storeItem(),e.levelDown();!p.isArgumentsEnd(e);)if(!u.argumentItem(e))return!1;return e.levelUp(),e.restoreItem(),e.next(),e.closeLeafRange(),!0},memberExpressionEnd(e,t){if(p.isDot(e)){if(u.dot(e,t))return!0}else if(p.isIndexerStart(e)){if(e.lookback&&e.lookback.type===o)return u.indexerNested(e,t);if(u.indexer(e,t))return!0}else if(p.isArgumentsStart(e)&&u.arguments(e))return u.memberExpressionEnd(e,t),!0;return!1},memberExpression:(e,t)=>!!e.expressionProcessor.token(e,"primary")&&(u.memberExpressionEnd(e,t),!0),lefthandside(e){const t={leaf:e.prepareLeaf()};return e.leaf(),e.item.type="lefthandside",e.item.subtype="call",e.storeItem(),e.levelDown(),!!u.memberExpression(e,t)&&(e.levelUp(),e.restoreItem(),t.leaf.range.to=e.item.range.to,e.clearLeaf(),e.leaf(t.leaf),!0)}};e.exports={name:"lefthandside",canProcess:()=>!0,process:e=>u.lefthandside(e)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const validators={isLiteral:e=>e.token&&"literal"===e.token.type},utils={mathematicalValue(value){return eval(value)},literal:e=>(e.item.type="literal",e.item.subtype=e.token.subtype,"number"==e.token.subtype?e.item.value=utils.mathematicalValue(e.token.data):"boolean"===e.token.subtype?e.item.value=e.token.data.toLowerCase():("None"===e.token.data&&(e.item.options={base:"dynamic"}),e.item.value=e.token.data),e.next(),e.closeLeafRange(),!0)};module.exports={name:"literal",canProcess:e=>validators.isLiteral(e),process:e=>(e.leaf(),utils.literal(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i={isFStringStart:e=>e.token&&"f-string"===e.token.type&&"start"===e.token.subtype,isFStringEnd:e=>e.token&&("newline"===e.token.type||"f-string"===e.token.type&&"end"===e.token.subtype),isReplacementStart:e=>e.token&&"f-string"===e.token.type&&"{"===e.token.subtype,isReplacementEnd:e=>e.token&&("newline"===e.token.type||"f-string"===e.token.type&&"}"===e.token.subtype)},o={fString(e){for(e.item.type="literal",e.item.subtype="template-string",e.next(),e.levelDown(n.ParserScope.Value);!i.isFStringEnd(e);)if(i.isReplacementStart(e)&&e.next(),e.expressionProcessor.token(e,["expression"]))i.isReplacementEnd(e)&&e.next();else{if(!e.token)return e.error("INVALID_REPLACEMENT");i.isReplacementEnd(e)&&e.next()}return e.levelUp(),e.next(),e.closeLeafRange(),!0}};e.exports={name:"f-string",canProcess:e=>i.isFStringStart(e),process:e=>(e.leaf(),o.fString(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="or",i="and",o={isTokenTypeEquals:(e,t)=>e.token&&(e.token.type===t||"keyword"===e.token.type&&e.token.data===t)},a={token:(e,t)=>!!o.isTokenTypeEquals(e,t)&&(e.next(),!0),processWhile(e,t,r){e.storeItem(),e.levelDown();do{if(!r(e))return!1}while(a.token(e,t));return e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0},equality:e=>e.expressionProcessor.token(e,["equality"]),logicalAND:e=>(e.leaf(),e.item.type="logical",e.item.subtype="and",a.processWhile(e,i,a.equality)),logicalOR:e=>(e.leaf(),e.item.type="logical",e.item.subtype="or",a.processWhile(e,n,a.logicalAND))};e.exports={name:"logicalOR",canProcess:()=>!0,process:e=>a.logicalOR(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="{",i={isObjectStart:e=>e.token&&e.token.type===n};e.exports={name:"object",canProcess:e=>i.isObjectStart(e),process:e=>e.error("OBJ_LITERAL")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="stage",i={isStage:e=>e.token&&"keyword"===e.token.type&&e.token.data===n};e.exports={name:"stage",canProcess:e=>i.isStage(e),process:e=>(e.leaf(),e.item.type="stage",e.next(),e.closeLeafRange(),!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="self",i={isThis:e=>e.token&&"keyword"===e.token.type&&e.token.data===n};e.exports={name:"this",canProcess:e=>i.isThis(e),process:e=>(e.leaf(),e.item.type="this",e.next(),e.closeLeafRange(),!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={prefixPunctuations:["+","-"],ref:"ref",not:"not"},i={isPrefix(e){if(e.token&&e.token.type===e.token.data){for(let t of n.prefixPunctuations)if(e.token.type===t)return!0}else{if(e.token&&"keyword"==e.token.type&&e.token.data==n.ref)return!0;if(e.token&&"keyword"==e.token.type&&e.token.data==n.not)return!0}return!1}},o={lefthandside:(e,t=!0)=>!!e.token&&(t&&e.leaf(),e.storeItem(),e.levelDown(),!!e.expressionProcessor.token(e,["lefthandside"])&&(e.levelUp(),e.restoreItem(),!0)),unary(e){if(!e.token)return!1;e.leaf(),e.item.type="unary";let t=e.token.line;if(i.isPrefix(e)){if(e.item.subtype=e.token.data,e.next(),e.storeItem(),e.levelDown(),t=e.token.line,!o.unary(e))return!1;if(e.levelUp(),e.restoreItem(),n.prefixPunctuations.includes(e.item.subtype)&&"="===e.token.data&&e.token.line===t)return!1}else{if(e.storeItem(),e.levelDown(),!o.lefthandside(e))return!1;e.levelUp(),e.restoreItem()}return e.closeLeafRange(),!0}};e.exports={name:"unary",canProcess:()=>!0,process:e=>o.unary(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(69),o=r(20),a={isIdentifier:e=>e.token&&"identifier"===e.token.type},s={name:e=>!!a.isIdentifier(e)&&(e.item.name=e.token.data,e.next(),!0)};e.exports={name:"variableDeclarationNoValue",canProcess:e=>a.isIdentifier(e),process:e=>(e.leaf(),e.item.type="variableDeclarationList",e.item.scope="local",e.storeItem(),e.levelDown(),e.leaf(),e.item.type="variableDeclaration",e.item.options={mightBeAssignment:!0},!!s.name(e)&&(i.validateName(e.item.name)||e.hasScope(n.ParserScope.Function)||e.hasScope(n.ParserScope.When)?(e.levelUp(),e.restoreItem(),e.closeLeafRange(),!0):(e.error(o.constants.wrongVariableName,e.item.name),!1)))}},function(e,t){e.exports={name:"primary",value:["identifier","literal","array","object","this","stage","group","f-string"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatementParser=void 0;const n=[],i={},o={};function a(e,t){t.name=e,t.tokenType&&(i[t.tokenType]=t),n.push(t),o[e]=t}a("actor",r(803)),a("asm",r(804)),a("default",r(805)),a("backdrop",r(806)),a("parallax",r(807)),a("comment",r(219)),a("costume",r(808)),a("sound",r(809)),a("for",r(810)),a("def",r(811)),a("if",r(812)),a("pass",r(813)),a("delete",r(814)),a("return",r(815)),a("break",r(816)),a("continue",r(817)),a("stage",r(818)),a("variable",r(819)),a("when",r(820)),a("while",r(821)),a("attribute",r(822)),a("import",r(823)),a("use",r(824)),a("part",r(825)),a("record",r(826)),a("invalid_indent",r(827)),a("expression",r(828));t.StatementParser=class{constructor(e={log:!1}){this.enableLog=!1,this.enableLog=e.log}log(e){this.enableLog&&console.log(e)}token(e){if(e.token){const t="keyword"===e.token.type?"keyword/"+e.token.data:e.token.type;let r=i[t];if(r)return this.log(r.name+" ========================================================"),r.process(e);for(r of n)if(r.canProcess(e))return this.log(r.name+" ========================================================"),r.process(e);e.error("INVALID_TOKEN",JSON.stringify(e.token))}}process(e){for(;;){if(!e.token)return e.end(!0),!0;if(this.token(e),!e.ok)return!1}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.utils,a=i.validators;e.exports={tokenType:"keyword/actor",canProcess:e=>e.token&&"keyword"===e.token.type&&"actor"===e.token.data,process(e){if(!e.hasScope(n.ParserScope.Stage,!0))return e.error("ACTOR_STAGE");if(e.hasScope(n.ParserScope.When))return e.error("ACTOR_WHEN");if(e.hasScope(n.ParserScope.Part))return e.error("ACTOR_STAGE");let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.attributes=t,e.item.type="actor",e.next(),a.isDoubleDot(e))e.next();else{if(!o.name(e))return void e.error("ACTOR_NAME");if(!o.doubleDot(e))return!1}o.implicitBlock(e,n.ParserScope.Actor),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={_asm(e){e.next()},text(e){"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value=e.token.data,e.next()):e.error("ASM")}};e.exports={tokenType:"keyword/asm",canProcess:e=>e.token&&"keyword"==e.token.type&&"asm"==e.token.subtype,process(e){e.leaf(),e.item.type="asm",n._asm(e),n.text(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators;i.utils.extend({equalSign:e=>!!o.isEqualSign(e)&&(e.next(),!0),string(e){if(!e.token||"literal"!=e.token.type||"string"!=e.token.subtype)return e.error("COSTUME_PATH");e.item.value={url:e.token.data},e.next()},size(e){let t=!1;if(o.isColon(e)&&(e.next(),t=!0),!o.isLiteral(e))return t?(e.error("INVALID_CENTER"),!1):(e.item.value.width=.5,e.item.value.height=.5,e.item.value.resolution=1,!0);if("number"==e.token.subtype)e.item.value.width=e.token.data/100,e.next(),e.token&&"%"==e.token.type&&e.next();else{if("string"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;switch(e.token.data){case"left":case"start":e.item.value.width=0;break;case"right":case"end":e.item.value.width=1;break;case"center":case"middle":e.item.value.width=.5;break;default:return e.error("INVALID_CENTER"),!1}e.next()}if(o.isColon(e)){if(e.next(),!o.isLiteral(e))return e.error("INVALID_CENTER"),!1;if("number"==e.token.subtype)e.item.value.height=e.token.data/100,e.next(),e.token&&"%"==e.token.type&&e.next();else{if("string"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;switch(e.token.data){case"top":case"up":e.item.value.height=0;break;case"bottom":case"down":e.item.value.height=1;break;case"center":case"middle":e.item.value.height=.5;break;default:return e.error("INVALID_CENTER"),!1}e.next()}}else e.item.value.height=e.item.value.width+0;if(o.isColon(e)){if(e.next(),!e.token||"literal"!=e.token.type||"number"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;e.item.value.resolution=e.token.data,e.next()}else e.item.value.resolution=1;return!0}});e.exports={tokenType:"keyword/default",canProcess:e=>e.token&&"identifier"===e.token.type&&"default"===e.token.data,process(e){if(e.hasScope(n.ParserScope.When))return e.error("COSTUME_WHEN");if(!e.hasScope(n.ParserScope.Actor,!0)&&!e.hasScope(n.ParserScope.Stage,!0))return e.error("COSTUME_ACTOR");let t=[];e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.next(),e.leaf(),e.item.default=!0,e.prepareLeaf(e.item),e.processor.token(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=r(20).utils.extend({string:(e,t=!1)=>e.token&&"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value=e.token.data,t&&!e.validateAssetPath("backdrop",e.token.data)&&e.warning("COSTUME_PATH",e.token.data,e.item.name,"backdrop"),e.next(),!0):(e.error("COSTUME_PATH"),!1)});e.exports={tokenType:"keyword/backdrop",canProcess(e){const t=e.lookahead;return e.token&&"identifier"===e.token.type&&("scene"===e.token.data||"backdrop"===e.token.data)&&(!t||"."!==t.type)},process(e){if(e.hasScope(n.ParserScope.When))return e.error("SCENE_WHEN");if(e.hasScope(n.ParserScope.Part))return e.error("SCENE_STAGE");let t=[];e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf();const r=e.item;if(e.item.type="costume",e.item.subtype="backdrop",e.next(),!o.name(e))return e.error("COSTUME_NAME"),!1;if(o.segmentStart(e,!0)){if(!e.hasScope(n.ParserScope.Stage,!0))return e.error("SCENE_STAGE");if(!o.string(e,!0))return!1;o.segmentEnd(e),o.endOfLine(e)}else if(r.attributes=t,r.type="scene",i.validators.isDoubleDot(e)){if(e.hasScope(n.ParserScope.Stage,!0)?r.subtype="embedded":r.subtype="part",!o.doubleDot(e))return!1;o.implicitBlock(e,n.ParserScope.Scene,n.ParserScope.Stage)}else{if(!e.hasScope(n.ParserScope.Stage,!0)&&e.hasScope(n.ParserScope.Stage,!1))return e.error("SCENE_STAGE");if(i.validators.isFrom(e)){if(r.subtype="external",e.next(),!o.string(e))return!1}else r.subtype="local";o.endOfLine(e)}e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=r(20),a=o.validators,s=o.utils.extend({layer_(e){e.next()},stringListItems(e){for(e.levelDown(n.ParserScope.Asset);e.token&&!a.isDedent(e);){const t={name:"",path:"",relativeSpeed:100};if(a.isLayer(e)?s.layer_(e):e.error("LAYER_KEYWORD"),a.isIdentifier(e)&&(t.name=e.token.data,e.next()),a.isSegmentStart(e)){if(e.next(),!e.token||"literal"!==e.token.type||"string"!==e.token.subtype)return e.error("LAYER_PATH"),!1;if(t.path=e.token.data,e.next(),a.isColon(e)){if(e.next(),!e.token||"literal"!==e.token.type||"number"!==e.token.subtype)return e.error("LAYER_SPEED"),!1;t.relativeSpeed=e.token.data,e.next()}s.segmentEnd(e)}else if(e.token&&"literal"===e.token.type&&"string"===e.token.subtype)t.path=e.token.data,e.next();else{if(!e.token||"newline"!==e.token.type)return e.error("LAYER_PATH"),!1;e.next()}if(e.item.value.push(t),!e.token||"newline"!==e.token.type){e.error("UNEXPECTED_TOKEN");break}e.next()}e.levelUp()},stringList(e){if(e.item.value=[],a.isNewLine(e)){if(e.next(),!a.isIndent(e))return e.error(i.constants.expectedIndent);e.next(),s.stringListItems(e),e.next()}else s.stringListItems(e),s.endOfLine(e)}});e.exports={tokenType:"keyword/parallax",canProcess:e=>e.token&&"identifier"===e.token.type&&"parallax"===e.token.data,process:e=>e.hasScope(n.ParserScope.When)?e.error("SCENE_WHEN"):e.hasScope(n.ParserScope.Stage,!0)?(e.leaf(),e.item.type="costume",e.item.subtype="parallax",e.next(),s.name(e)?!!s.doubleDot(e)&&(s.stringList(e),void e.closeLeafRange()):(e.error("COSTUME_NAME"),!1)):e.error("SCENE_STAGE")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.utils.extend({equalSign:e=>!!o.isEqualSign(e)&&(e.next(),!0),string:e=>e.token&&"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value={url:e.token.data},e.validateAssetPath("costume",e.token.data)||e.warning("COSTUME_PATH",e.token.data,e.item.name,"costume"),e.next(),!0):(e.error("COSTUME_PATH"),!1),size(e){let t=!1;if(o.isColon(e)&&(e.next(),t=!0),!o.isLiteral(e))return t?(e.error("INVALID_CENTER"),!1):(e.item.value.width=.5,e.item.value.height=.5,e.item.value.resolution=1,!0);if("number"==e.token.subtype)e.item.value.width=e.token.data/100,e.next(),e.token&&"%"==e.token.type&&e.next();else{if("string"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;switch(e.token.data){case"left":case"start":e.item.value.width=0;break;case"right":case"end":e.item.value.width=1;break;case"center":case"middle":e.item.value.width=.5;break;default:return e.error("INVALID_CENTER"),!1}e.next()}if(o.isColon(e)){if(e.next(),!o.isLiteral(e))return e.error("INVALID_CENTER"),!1;if("number"==e.token.subtype)e.item.value.height=e.token.data/100,e.next(),e.token&&"%"==e.token.type&&e.next();else{if("string"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;switch(e.token.data){case"top":case"up":e.item.value.height=0;break;case"bottom":case"down":e.item.value.height=1;break;case"center":case"middle":e.item.value.height=.5;break;default:return e.error("INVALID_CENTER"),!1}e.next()}}else e.item.value.height=e.item.value.width+0;if(o.isColon(e)){if(e.next(),!e.token||"literal"!=e.token.type||"number"!=e.token.subtype)return e.error("INVALID_CENTER"),!1;e.item.value.resolution=e.token.data,e.next()}else e.item.value.resolution=1;return!0}});e.exports={tokenType:"keyword/costume",canProcess:e=>e.token&&"identifier"===e.token.type&&"costume"===e.token.data,process(e){if(e.hasScope(n.ParserScope.When))return e.error("COSTUME_WHEN");if(!e.hasScope(n.ParserScope.Actor,!0)&&!e.hasScope(n.ParserScope.Stage,!0))return e.error("COSTUME_ACTOR");let t=[];return e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.attributes=t,e.item.type="costume",e.item.subtype="costume",e.next(),a.name(e)?(a.segmentStart(e),!!a.string(e)&&(a.size(e),a.segmentEnd(e),a.endOfLine(e),void e.closeLeafRange())):(e.error("COSTUME_NAME"),!1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.utils.extend({equalSign:function(e){return!!o.isEqualSign(e)&&(e.next(),!0)},string:function(e){return e.token&&"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value=e.token.data,e.validateAssetPath("sound",e.token.data)||e.warning("SOUND_PATH",e.token.data,e.item.name,"sound"),e.next(),!0):(e.error("SOUND_PATH"),!1)}});e.exports={tokenType:"keyword/sound",canProcess:e=>e.token&&"identifier"===e.token.type&&"sound"===e.token.data,process:function(e){return e.hasScope(n.ParserScope.When)?e.error("SOUND_WHEN"):e.hasScope(n.ParserScope.Actor,!0)||e.hasScope(n.ParserScope.Stage,!0)?(e.leaf(),e.item.type="sound",e.next(),a.name(e)?(a.segmentStart(e),!!a.string(e)&&(a.segmentEnd(e),a.endOfLine(e),void e.closeLeafRange())):(e.error("SOUND_NAME"),!1)):e.error("SOUND_ACTOR")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({for_(e){e.next()},in_(e){e.next()},variableList(e,t){const r=e.prepareLeaf();for(t.items.push(r),r.type="variable-list",e.clearLeaf();o.isIdentifier(e);){if(r.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["variableDeclarationNoValue"]))return e.error("MISSING_VARIABLE");if(e.clearLeaf(),!o.isColon(e))break;e.next()}},expression(e,t){if(t.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["expression"]))return e.error(a.missingExpression);e.clearLeaf()}});e.exports={tokenType:"keyword/"+a.forKeyword,canProcess:e=>o.isFor(e),process(e){if(!e.hasScope(n.ParserScope.When))return e.error("ONLY_IN_WHEN");e.leaf(),e.item.type="iteration",e.item.subtype="forin";const t=e.item;return s.for_(e),o.isIdentifier(e)?(s.variableList(e,t),o.isIn(e)?(s.in_(e),s.expression(e,t),!!s.doubleDot(e)&&(s.block(e,n.ParserScope.Iteration),void e.closeLeafRange())):e.error("MISSING_IN")):e.error("MISSING_VARIABLE")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(69),o=r(20),a=o.validators,s=o.constants,l=o.utils.extend({parameterList(e){if(!a.isSegmentStart(e))return e.error("FUNCTION_PARAMS");e.next(),e.storeItem(),e.levelDown(),e.leaf(),e.item.type="parameterList",e.storeItem(),e.levelDown();if(e.getSymbol("SELFLESS_DEF"))"self"===e.token.data&&(e.next(),a.isParameterSeparator(e)&&e.next());else{if(!a.isKeyword(e)&&!a.isIdentifier(e)||"self"!==e.token.data)return e.error("MISSING_SELF_PARAMETER"),!1;e.next(),a.isParameterSeparator(e)&&e.next()}for(;a.isIdentifier(e)||a.isRef(e);){let t=!1;if(a.isRef(e)&&(t=!0,e.next(),!a.isIdentifier(e)))return e.error("INVALID_REF");if(e.leaf(),e.item.type="parameter",e.item.name=e.token.data,e.item.ref=t,e.next(),a.isDoubleDot(e)&&!l.typeAnnotation(e))return!1;if(!a.isParameterSeparator(e)){if(a.isSegmentEnd(e))break;return e.error("MISSING_SEGMENT_END")}e.next()}return e.levelUp(),e.restoreItem(),e.item.items.length&&e.closeLeafRange(),e.levelUp(),e.restoreItem(),a.isSegmentEnd(e)?(e.next(),!0):e.error("MISSING_SEGMENT_END")}});e.exports={tokenType:"keyword/"+s.defKeyword,canProcess:e=>a.isDef(e),process(e){if(e.hasScope(n.ParserScope.When))return e.error("FUNCTION_WHEN");let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.attributes=t,e.item.type="function",e.next(),!l.name(e))return void e.error(s.wrongFunctionName,e.token.data);if(!i.validateName(e.item.name))return void e.error(s.wrongFunctionName,e.item.name);if(!l.parameterList(e))return!1;if("->"===e.token.type){if(e.next(),!a.isIdentifier(e)&&!a.isKeyword(e))return e.error("MISSING_RETURN_TYPE_ANNOTATION");e.item.subtype=e.token.data,e.next()}if(!l.doubleDot(e))return!1;l.implicitBlock(e,n.ParserScope.When,n.ParserScope.Function),e.hasFlag("return-value")&&(e.removeFlag("return-value"),t.push({name:"returns",type:"attribute",items:[],range:{line:NaN,char:NaN,from:NaN,to:NaN,inner:[]}})),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({afterIfKeyword(e){if(s.expression(e),!s.doubleDot(e))return!1;s.block(e),s.elif(e)||s.else_(e)&&s.block(e),e.closeLeafRange()},if_(e){e.next()},else_:e=>!!o.isElse(e)&&(e.next(),!!s.doubleDot(e)),elif:e=>!!o.isElif(e)&&(e.next(),e.openInnerRange(),e.storeItem(),e.levelDown(),e.leaf(),e.item.type="if",e.item.subtype="elif",s.afterIfKeyword(),e.closeLeafRange(),e.levelUp(),e.restoreItem(),e.closeInnerRange(),!0),expression(e){if(e.item.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["expression"]))return e.error(a.missingExpression);e.clearLeaf()}});e.exports={tokenType:"keyword/"+a.ifKeyword,canProcess:e=>o.isIf(e),process(e){if(!e.hasScope(n.ParserScope.When))return e.error("ONLY_IN_WHEN");e.leaf(),e.item.type="if",s.if_(e),s.afterIfKeyword(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({pass(e){e.next()}});e.exports={tokenType:"keyword/"+a.passKeyword,canProcess:e=>o.isPass(e),process(e){if(!e.hasScope(n.ParserScope.Function)&&!e.hasScope(n.ParserScope.When)&&!e.hasScope(n.ParserScope.Stage,!0)&&!e.hasScope(n.ParserScope.Actor,!0)&&!e.hasScope(n.ParserScope.Part,!0))return e.error("INVALID_PASS");s.pass(e),s.endOfLine(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({del(e){e.next()},expression(e){e.item.items.push(e.prepareLeaf()),e.expressionProcessor.token(e,["expression"]),e.clearLeaf()}});e.exports={tokenType:"keyword/"+a.delKeyword,canProcess:e=>o.isDel(e),process(e){if(!e.hasScope(n.ParserScope.Function)&&!e.hasScope(n.ParserScope.When))return e.error("INVALID_DEL");e.leaf(),e.item.type="delete",s.del(e),s.expression(e),s.endOfLine(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({return_(e){e.next()},expression(e){e.item.items.push(e.prepareLeaf()),e.expressionProcessor.token(e,["expression"]),e.clearLeaf()}});e.exports={tokenType:"keyword/"+a.returnKeyword,canProcess:e=>o.isReturn(e),process(e){if(!e.hasScope(n.ParserScope.Function)&&!e.hasScope(n.ParserScope.When))return e.error("INVALID_RETURN");e.leaf(),e.item.type="return",s.return_(e),s.endOfLine(e,!0)||(s.expression(e),s.endOfLine(e),e.addFlag("return-value")),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({break_(e){e.next()}});e.exports={tokenType:"keyword/"+a.breakKeyword,canProcess:e=>o.isBreak(e),process(e){if(!e.hasScope(n.ParserScope.Iteration))return e.error("INVALID_BREAK");e.leaf(),e.item.type="break",s.break_(e),s.endOfLine(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({continue_(e){e.next()}});e.exports={tokenType:"keyword/"+a.continueKeyword,canProcess:e=>o.isBreak(e),process(e){if(!e.hasScope(n.ParserScope.Iteration))return e.error("INVALID_CONTINUE");e.leaf(),e.item.type="continue",s.continue_(e),s.endOfLine(e),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.utils;i.validators;e.exports={canProcess(e){const t=e.lookahead;return e.token&&"keyword"===e.token.type&&"stage"===e.token.data&&t&&(":"===t.type||"comment"===t.type)},process(e){if(e.hasScope(n.ParserScope.Stage))return e.error("STAGE_STAGE");let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.type="application",e.item.options={macros:e.symbols},e.levelDown(),e.leaf(),e.item.attributes=t,e.item.type="stage",e.item.name="stage",e.next(),!o.doubleDot(e))return!1;o.implicitBlock(e,n.ParserScope.Stage),e.closeLeafRange(),e.levelUp(),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(69),o=r(20),a=o.validators,s=o.constants,l=o.utils.extend({scope(e){e.item.scope="local"},equalSign(e){e.next()},expression:e=>(e.storeItem(),e.levelDown(n.ParserScope.Value),!!e.expressionProcessor.token(e,["chainableAssignment"])&&(e.levelUp(),e.restoreItem(),!0)),literal:function(e){a.isLiteral(e)?(e.item.value=e.token,e.next()):a.isArrayStart(e)?(e.levelDown(n.ParserScope.Value),e.expressionProcessor.token(e,["array"]),e.levelUp()):e.error(s.unexpectedToken)}});e.exports={canProcess:e=>a.isIdentifier(e)&&(a.isLookaheadEqualSign(e)||a.isLookaheadDoubleDot(e)),process(e){let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.type="variable",e.item.attributes=t,l.scope(e),!l.name(e))return void e.error(s.wrongVariableName,e.token.data);const r=e.isActor(),o=!!r,c=e.hasScope(n.ParserScope.When);if(e.getSymbol("DISALLOW_SHADOWING")){if(!i.validateName(e.item.name,{actorProps:o,stageProps:!0,allowAssignment:!0}))return void e.errorAt(s.wrongVariableName,e.lookback,e.item.name);if(o)for(const t of r.stage)if(t.name===e.item.name)return void e.errorAt(s.redeclarationProperty,e.lookback,e.item.name,r.actor.name)}else if(!o&&!i.validateName(e.item.name,{actorProps:o&&!c,stageProps:!o&&!c,allowAssignment:!0}))return void e.errorAt(s.wrongVariableName,e.lookback,e.item.name);if(a.isDoubleDot(e)){if(c)return e.error("UNSUPPORTED_TYPE_ANNOTATION");if(!e.hasScope(n.ParserScope.Actor,!0)&&!e.hasScope(n.ParserScope.Stage,!0)&&!e.hasScope(n.ParserScope.Part,!0)&&!e.hasScope(n.ParserScope.Scene,!0))return e.error("UNSUPPORTED_TYPE_ANNOTATION");if(!l.typeAnnotation(e))return!1;if(!a.isEqualSign(e))return l.endOfLine(e),void e.closeLeafRange()}l.equalSign(e),l.expression(e)?(e.item.options={mightBeAssignment:!0},l.endOfLine(e),e.closeLeafRange()):e.error(s.missingExpression)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({complexName(e){if(e.item.name="",o.isSelf(e)){if(e.next(),!o.isDot(e))return e.error("INVALID_WHEN");e.next(),e.item.name="this."}if(o.isStage(e)){if(e.next(),!o.isDot(e))return e.error("INVALID_WHEN");e.next(),e.item.name="stage."}if(!o.isIdentifier(e))return e.error("INVALID_WHEN");for(e.item.name+=e.token.data,e.next();o.isDot(e);){if(e.item.name+=".",e.next(),!o.isIdentifier(e))return e.error("INVALID_WHEN");e.item.name+=e.token.data,e.next()}},expression(e){if(e.item.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["expression"]))return e.error(a.missingExpression);e.clearLeaf()}});e.exports={tokenType:"keyword/when",canProcess:e=>e.token&&"keyword"===e.token.type&&"when"==e.token.data,process(e){if(e.hasScope(n.ParserScope.When))return e.error("WHEN_WHEN");let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.attributes=t,e.item.type="when",e.next(),s.complexName(e),s.segmentStart(e,!0)&&(e.levelDown(n.ParserScope.When),s.expression(e),e.levelUp(),s.segmentEnd(e)),!s.doubleDot(e))return!1;s.implicitBlock(e,n.ParserScope.When),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.constants,s=i.utils.extend({while_(e){if(!o.isWhile(e))return e.error(a.unexpectedToken);e.next()},expression(e){if(e.item.items.push(e.prepareLeaf()),!e.expressionProcessor.token(e,["expression"]))return e.error("MISSING_EXPRESSION");e.clearLeaf()}});e.exports={tokenType:"keyword/"+a.whileKeyword,canProcess:e=>o.isWhile(e),process:e=>e.hasScope(n.ParserScope.When)?(e.leaf(),e.item.type="iteration",e.item.subtype="while",s.while_(e),s.expression(e),!!s.doubleDot(e)&&(s.block(e,n.ParserScope.Iteration),void e.closeLeafRange())):e.error("ONLY_IN_WHEN")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),i=n.validators,o=n.utils.extend({argumentItem(e){if(!e.token)return!1;let t=!1;return"-"==e.token.type&&(t=!0,e.next()),!!e.expressionProcessor.token(e,["literal"])&&(t&&(e.item.value=-e.item.value),i.isParameterSeparator(e)?(e.next(),!0):i.isSegmentEnd(e))},arguments(e){for(e.levelDown();!i.isSegmentEnd(e);)if(!o.argumentItem(e))return!1;e.levelUp()}});e.exports={canProcess:e=>"attribute"==e.token.type,process(e){e.item&&"attributes"==e.item.type||(e.leaf(),e.item.type="attributes");const t=e.item;e.levelDown(),e.leaf(),e.item.type="attribute",e.item.name=e.token.data,e.next(),o.segmentStart(e,!0)&&(o.arguments(e),o.segmentEnd(e)),o.endOfLine(e),e.closeLeafRange(),e.levelUp(),e.item=t,e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20).utils;e.exports={tokenType:"keyword/import",canProcess:e=>e.token&&"keyword"===e.token.type&&"import"==e.token.data,process:e=>e.hasScope(n.ParserScope.When)?e.error("IMPORT_WHEN"):e.hasScope(n.ParserScope.Stage,!0)||e.hasScope(n.ParserScope.Part,!0)||e.hasScope(n.ParserScope.Scene,!0)?(e.leaf(),e.item.type="import",e.next(),i.name(e)?(e.item.value=e.item.name,e.item.options={loader:"python"},i.endOfLine(e),void e.closeLeafRange()):(e.error("IMPORT_NAME"),!1)):e.error("IMPORT_STAGE")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.utils.extend({string:function(e){return e.token&&"literal"==e.token.type&&"string"==e.token.subtype?(e.item.value=e.token.data,e.next(),!0):e.error("USE_PATH")}});e.exports={tokenType:"keyword/use",canProcess:e=>e.token&&"keyword"===e.token.type&&"use"==e.token.data,process:e=>e.hasScope(n.ParserScope.When)?e.error("USE_WHEN"):e.hasScope(n.ParserScope.Actor,!0)||e.hasScope(n.ParserScope.Stage,!0)||e.hasScope(n.ParserScope.Part,!0)||e.hasScope(n.ParserScope.Scene,!0)?(e.leaf(),e.item.type="use",e.next(),a.name(e)?!(o.isFrom(e)&&(e.next(),!a.string(e)))&&(a.endOfLine(e),void e.closeLeafRange()):(e.error("USE_NAME"),!1)):e.error("USE_ACTOR_STAGE")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.utils,a=i.validators;e.exports={tokenType:"keyword/part",canProcess:e=>e.token&&"keyword"===e.token.type&&"part"===e.token.data,process(e){if(e.hasScope(n.ParserScope.Stage))return e.error("PART_STAGE");let t=[];if(e.item&&"attributes"==e.item.type&&(t=e.item.items,e.removeLeaf()),e.leaf(),e.item.type="part",e.item.attributes=t,e.next(),!o.name(e))return e.error("PART_NAME"),!1;let r=n.ParserScope.Default;if(e.item.subtype="generic",a.isFor(e))if(e.next(),a.isActor(e))e.next(),r=n.ParserScope.Actor,e.item.subtype="actor";else{if(!a.isStage(e))return e.error("PART_TYPE"),!1;e.next(),r=n.ParserScope.Stage,e.item.subtype="stage"}if(!o.doubleDot(e))return!1;o.implicitBlock(e,r,n.ParserScope.Part),e.closeLeafRange()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.validators,a=i.utils.extend({fields(e){if(!o.isSegmentStart(e))return e.error("RECORD_FIELDS"),!1;for(e.next(),e.storeItem(),e.levelDown(),e.leaf(),e.item.type="parameterList",e.storeItem(),e.levelDown();o.isIdentifier(e);){if(e.leaf(),e.item.type="parameter",e.item.name=e.token.data,e.next(),o.isDoubleDot(e)&&!a.typeAnnotation(e))return!1;if(!o.isParameterSeparator(e)){if(o.isSegmentEnd(e))break;return e.error("MISSING_SEGMENT_END"),!1}e.next()}return e.levelUp(),e.restoreItem(),e.item.items.length&&e.closeLeafRange(),e.levelUp(),e.restoreItem(),o.isSegmentEnd(e)?(e.next(),!0):(e.error("MISSING_SEGMENT_END"),!1)}});e.exports={tokenType:"record",canProcess:e=>e.token&&"identifier"===e.token.type&&"record"===e.token.data,process:function(e){return e.hasScope(n.ParserScope.When)?e.error("RECORD_WHEN"):e.hasScope(n.ParserScope.Actor,!0)||e.hasScope(n.ParserScope.Stage,!0)||e.hasScope(n.ParserScope.Part,!0)?(e.leaf(),e.item.type="record",e.next(),a.name(e)?!!a.fields(e)&&(a.endOfLine(e),void e.closeLeafRange()):(e.error("RECORD_NAME"),!1)):e.error("RECORD_ACTOR")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20).validators;e.exports={canProcess:e=>n.isIndent(e)||n.isDedent(e),process:e=>n.isIndent(e)?e.error("UNEXPECTED_INDENT"):e.error("UNEXPECTED_DEDENT")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(20),o=i.constants,a=i.validators.extend({isStageStatement(e){const t=e.lookahead;return e.token&&"keyword"==e.token.type&&"stage"==e.token.data&&t&&"{"===t.type}}),s=i.utils.extend({expression(e){e.expressionProcessor.token(e,["expression"])||e.error(o.missingExpression)}});e.exports={canProcess:e=>!a.isLookaheadLabelSeparator(e)&&!a.isStageStatement(e),process:e=>"identifier"===e.token.type&&e.lookahead&&"newline"===e.lookahead.type?e.error("UNINITIALIZED_PROPERTY"):e.hasScope(n.ParserScope.When)||e.hasScope(n.ParserScope.Asset)?(e.leaf(),e.item.type="expressionStatement",e.storeItem(),e.levelDown(),s.expression(e),e.levelUp(),e.restoreItem(),s.endOfLine(e),void e.closeLeafRange()):e.error("ONLY_IN_WHEN")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASTOptimiser=void 0;class n{constructor(e={log:!1}){this.enableLog=!1,this.enableLog=e.log}static optimiseUnaryMinusOrPlus(e,t,r){if(1===e.items.length){n.optimiseAssignment(e.items[0],e.items,0);const i=e.items[0];"literal"===i.type&&"number"===i.subtype&&(i.value="-"===e.subtype?-i.value:+i.value,t[r]=i)}}static optimiseCall(e,t,r){1===e.items.length&&(t[r]=e.items[0])}static optimiseAssignment(e,t,r){let n=!1;for(;1===e.items.length&&("unary"!==e.type&&"postfix"!==e.type&&"literal"!==e.type||!e.subtype);)"group"===e.type&&(n=!0),e=e.items[0];n&&(e.grouped=!0),t[r]=e}optimiseVariableList(e,t,r){this.walkLevel(e.items),t.splice(r,1,...e.items)}static optimiseParts(e){let t;const r=[];for(let n=0;n<e.length;++n){const i=e[n];"application"===i.type&&(t=i),"part"!==i.type&&"scene"!==i.type||r.push(i)}for(let n of r){const t=e.indexOf(n);e.splice(t,1)}r.length&&t.items.push({type:"parts",range:Object.assign(Object.assign({},r[0].range),{to:r[r.length-1].range.to}),items:r})}optimiseLeaf(e,t,r){null!==e&&("unary"!==e.type||"-"!==e.subtype&&"+"!==e.subtype?"assignment"===e.type||"relational"===e.type||"additive"===e.type||"subtractive"===e.type||"multiplicative"===e.type||"exponentative"===e.type||"unary"===e.type||"postfix"===e.type||"logical"===e.type||"equality"===e.type||"conditional"===e.type?n.optimiseAssignment(e,t,r):"variableList"===e.type||"variableDeclarationList"===e.type?this.optimiseVariableList(e,t,r):"lefthandside"===e.type&&"call"===e.subtype&&n.optimiseCall(e,t,r):n.optimiseUnaryMinusOrPlus(e,t,r))}walkLevel(e){e.forEach(((t,r)=>{this.optimiseLeaf(t,e,r),this.optimiseLeaf(e[r],e,r),e[r]&&this.walkLevel(e[r].items)}))}optimise(e){return this.walkLevel(e),n.optimiseParts(e),e}}t.ASTOptimiser=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tokenizer=t.constants=t.removeRegexpSpecialChars=t.validateName=t.Token=t.TokenizerError=t.TokenizerState=void 0;const n=r(220),i=r(223);var o=r(220);Object.defineProperty(t,"TokenizerState",{enumerable:!0,get:function(){return o.TokenizerState}});var a=r(222);Object.defineProperty(t,"TokenizerError",{enumerable:!0,get:function(){return a.TokenizerError}});var s=r(221);Object.defineProperty(t,"Token",{enumerable:!0,get:function(){return s.Token}});var l=r(69);Object.defineProperty(t,"validateName",{enumerable:!0,get:function(){return l.validateName}}),Object.defineProperty(t,"removeRegexpSpecialChars",{enumerable:!0,get:function(){return l.removeRegexpSpecialChars}}),Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return l.constants}});t.Tokenizer=class{constructor(e={comments:!0}){this.options=e}tokenize(e){const t=new n.TokenizerState;return t.processComments=this.options.comments,t.begin(e),i.tokenizer.process(t),t.ok?t.tokens:(this._error=t.lastError,null)}get error(){return this._error}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={commentMarkerCharacter:"#",singleLineCommentEndCharacters:"\n\r\u2028\u2029"},i={isSingleLineStart:e=>e===n.commentMarkerCharacter,isSingleLineEnd:e=>-1!=n.singleLineCommentEndCharacters.indexOf(e)};function o(e){e.processComments&&e.add(),e.next()}const a={processSingleLine(e){for(e.processComments&&e.token("comment","single");e.char&&!i.isSingleLineEnd(e.char);)o(e);e.processComments&&e.token("literal","line")}};e.exports={name:"comment",canProcess:e=>i.isSingleLineStart(e.char),process:e=>(e.next(),e.skip(),a.processSingleLine(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(223),i={markerCharacters:"fF",replacementStartCharacter:"{",replacementEndCharacter:"}",commentMarkerCharacter:"#",zeroCharacter:"0",nul:"\0",startEndCharacters:["'",'"'],escapeMarker:"\\",escapeCharacters:"'\"\\bfnrtv",lineTerminators:"\n\r\u2028\u2029",digits:"0123456789",hexDigits:"0123456789abcdefABCDEF",hexMarker:"x",unicodeMarker:"u"},o={isMarker:e=>-1!==i.markerCharacters.indexOf(e.char),isStartLookahead:e=>-1!==i.startEndCharacters.indexOf(e.lookahead),isReplacementStart:e=>e.char===i.replacementStartCharacter&&e.lookahead!==i.replacementStartCharacter,isReplacementEnd:e=>e.char===i.replacementEndCharacter&&e.lookahead!==i.replacementEndCharacter,isEscapeReplacementStart:e=>e.char===i.replacementStartCharacter&&e.lookahead===i.replacementStartCharacter,isEscapeReplacementEnd:e=>e.char===i.replacementEndCharacter&&e.lookahead===i.replacementEndCharacter,isEnd:(e,t)=>t.char===e,isEscapeMarker:e=>e.char===i.escapeMarker,isEscapeCharacter:e=>-1!==i.escapeCharacters.indexOf(e.char),isLineTerminator:e=>-1!==i.lineTerminators.indexOf(e.char),isZero:e=>e.char===i.zeroCharacter,isHexMarker:e=>e.char===i.hexMarker,isUnicodeMarker:e=>e.char===i.unicodeMarker,isLookaheadDecimalDigit:e=>-1!==i.digits.indexOf(e.lookahead),isHexDigit:e=>-1!==i.hexDigits.indexOf(e.char)},a={lineContinuation(e){for(e.skip();o.isLineTerminator(e);)e.next(),e.skip()},hexEscape:function(e){e.next();let t="";for(let r=0;r<2;r++){if(!o.isHexDigit(e))return e.error("UNUSUAL_TOKEN");t+=e.char,e.next()}e.add("\\x"+t),e.skip(4)},unicodeEscape:function(e){e.next();let t="";for(let r=0;r<4;r++){if(!o.isHexDigit(e))return e.error("UNUSUAL_TOKEN");t+=e.char,e.next()}e.add("\\u"+t),e.skip(6)},string:function(e,t){const r='"'===t?"'":'"';for(;e.char&&!o.isEnd(t,e)&&!o.isReplacementStart(e);)if(e.char===r)e.add(),e.next();else{if(o.isLineTerminator(e))return;if(o.isEscapeMarker(e)){if(!e.escapeCharEnabled)return e.error("INVALID_REPLACEMENT_BACKSLASH"),!1;e.next(),o.isLineTerminator(e)?a.lineContinuation(e):o.isEscapeCharacter(e)?(e.add(i.escapeMarker),e.skip(),e.add(),e.next()):o.isZero(e)&&!o.isLookaheadDecimalDigit(e)?(e.skip(),e.add(i.nul),e.skip(),e.next()):o.isHexMarker(e)?a.hexEscape(e):o.isUnicodeMarker(e)?a.unicodeEscape(e):e.skip()}else if(o.isEscapeReplacementStart(e)||o.isEscapeReplacementEnd(e))e.skip(),e.next(),e.add(),e.next();else{if(o.isReplacementEnd(e))return e.error("INVALID_REPLACEMENT_END"),!1;e.add(),e.next()}}return!!e.char||(e.error("MISSING_STRING_END"),!1)},replacement(e,t){let r=1,a=e.tokens.length,s=!1;const l=e.escapeCharEnabled;e.escapeCharEnabled=!1;let c=n.tokenizer.processUntil(e,(()=>{if(e.char===i.replacementStartCharacter?r++:e.char===i.replacementEndCharacter&&r--,e.char===t)return e.error("INVALID_REPLACEMENT_START"),s=!0,!0;if(e.char===i.commentMarkerCharacter)return e.error("INVALID_REPLACEMENT_COMMENT"),s=!0,!0;return!(o.isReplacementEnd(e)&&0===r)}));return e.escapeCharEnabled=l,c?s||a!==e.tokens.length||(e.error("INVALID_REPLACEMENT"),c=!1):e.lastError||e.error("INVALID_REPLACEMENT_START"),c&&!s}};e.exports={name:"f-string",canProcess:function(e){return o.isMarker(e)&&o.isStartLookahead(e)},process:function(e){e.next(),e.skip();const t=e.char;for(e.next(),e.skip(),e.token("f-string","start");e.char&&!o.isEnd(t,e);){if(!a.string(e,t))return!1;if(e.tokenValue&&e.token("literal","string"),o.isReplacementStart(e)){if(e.token("f-string","{"),e.next(),e.skip(),!a.replacement(e,t))return!1;e.token("f-string","}"),e.next(),e.skip()}}e.next(),e.skip(),e.token("f-string","end")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(69),i={zero:"0",hexMarkers:"xX",exponentIndicators:"eE",digits:"0123456789",hexDigits:"0123456789abcdefABCDEF",dotCharacter:".",signs:"-+"},o={isZeroDigit:function(e){return e.char===i.zero},isDot:function(e){return e.char===i.dotCharacter},isDecimalDigit:function(e){return-1!==i.digits.indexOf(e.char)},isHexDigit:function(e){return-1!==i.hexDigits.indexOf(e.char)},isHexLiteral:function(e){return o.isZeroDigit(e)&&-1!==i.hexMarkers.indexOf(e.lookahead)},isDecimalLiteral:function(e){return o.isDecimalDigit(e)&&-1===i.hexMarkers.indexOf(e.lookahead)},isNumericLiteral:function(e){return o.isDot(e)&&-1!==i.digits.indexOf(e.lookahead)||o.isHexLiteral(e)||o.isDecimalLiteral(e)},isExponentIndicator:function(e){return-1!==i.exponentIndicators.indexOf(e.char)},isSign:function(e){return-1!==i.signs.indexOf(e.char)},identifierCharacter:e=>n.constants.startCharacters.includes(e.char)},a={hex(e){if(e.add(),e.next(),e.add(),e.next(),!e.char||!o.isHexDigit(e)&&o.identifierCharacter(e))return e.error("INVALID_NUMBER_HEX");do{e.add(),e.next()}while(e.char&&o.isHexDigit(e));return o.identifierCharacter(e)?e.error("INVALID_NUMBER_HEX"):void 0},digits(e,t){if(e.char&&o.isDecimalDigit(e)){do{e.add(),e.next()}while(e.char&&o.isDecimalDigit(e));return o.identifierCharacter(e)&&!o.isExponentIndicator(e)?e.error("INVALID_NUMBER"):void 0}t||o.identifierCharacter(e)&&e.error("INVALID_NUMBER")},sign(e){o.isSign(e)&&(e.add(),e.next())},exponent:e=>!!o.isExponentIndicator(e)&&(e.add(),e.next(),a.sign(e),a.digits(e,!1),!0),decimal(e){if(o.isZeroDigit(e))if(e.add(),e.next(),o.isDot(e))e.add(),e.next(),a.digits(e,!0),a.exponent(e);else{if(!e.char||!o.isDecimalDigit(e))return void(o.isHexDigit(e)&&e.error("INVALID_NUMBER_HEX"));e.error("INVALID_NUMBER_HEX")}else o.isDot(e)?(e.add(),e.next(),a.digits(e,!1),a.exponent(e)):(a.digits(e,!1),!a.exponent(e)&&o.isDot(e)&&(e.add(),e.next(),a.digits(e,!0),a.exponent(e)))}};e.exports={name:"number",canProcess:function(e){return o.isNumericLiteral(e)},process:function(e){o.isHexLiteral(e)?a.hex(e):a.decimal(e),e.token("literal","number")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={commentMarkers:"/*",punctuatorStartCharacters:":+-!&|^*/%><=?in",punctuators:["+","-","*","^","/","%","<",">","<=",">=","==",":=","!=","=","+=","-=","/=","*=","**","//","->","is","in","not","|"]},i={isPart:e=>-1!==n.punctuatorStartCharacters.indexOf(e),isPunctuator:e=>-1!==n.punctuators.indexOf(e)};e.exports={name:"punctuation",canProcess:function(e){return!!(i.isPunctuator(e.char)||i.isPunctuator(e.char+e.lookahead)||i.isPunctuator(e.char+e.lookahead+e.lookahead2))},process:function(e){do{if(i.isPunctuator(e.tokenValue)&&!i.isPunctuator(e.tokenValue+e.char)&&!i.isPunctuator(e.tokenValue+e.char+e.lookahead))break;e.add(),e.next()}while(e.char&&i.isPart(e.char));e.token(e.tokenValue)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={separatorCharacters:".{}()[]:,",segmentStart:"(",segmentEnd:")",blockStart:"{",blockEnd:"}",arrayStart:"[",arrayEnd:"]"};let i={segment:0,block:0,array:0};const o=function(e){switch(e.char){case n.segmentStart:i.segment++,e.insideGroup=!0;break;case n.segmentEnd:if(i.segment--,i.segment<0)return e.error("MANY_ROUND_BRACKETS");break;case n.blockStart:i.block++,e.insideGroup=!0;break;case n.blockEnd:if(i.block--,i.block<0)return e.error("MANY_BRACES");break;case n.arrayStart:i.array++,e.insideGroup=!0;break;case n.arrayEnd:if(i.array--,i.array<0)return e.error("MANY_BRACKETS")}0==i.segment&&0==i.block&&0==i.array&&(e.insideGroup=!1)},a={isSeparator:e=>-1!==n.separatorCharacters.indexOf(e)};e.exports={name:"separator",canProcess:function(e){return a.isSeparator(e.char)},process:function(e){o(e),e.add(),e.next(),e.token(e.tokenValue)},end:function(e){0===i.segment&&0===i.block&&0===i.array||(i.segment=0,i.block=0,i.array=0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={zeroCharacter:"0",nul:"\0",startEndCharacters:["'",'"'],escapeMarker:"\\",escapeCharacters:"'\"\\bfnrtv",lineTerminators:"\n\r\u2028\u2029",digits:"0123456789",hexDigits:"0123456789abcdefABCDEF",hexMarker:"x",unicodeMarker:"u",whiteSpaceCharacters:[" ","\t"]},i={isStart:e=>-1!==n.startEndCharacters.indexOf(e.char),isEnd:(e,t)=>t.char===e,isMultiLineStart:e=>"'"===e.char&&"'"===e.lookahead&&"'"===e.lookahead2||'"'===e.char&&'"'===e.lookahead&&'"'===e.lookahead2,isMultiLineEnd:e=>"'"===e.char&&"'"===e.lookahead&&"'"===e.lookahead2||'"'===e.char&&'"'===e.lookahead&&'"'===e.lookahead2,isEscapeMarker:e=>e.char===n.escapeMarker,isEscapeCharacter:e=>-1!==n.escapeCharacters.indexOf(e.char),isLineTerminator:e=>-1!==n.lineTerminators.indexOf(e.char),isZero:e=>e.char===n.zeroCharacter,isHexMarker:e=>e.char===n.hexMarker,isUnicodeMarker:e=>e.char===n.unicodeMarker,isLookaheadDecimalDigit:e=>-1!==n.digits.indexOf(e.lookahead),isHexDigit:e=>-1!==n.hexDigits.indexOf(e.char),isWhiteSpace:e=>-1!==n.whiteSpaceCharacters.indexOf(e.char)},o={lineContinuation(e){for(e.skip();i.isLineTerminator(e);)e.next(),e.skip()},hexEscape:function(e){e.next();let t="";for(let r=0;r<2;r++){if(!i.isHexDigit(e))return e.error("UNUSUAL_TOKEN");t+=e.char,e.next()}e.add("\\x"+t),e.skip(4)},unicodeEscape:function(e){e.next();let t="";for(let r=0;r<4;r++){if(!i.isHexDigit(e))return e.error("UNUSUAL_TOKEN");t+=e.char,e.next()}e.add("\\u"+t),e.skip(6)},string:function(e){const t=e.char,r='"'===t?"'":'"',a=i.isMultiLineStart(e);for(e.next(),a&&(e.next(),e.next()),e.skip();e.char&&(!i.isEnd(t,e)||a&&!i.isMultiLineEnd(e));)if(e.char===r)e.add(),e.next();else if(i.isLineTerminator(e)){if(!a)return e.error("MISSING_STRING_END");for(e.skip(),e.next();i.isWhiteSpace(e);)e.skip(),e.next()}else if(i.isEscapeMarker(e)){if(!e.escapeCharEnabled)return e.error("INVALID_REPLACEMENT_BACKSLASH"),!1;e.next(),i.isLineTerminator(e)?o.lineContinuation(e):i.isEscapeCharacter(e)?(e.add(n.escapeMarker),e.skip(),e.add(),e.next()):i.isZero(e)&&!i.isLookaheadDecimalDigit(e)?(e.skip(),e.add(n.nul),e.skip(),e.next()):i.isHexMarker(e)?o.hexEscape(e):i.isUnicodeMarker(e)?o.unicodeEscape(e):e.skip()}else e.add(),e.next();if(!e.char)return e.error("MISSING_STRING_END"),!1;e.skip(),e.next(),a&&(e.next(),e.next())}};e.exports={name:"string",canProcess:function(e){return i.isStart(e)||i.isMultiLineStart(e)},process:function(e){o.string(e),e.token("literal","string")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={whiteSpaceCharacters:"\t\v\f \xa0\ufeff\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\n\r\u2028\u2029",tabulationCharacter:"\t",tabSize:8,commentMarkerCharacter:"#",spaceCharacters:" \xa0\u1680\u2001\u2002\u2003\u2004\u2005\u2004\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",lineTerminatorCharacters:"\n\r\u2028\u2029",CR:"\r",LF:"\n"};let i=[0];const o=function(e){return-1!==n.whiteSpaceCharacters.indexOf(e.char)},a=function(e){return-1!==n.lineTerminatorCharacters.indexOf(e.char)},s=function(e){return e.char===n.CR&&e.lookahead===n.LF},l=function(e){return n.tabulationCharacter===e.char},c=function(e){return n.commentMarkerCharacter===e.char},p=function(e){return-1!==n.spaceCharacters.indexOf(e.char)};e.exports={name:"whitespace",init:function(e){i=[0]},canProcess:function(e){return o(e)},process:function(e){if(0===e.tokens.length)for(;o(e);){if(a(e))return void e.next();e.next()}if(a(e)){const t=e.charSum;if(s(e)&&e.next(),e.newLine(),e.next(),!e.insideGroup){let r=0;for(;o(e);){if(l(e))r+=n.tabSize;else if(p(e))r+=1;else if(a(e))return;e.next()}if(c(e))return;if(e.endOfFile)return;const s=e.token("newline");s.range.from=t-1,s.range.to=t;let u=i[0];if(r>u){i.unshift(r);const n=e.token("indent");n.range.from=t,n.range.to=t+1}else if(r<u){for(;i[0]!==r&&0!==i[0];){i.shift();const r=e.token("dedent","",!1);r.range.from=t-1,r.range.to=t}if(i[0]!==r)return e.error("INVALID_DEDENT"),!1}}}else{if(0===e.tokens.length){if(c(e))return;if(e.endOfFile)return;return e.error("FIRST_LINE_INDENTED"),!1}e.next()}},end:function(e){for(e.lastToken&&"newline"!==e.lastToken.type&&e.token("newline","",!1);0!==i[0];)i.shift(),e.token("dedent","",!1)}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(839),t),i(r(840),t),i(r(841),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLanguageConfiguration=void 0;t.createLanguageConfiguration=(e,t)=>{const r={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"#",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],indentationRules:{increaseIndentPattern:/:([ \t\r\n]+)?$/},autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],onEnterRules:[{beforeText:/:[ \t]*$/,action:{indentAction:e.languages.IndentAction.Indent}},{beforeText:/pass$/,action:{indentAction:e.languages.IndentAction.Outdent}},{previousLineText:/pass$/,action:{indentAction:e.languages.IndentAction.None}}]};e.languages.setLanguageConfiguration(t,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStaticSnippets=t.separators=void 0;const n=r(4);t.separators="#+-!^*/%<>?=;{}()[]:,(){}[];'\" \t\v\f \xa0\ufeff\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\n\r\u2028\u2029";t.getStaticSnippets=(e,t)=>{const r={label:"if",kind:e.Snippet,insertText:["if ${1:True}:","\t${2:pass}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"If Statement",documentation:"If Statement"},i={label:"ifelse",kind:e.Snippet,insertText:["if ${1:True}:","\t${2:pass}","else:","\t${3:pass}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"If-Else Statement",documentation:"If-Else Statement"},o={label:"while",kind:e.Snippet,insertText:["while ${1:True}:","\t${2:pass}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"While loop",documentation:"While loop"},a={label:"for",kind:e.Snippet,insertText:["for ${1:i} in range(0, ${2:10}):","\t${3:pass}"].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"For loop",documentation:"For loop"},s={label:"def",kind:e.Snippet,detail:"user defined function",insertText:["def ${1:functionName}(self, ${2:parameter}):","\t${3:pass}",""].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Function"},l={label:"when",kind:e.Snippet,detail:"when statement",insertText:["when ${1:eventName}:","\t${2:pass}",""].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"When statement"},c={label:"actor",kind:e.Snippet,detail:"actor declaration",insertText:["actor ${1:actorName}:","\t${2:pass}",""].join("\n"),insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Actor declaration"},p={label:"return",kind:e.Keyword,insertText:"return"},u={label:"self",kind:e.Keyword,insertText:"self"},d={label:"pass",kind:e.Keyword,insertText:"pass"},h=["True","False","None"].map((t=>({label:t,kind:e.Keyword,insertText:t}))),f=["ref","and","or","not"].map((t=>({label:t,kind:e.Keyword,insertText:t+" "}))),m=[r,i,o,a,p,u,d,...h,...f];return{[n.ContextualLevelKind.Stage]:[s,l,c,...h,...f],[n.ContextualLevelKind.Actor]:[s,l,...h,...f],[n.ContextualLevelKind.When]:m,[n.ContextualLevelKind.Function]:m,[n.ContextualLevelKind.IfStatement]:m,[n.ContextualLevelKind.ForStatement]:m,[n.ContextualLevelKind.WhileStatement]:m,[n.ContextualLevelKind.DoWhileStatement]:m,[n.ContextualLevelKind.ForInStatement]:m}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTokensProvider=void 0;const n=r(69);t.createTokensProvider=(e,t)=>{const r={keywords:[...n.constants.stageKeywords,...n.constants.nonTerminalKeywords],typeKeywords:n.constants.typeKeywords,operators:n.constants.operators,symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[^"\\]"([^"\\]|\\.)*$/,"string.invalid"],[/f?"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[^'\\]'([^'\\]|\\.)*$/,"string.invalid"],[/f?'/,{token:"string.quote",bracket:"@open",next:"@char"}],[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z\xc0-\xd6\xd8-\xde\u0100-\u017d\u0180-\u01fa\u01fc-\u01fe\u0218-\u021a\u1ea0-\u1eac\u1eae-\u1eb4\u1eb6-\u1eb8\u1eba-\u1ebc\u1ebe-\u1ec4\u1ec6-\u1ec8\u1eca-\u1ecc\u1ece-\u1ed0\u1ed2-\u1ed4\u1ed6-\u1ed8\u1eda-\u1edc\u1ede-\u1ee0\u1ee2-\u1ee6\u1ee8-\u1eea\u1eec-\u1eee\u1ef0-\u1ef4\u1ef6-\u1ef8\u0410-\u042f\u0401\u0408\u0402\u0409\u040a\u040b\u040f\u04e8\u04ae]([0-9A-Za-z\xc0-\xfa\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xc1\xc9\xcd\xd3\xda\xdd\xe1\xe9\xed\xf3\xfa\xfd\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc3\xd1\xd5\xe3\xf1\xf5\xc4\xcb\xcf\xd6\xdc\xe4\xeb\xef\xf6\xfc\xe7\xc7\xdf\xd8\xf8\xc5\xe5\xc6\xe6\xde\xfe\xd0\xf0\u0151\u0171\u0150\u0170\u016f\xfd\u017e\u010d\u010f\u011b\u0148\u0159\u0161\u0165\u0104\u0141\u013d\u013f\u015a\u0160\u015e\u0164\u0179\u017d\u017b\u0105\u0142\u013e\u0140\u015b\u0161\u015f\u0165\u017a\u017e\u017c\u0154\u0102\u0106\u0139\xc7\u010c\u0118\u011a\xce\u010e\u0143\u0147\xd4\u0158\u016e\xdd\u0162\u0155\u0103\u0110\u0107\xe7\u010d\u0119\xee\u010f\u0111\u0144\u0148\u0159\u016f\xfd\u0163\u011b\u0218\u021a\u0219\u021b\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u0458\u0452\u0459\u045a\u045b\u045f\u0408\u0402\u0409\u040a\u040b\u040f\u04e9\u04af\u04e8\u04ae\u1ee4\u1eea\u1eec\u1eee\u1ee8\u1ef0\u1ef2\u1ef6\u1ef8\u1ef4\u1ea2\u1ea0\u1eb6\u1eac\u1eba\u1ebc\u1eb8\u1ec6\u1ec8\u0128\u1eca\u1ece\u1ecc\u1ed8\u1edc\u1ede\u1ee0\u1eda\u1ee2\u1ee6\u0168\u01a0\u01af\u01a1\u01b0\u1eb0\u1ea3\u1ea1\u1eb2\u1eb1\u1eb3\u1eb5\u1eaf\u1eb4\u1eae\u1ea6\u1ea8\u1eaa\u1ea4\u1ec0\u1eb7\u1ea7\u1ea9\u1eab\u1ea5\u1ead\u1ec2\u1ebb\u1ebd\u1eb9\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7\u1ec9\u1ec4\u1ebe\u1ed2\u0129\u1ecb\u1ed4\u1ecf\u1ecd\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u1edd\u1edf\u1ee1\u1edb\u1ee3\u1ed6\u1ee7\u0169\u1ee5\u1eeb\u1eed\u1eef\u1ee9\u1ef1\u1ef3\u1ef7\u1ef9\u1ef5\u1ed0I\u0131\u0130\u011e\u011f_$]*)/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"]],stringArg:[[/[^"y\\]"([^"\\]|\\.)*$/,"string.invalid"],[/f?"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[^'\\]'([^'\\]|\\.)*$/,"string.invalid"],[/f?'/,{token:"string.quote",bracket:"@open",next:"@char"}],[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z\xc0-\xd6\xd8-\xde\u0100-\u017d\u0180-\u01fa\u01fc-\u01fe\u0218-\u021a\u1ea0-\u1eac\u1eae-\u1eb4\u1eb6-\u1eb8\u1eba-\u1ebc\u1ebe-\u1ec4\u1ec6-\u1ec8\u1eca-\u1ecc\u1ece-\u1ed0\u1ed2-\u1ed4\u1ed6-\u1ed8\u1eda-\u1edc\u1ede-\u1ee0\u1ee2-\u1ee6\u1ee8-\u1eea\u1eec-\u1eee\u1ef0-\u1ef4\u1ef6-\u1ef8\u0410-\u042f\u0401\u0408\u0402\u0409\u040a\u040b\u040f\u04e8\u04ae]([0-9A-Za-z\xc0-\xfa\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xc1\xc9\xcd\xd3\xda\xdd\xe1\xe9\xed\xf3\xfa\xfd\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc3\xd1\xd5\xe3\xf1\xf5\xc4\xcb\xcf\xd6\xdc\xe4\xeb\xef\xf6\xfc\xe7\xc7\xdf\xd8\xf8\xc5\xe5\xc6\xe6\xde\xfe\xd0\xf0\u0151\u0171\u0150\u0170\u016f\xfd\u017e\u010d\u010f\u011b\u0148\u0159\u0161\u0165\u0104\u0141\u013d\u013f\u015a\u0160\u015e\u0164\u0179\u017d\u017b\u0105\u0142\u013e\u0140\u015b\u0161\u015f\u0165\u017a\u017e\u017c\u0154\u0102\u0106\u0139\xc7\u010c\u0118\u011a\xce\u010e\u0143\u0147\xd4\u0158\u016e\xdd\u0162\u0155\u0103\u0110\u0107\xe7\u010d\u0119\xee\u010f\u0111\u0144\u0148\u0159\u016f\xfd\u0163\u011b\u0218\u021a\u0219\u021b\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u0458\u0452\u0459\u045a\u045b\u045f\u0408\u0402\u0409\u040a\u040b\u040f\u04e9\u04af\u04e8\u04ae\u1ee4\u1eea\u1eec\u1eee\u1ee8\u1ef0\u1ef2\u1ef6\u1ef8\u1ef4\u1ea2\u1ea0\u1eb6\u1eac\u1eba\u1ebc\u1eb8\u1ec6\u1ec8\u0128\u1eca\u1ece\u1ecc\u1ed8\u1edc\u1ede\u1ee0\u1eda\u1ee2\u1ee6\u0168\u01a0\u01af\u01a1\u01b0\u1eb0\u1ea3\u1ea1\u1eb2\u1eb1\u1eb3\u1eb5\u1eaf\u1eb4\u1eae\u1ea6\u1ea8\u1eaa\u1ea4\u1ec0\u1eb7\u1ea7\u1ea9\u1eab\u1ea5\u1ead\u1ec2\u1ebb\u1ebd\u1eb9\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7\u1ec9\u1ec4\u1ebe\u1ed2\u0129\u1ecb\u1ed4\u1ecf\u1ecd\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u1edd\u1edf\u1ee1\u1edb\u1ee3\u1ed6\u1ee7\u0169\u1ee5\u1eeb\u1eed\u1eef\u1ee9\u1ef1\u1ef3\u1ef7\u1ef9\u1ef5\u1ed0I\u0131\u0130\u011e\u011f_$]*)/,"type.identifier"],{include:"@whitespace"},[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/}/,{token:"bracket",bracket:"@close",next:"@pop"}]],comment:[[/[^#]+/,"comment"]],string:[[/[^\\"{]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}],[/{/,{token:"bracket",bracket:"@open",next:"@stringArg"}]],char:[[/[^\\'{]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}],[/{/,{token:"bracket",bracket:"@open",next:"@stringArg"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/#.*$/,"comment"]]}};e.languages.setMonarchTokensProvider(t,r)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(224),t),i(r(847),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeStagePythonMixin=void 0;const n=r(4),i=r(143),o=r(226),a=r(225),s=r(107),l=r(844),c=r(845);function*p(e){for(let t of e)yield t}const u=Object.assign(Object.assign({range:(e,t,r)=>new i.PythonRange(e,t,r),str:s.str,repr:s.repr,number:e=>~~e,list:e=>n.ScoolcodeArray.from(e),bool:e=>!!e,dict:e=>new a.PythonDict(e),len:e=>(null===e||void 0===e?void 0:e.length)||0,randrange:(e,t,r)=>{void 0==t&&(t=e,e=0),void 0!=r&&0!==r||(r=1);const n=e;"undefined"===typeof e&&(e=0),"undefined"===typeof r&&(r=1);let i=~~((t-n)/r);return(t-n)%r>0&&i++,~~(Math.random()*i)*r+n},sorted:e=>[...e].sort(),filter:async(e,t)=>{const r=async t=>e(t),n=[];for(let i of t)await r(i)&&n.push(i);return p(n)},map:async(e,t)=>{const r=async t=>e(t),n=[];for(let i of t)n.push(await r(i));return p(n)}},o),{round:(e,t)=>{if(void 0===t)return Math.round(e);const r=10**t;return Math.round(e*r)/r}});t.ScoolcodeStagePythonMixin=class{constructor(){this.name="ScoolcodeStagePythonMixin"}get language(){return"python"}declare(e){e.declareType&&(e.declareType(i.PythonRangeInfo.Type),e.declareType(a.PythonDictInfo.Type),e.declareType(a.PythonDictViewInfo.Type)),e.declareMethod("range",i.PythonRangeInfo.Type).declareParameter("start",n.ValueType.Number,0).declareOptionalParameter("stop",n.ValueType.Number,10).declareOptionalParameter("step",n.ValueType.Number,1).declareBlock("range {start} to {stop} with step {step}",n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1,paramCount:3}).declareBlock("range {start} to {stop}",n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1,paramCount:2}).declareBlock("range to {start}",n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1,paramCount:1}),e.declareMethod("str",n.ValueType.String).declareOptionalParameter("value",n.ValueType.Any).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("repr",n.ValueType.String).declareParameter("value",n.ValueType.Any).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("number",n.ValueType.Number).declareParameter("value",n.ValueType.Any).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("list",n.ValueType.Array).declareOptionalParameter("value",n.ValueType.Iterable).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("bool",n.ValueType.Boolean).declareOptionalParameter("value",n.ValueType.Any).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("dict",a.PythonDictInfo.Type).declareOptionalParameter("other",n.ValueType.Iterable).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("len",n.ValueType.Number).declareParameter("scope",n.ValueType.Iterable).declareBlock("length of {scope}",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("randrange",n.ValueType.Number,!0,!1).declareParameter("start",n.ValueType.Number,0).declareOptionalParameter("stop",n.ValueType.Number,10).declareOptionalParameter("step",n.ValueType.Number,1).declareBlock("pick random {start} to {stop} with step {step}",n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1,paramCount:3}).declareBlock("pick random {start} to {stop}",n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1,paramCount:2}).declareBlock("pick random to {start}",n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1,paramCount:1}),e.declareMethod("sorted",n.ValueType.Array).declareParameter("iterable",n.ValueType.Iterable,1).declareOptionalParameter("key",n.UnionTypeInfo.for(n.ValueType.String,n.ValueType.Function)).declareOptionalParameter("reverse",n.ValueType.Boolean,!1).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("min",n.ValueType.Number).declareParameter("a",n.UnionTypeInfo.for(n.ValueType.Number,n.ValueType.Iterable),1).declareOptionalParameter("b",n.ValueType.Number,2).declareBlock(c.PythonBuiltIns2BlockInstance),e.declareMethod("max",n.ValueType.Number).declareParameter("a",n.UnionTypeInfo.for(n.ValueType.Number,n.ValueType.Iterable),1).declareOptionalParameter("b",n.ValueType.Number,2).declareBlock(c.PythonBuiltIns2BlockInstance),e.declareMethod("sum",n.ValueType.Number).declareParameter("a",n.UnionTypeInfo.for(n.ValueType.Number,n.ValueType.Iterable),1).declareOptionalParameter("b",n.ValueType.Number,2).declareBlock(c.PythonBuiltIns2BlockInstance),e.declareMethod("abs",n.ValueType.Number).declareParameter("a",n.ValueType.Number).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("round",n.ValueType.Number).declareParameter("a",n.ValueType.Number).declareOptionalParameter("digits",n.ValueType.Number).declareBlock(c.PythonBuiltIns2BlockInstance),e.declareMethod("all",n.ValueType.Boolean).declareParameter("iterable",n.ValueType.Iterable).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("any",n.ValueType.Boolean).declareParameter("iterable",n.ValueType.Iterable).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("bin",n.ValueType.String).declareParameter("a",n.ValueType.Number).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("oct",n.ValueType.String).declareParameter("a",n.ValueType.Number).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("hex",n.ValueType.String).declareParameter("a",n.ValueType.Number).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("chr",n.ValueType.String).declareParameter("a",n.ValueType.Number).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("ord",n.ValueType.Number).declareParameter("a",n.ValueType.String).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("enumerate",n.ValueType.Iterable).declareParameter("iterable",n.ValueType.Iterable).declareOptionalParameter("start",n.ValueType.Number),e.declareMethod("filter",n.ValueType.Iterable).declareParameter("func",n.ValueType.Function).declareParameter("iterable",n.ValueType.Iterable),e.declareMethod("map",n.ValueType.Iterable).declareParameter("func",n.ValueType.Function).declareParameter("iterable",n.ValueType.Iterable),e.declareMethod("pow",n.ValueType.Number).declareParameter("base",n.ValueType.Number).declareParameter("exp",n.ValueType.Number).declareOptionalParameter("mod",n.ValueType.Number).declareBlock(c.PythonBuiltIns2BlockInstance),e.declareMethod("reversed",n.ValueType.Iterable).declareParameter("iterable",n.ValueType.Iterable).declareBlock(l.PythonBuiltInsBlockInstance),e.declareMethod("zip",n.ValueType.Iterable).declareParameter("iterableA",n.ValueType.Iterable).declareParameter("iterableB",n.ValueType.Iterable).declareBlock(c.PythonBuiltIns2BlockInstance),e.declareMethod("divmod",n.ValueType.Array).declareParameter("x",n.ValueType.Number).declareParameter("y",n.ValueType.Number).declareBlock(c.PythonBuiltIns2BlockInstance),e.declareMethod("print",n.ValueType.Any).declareRepeatableParameter("message",n.ValueType.Any).declareBlock("print {message}",n.BlockColor.Operators)}implementation(e){const t=e instanceof n.ScoolcodeStagePart?e.stage:e;return u.input=e=>t.ask(e),u.print=(...e)=>t.Terminal.write(1==e.length?e[0]:e.join(" ")),u}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonBuiltInsBlockInstance=t.PythonBuiltInsInfo=void 0;const n=r(4);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("PythonBuiltIns",null,i.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("str",n.ValueType.String),this.declareReadOnlyProperty("repr",n.ValueType.String),this.declareReadOnlyProperty("number",n.ValueType.Number),this.declareReadOnlyProperty("list",n.ValueType.Array),this.declareReadOnlyProperty("bool",n.ValueType.Boolean),this.declareReadOnlyProperty("abs",n.ValueType.Number),this.declareReadOnlyProperty("all",n.ValueType.Boolean),this.declareReadOnlyProperty("any",n.ValueType.Boolean),this.declareReadOnlyProperty("bin",n.ValueType.String),this.declareReadOnlyProperty("oct",n.ValueType.String),this.declareReadOnlyProperty("hex",n.ValueType.String),this.declareReadOnlyProperty("chr",n.ValueType.String),this.declareReadOnlyProperty("ord",n.ValueType.String),this.declareReadOnlyProperty("reversed",n.ValueType.Iterable),this.declareReadOnlyProperty("sorted",n.ValueType.Iterable)}getStaticInstance(){return{str:n.ScoolcodeStage.Type.getMethod("str"),repr:n.ScoolcodeStage.Type.getMethod("repr"),number:n.ScoolcodeStage.Type.getMethod("number"),list:n.ScoolcodeStage.Type.getMethod("list"),bool:n.ScoolcodeStage.Type.getMethod("bool"),abs:n.ScoolcodeStage.Type.getMethod("abs"),all:n.ScoolcodeStage.Type.getMethod("all"),any:n.ScoolcodeStage.Type.getMethod("any"),bin:n.ScoolcodeStage.Type.getMethod("bin"),oct:n.ScoolcodeStage.Type.getMethod("oct"),hex:n.ScoolcodeStage.Type.getMethod("hex"),chr:n.ScoolcodeStage.Type.getMethod("chr"),ord:n.ScoolcodeStage.Type.getMethod("ord"),reversed:n.ScoolcodeStage.Type.getMethod("reversed"),sorted:n.ScoolcodeStage.Type.getMethod("sorted")}}}t.PythonBuiltInsInfo=i,i.Type=new i,i.Instance={};class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("operation",e,"method"),this.parameter("value",e,"parameters.0"),this.updateParts()}clone(e=!0){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.PythonBuiltInsBlockInstance=o,o.Definition=()=>new n.BlockDefinition("{operation} {value}",[new n.BlockParameterInfo("operation",i.Type),new n.BlockParameterInfo("value",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonBuiltIns2BlockInstance=t.PythonBuiltIns2Info=void 0;const n=r(4);class i extends n.ScoolcodeEnumInfoBase{constructor(){super("PythonBuiltIns2",null,i.Instance),this.valueType=n.ValueType.String,this.declareReadOnlyProperty("min",n.ValueType.Number),this.declareReadOnlyProperty("max",n.ValueType.Number),this.declareReadOnlyProperty("sum",n.ValueType.Number),this.declareReadOnlyProperty("pow",n.ValueType.Number),this.declareReadOnlyProperty("zip",n.ValueType.Iterable),this.declareReadOnlyProperty("divmod",n.ValueType.Array),this.declareReadOnlyProperty("round",n.ValueType.Number)}getStaticInstance(){return{min:n.ScoolcodeStage.Type.getMethod("min"),max:n.ScoolcodeStage.Type.getMethod("max"),sum:n.ScoolcodeStage.Type.getMethod("sum"),pow:n.ScoolcodeStage.Type.getMethod("pow"),zip:n.ScoolcodeStage.Type.getMethod("zip"),divmod:n.ScoolcodeStage.Type.getMethod("divmod"),round:n.ScoolcodeStage.Type.getMethod("round")}}}t.PythonBuiltIns2Info=i,i.Type=new i,i.Instance={};class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("operation",e,"method"),this.parameter("value",e,"parameters.0"),this.parameter("value2",e,"parameters.1"),this.updateParts()}clone(e=!0){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.PythonBuiltIns2BlockInstance=o,o.Definition=()=>new n.BlockDefinition("{operation} {value} {value2}",[new n.BlockParameterInfo("operation",i.Type),new n.BlockParameterInfo("value",n.ValueType.Any),new n.BlockParameterInfo("value2",n.ValueType.Any)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringPythonMixin=void 0;const n=r(4),i=new RegExp("\r\n?|\n|\v|\f|\x1c|\x1d|\x1e|\x85|\u2028|\u2029|\\\\r\\\\n|\\\\n|\\\\r","g"),o=new RegExp("(\r\n?|\n|\v|\f|\x1c|\x1d|\x1e|\x85|\u2028|\u2029|\\\\r\\\\n|\\\\n|\\\\r)","g"),a=new RegExp("^([0123456789]*)$"),s=new RegExp("^(\\s*)$"),l=new RegExp("^([0123456789\xb2\xb3\xb9\u2070\u2072-\u2079\xbc\xbd\xbe\u2150-\u215f\u2189]*)$"),c=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},p={capitalize:function(){return c(this)},center:function(e,t=" "){if(this.length>=e)return this;const r=e-this.length;let n=Math.ceil(r/2),i=r-n;if(this.length%2!==0){let e=n;n=i,i=e}return new Array(n).fill(t).join("")+this+new Array(i).fill(t).join("")},count:function(e,t=0,r){return(this.substring(t,r).match(new RegExp(e,"g"))||[]).length},endswith:function(e,t=0,r){return this.substring(t,r).endsWith(e)},index:function(e,t){const r=this.indexOf(e,t);if(-1===r)throw new Error("ValueError");return r},rindex:function(e,t){const r=this.lastIndexOf(e,t);if(-1===r)throw new Error("ValueError");return r},isdecimal:function(){return this.length&&a.test(this)},islower:function(){return this.length&&this.toLowerCase()===this},isnumeric:function(){return this.length&&l.test(this)},isspace:function(){return this.length&&s.test(this)},istitle:function(){const e=this.split(" ").map((e=>c(e))).join(" ");return this.length&&this===e},isupper:function(){return this.length&&this.toUpperCase()===this},join:function(e){return[...e].join(this)},ljust:function(e,t=" "){if(this.length>=e)return this;const r=e-this.length;return this+new Array(r).fill(t).join("")},lower:function(){return this.toLowerCase()},lstrip:function(e=" "){const t=""===e?" ":e;return this.length?this.replace(new RegExp("^(["+t+"]*)"),""):""},partition:function(e){const t=this.indexOf(e);if(t>-1){return new n.ScoolcodeArray(this.substring(0,t),e,this.substring(t+e.length))}return new n.ScoolcodeArray(this,"","")},removeprefix:function(e){return e.length&&this.startsWith(e)?this.substring(e.length):this},removesuffix:function(e){return e.length&&this.endsWith(e)?this.substring(0,this.length-e.length):this},replacePython:function(e,t,r){if("number"===typeof r){let n=this;for(let i=1;i<=r;i++)n=n.replace(e,t);return n}return this.replace(new RegExp(e,"g"),t)},rjust:function(e,t=" "){if(this.length>=e)return this;const r=e-this.length;return new Array(r).fill(t).join("")+this},rpartition:function(e){const t=this.lastIndexOf(e);if(t>-1){return new n.ScoolcodeArray(this.substring(0,t),e,this.substring(t+e.length))}return new n.ScoolcodeArray("","",this)},rstrip:function(e=" "){const t=""===e?" ":e;return this.length?this.replace(new RegExp("(["+t+"]*$)"),""):""},splitlines:function(e){let t;if(e){const e=this.split(o);t=[];for(let r=0;r<e.length;r+=2)t.push(e[r]+(e[r+1]||""))}else t=this.split(i);for(;""===t[t.length-1];)t.pop();return n.ScoolcodeArray.from(t)},startswith:function(e,t=0,r){return this.substring(t,r).startsWith(e)},strip:function(e=" "){const t=""===e?" ":e;return this.length?this.replace(new RegExp("(["+t+"]*$)"),"").replace(new RegExp("^(["+t+"]*)"),""):""},swapcase:function(){let e="";for(const t of this)t==t.toLowerCase()?e+=t.toUpperCase():t==t.toUpperCase()?e+=t.toLowerCase():e+=t;return e},title:function(){let e=[],t=this;for(;t;){const r=t.match(/(^[^\s0123456789]*)/);if(r){const n=r[0],i=n.split(" ");e.push(...i),t=t.substring(n.length)}if(t){const r=t.match(/(^[\s0123456789]*)/);if(r){const n=r[0];e.push(n),t=t.substring(n.length)}}}return e.map((e=>c(e))).join("")},upper:function(){return this.toUpperCase()},zfill:function(e){return this.length>=e?this:"0".repeat(e-this.length)+this},__repr__:function(){const e=-1!==this.indexOf("'"),t=-1!==this.indexOf('"');return e?t?`'${this.replace(/'/g,"\\'")}'`:`"${this}"`:`'${this}'`}};t.StringPythonMixin=class{constructor(){this.name="StringPythonMixin"}get language(){return"python"}declare(e){e.declareMethod("capitalize",n.ValueType.String),e.declareMethod("center",n.ValueType.String).declareParameter("width",n.ValueType.Number).declareOptionalParameter("fillchar",n.ValueType.String),e.declareMethod("count",n.ValueType.Number).declareParameter("value",n.ValueType.String).declareOptionalParameter("start",n.ValueType.Number).declareOptionalParameter("end",n.ValueType.Number),e.declareMethod("endswith",n.ValueType.Boolean).declareParameter("value",n.ValueType.String).declareOptionalParameter("start",n.ValueType.Number).declareOptionalParameter("end",n.ValueType.Number),e.declareMethod("find",n.ValueType.String).declareParameter("sub",n.ValueType.String).declareOptionalParameter("start",n.ValueType.Number).declareInternalName("indexOf"),e.declareMethod("index",n.ValueType.String).declareParameter("sub",n.ValueType.String).declareOptionalParameter("start",n.ValueType.Number),e.declareMethod("rindex",n.ValueType.String).declareParameter("sub",n.ValueType.String).declareOptionalParameter("start",n.ValueType.Number),e.declareMethod("isdecimal",n.ValueType.Boolean),e.declareMethod("islower",n.ValueType.Boolean),e.declareMethod("isnumeric",n.ValueType.Boolean),e.declareMethod("isupper",n.ValueType.Boolean),e.declareMethod("isspace",n.ValueType.Boolean),e.declareMethod("istitle",n.ValueType.Boolean),e.declareMethod("join",n.ValueType.String).declareParameter("iterable",n.ValueType.Array),e.declareMethod("ljust",n.ValueType.String).declareParameter("width",n.ValueType.Number).declareOptionalParameter("fillchar",n.ValueType.String),e.declareMethod("lower",n.ValueType.String).declareBlock("{this} to lowercase",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("lstrip",n.ValueType.String).declareOptionalParameter("characters",n.ValueType.String),e.declareMethod("partition",n.ValueType.String).declareParameter("value",n.ValueType.String),e.declareMethod("removeprefix",n.ValueType.String).declareParameter("prefix",n.ValueType.String),e.declareMethod("removesuffix",n.ValueType.String).declareParameter("suffix",n.ValueType.String),e.declareMethod("replace",n.ValueType.String).declareParameter("original",n.ValueType.String).declareParameter("new",n.ValueType.String).declareOptionalParameter("count",n.ValueType.Number).declareInternalName("replacePython"),e.declareMethod("rfind",n.ValueType.String).declareParameter("sub",n.ValueType.String).declareOptionalParameter("start",n.ValueType.Number).declareInternalName("lastIndexOf"),e.declareMethod("rjust",n.ValueType.String).declareParameter("width",n.ValueType.Number).declareOptionalParameter("fillchar",n.ValueType.String),e.declareMethod("rpartition",n.ValueType.String).declareParameter("value",n.ValueType.String),e.declareMethod("rstrip",n.ValueType.String).declareOptionalParameter("characters",n.ValueType.String),e.declareMethod("splitlines",n.ValueType.Array).declareOptionalParameter("keepends",n.ValueType.Boolean),e.declareMethod("startswith",n.ValueType.Boolean).declareParameter("value",n.ValueType.String).declareOptionalParameter("start",n.ValueType.Number).declareOptionalParameter("end",n.ValueType.Number),e.declareMethod("strip",n.ValueType.String).declareOptionalParameter("characters",n.ValueType.String),e.declareMethod("swapcase",n.ValueType.String),e.declareMethod("title",n.ValueType.String),e.declareMethod("upper",n.ValueType.String).declareBlock("{this} to uppercase",n.BlockColor.Operators,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("zfill",n.ValueType.String).declareParameter("length",n.ValueType.Number),e.declareMethod("__repr__",n.ValueType.String).markAsPrivate()}implementation(e){return p}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonLanguageMixin=void 0;const n=r(4),i=r(224),o=r(848),a=r(107),s=r(851),l=r(853),c=r(854),p=r(855),u=r(857);class d extends n.LanguageMixinCollection{constructor(){super(),this.declared=!1}static async register(){n.ScoolcodeModuleManager.registerLoader("python",new s.PythonModuleLoader),n.LanguageMixinManager.register(d.Instance)}get language(){return"python"}getEmptyStageSource(){return"stage:\n    pass"}declare(e,t){n.Terminal.stringBuilder=a.str,e.declareMixin(new i.ScoolcodeStagePythonMixin),this.declareForPart(),n.MathInfo.Type.declareAndApplyMixin(new p.MathPythonMixin),n.BlockGalleryFactory.registerMixin(new u.StagePythonBlockGalleryFactory),n.VariablesInfo.functionScopedVars=!0}declareForPart(){this.declared||(this.declared=!0,n.ValueType.String.declareAndApplyMixin(new i.StringPythonMixin),n.ValueType.Line.declareAndApplyMixin(new i.StringPythonMixin),n.ValueType.Array.declareAndApplyMixin(new o.ArrayPythonMixin),n.ValueType.Boolean.declareAndApplyMixin(new l.BooleanPythonMixin),n.ValueType.Number.declareAndApplyMixin(new c.NumberPythonMixin),n.IterableTypeNames.push(i.PythonDictInfo.Type.name))}}t.PythonLanguageMixin=d,d.Instance=new d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayPythonMixin=void 0;const n=r(4),i=r(107),o=r(849),a=r(850),s={append:function(e){this.push(e)},extend:function(e){this.push(...e)},insert:function(e,t){return this.insertAt(e,t)},popPython:function(e){return"undefined"===typeof e?this.pop():e>=0&&e<this.length?this.removeAt(e):void n.RuntimeEnvironment.error(null,"INVALID_INDEX",null,`pop(${e})`)},clear:function(){for(;this.length;)this.pop()},index:function(e,t=0,r){r||(r=this.length);for(let n=t;n<r;n++)if(this[n]===e)return n;return-1},count:async function(e){return(await this.filter((t=>t===e))).length},copy:function(){return n.ScoolcodeArray.from(this)},__str__:function(){return`[${Array.prototype.map.call(this,(e=>(0,i.repr)(e))).join(", ")}]`},__repr__:function(){return`[${Array.prototype.map.call(this,(e=>(0,i.repr)(e))).join(", ")}]`}};t.ArrayPythonMixin=class{constructor(){this.name="ArrayPythonMixin"}get language(){return"python"}declare(e){n.AssignmentAction.concatArrays=!0,e.declareMethod("append").declareParameter("element",n.ValueType.Any).declareBlock("add {element} to {this}",n.BlockColor.Data),e.declareMethod("extend").declareParameter("value",n.ValueType.Array).declareBlock("extend {this} list with {value} list",n.BlockColor.Data),e.declareMethod("insert").declareParameter("index",n.ValueType.Number).declareParameter("value",n.ValueType.Any).declareBlock("insert {value} at {index} of {this}",n.BlockColor.Data),e.declareMethod("remove").declareParameter("item",n.ValueType.Any).declareBlock("remove {item} from {this}",n.BlockColor.Data),e.declareMethod("pop",n.ValueType.Any).declareInternalName("popPython").declareOptionalParameter("index",n.ValueType.Number,0).declareBlock(o.ArrayPopBlockInstance,n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("clear").declareBlock("clear {this}",n.BlockColor.Data),e.declareMethod("index").declareParameter("searchElement",n.ValueType.Any,"").declareOptionalParameter("start",n.ValueType.Number).declareOptionalParameter("end",n.ValueType.Number).declareBlock("index of {searchElement} in {this}",n.BlockColor.Data,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0}),e.declareMethod("count",n.ValueType.Number).declareParameter("item",n.ValueType.Any).declareBlock("count {item} of {this}",n.BlockColor.Data,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1}),e.declareMethod("sort",n.ValueType.Array).declareOptionalParameter("sorter",n.ValueType.Function).declareBlock(a.ArraySortBlockInstance),e.declareMethod("reverse").declareBlock("reverse {this}",n.BlockColor.Data),e.declareMethod("copy",n.ValueType.Array).declareBlock("copy of {this}",n.BlockColor.Data,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1}),e.declareMethod("__str__",n.ValueType.String).markAsPrivate(),e.declareMethod("__repr__",n.ValueType.String).markAsPrivate()}implementation(e){return s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayPopBlockInstance=void 0;const n=r(4);class i extends n.BlockInstance{constructor(e,t){super(e.parameters.length?i.DefinitionAtIndex():i.DefinitionLast(),e,t),this.parameter("index",e,"parameters.0"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new i(this.originalAction,this.parent),e)}}t.ArrayPopBlockInstance=i,i.DefinitionAtIndex=()=>new n.BlockDefinition("get and remove {index} from {this}",[new n.BlockParameterInfo("index",n.ValueType.Number),new n.BlockParameterInfo("this",n.ListsInfo.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Data},"array.popAt"),i.DefinitionLast=()=>new n.BlockDefinition("get and remove last item from {this}",[new n.BlockParameterInfo("index",n.ValueType.Number),new n.BlockParameterInfo("this",n.ListsInfo.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Data},"array.popLast")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArraySortBlockInstance=void 0;const n=r(4);class i extends n.BlockInstance{constructor(e,t){super(e.parameters.length?i.DefinitionBy():i.Definition(),e,t),this.action=e,this.parameter("sorter",this,"sortFunctionName"),this.updateParts()}get sortFunctionName(){if(1==this.action.parameters.length&&this.action.parameters[0]instanceof n.ReadPropertyAction)return this.action.parameters[0].property}set sortFunctionName(e){1==this.action.parameters.length&&(this.action.parameters[0].name=e)}}t.ArraySortBlockInstance=i,i.DefinitionBy=()=>new n.BlockDefinition("sort {this} by {sorter}",[new n.BlockParameterInfo("sorter",n.FunctionsInfo.Type),new n.BlockParameterInfo("this",n.ListsInfo.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Data},"array.sortBy"),i.Definition=()=>new n.BlockDefinition("sort {this}",[new n.BlockParameterInfo("this",n.ListsInfo.Type)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Data},"array.sort")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonModuleLoader=void 0;const n=r(4),i=r(227),o=r(852);t.PythonModuleLoader=class{async loadModule(e){await i.RealPython.Instance.init();const t=await i.RealPython.Instance.loadPackage(e);if(!t)return null;return{info:i.RealPython.Instance.reflectionEnabled&&!t.toString().includes("(built-in)")?new o.PythonModuleInfo(e):new n.ScoolcodeDynamicModuleInfo(e),module:t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonModuleInfo=void 0;const n=r(4),i=r(227);class o extends n.ScoolcodeModuleObjectInfoBase{constructor(e){super(e,n.ScoolcodeObjectBase.Type,i.RealPython.Instance.getPackage(e));const t=i.RealPython.Instance.inspectPackage(e);for(let[r,i,o,a]of t){if(r.startsWith("_"))continue;let t;if("method"===i){t=this.declareMethod(r,n.ValueType.Dynamic);const i=o.indexOf("/");let a=o.substring(1,-1===i?o.length-1:i-1).split(",").filter((e=>e.length&&-1===e.indexOf("*"))),s=[];for(let e of a){const r=e.split("=")[0];t.declareParameter(r,n.ValueType.Any),s.push(`${r}: {${r}}`)}t.declareBlock(`\ud83d\udce6${e}.${r} (${s.join(", ")})`)}else t=this.declareProperty(r,n.ValueType.Dynamic).declareNameForBlocks(`\ud83d\udce6${e}.${r}`);t.description=a}}}t.PythonModuleInfo=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanPythonMixin=void 0;const n=r(4),i={__str__:function(){return this?"True":"False"},__repr__:function(){return this?"True":"False"}};t.BooleanPythonMixin=class{constructor(){this.name="BooleanPythonMixin"}get language(){return"python"}declare(e){e.declareMethod("__str__",n.ValueType.String).markAsPrivate(),e.declareMethod("__repr__",n.ValueType.String).markAsPrivate()}implementation(e){return i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberPythonMixin=void 0;const n=r(4),i=e=>Math.trunc(e).toString(2),o={as_integer_ratio:function(){if(Number.isInteger(this))return[this,1];let e=this<0,t=Math.abs(this),r=1;for(;t!=Math.trunc(t);)t*=10,r*=10;for(;t%2==0&&r%2==0;)t/=2,r/=2;for(;t%5==0&&r%5==0;)t/=5,r/=5;return n.ScoolcodeArray.from([t*(e?-1:1),r])},bit_count:function(){const e=i(this);let t=0;for(const r of e)"1"===r&&t++;return t},bit_length:function(){if(0===this)return 0;const e=i(this);return e.length-(e.startsWith("-")?1:0)},is_integer:function(){return Number.isInteger(this)}};t.NumberPythonMixin=class{constructor(){this.name="NumberPythonMixin"}get language(){return"python"}declare(e){e.declareMethod("as_integer_ratio",n.ValueType.Number),e.declareMethod("bit_count",n.ValueType.Number),e.declareMethod("bit_length",n.ValueType.Number),e.declareMethod("is_integer",n.ValueType.Boolean)}implementation(e){return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathPythonMixin=void 0;const n=r(4),i=r(856),o={randomBetween:(e,t)=>~~(Math.random()*(t-e))+e,atan2:(e,t)=>Math.atan2(e,t)*n.RAD_TO_DEG,roundToDigits:(e,t)=>{const r=10**t;return Math.round(e*r)/r}};t.MathPythonMixin=class{constructor(){this.name="MathPythonMixin"}get language(){return"python"}declare(e){const t=t=>{e.declareMethod(t,n.ValueType.Number,!0,!1).declareParameter("a",n.ValueType.Numeric,1).declareRepeatableParameter("b",n.ValueType.Numeric,2).declareBlock(i.Math2PythonBlockInstance,n.BlockColor.Operators,{embeddable:!0,hasTopConnector:!1,hasBottomConnector:!1})};t("atan2"),t("roundToDigits")}implementation(e){return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Math2PythonBlockInstance=t.Math2PythonOperationInfo=void 0;const n=r(4);class i extends n.Math2OperationInfo{constructor(){super("Math2StageScriptOperation",i.Instance)}getStaticInstance(){const e={},t=super.getStaticInstance();for(const r of Object.keys(t))e[r]=t[r];return e}}t.Math2PythonOperationInfo=i,i.Type=new i,i.Instance={};class o extends n.BlockInstance{constructor(e,t){super(o.Definition(),e,t),this.parameter("operation",e,"method"),this.parameter("value",e,"parameters.0"),this.parameter("value2",e,"parameters.1"),this.updateParts()}clone(e=!0,t=null){return this.cloneInto(new o(this.originalAction,this.parent),e)}}t.Math2PythonBlockInstance=o,o.Definition=()=>new n.BlockDefinition("{operation} {value} {value2}",[new n.BlockParameterInfo("operation",i.Type),new n.BlockParameterInfo("value",n.ValueType.Number),new n.BlockParameterInfo("value2",n.ValueType.Number)],n.ValueType.Number,n.BlockShape.Normal,{hasTopConnector:!1,hasBottomConnector:!1,embeddable:!0,color:n.BlockColor.Operators})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StagePythonBlockGalleryFactory=void 0;const n=r(4);t.StagePythonBlockGalleryFactory=class{constructor(){this.createBlocks=()=>{const e=n.BlockGalleryFactory.utils;e.loopBase=0;return{doForIn:(t=10,r="i")=>{const i=e.call(n.ScoolcodeStage.Type,"range",e.number(t));return i.instance=n.BlockGalleryFactory.stage,new n.ForInStatementAction([r],!1,i,new n.ActionList)},doForInRange:(t=10,r="i")=>{const i=e.call(n.ScoolcodeStage.Type,"range",e.number(0),e.number(t),e.number(1));return i.instance=n.BlockGalleryFactory.stage,new n.ForInStatementAction([r],!1,i,new n.ActionList)},"letFuncScopeVar:to:":()=>new n.DeclareVariableWithValueAction(" ",!1,null,n.ValueType.Numeric,!1),Null:()=>new n.UndefinedLiteralAction("None"),"setFuncScopeVar:to:":()=>{const t=new n.ReadVariableAction(" ");return t.mightBeDeclaration=!0,new n.AssignmentAction(t,e.number(10),n.AssignmentOperators.Assign)},"computeFunction:of:":()=>new n.ExecuteAsAction(e.read(n.ScoolcodeStage.Type,"Math"),e.call(n.MathInfo.Type,"sqrt",e.number(10))),"computeFunction:of::":()=>new n.ExecuteAsAction(e.read(n.ScoolcodeStage.Type,"Math"),e.call(n.MathInfo.Type,"atan2",e.number(10),e.number(10))),pythonBuiltIns:()=>e.call(n.ScoolcodeStage.Type,"str",e.number(1)),pythonBuiltIns2:()=>e.call(n.ScoolcodeStage.Type,"round",e.number(1),e.number(2)),"pop:from:":()=>e.callOnArray("pop",e.variable(void 0)),"pop:at:from:":()=>e.callOnArray("pop",e.variable(void 0),e.number(0))}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScoolcodeProjectGenerator=void 0;const n=r(4),i=r(141),o=r(144),a=r(208),s=r(140),l=r(217);class c{async compileSource(e,t,r){return(await i.Compiler.compileSource(e,this,t,{})).result}async loadPartContainer(e){try{return(await(async()=>await s.default.get(`${p.apiUrl}/files/${e}/data`))()).data}catch(t){return null}}}class p{static async getMiniQuizTemplateData(e,t){try{return(await(async()=>await s.default.get(`${p.apiUrl}/mini-quiz-templates/${e}`,{params:{access_token:t}}))()).data}catch(r){return null}}static async projectDataFromSource(e){e.skipCompilation=!0;let t=new o.ScoolcodeProject;if(t.title=e.title,t.description="",t.mode=e.mode||"mix",t.language=e.language,t.source=e.source,t.features=Object.assign({},a.defaultScoolcodeFeatures),t.symbols="undefined"===typeof e.symbols?this.defaultSymbols:e.symbols,!0===e.fullScreen&&(t.features.changePlayerLayout=!1,t.features.player="full-screen"),t.metadata={mobile:!1},t.blockPaletteId=e.blockPaletteId,t.assetGalleryId=e.assetGalleryId?e.assetGalleryId:"",e.skipCompilation)return t.serialize();{let r=new c,i=await r.compileSource(e.source,e.language);if(i){let o=new n.RuntimeBuilder(e.language);t.application=o.buildApplication(i);const a=t.serialize();return t=null,o=null,r=null,i=null,a}}}static async buildProjectData(e){var t;return e.language||(e.language="stagescript"),e.source||(e.source="python"===e.language?(t=e.template)?`stage:\n    backdrop ${t.backdropName}("${t.backdropUrl}")\n\n    actor ${t.actorName}:\n${t.actorCostumes.map((e=>`        costume ${e.name}("${e.url}")\n`)).join("")}\n        when started:\n            pass\n`:'stage:\n    backdrop Planets("gallery:Planets_Universe/Planets")\n    \n    actor UFO:\n        costume UFO_1("gallery:Spaceships_Universe/Flat UFO 1")\n        costume UFO_2("gallery:Spaceships_Universe/Flat UFO 2")\n        costume UFO_3("gallery:Spaceships_Universe/Flat UFO 3")\n        costume UFO_4("gallery:Spaceships_Universe/Flat UFO 4")\n        when started:\n            pass\n':(e=>e?`stage {\n    backdrop ${e.backdropName}("${e.backdropUrl}")\n    \n    actor ${e.actorName} {\n${e.actorCostumes.map((e=>`        costume ${e.name}("${e.url}")\n`)).join("")}\n        when stage.started {\n            \n        }\n    }\n}`:'stage {\n    backdrop Planets("gallery:Planets_Universe/Planets")\n    \n    actor UFO {\n        costume UFO_1("gallery:Spaceships_Universe/Flat UFO 1")\n        costume UFO_2("gallery:Spaceships_Universe/Flat UFO 2")\n        costume UFO_3("gallery:Spaceships_Universe/Flat UFO 3")\n        costume UFO_4("gallery:Spaceships_Universe/Flat UFO 4")\n        when stage.started {\n            \n        }\n    }\n}')(e.template)),await p.projectDataFromSource(e)}static async buildMiniQuizProjectData(e,t,r){e.language||(e.language="stagescript");const n=await p.getMiniQuizTemplateData(t.metadata.templateId,r);if(!n)return null;const i=()=>{const e=t.questions.map(((e,t)=>{const r=e.actorName?e.actorName:n.actorName;return[`${r+t}`,r,["quiz-question",e.question,e.correctOption,...e.incorrectOptions]]}));return JSON.stringify(e,void 0,2)},o=`stage {\n    default scene QuizScene from "${n.scene}";\n    scene StartMenu from "${n.scene}";\n    scene EndMenu from "${n.scene}";\n    use QuizRuntimeFrame from "${n.scene}";\n                            \n    when started {\n        QuizRuntimeFrame.begin(\n            ${i()},\n            QuizScene,\n            EndMenu\n        )         \n    } \n}`,a=`stage:\n    default scene QuizScene from "${n.scene}";\n    scene StartMenu from "${n.scene}";\n    scene EndMenu from "${n.scene}";\n    use QuizRuntimeFrame from "${n.scene}";\n                            \n    when started:\n        QuizRuntimeFrame.begin(\n            ${i()},\n            QuizScene,\n            EndMenu\n        )         \n`;return e.source="python"===e.language?a:o,e.fullScreen=!0,await p.projectDataFromSource(e)}}t.ScoolcodeProjectGenerator=p,p.apiUrl=(null===l.runtimeEnv||void 0===l.runtimeEnv?void 0:l.runtimeEnv.REACT_APP_API_URL)?l.runtimeEnv.REACT_APP_API_URL:"",p.defaultSymbols=void 0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockMatrix=void 0;const n=r(4),i=r(4);t.BlockMatrix=class{static create(e,t,r=n.ScoolcodeActor.Type){const o=e=>new n.NumericLiteralAction(e),a=e=>new n.StringLiteralAction(e),s=(e,t,...r)=>new n.CallMethodAction(e.getMethod(t),r),l=(e,t,...r)=>new n.EventHandlerAction(e.getEvent(t),r,new n.ActionList),c=l.bind(this,r),p=l.bind(this,t),u=s.bind(this,r),d=(r,...i)=>{const o=new n.CallMethodAction(t.getMethod(r),i);return o.instance=e,o},h=(e,t)=>new n.ReadPropertyAction(e.getProperty(t)),f=h.bind(this,r),m=r=>{const i=new n.ReadPropertyAction(t.getProperty(r));return i.instance=e,i},g=((e,t,r)=>new n.AssignmentAction(new n.ReadPropertyAction(e.getProperty(t)),r,n.AssignmentOperators.Assign)).bind(this,r),y=((e,t,r)=>new n.AssignmentAction(new n.ReadPropertyAction(e.getProperty(t)),r,n.AssignmentOperators.Additive)).bind(this,r),v=((e,t,r,i)=>new n.AssignmentAction(new n.ReadPropertyAction(e.getProperty(t)),r,i)).bind(this,r),b=(e,...t)=>{return r=s(n.ScoolcodePen.Type,e,...t),new n.ExecuteAsAction(f("pen"),r);var r},S=e=>{return t=h(n.ScoolcodePen.Type,e),new n.ExecuteOfAction(f("pen"),t);var t},T=(e,t)=>((e,t,r)=>new n.AssignmentAction(t,r,n.AssignmentOperators.Assign))(n.ScoolcodePen.Type,S(e),t),w=(e,t)=>((e,t,r)=>new n.AssignmentAction(t,r,n.AssignmentOperators.Additive))(n.ScoolcodePen.Type,S(e),t),E=(e,t,...r)=>((e,t)=>new n.ExecuteAsAction(t,e))(s(n.ValueType.String,e,...r),t),x=(e,t)=>((e,t)=>new n.ExecuteOfAction(t,e))(h(n.ValueType.String,e),t),_=(e,t,...r)=>((e,t)=>new n.ExecuteAsAction(e,t))(t,s(n.ValueType.Array,e,...r)),k={[-1]:n.AssignmentOperators.Subtractive,1:n.AssignmentOperators.Additive},O={AllAround:n.RotationStyleInfo.Instance.allAround,"left-right":n.RotationStyleInfo.Instance.leftRight,No:n.RotationStyleInfo.Instance.none},A={Center:n.CoordinateSystemInfo.Instance.center,TopLeft:n.CoordinateSystemInfo.Instance.topLeft,TopRight:n.CoordinateSystemInfo.Instance.topRight,BottomLeft:n.CoordinateSystemInfo.Instance.bottomLeft,BottomRight:n.CoordinateSystemInfo.Instance.bottomRight,Polar:n.CoordinateSystemInfo.Instance.polar},C={year:"getFullYear",month:"getMonth",date:"getDate",day:"getDay",hour:"getHours",minute:"getMinutes",second:"getSeconds"},M=e=>e instanceof n.NumericLiteralAction,P=e=>M(e)?new n.ReadVariableAction(e.value):e;return{"forward:":e=>u("move",e),"turn:":e=>u(90==e.value?n.TurnBlockInstance.DirectionInfo.Type.getStaticInstance().right.name:n.TurnBlockInstance.DirectionInfo.Type.getStaticInstance().left.name,o(90)),"turnLeft:":e=>u(n.TurnBlockInstance.DirectionInfo.Type.getStaticInstance().left.name,e),"turnRight:":e=>u(n.TurnBlockInstance.DirectionInfo.Type.getStaticInstance().right.name,e),"turnMinRight:":e=>u(n.TurnBlockInstance.DirectionInfo.Type.getStaticInstance().right.name,e),"turnMinLeft:":e=>u(n.TurnBlockInstance.DirectionInfo.Type.getStaticInstance().left.name,e),bounceOffEdge:()=>u("bounceOffEdge"),"changeXposBy:":e=>y("x",e),"changeYposBy:":e=>y("y",e),"changeXposDir:By:":(e,t)=>v("x",t,k[e.value]),"changeYposDir:By:":(e,t)=>v("y",t,k[e.value]),"coordinateSystem:":e=>{return t="coordinateSystem",r=a(A[e.value]),new n.AssignmentAction(m(t),r,n.AssignmentOperators.Assign);var t,r},"glideSecs:toX:y:elapsed:from:":(e,t,r)=>u("glideSecondsTo",e,t,r),MousePosition:()=>new n.ExecuteAsAction(m("Pointer"),new n.ReadPropertyAction(n.PointerInfo.Type.getProperty("position"))),"gotoSpriteOrMouse:":e=>u("goTo",M(e)?m(e.value):e),gotoCenter:()=>u("goTo",new n.ExecuteAsAction(m("Position"),new n.ReadPropertyAction(n.PositionInfo.Type.getProperty("center")))),"gotoX:y:":(e,t)=>u("setPosition",e,t),heading:()=>f("heading"),"heading:":e=>g("heading",e),"headingNSWE:":e=>g("heading",e),"pointTowards:":e=>u("pointTowards",M(e)?m(e.value):e),setRotationStyle:e=>g("rotationStyle",a(O[e.value])),xpos:()=>f("x"),"xpos:":e=>g("x",e),ypos:()=>f("y"),"ypos:":e=>g("y",e),backdropIndex:()=>m("sceneId"),backdropName:()=>m("sceneName"),"changeSizeBy:":e=>y("size",e),"changeSize:dir:by:":(e,t)=>v("size",t,k[e.value]),comeToFront:()=>u("goToFront"),costumeIndex:()=>f("costumeId"),costumeName:()=>f("costumeName"),"goBackByLayers:":e=>u("goBackwardBy",e),hide:()=>u("hide"),"lookLike:":e=>u("setCostume",e),nextCostume:()=>u("nextCostume"),nextScene:()=>d("nextScene"),previousCostume:()=>u("previousCostume"),previousScene:()=>d("previousScene"),resetSize:()=>u("resetSize"),"say:":e=>u("say",e),"think:":e=>u("say",e),"say:duration:elapsed:from:":(e,t)=>u("sayForSeconds",e,t),"think:duration:elapsed:from:":(e,t)=>u("sayForSeconds",e,t),scale:()=>f("size"),"setSizeTo:":e=>g("size",e),show:()=>u("show"),"startScene:":e=>d("setScene",M(e)?m(e.value):e),doAsk:e=>d("askToAnswer",e),"[embedded]doAsk":e=>d("ask",e),answer:()=>m("answer"),"distanceTo:":e=>u("distanceTo",M(e)?m(e.value):e),"keyPressed:":e=>d("isKeyPressed",e),mousePressed:()=>new n.ExecuteOfAction(m("Pointer"),h(n.PointerInfo.Type,"isDown")),mouseX:()=>new n.ExecuteOfAction(m("Pointer"),h(n.PointerInfo.Type,"x")),mouseY:()=>new n.ExecuteOfAction(m("Pointer"),h(n.PointerInfo.Type,"y")),"ScoolcodeActor.directionTo":e=>u("directionTo",e),"ScoolcodeActor.isPointerOver":()=>u("isPointerOver"),timeAndDate:e=>new n.ExecuteAsAction(m("Date"),s(n.DateInfo.Type,C[e.value])),timer:()=>new n.ExecuteAsAction(m("Timer"),s(n.TimerInfo.Type,"read")),timerReset:()=>new n.ExecuteAsAction(m("Timer"),s(n.TimerInfo.Type,"reset")),timestamp:()=>new n.ExecuteAsAction(m("Date"),s(n.DateInfo.Type,"daysSince2000")),Edge:()=>new n.ExecuteAsAction(m("Edge"),new n.ReadPropertyAction(n.EdgeInfo.Type.getProperty("any"))),"touching:":e=>e.scope&&"Pointer"==e.scope.name?u("isPointerOver"):M(e)?u("touchingActorOrClone",m(e.value)):u("touching",e),"touchingPixel:":e=>e.scope&&"Pointer"==e.scope.name?u("isPointerOver"):M(e)?u("touchingActorOrClone",m(e.value)):u("touching",e),doPlaySoundAndWait:e=>u("playSoundAndWait",e),"playSound:":e=>u("playSound",e),"broadcast:":e=>d("broadcast",e),doBroadcastAndWait:e=>d("broadcastAndWait",e),eventData:()=>new n.ReadEventDataAction,whenClicked:()=>c("clicked"),whenCloned:()=>c("cloned"),whenGreenFlag:()=>p("started"),whenIReceive:e=>p("signalReceived",e),whenIReceiveNetwork:e=>p("dataReceived",e),whenKeyPressed:e=>p("keyPressed",e),whenSceneStarts:e=>p("sceneChanged",e),"wait:elapsed:from:":e=>d("wait",e),doRepeat:(e,t)=>new n.ForStatementAction(new n.DeclareVariableWithValueAction("__counter__",!0,o(1),i.ValueType.Numeric,!1),new n.LowerThanOrEqualsOperatorAction(new n.ReadVariableAction("__counter__"),e),new n.PostfixAssignmentAction(new n.ReadVariableAction("__counter__"),n.UnaryAssignmentOperators.Increment),t),"doRepeatAs:":(e,t,r)=>new n.ForStatementAction(new n.DeclareVariableWithValueAction(t.value,!0,o(1),i.ValueType.Numeric,!1),new n.LowerThanOrEqualsOperatorAction(new n.ReadVariableAction(t.value),e),new n.PostfixAssignmentAction(new n.ReadVariableAction(t.value),n.UnaryAssignmentOperators.Increment),r),doForOf:(e,t,r)=>new i.ForOfStatementAction(e,!1,t,r),doForever:e=>new n.WhileStatementAction(new n.BooleanLiteralAction(!0),e),doIf:(e,t)=>new n.IfStatementAction(e,t),doIfElse:(e,t,r)=>new n.IfElseStatementAction(e,t,r),doLineComment:e=>new n.LineCommentStatementAction(null,e),doMultiLineComment:e=>new n.MultiLineCommentStatementAction(null,e),doWaitUntil:e=>new n.WhileStatementAction(new n.UnaryNotOperatorAction(e),new n.ActionList),doWhile:(e,t)=>new n.WhileStatementAction(e,t),doUntil:(e,t)=>new n.WhileStatementAction(new n.UnaryNotOperatorAction(e),t),doDoWhile:(e,t)=>new n.DoWhileStatementAction(e,t),createCloneOf:e=>d("createClone",M(e)?m(e.value):e),deleteClone:()=>u("deleteClone"),cloneIndex:()=>f("cloneId"),"clone:":e=>u("getClone",e),This:()=>new n.ReadThisAction,clearPenTrails:()=>d("clearPenTrails"),stampCostume:()=>u("stampCostume"),putPenDown:()=>b("down"),putPenUp:()=>b("up"),"changePenHueBy:":e=>w("hue",e),"setPenHueTo:":e=>T("hue",e),"changePenShadeBy:":e=>w("shade",e),"setPenShadeTo:":e=>T("shade",e),"changePenSizeBy:":e=>w("size",e),"penSize:":e=>T("size",e),"letVar:to:":(e,t)=>new n.DeclareVariableWithValueAction(e.value,!1,t,i.ValueType.Numeric,!1),"letBlockVar:to:":(e,t)=>new n.DeclareVariableWithValueAction(e.value,!0,t,i.ValueType.Numeric,!1),readVariable:e=>new n.ReadVariableAction(e.value),"setVar:to:":(e,t)=>new n.AssignmentAction(new n.ReadVariableAction(e.value),t,n.AssignmentOperators.Assign),"hideVariable:":e=>d("hideVariable",new n.ReferenceOperatorAction(new n.ReadVariableAction(e.value))),"changeVar:by:":(e,t)=>new n.AssignmentAction(new n.ReadVariableAction(e.value),t,n.AssignmentOperators.Additive),"showVariable:":e=>d("showVariable",new n.ReferenceOperatorAction(new n.ReadVariableAction(e.value))),emptyList:()=>new n.ArrayLiteralAction([]),"item:of:":(e,t)=>new n.ReadVariableIndexerAction(t.value,e,!1,!1),"push:into:":(e,t)=>_("push",P(t),e),"pop:from:":e=>_("pop",P(e)),"unshift:into:":(e,t)=>_("unshift",P(t),e),"shift:from:":e=>_("shift",P(e)),"item:of:to:":(e,t,r)=>new n.AssignmentAction(new n.ReadVariableIndexerAction(t.value,e,!1,!1),r,n.AssignmentOperators.Assign),"insert:at:ofList:":(e,t,r)=>_("insertAt",P(r),e,t),"item:of:by:":(e,t,r)=>new n.AssignmentAction(new n.ReadVariableIndexerAction(t.value,e,!1,!1),r,n.AssignmentOperators.Additive),"remove:from:":(e,t)=>_("remove",P(t),e),"removeAt:from:":(e,t)=>_("removeAt",P(t),e),"removeItemsAt:from:":(e,t,r)=>_("removeItemsAt",P(r),e,t),"lengthOf:":e=>((e,t=" ")=>new n.ExecuteOfAction(new n.ReadVariableAction(t),e))(h(n.ValueType.Array,"length"),e.value),"item:in:":(e,t)=>_("includes",P(t),e),"fill:array:":(e,t)=>_("fill",P(t),e),"join:with:":(e,t)=>_("join",P(t),e),"indexOf:in:":(e,t)=>_("indexOf",P(t),e),"lastIndexOf:in:":(e,t)=>_("lastIndexOf",P(t),e),"reverse:":e=>_("reverse",P(e)),"concat:array:":(e,t)=>_("concat",P(t),P(e)),return:()=>new n.ReturnStatementAction(null),"return:":e=>new n.ReturnStatementAction(e),call:()=>new n.CallFunctionAction(" ",[],!1),"[embedded]call":()=>new n.CallFunctionAction(" ",[],!0),"httpGet:":e=>new n.ExecuteAsAction(m("Network"),new n.CallMethodAction(n.NetworkInfo.Type.getMethod("getJSON"),[e])),"+":(e,t)=>new n.AdditiveOperatorAction(e,t,!1,!1),"-":(e,t)=>new n.SubtractiveOperatorAction(e,t),"*":(e,t)=>new n.MultiplicativeOperatorAction(e,t,!1,!1),"/":(e,t)=>new n.DivisiveOperatorAction(e,t),"randomFrom:to:":(e,t)=>new n.ExecuteAsAction(m("Math"),s(n.MathInfo.Type,"randomBetween",e,t)),"<":(e,t)=>new n.LowerThanOperatorAction(e,t),"<=":(e,t)=>new n.LowerThanOrEqualsOperatorAction(e,t),"=":(e,t)=>new n.EqualsOperatorAction(e,t,!1,"javascript"),"!=":(e,t)=>new n.NotEqualsOperatorAction(e,t,!1,"javascript"),">":(e,t)=>new n.GreaterThanOperatorAction(e,t),">=":(e,t)=>new n.GreaterThanOrEqualsOperatorAction(e,t),"&":(e,t)=>new n.LogicalAndOperatorAction(e,t),"|":(e,t)=>new n.LogicalOrOperatorAction(e,t),not:e=>new n.UnaryNotOperatorAction(e),"letter:of:":(e,t)=>E("charAt1",t,e),"stringLength:":e=>x("length",e),"split:with:":(e,t)=>E("split",t,e),"substring:from:to:":(e,t,r)=>E("substring",r,e,t),"toLowerCase:":e=>E("toLowerCase",e),"toUpperCase:":e=>E("toUpperCase",e),"%":(e,t)=>new n.ModuloOperatorAction(e,t),rounded:e=>new n.ExecuteAsAction(m("Math"),s(n.MathInfo.Type,"round",e)),"computeFunction:of:":(e,t)=>new n.ExecuteAsAction(m("Math"),s(n.MathInfo.Type,e.value,t)),"computeFunction:of::":(e,t,r)=>new n.ExecuteAsAction(m("Math"),s(n.MathInfo.Type,e.value,t,r)),true:()=>new n.BooleanLiteralAction(!0),false:()=>new n.BooleanLiteralAction(!1),Null:()=>new n.NullLiteralAction,"concatenate:with:":(e,t)=>d("concat",e,t),"exec:context:":(e,t)=>new n.ExecuteOfAction(m(e.value),t),getUserName:()=>m("username")}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mixSourceTransformMap=void 0,t.mixSourceTransformMap=[{pattern:/\n(\s*)(@.*)\n/g,replacer:"\n$1//$2\n"},{pattern:/console\.log/g,replacer:"Terminal.write"},{pattern:/\.position/g,replacer:""},{pattern:/\.goBackBy/g,replacer:".goBackwardBy"},{pattern:/\.contains/g,replacer:".includes"},{pattern:/\.touchingPrecisely\((['"].*['"]|[^'"]*)\)/g,replacer:".touching($1)"},{pattern:/(\s)scene(\s)/g,replacer:"$1backdrop$2"},{pattern:/(['"])left-right(['"])/g,replacer:"$1leftRight$2"},{pattern:/(['"])AllAround(['"])/g,replacer:"$1allAround$2"},{pattern:/(Number|Test|Position|Terminal|Pointer|CoordinateSystem|PenShape|RotationStyle)(\s)/g,replacer:"$1View$2"},{pattern:/\.setScene\(['"](.*)['"]\)/g,replacer:".scene = $1"},{pattern:/\.setScene\((.*)\)/g,replacer:".scene = $1"},{pattern:/Mouse\.Position/g,replacer:"Pointer"},{pattern:/Mouse\.isDown/g,replacer:"Pointer.down"},{pattern:/Mouse/g,replacer:"Pointer"},{pattern:/Keyboard\.isKeyPressed/g,replacer:"isKeyPressed"},{pattern:/keyPressed/g,replacer:"keyPressed"},{pattern:/stage\.broadcast\((['"](.*)['"])\)/g,replacer:"broadcast($1)"},{pattern:/stage\.createClone/g,replacer:"createClone"},{pattern:/stage\.clearPenTrails/g,replacer:"clearPenTrails()"},{pattern:/this\.showVariable\s*\(['"](.*)['"]\)/g,replacer:"showVariable(ref $1)"},{pattern:/this\.hideVariable\s*\(['"](.*)['"]\)/g,replacer:"hideVariable(ref $1)"}]},,function(e,t,r){"use strict";r(863),r(864),r(865),r(866),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(e,t,r){"use strict";var n,i=r(102),o=(n=i)&&n.__esModule?n:{default:n};Object.assign||(Object.assign=o.default)},function(e,t,r){"use strict";(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!e.performance||!e.performance.now){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!e.requestAnimationFrame;++i){var o=n[i];e.requestAnimationFrame=e[o+"RequestAnimationFrame"],e.cancelAnimationFrame=e[o+"CancelAnimationFrame"]||e[o+"CancelRequestAnimationFrame"]}e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!==typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),n=16+r-t;return n<0&&(n=0),r=t,setTimeout((function(){r=Date.now(),e(performance.now())}),n)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)})}).call(this,r(47))},function(e,t,r){"use strict";Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1})},function(e,t,r){"use strict";Number.isInteger||(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e})},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(147),o=(n=i)&&n.__esModule?n:{default:n},a=r(13);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s(this,e),this.x=t,this.y=r,this.radius=n,this.type=a.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-e,i=this.y-t;return(n*=n)+(i*=i)<=r},e.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}();t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(147),o=(n=i)&&n.__esModule?n:{default:n},a=r(13);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;s(this,e),this.x=t,this.y=r,this.width=n,this.height=i,this.type=a.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,n=(t-this.y)/this.height;return(r*=r)+(n*=n)<=1},e.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},e}();t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(145),o=(n=i)&&n.__esModule?n:{default:n},a=r(13);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(s(this,e),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var i=[],l=0,c=r.length;l<c;l++)i.push(r[l].x,r[l].y);r=i}this.closed=!0,this.points=r,this.type=a.SHAPES.POLY}return e.prototype.clone=function(){return new e(this.points.slice())},e.prototype.close=function(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])},e.prototype.contains=function(e,t){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],c=this.points[2*o+1];s>t!==c>t&&e<(t-s)/(c-s)*(l-a)+a&&(r=!r)}return r},e}();t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n=r(13);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;i(this,e),this.x=t,this.y=r,this.width=o,this.height=a,this.radius=s,this.type=n.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),n=t-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=e-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=t-(this.y+this.height-this.radius))*n<=i)return!0;if((r=e-(this.x+this.radius))*r+n*n<=i)return!0}return!1},e}();t.default=o},function(e,t){e.exports=function(e,t){var r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(e,t){var r=new ArrayBuffer(0),n=function(e,t,n,i){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=i||e.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(e,t,r){r||this.bind();var n=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?n.bufferSubData(this.type,t,e):n.bufferData(this.type,e,this.drawType),this.data=e},n.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(e,t,r){return new n(e,e.ARRAY_BUFFER,t,r)},n.createIndexBuffer=function(e,t,r){return new n(e,e.ELEMENT_ARRAY_BUFFER,t,r)},n.create=function(e,t,r,i){return new n(e,t,r,i)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=n},function(e,t,r){var n=r(231),i=function(e,t,r){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=r||100};i.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new n(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(e,t,r,n){this.bind();var i=this.gl;i.clearColor(e,t,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},i.prototype.resize=function(e,t){var r=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t))},i.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(e,t,r,o){var a=n.fromData(e,null,t,r);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(e,t,r);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(e,t,r,o){var a=new n.fromData(e,o,t,r);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(e,t,r);return s.enableTexture(a),s.unbind(),s},e.exports=i},function(e,t,r){var n=r(232),i=r(233),o=r(235),a=r(237),s=r(238),l=function(e,t,r,l,c){this.gl=e,l&&(t=a(t,l),r=a(r,l)),this.program=n(e,t,r,c),this.attributes=i(e,this.program),this.uniformData=o(e,this.program),this.uniforms=s(e,this.uniformData)};l.prototype.bind=function(){return this.gl.useProgram(this.program),this},l.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=l},function(e,t,r){var n=r(230);function i(e,t){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,e.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var e=this.gl,t=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];t!==i.buffer&&(i.buffer.bind(),t=i.buffer),e.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||e.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(e,t,r,n,i,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(e,t,r){var n=this.gl;return this.indexBuffer?n.drawElements(e,t||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(e,r,t||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,r){e.exports={compileProgram:r(232),defaultValue:r(236),extractAttributes:r(233),extractUniforms:r(235),generateUniformAccessObject:r(238),setPrecision:r(237),mapSize:r(234),mapType:r(148)}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if(o.default.tablet||o.default.phone)return 4;return e};var n,i=r(150),o=(n=i)&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(e,t,r){"use strict";t.__esModule=!0,t.default={mixin:function(e){!function(e){e.__plugins={},e.registerPlugin=function(t,r){e.__plugins[t]=r},e.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}(e)}}},function(e,t,r){"use strict";function n(e,t){if(e&&t)for(var r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}}t.__esModule=!0,t.mixin=n,t.delayMixin=function(e,t){i.push(e,t)},t.performMixins=function(){for(var e=0;e<i.length;e+=2)n(i[e],i[e+1]);i.length=0};var i=[]},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=e.length;if(!(t>=i||0===r)){var o=i-(r=t+r>i?i-t:r);for(n=t;n<o;++n)e[n]=e[n+r];e.length=o}}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,e[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,e[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,t[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,t[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,t[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(t),i.push(e),i};var n=r(13)},function(e,t,r){(function(e,n){var i;!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,c=36,p=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function g(e){throw new RangeError(h[e])}function y(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+y((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function S(e){return y(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=c)e=f(e/35);return f(n+36*e/(e+38))}function E(e){var t,r,n,i,o,a,s,p,u,d,h,m=[],y=e.length,v=0,b=128,T=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&g("not-basic"),m.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(o=v,a=1,s=c;i>=y&&g("invalid-input"),((p=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:c)>=c||p>f((l-v)/a))&&g("overflow"),v+=p*a,!(p<(u=s<=T?1:s>=T+26?26:s-T));s+=c)a>f(l/(d=c-u))&&g("overflow"),a*=d;T=w(v-o,t=m.length+1,0==o),f(v/t)>l-b&&g("overflow"),b+=f(v/t),v%=t,m.splice(v++,0,b)}return S(m)}function x(e){var t,r,n,i,o,a,s,p,u,d,h,y,v,S,E,x=[];for(y=(e=b(e)).length,t=128,r=0,o=72,a=0;a<y;++a)(h=e[a])<128&&x.push(m(h));for(n=i=x.length,i&&x.push("-");n<y;){for(s=l,a=0;a<y;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>f((l-r)/(v=n+1))&&g("overflow"),r+=(s-t)*v,t=s,a=0;a<y;++a)if((h=e[a])<t&&++r>l&&g("overflow"),h==t){for(p=r,u=c;!(p<(d=u<=o?1:u>=o+26?26:u-o));u+=c)E=p-d,S=c-d,x.push(m(T(d+E%S,0))),p=f(E/S);x.push(m(T(p,0))),o=w(r,v,n==i),r=0,++n}++r,++t}return x.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:S},decode:E,encode:x,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return v(e,(function(e){return p.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(884)(e),r(47))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(887),t.encode=t.stringify=r(888)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var p=0;p<c;++p){var u,d,h,f,m=e[p].replace(s,"%20"),g=m.indexOf(r);g>=0?(u=m.substr(0,g),d=m.substr(g+1)):(u=m,d=""),h=decodeURIComponent(u),f=decodeURIComponent(d),n(a,h)?i(a[h])?a[h].push(f):a[h]=[a[h],f]:a[h]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[a]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(29)),o=r(13),a=s(r(890));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(e,t,r))},e.prototype.addOnce=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null},e.prototype.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),t=void 0;if(e>this.lastTime){(t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*i.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},n(e,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),e}();t.default=l},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,e),this.fn=t,this.context=r,this.priority=i,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return t=t||null,this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0;var n=s(r(88)),i=r(13),o=r(30),a=s(r(108));function s(e){return e&&e.__esModule?e:{default:e}}var l=new o.Matrix,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t}return e.prototype.render=function(e){var t=e._texture,r=this.renderer,n=t._frame.width,s=t._frame.height,c=e.transform.worldTransform,p=0,u=0;if(!(t.orig.width<=0||t.orig.height<=0)&&t.baseTexture.source&&(r.setBlendMode(e.blendMode),t.valid)){r.context.globalAlpha=e.worldAlpha;var d=t.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==d&&(r.context[r.smoothProperty]=d),t.trim?(p=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,u=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(p=(.5-e.anchor.x)*t.orig.width,u=(.5-e.anchor.y)*t.orig.height),t.rotate&&(c.copy(l),c=l,o.GroupD8.matrixAppendRotationInv(c,t.rotate,p,u),p=0,u=0),p-=n/2,u-=s/2,r.roundPixels?(r.context.setTransform(c.a,c.b,c.c,c.d,c.tx*r.resolution|0,c.ty*r.resolution|0),p|=0,u|=0):r.context.setTransform(c.a,c.b,c.c,c.d,c.tx*r.resolution,c.ty*r.resolution);var h=t.baseTexture.resolution;16777215!==e.tint?(e.cachedTint===e.tint&&e.tintedTexture.tintId===e._texture._updateID||(e.cachedTint=e.tint,e.tintedTexture=a.default.getTintedTexture(e,e.tint)),r.context.drawImage(e.tintedTexture,0,0,n*h,s*h,p*r.resolution,u*r.resolution,n*r.resolution,s*r.resolution)):r.context.drawImage(t.baseTexture.source,t._frame.x*h,t._frame.y*h,n*h,s*h,p*r.resolution,u*r.resolution,n*r.resolution,s*r.resolution)}},e.prototype.destroy=function(){this.renderer=null},e}();t.default=c,n.default.registerPlugin("sprite",c)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(13);var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t}return e.prototype.pushMask=function(e){var t=this.renderer;t.context.save();var r=e.alpha,n=e.transform.worldTransform,i=t.resolution;t.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=r},e.prototype.renderGraphicsShape=function(e){var t=this.renderer.context,r=e.graphicsData.length;if(0!==r){t.beginPath();for(var i=0;i<r;i++){var o=e.graphicsData[i],a=o.shape;if(o.type===n.SHAPES.POLY){var s=a.points,l=o.holes,c=void 0,p=void 0;t.moveTo(s[0],s[1]);for(var u=2;u<s.length;u+=2)t.lineTo(s[u],s[u+1]);if(s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath(),l.length>0){c=0;for(var d=0;d<s.length;d+=2)c+=s[d]*s[d+3]-s[d+1]*s[d+2];for(var h=0;h<l.length;h++){s=l[h].points,p=0;for(var f=0;f<s.length;f+=2)p+=s[f]*s[f+3]-s[f+1]*s[f+2];if(t.moveTo(s[0],s[1]),p*c<0)for(var m=2;m<s.length;m+=2)t.lineTo(s[m],s[m+1]);else for(var g=s.length-2;g>=2;g-=2)t.lineTo(s[g],s[g+1])}}}else if(o.type===n.SHAPES.RECT)t.rect(a.x,a.y,a.width,a.height),t.closePath();else if(o.type===n.SHAPES.CIRC)t.arc(a.x,a.y,a.radius,0,2*Math.PI),t.closePath();else if(o.type===n.SHAPES.ELIP){var y=2*a.width,v=2*a.height,b=a.x-y/2,S=a.y-v/2,T=.5522848,w=y/2*T,E=v/2*T,x=b+y,_=S+v,k=b+y/2,O=S+v/2;t.moveTo(b,O),t.bezierCurveTo(b,O-E,k-w,S,k,S),t.bezierCurveTo(k+w,S,x,O-E,x,O),t.bezierCurveTo(x,O+E,k+w,_,k,_),t.bezierCurveTo(k-w,_,b,O+E,b,O),t.closePath()}else if(o.type===n.SHAPES.RREC){var A=a.x,C=a.y,M=a.width,P=a.height,R=a.radius,I=Math.min(M,P)/2|0;R=R>I?I:R,t.moveTo(A,C+R),t.lineTo(A,C+P-R),t.quadraticCurveTo(A,C+P,A+R,C+P),t.lineTo(A+M-R,C+P),t.quadraticCurveTo(A+M,C+P,A+M,C+P-R),t.lineTo(A+M,C+R),t.quadraticCurveTo(A+M,C,A+M-R,C),t.lineTo(A+R,C),t.quadraticCurveTo(A,C,A,C+R),t.closePath()}}}},e.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},e.prototype.destroy=function(){},e}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,a.default)()?(e[i.BLEND_MODES.NORMAL]="source-over",e[i.BLEND_MODES.ADD]="lighter",e[i.BLEND_MODES.MULTIPLY]="multiply",e[i.BLEND_MODES.SCREEN]="screen",e[i.BLEND_MODES.OVERLAY]="overlay",e[i.BLEND_MODES.DARKEN]="darken",e[i.BLEND_MODES.LIGHTEN]="lighten",e[i.BLEND_MODES.COLOR_DODGE]="color-dodge",e[i.BLEND_MODES.COLOR_BURN]="color-burn",e[i.BLEND_MODES.HARD_LIGHT]="hard-light",e[i.BLEND_MODES.SOFT_LIGHT]="soft-light",e[i.BLEND_MODES.DIFFERENCE]="difference",e[i.BLEND_MODES.EXCLUSION]="exclusion",e[i.BLEND_MODES.HUE]="hue",e[i.BLEND_MODES.SATURATION]="saturate",e[i.BLEND_MODES.COLOR]="color",e[i.BLEND_MODES.LUMINOSITY]="luminosity"):(e[i.BLEND_MODES.NORMAL]="source-over",e[i.BLEND_MODES.ADD]="lighter",e[i.BLEND_MODES.MULTIPLY]="source-over",e[i.BLEND_MODES.SCREEN]="source-over",e[i.BLEND_MODES.OVERLAY]="source-over",e[i.BLEND_MODES.DARKEN]="source-over",e[i.BLEND_MODES.LIGHTEN]="source-over",e[i.BLEND_MODES.COLOR_DODGE]="source-over",e[i.BLEND_MODES.COLOR_BURN]="source-over",e[i.BLEND_MODES.HARD_LIGHT]="source-over",e[i.BLEND_MODES.SOFT_LIGHT]="source-over",e[i.BLEND_MODES.DIFFERENCE]="source-over",e[i.BLEND_MODES.EXCLUSION]="source-over",e[i.BLEND_MODES.HUE]="source-over",e[i.BLEND_MODES.SATURATION]="source-over",e[i.BLEND_MODES.COLOR]="source-over",e[i.BLEND_MODES.LUMINOSITY]="source-over");return e[i.BLEND_MODES.NORMAL_NPM]=e[i.BLEND_MODES.NORMAL],e[i.BLEND_MODES.ADD_NPM]=e[i.BLEND_MODES.ADD],e[i.BLEND_MODES.SCREEN_NPM]=e[i.BLEND_MODES.SCREEN],e};var n,i=r(13),o=r(249),a=(n=o)&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";t.__esModule=!0;var n=h(r(109)),i=h(r(110)),o=h(r(157)),a=h(r(906)),s=h(r(907)),l=h(r(908)),c=h(r(29)),p=r(23),u=h(r(40)),d=h(r(154));function h(e){return e&&e.__esModule?e:{default:e}}var f=0,m=0,g=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=c.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=d.default.nextPow2(n.size);i*=2)n.buffers.push(new l.default(4*i*n.vertByteSize));n.indices=(0,o.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var a=0;a<n.size;a++)n.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,s.default)(this.MAX_TEXTURES,e)),this.shader=(0,a.default)(e,this.MAX_TEXTURES),this.indexBuffer=u.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=u.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(n,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&i.addAttribute(n,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},t.prototype.flush=function(){if(0!==this.currentIndex){var e=this.renderer.gl,t=this.MAX_TEXTURES,r=d.default.nextPow2(this.currentIndex),n=d.default.log2(r),i=this.buffers[n],o=this.sprites,a=this.groups,s=i.float32View,l=i.uint32View,h=this.boundTextures,g=this.renderer.boundTextures,y=this.renderer.textureGC.count,v=0,b=void 0,S=void 0,T=1,w=0,E=a[0],x=void 0,_=void 0,k=p.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];E.textureCount=0,E.start=0,E.blend=k,f++;var O=void 0;for(O=0;O<t;++O){var A=g[O];A._enabled!==f?(h[O]=A,A._virtalBoundId=O,A._enabled=f):h[O]=this.renderer.emptyTextures[O]}for(f++,O=0;O<this.currentIndex;++O){var C=o[O];o[O]=null,b=C._texture.baseTexture;var M=p.premultiplyBlendMode[Number(b.premultipliedAlpha)][C.blendMode];if(k!==M&&(k=M,S=null,w=t,f++),S!==b&&(S=b,b._enabled!==f)){if(w===t&&(f++,E.size=O-E.start,w=0,(E=a[T++]).blend=k,E.textureCount=0,E.start=O),b.touched=y,-1===b._virtalBoundId)for(var P=0;P<t;++P){var R=(P+m)%t,I=h[R];if(I._enabled!==f){m++,I._virtalBoundId=-1,b._virtalBoundId=R,h[R]=b;break}}b._enabled=f,E.textureCount++,E.ids[w]=b._virtalBoundId,E.textures[w++]=b}if(x=C.vertexData,_=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var B=this.renderer.resolution;s[v]=(x[0]*B|0)/B,s[v+1]=(x[1]*B|0)/B,s[v+5]=(x[2]*B|0)/B,s[v+6]=(x[3]*B|0)/B,s[v+10]=(x[4]*B|0)/B,s[v+11]=(x[5]*B|0)/B,s[v+15]=(x[6]*B|0)/B,s[v+16]=(x[7]*B|0)/B}else s[v]=x[0],s[v+1]=x[1],s[v+5]=x[2],s[v+6]=x[3],s[v+10]=x[4],s[v+11]=x[5],s[v+15]=x[6],s[v+16]=x[7];l[v+2]=_[0],l[v+7]=_[1],l[v+12]=_[2],l[v+17]=_[3];var D=Math.min(C.worldAlpha,1),L=D<1&&b.premultipliedAlpha?(0,p.premultiplyTint)(C._tintRGB,D):C._tintRGB+(255*D<<24);l[v+3]=l[v+8]=l[v+13]=l[v+18]=L,s[v+4]=s[v+9]=s[v+14]=s[v+19]=b._virtalBoundId,v+=20}if(E.size=O-E.start,c.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,N=this.vertexBuffers[this.vertexCount]=u.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(N,F.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(N,F.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(N,F.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&j.addAttribute(N,F.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(O=0;O<t;++O)g[O]._virtalBoundId=-1;for(O=0;O<T;++O){for(var V=a[O],G=V.textureCount,U=0;U<G;U++)S=V.textures[U],g[V.ids[U]]!==S&&this.renderer.bindTexture(S,V.ids[U],!0),S._virtalBoundId=-1;this.renderer.state.setBlendMode(V.blend),e.drawElements(e.TRIANGLES,6*V.size,e.UNSIGNED_SHORT,6*V.start*2)}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),c.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},t}(n.default);t.default=g,i.default.registerPlugin("sprite",g)},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(89)),i=o(r(250));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var r=t.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},t.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},t.prototype.pushSpriteMask=function(e,t){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t;var n=e.filterArea;e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,r),e.filterArea=n,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(e,t){t.renderable=!0;var r=this.renderer._activeRenderTarget,n=t.getBounds();n.fit(r.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=t,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},t}(n.default);t.default=a},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){var n=a(e),i=a(t);return Object.assign(n,i)};var n,i=r(40);var o=((n=i)&&n.__esModule?n:{default:n}).default.shader.defaultValue;function a(e){for(var t=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=e.replace(/\s+/g," ").split(/\s*;\s*/),a=0;a<i.length;a++){var s=i[a].trim();if(s.indexOf("uniform")>-1){var l=s.split(" "),c=l[1],p=l[2],u=1;p.indexOf("[")>-1&&(n=p.split(/\[|]/),p=n[0],u*=Number(n[1])),p.match(t)||(r[p]={value:o(c,u),name:p,type:c})}}return r}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(89),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.stencilMaskStack=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},t.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,r,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},t.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},t}(o.default);t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=p(r(89)),i=p(r(111)),o=p(r(253)),a=r(30),s=p(r(90)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(899)),c=p(r(154));function p(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(){u(this,e),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.filters=[]}return e.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},e}(),h="screen",f=function(e){function t(r){u(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.gl=n.renderer.gl,n.quad=new o.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.pushFilter=function(e,t){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new d;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],a=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new d);var s=e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===r.screen.width&&e.filterArea.height===r.screen.height,l=t[0].resolution,c=0|t[0].padding,p=s?r.screen:e.filterArea||e.getBounds(!0),u=o.sourceFrame,h=o.destinationFrame;u.x=(p.x*l|0)/l,u.y=(p.y*l|0)/l,u.width=(p.width*l|0)/l,u.height=(p.height*l|0)/l,s||(n.stack[0].renderTarget.transform||t[0].autoFit&&u.fit(a),u.pad(c)),h.width=u.width,h.height=u.height;var f=this.getPotRenderTarget(r.gl,u.width,u.height,l);o.target=e,o.filters=t,o.resolution=l,o.renderTarget=f,f.setFrame(h,u),r.bindRenderTarget(f),f.clear()},t.prototype.popFilter=function(){var e=this.filterData,t=e.stack[e.index-1],r=e.stack[e.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,t.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var a=0;for(a=0;a<n.length-1;++a){n[a].apply(this,i,o,!0,r);var s=i;i=o,o=s}n[a].apply(this,i,t.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}r.clear(),e.index--,0===e.index&&(this.filterData=null)},t.prototype.applyFilter=function(e,t,r,n){var i=this.renderer,o=i.gl,a=e.glShaders[i.CONTEXT_UID];a||(e.glShaderKey?(a=this.shaderCache[e.glShaderKey])||(a=new s.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[i.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=a,this.managedFilters.push(e)):(a=e.glShaders[i.CONTEXT_UID]=new s.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var l=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=l,this.syncUniforms(a,e),i.state.setBlendMode(e.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,l._glTextures[this.renderer.CONTEXT_UID].texture)},t.prototype.syncUniforms=function(e,t){var r=t.uniformData,n=t.uniforms,i=1,o=void 0;if(e.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=e.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,e.uniforms.filterArea=a}if(e.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=e.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,e.uniforms.filterClamp=s}for(var l in r)if(e.uniforms.data[l]){var c=r[l].type;if("sampler2d"===c&&0!==n[l]){if(n[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(n[l].baseTexture,i);else{e.uniforms[l]=i;var p=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],p.activeTexture(p.TEXTURE0+i),n[l].texture.bind()}i++}else if("mat3"===c)void 0!==n[l].a?e.uniforms[l]=n[l].toArray(!0):e.uniforms[l]=n[l];else if("vec2"===c)if(void 0!==n[l].x){var u=e.uniforms[l]||new Float32Array(2);u[0]=n[l].x,u[1]=n[l].y,e.uniforms[l]=u}else e.uniforms[l]=n[l];else"float"===c?e.uniforms.data[l].value!==r[l]&&(e.uniforms[l]=n[l]):e.uniforms[l]=n[l]}},t.prototype.getRenderTarget=function(e,t){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,t||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},t.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},t.prototype.calculateScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return l.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return l.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)},t.prototype.calculateSpriteMatrix=function(e,t){var r=this.filterData.stack[this.filterData.index];return l.calculateSpriteMatrix(e,r.sourceFrame,r.renderTarget.size,t)},t.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.renderer,r=this.managedFilters;t.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)e||r[n].glShaders[t.CONTEXT_UID].destroy(),delete r[n].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(e,t,r,n){var o=h;r*=n,(t*=n)===this._screenWidth&&r===this._screenHeight||(o=(65535&(t=c.default.nextPow2(t)))<<16|65535&(r=c.default.nextPow2(r))),this.pool[o]||(this.pool[o]=[]);var a=this.pool[o].pop();if(!a){var s=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),a=new i.default(e,t,r,null,1),e.bindTexture(e.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=n,a.defaultFrame.width=a.size.width=t/n,a.defaultFrame.height=a.size.height=r/n,a.filterPoolKey=o,a},t.prototype.emptyPool=function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var r=0;r<t.length;r++)t[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(e){this.pool[e.filterPoolKey].push(e)},t.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool.screen;if(e)for(var t=0;t<e.length;t++)e[t].destroy(!0);this.pool.screen=[]}},t}(n.default);t.default=f},function(e,t,r){"use strict";t.__esModule=!0,t.calculateScreenSpaceMatrix=function(e,t,r){var n=e.identity();return n.translate(t.x/r.width,t.y/r.height),n.scale(r.width,r.height),n},t.calculateNormalizedScreenSpaceMatrix=function(e,t,r){var n=e.identity();n.translate(t.x/r.width,t.y/r.height);var i=r.width/t.width,o=r.height/t.height;return n.scale(i,o),n},t.calculateSpriteMatrix=function(e,t,r,i){var o=i._texture.orig,a=e.set(r.width,0,0,r.height,t.x,t.y),s=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(i.anchor.x,i.anchor.y),a};var n=r(30)},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(40),o=r(13),a=r(111),s=(n=a)&&n.__esModule?n:{default:n},l=r(23);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(e,t){var r=this.gl,n=!!e._glRenderTargets;if(!e.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===t){t=0;for(var l=0;l<a.length;++l)if(a[l]===e){t=l;break}}a[t]=e,r.activeTexture(r.TEXTURE0+t);var c=e._glTextures[this.renderer.CONTEXT_UID];if(c)n?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):c.upload(e.source);else{if(n){var p=new s.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);p.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=p,c=p.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(c=new i.GLTexture(this.gl,null,null,null,null)).bind(t),c.premultiplyAlpha=!0,c.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=c,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&c.enableMipmap(),e.wrapMode===o.WRAP_MODES.CLAMP?c.enableWrapClamp():e.wrapMode===o.WRAP_MODES.REPEAT?c.enableWrapRepeat():c.enableWrapMirrorRepeat()):c.enableWrapClamp(),e.scaleMode===o.SCALE_MODES.NEAREST?c.enableNearestScaling():c.enableLinearScaling()}return c},e.prototype.destroyTexture=function(e,t){if((e=e.baseTexture||e).hasLoaded){var r=this.renderer,n=r.CONTEXT_UID,i=e._glTextures,o=e._glRenderTargets;if(i[n]&&(r.unbindTexture(e),i[n].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete i[n],!t)){var a=this._managedTextures.indexOf(e);-1!==a&&(0,l.removeItems)(this._managedTextures,a,1)}o&&o[n]&&(r._activeRenderTarget===o[n]&&r.bindRenderTarget(r.rootRenderTarget),o[n].destroy(),delete o[n])}},e.prototype.removeAll=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]}},e.prototype.destroy=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];this.destroyTexture(t,!0),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this)}this._managedTextures=null},e}();t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(13),o=r(29),a=(n=o)&&n.__esModule?n:{default:n};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=a.default.GC_MAX_IDLE,this.checkCountMax=a.default.GC_MAX_CHECK_COUNT,this.mode=a.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var e=this.renderer.textureManager,t=e._managedTextures,r=!1,n=0;n<t.length;n++){var i=t[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[n]=null,r=!0)}if(r){for(var o=0,a=0;a<t.length;a++)null!==t[a]&&(t[o++]=t[a]);t.length=o}},e.prototype.unload=function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])},e}();t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(903),o=(n=i)&&n.__esModule?n:{default:n};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return e.prototype.push=function(){var e=this.stack[this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]},e.prototype.pop=function(){var e=this.stack[--this.stackIndex];this.setState(e)},e.prototype.setState=function(e){this.setBlend(e[0]),this.setDepthTest(e[1]),this.setFrontFace(e[2]),this.setCullFace(e[3]),this.setBlendMode(e[4])},e.prototype.setBlend=function(e){e=e?1:0,this.activeState[0]!==e&&(this.activeState[0]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))},e.prototype.setBlendMode=function(e){if(e!==this.activeState[4]){this.activeState[4]=e;var t=this.blendModes[e];2===t.length?this.gl.blendFunc(t[0],t[1]):this.gl.blendFuncSeparate(t[0],t[1],t[2],t[3])}},e.prototype.setDepthTest=function(e){e=e?1:0,this.activeState[1]!==e&&(this.activeState[1]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(e){e=e?1:0,this.activeState[3]!==e&&(this.activeState[3]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(e){e=e?1:0,this.activeState[2]!==e&&(this.activeState[2]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))},e.prototype.resetAttributes=function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[n.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.ADD]=[e.ONE,e.ONE],t[n.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[n.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t};var n=r(13)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[n.DRAW_MODES.POINTS]=e.POINTS,t[n.DRAW_MODES.LINES]=e.LINES,t[n.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[n.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[n.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[n.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[n.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var n=r(13)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){e.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=a;r=(r=r.replace(/%count%/gi,t)).replace(/%forloop%/gi,function(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"}(t));for(var n=new o.default(e,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),i=[],s=0;s<t;s++)i[s]=s;return n.bind(),n.uniforms.uSamplers=i,n};var n,i=r(90),o=(n=i)&&n.__esModule?n:{default:n};r(48);var a=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=!t;if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,t=o.default.createContext(n)}var i=t.createShader(t.FRAGMENT_SHADER);for(;;){var l=a.replace(/%forloop%/gi,s(e));if(t.shaderSource(i,l),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;e=e/2|0}r&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext();return e};var n,i=r(40),o=(n=i)&&n.__esModule?n:{default:n};var a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function s(e){for(var t="",r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();t.default=n},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=h(r(153)),o=h(r(64)),a=r(30),s=r(23),l=r(13),c=h(r(29)),p=h(r(254)),u=h(r(255)),d=h(r(910));function h(e){return e&&e.__esModule?e:{default:e}}var f={texture:!0,children:!1,baseTexture:!0},m=function(e){function t(r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=i||document.createElement("canvas")).width=3,i.height=3;var s=o.default.fromCanvas(i,c.default.SCALE_MODE,"text");s.orig=new a.Rectangle,s.trim=new a.Rectangle;var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,s));return o.default.addToCache(l._texture,l._texture.baseTexture.textureCacheIds[0]),l.canvas=i,l.context=l.canvas.getContext("2d"),l.resolution=c.default.RESOLUTION,l._text=null,l._style=null,l._styleListener=null,l._font="",l.text=r,l.style=n,l.localStyleID=-1,l}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,n=u.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,a=n.lines,s=n.lineHeight,l=n.lineWidths,c=n.maxLineWidth,p=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*t.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*t.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=t.stroke,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;var d=void 0,h=void 0;if(t.dropShadow){r.fillStyle=t.dropShadowColor,r.globalAlpha=t.dropShadowAlpha,r.shadowBlur=t.dropShadowBlur,t.dropShadowBlur>0&&(r.shadowColor=t.dropShadowColor);for(var f=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,m=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,g=0;g<a.length;g++)d=t.strokeThickness/2,h=t.strokeThickness/2+g*s+p.ascent,"right"===t.align?d+=c-l[g]:"center"===t.align&&(d+=(c-l[g])/2),t.fill&&(this.drawLetterSpacing(a[g],d+f+t.padding,h+m+t.padding),t.stroke&&t.strokeThickness&&(r.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(a[g],d+f+t.padding,h+m+t.padding,!0),r.strokeStyle=t.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(t,a);for(var y=0;y<a.length;y++)d=t.strokeThickness/2,h=t.strokeThickness/2+y*s+p.ascent,"right"===t.align?d+=c-l[y]:"center"===t.align&&(d+=(c-l[y])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(a[y],d+t.padding,h+t.padding,!0),t.fill&&this.drawLetterSpacing(a[y],d+t.padding,h+t.padding);this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style,o=i.letterSpacing;if(0!==o)for(var a=String.prototype.split.call(e,""),s=t,l=0,c="",p=this.context.measureText(e).width,u=0;l<e.length;)c=a[l++],n?this.context.strokeText(c,s,r):this.context.fillText(c,s,r),s+=p-(u=this.context.measureText(e.substring(l)).width)+o,p=u;else n?this.context.strokeText(e,t,r):this.context.fillText(e,t,r)},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=(0,d.default)(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=e.width,o.realHeight=e.height,o.width=e.width/this.resolution,o.height=e.height/this.resolution,r.trim.width=r._frame.width=e.width/this.resolution,r.trim.height=r._frame.height=e.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},t.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,t)},t.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,c=e.fill.slice(),p=e.fillGradientStops.slice();if(!p.length)for(var u=c.length+1,d=1;d<u;++d)p.push(d/u);if(c.unshift(e.fill[0]),p.unshift(0),c.push(e.fill[e.fill.length-1]),p.push(1),e.fillGradientType===l.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,0,a/2,s),n=(c.length+1)*t.length,i=0;for(var h=0;h<t.length;h++){i+=1;for(var f=0;f<c.length;f++)o="number"===typeof p[f]?p[f]/t.length+h/t.length:i/n,r.addColorStop(o,c[f]),i++}}else{r=this.context.createLinearGradient(0,s/2,a,s/2),n=c.length+1,i=1;for(var m=0;m<c.length;m++)o="number"===typeof p[m]?p[m]:i/n,r.addColorStop(o,c[m]),i++}return r},t.prototype.destroy=function(t){"boolean"===typeof t&&(t={children:t}),t=Object.assign({},f,t),e.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},n(t,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,s.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,s.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){(e=e||{})instanceof p.default?this._style=e:this._style=new p.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null===e||void 0===e?" ":e),this._text!==e&&(this._text=e,this.dirty=!0)}}]),t}(i.default);t.default=m},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=e.width,r=e.height,n=e.getContext("2d"),i=n.getImageData(0,0,t,r).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=null,l=void 0,c=void 0,p=void 0;for(l=0;l<o;l+=4)0!==i[l+3]&&(c=l/4%t,p=~~(l/4/t),null===a.top&&(a.top=p),(null===a.left||c<a.left)&&(a.left=c),(null===a.right||a.right<c)&&(a.right=c+1),(null===a.bottom||a.bottom<p)&&(a.bottom=p));null!==a.top&&(t=a.right-a.left,r=a.bottom-a.top+1,s=n.getImageData(a.left,a.top,t,r));return{height:r,width:t,data:s}}},function(e,t,r){"use strict";t.__esModule=!0;var n=f(r(87)),i=f(r(156)),o=f(r(64)),a=f(r(256)),s=f(r(153)),l=r(30),c=r(23),p=r(13),u=f(r(149)),d=f(r(912)),h=f(r(88));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var y=void 0,v=new l.Matrix,b=new l.Point,S=new Float32Array(4),T=new Float32Array(4),w=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(this,t);var n=g(this,e.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=p.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new u.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.clone=function(){var e=new t;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.lineAlignment=this.lineAlignment,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)e.graphicsData.push(this.graphicsData[r].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},t.prototype._quadraticCurveLength=function(e,t,r,n,i,o){var a=e-2*r+i,s=t-2*n+o,l=2*r-2*e,c=2*n-2*t,p=4*(a*a+s*s),u=4*(a*l+s*c),d=l*l+c*c,h=2*Math.sqrt(p+u+d),f=Math.sqrt(p),m=2*p*f,g=2*Math.sqrt(d),y=u/f;return(m*h+f*u*(h-g)+(4*d*p-u*u)*Math.log((2*f+y+h)/(y+g)))/(4*m)},t.prototype._bezierCurveLength=function(e,t,r,n,i,o,a,s){for(var l=0,c=0,p=0,u=0,d=0,h=0,f=0,m=0,g=0,y=0,v=0,b=e,S=t,T=1;T<=10;++T)y=b-(m=(f=(h=(d=1-(c=T/10))*d)*d)*e+3*h*c*r+3*d*(p=c*c)*i+(u=p*c)*a),v=S-(g=f*t+3*h*c*n+3*d*p*o+u*s),b=m,S=g,l+=Math.sqrt(y*y+v*v);return l},t.prototype._segmentsCount=function(e){var r=Math.ceil(e/t.CURVES.maxLength);return r<t.CURVES.minSegments?r=t.CURVES.minSegments:r>t.CURVES.maxSegments&&(r=t.CURVES.maxSegments),r},t.prototype.lineStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=e,this.lineColor=t,this.lineAlpha=r,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var i=new l.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},t.prototype.moveTo=function(e,t){var r=new l.Polygon([e,t]);return r.closed=!1,this.drawShape(r),this},t.prototype.lineTo=function(e,t){var r=this.currentPath.shape.points,n=r[r.length-2],i=r[r.length-1];return n===e&&i===t||(r.push(e,t),this.dirty++),this},t.prototype.quadraticCurveTo=function(e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var l=o[o.length-2],c=o[o.length-1],p=t.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(l,c,e,r,n,i)):20,u=1;u<=p;++u){var d=u/p;a=l+(e-l)*d,s=c+(r-c)*d,o.push(a+(e+(n-e)*d-a)*d,s+(r+(i-r)*d-s)*d)}return this.dirty++,this},t.prototype.bezierCurveTo=function(e,r,n,i,o,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,l=s[s.length-2],c=s[s.length-1];s.length-=2;var p=t.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(l,c,e,r,n,i,o,a)):20;return(0,d.default)(l,c,e,r,n,i,o,a,p,s),this.dirty++,this},t.prototype.arcTo=function(e,t,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-t,l=a-e,c=n-t,p=r-e,u=Math.abs(s*p-l*c);if(u<1e-8||0===i)o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t);else{var d=s*s+l*l,h=c*c+p*p,f=s*c+l*p,m=i*Math.sqrt(d)/u,g=i*Math.sqrt(h)/u,y=m*f/d,v=g*f/h,b=m*p+g*l,S=m*c+g*s,T=l*(g+y),w=s*(g+y),E=p*(m+v),x=c*(m+v),_=Math.atan2(w-S,T-b),k=Math.atan2(x-S,E-b);this.arc(b+e,S+t,i,_,k,l*c>p*s)}return this.dirty++,this},t.prototype.arc=function(e,r,n,i,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!a&&o<=i?o+=p.PI_2:a&&i<=o&&(i+=p.PI_2);var s=o-i,l=t.CURVES.adaptive?this._segmentsCount(Math.abs(s)*n):40*Math.ceil(Math.abs(s)/p.PI_2);if(0===s)return this;var c=e+Math.cos(i)*n,u=r+Math.sin(i)*n,d=this.currentPath?this.currentPath.shape.points:null;if(d){var h=Math.abs(d[d.length-2]-c),f=Math.abs(d[d.length-1]-u);h<.001&&f<.001||d.push(c,u)}else this.moveTo(c,u),d=this.currentPath.shape.points;for(var m=s/(2*l),g=2*m,y=Math.cos(m),v=Math.sin(m),b=l-1,S=b%1/b,T=0;T<=b;++T){var w=T+S*T,E=m+i+g*w,x=Math.cos(E),_=-Math.sin(E);d.push((y*x+v*_)*n+e,(y*-_+v*x)*n+r)}return this.dirty++,this},t.prototype.beginFill=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.prototype.drawRect=function(e,t,r,n){return this.drawShape(new l.Rectangle(e,t,r,n)),this},t.prototype.drawRoundedRect=function(e,t,r,n,i){return this.drawShape(new l.RoundedRectangle(e,t,r,n,i)),this},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new l.Circle(e,t,r)),this},t.prototype.drawEllipse=function(e,t,r,n){return this.drawShape(new l.Ellipse(e,t,r,n)),this},t.prototype.drawPolygon=function(e){var t=e,r=!0;if(t instanceof l.Polygon&&(r=t.closed,t=t.points),!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;++n)t[n]=arguments[n]}var i=new l.Polygon(t);return i.closed=r,this.drawShape(i),this},t.prototype.drawStar=function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||n/2;for(var a=-1*Math.PI/2+o,s=2*r,l=p.PI_2/s,c=[],u=0;u<s;u++){var d=u%2?i:n,h=u*l+a;c.push(e+d*Math.cos(h),t+d*Math.sin(h))}return this.drawPolygon(c)},t.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},t.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===p.SHAPES.RECT&&!this.graphicsData[0].lineWidth},t.prototype._renderWebGL=function(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},t.prototype._renderSpriteRect=function(e){var t=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new s.default(new o.default(o.default.WHITE)));var r=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)r.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var i=S,a=T;(0,c.hex2rgb)(n,i),(0,c.hex2rgb)(this.tint,a),i[0]*=a[0],i[1]*=a[1],i[2]*=a[2],r.tint=(0,c.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=n}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=t.width,r._texture._frame.height=t.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-t.x/t.width,-t.y/t.height),r._onAnchorUpdate(),r._renderWebGL(e)},t.prototype._renderCanvas=function(e){!0!==this.isMask&&e.plugins.graphics.render(this)},t.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,b);for(var t=this.graphicsData,r=0;r<t.length;++r){var n=t[r];if(n.fill&&(n.shape&&n.shape.contains(b.x,b.y))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].contains(b.x,b.y)){i=!0;break}}if(!i)return!0}}return!1},t.prototype.updateLocalBounds=function(){var e=1/0,t=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,l=0,c=0;c<this.graphicsData.length;c++){var u=this.graphicsData[c],d=u.type,h=u.lineWidth*u.lineAlignment;if(i=u.shape,d===p.SHAPES.RECT||d===p.SHAPES.RREC)o=i.x-h,a=i.y-h,e=o<e?o:e,t=o+(s=i.width+2*h)>t?o+s:t,r=a<r?a:r,n=a+(l=i.height+2*h)>n?a+l:n;else if(d===p.SHAPES.CIRC)o=i.x,a=i.y,e=o-(s=i.radius+h)<e?o-s:e,t=o+s>t?o+s:t,r=a-(l=i.radius+h)<r?a-l:r,n=a+l>n?a+l:n;else if(d===p.SHAPES.ELIP)o=i.x,a=i.y,e=o-(s=i.width+h)<e?o-s:e,t=o+s>t?o+s:t,r=a-(l=i.height+h)<r?a-l:r,n=a+l>n?a+l:n;else for(var f=i.points,m=0,g=0,y=0,v=0,b=0,S=0,T=0,w=0,E=0;E+2<f.length;E+=2)o=f[E],a=f[E+1],m=f[E+2],g=f[E+3],y=Math.abs(m-o),v=Math.abs(g-a),l=2*h,(s=Math.sqrt(y*y+v*v))<1e-9||(e=(T=(m+o)/2)-(b=(l/s*v+y)/2)<e?T-b:e,t=T+b>t?T+b:t,r=(w=(g+a)/2)-(S=(l/s*y+v)/2)<r?w-S:r,n=w+S>n?w+S:n)}else e=0,t=0,r=0,n=0;var x=this.boundsPadding;this._localBounds.minX=e-x,this._localBounds.maxX=t+x,this._localBounds.minY=r-x,this._localBounds.maxY=n+x},t.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e,this.lineAlignment);return this.graphicsData.push(t),t.type===p.SHAPES.POLY&&(t.shape.closed=t.shape.closed,this.currentPath=t),this.dirty++,t},t.prototype.generateCanvasTexture=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=i.default.create(r.width,r.height,e,t);y||(y=new h.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(v),v.invert(),v.tx-=r.x,v.ty-=r.y,y.render(this,n,!0,v);var a=o.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,e,"graphics");return a.baseTexture.resolution=t,a.baseTexture.update(),a},t.prototype.closePath=function(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},t.prototype.addHole=function(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webGL)for(var i=0;i<this._webGL[n].data.length;++i)this._webGL[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},t}(n.default);t.default=w,w._SPRITE_TEXTURE=null,w.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r,n,i,o,a,s,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],p=0,u=0,d=0,h=0,f=0;c.push(e,t);for(var m=1,g=0;m<=l;++m)d=(u=(p=1-(g=m/l))*p)*p,f=(h=g*g)*g,c.push(d*e+3*u*g*r+3*p*h*i+f*a,d*t+3*u*g*n+3*p*h*o+f*s);return c}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(23),i=r(13),o=h(r(109)),a=h(r(110)),s=h(r(914)),l=h(r(915)),c=h(r(916)),p=h(r(917)),u=h(r(918)),d=h(r(919));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new l.default(this.gl)},t.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},t.prototype.render=function(e){var t=this.renderer,r=t.gl,i=void 0,o=e._webGL[this.CONTEXT_UID];o&&e.dirty===o.dirty||(this.updateGraphics(e),o=e._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;t.bindShader(a),t.state.setBlendMode(e.blendMode);for(var s=0,l=o.data.length;s<l;s++){var c=(i=o.data[s]).shader;t.bindShader(c),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.tint=(0,n.hex2rgb)(e.tint),c.uniforms.alpha=e.worldAlpha,t.bindVao(i.vao),i.nativeLines?r.drawArrays(r.LINES,0,i.points.length/6):i.vao.draw(r.TRIANGLE_STRIP,i.indices.length)}},t.prototype.updateGraphics=function(e){var t=this.renderer.gl,r=e._webGL[this.CONTEXT_UID];if(r||(r=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:t,clearDirty:-1,dirty:-1}),r.dirty=e.dirty,e.clearDirty!==r.clearDirty){r.clearDirty=e.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var o=void 0,a=void 0,s=r.lastIndex;s<e.graphicsData.length;s++){var l=e.graphicsData[s];o=this.getWebGLData(r,0),l.nativeLines&&l.lineWidth&&(a=this.getWebGLData(r,0,!0),r.lastIndex++),l.type===i.SHAPES.POLY&&(0,c.default)(l,o,a),l.type===i.SHAPES.RECT?(0,p.default)(l,o,a):l.type===i.SHAPES.CIRC||l.type===i.SHAPES.ELIP?(0,d.default)(l,o,a):l.type===i.SHAPES.RREC&&(0,u.default)(l,o,a),r.lastIndex++}this.renderer.bindVao(null);for(var h=0;h<r.data.length;h++)(o=r.data[h]).dirty&&o.upload()},t.prototype.getWebGLData=function(e,t,r){var n=e.data[e.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(t),e.data.push(n)),n.dirty=!0,n},t}(o.default);t.default=f,a.default.registerPlugin("graphics",f)},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(40),o=(n=i)&&n.__esModule?n:{default:n};var a=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(t,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,t.FLOAT,!1,24,8)}return e.prototype.reset=function(){this.points.length=0,this.indices.length=0},e.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},e.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(90);var o=function(e){function t(r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=i)&&n.__esModule?n:{default:n}).default);t.default=o},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){e.points=e.shape.points.slice();var a=e.points;if(e.fill&&a.length>=6){for(var s=[],l=e.holes,c=0;c<l.length;c++){var p=l[c];s.push(a.length/2),a=a.concat(p.points)}var u=t.points,d=t.indices,h=a.length/2,f=(0,i.hex2rgb)(e.fillColor),m=e.fillAlpha,g=f[0]*m,y=f[1]*m,v=f[2]*m,b=(0,o.default)(a,s,2);if(!b)return;for(var S=u.length/6,T=0;T<b.length;T+=3)d.push(b[T]+S),d.push(b[T]+S),d.push(b[T+1]+S),d.push(b[T+2]+S),d.push(b[T+2]+S);for(var w=0;w<h;w++)u.push(a[2*w],a[2*w+1],g,y,v,m)}e.lineWidth>0&&(0,n.default)(e,t,r)};var n=a(r(112)),i=r(23),o=a(r(152));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){var n=e.shape,i=n.x,s=n.y,l=n.width,c=n.height;if(e.fill){var p=(0,a.hex2rgb)(e.fillColor),u=e.fillAlpha,d=p[0]*u,h=p[1]*u,f=p[2]*u,m=t.points,g=t.indices,y=m.length/6;m.push(i,s),m.push(d,h,f,u),m.push(i+l,s),m.push(d,h,f,u),m.push(i,s+c),m.push(d,h,f,u),m.push(i+l,s+c),m.push(d,h,f,u),g.push(y,y,y+1,y+2,y+3,y+3)}if(e.lineWidth){var v=e.points;e.points=[i,s,i+l,s,i+l,s+c,i,s+c,i,s],(0,o.default)(e,t,r),e.points=v}};var n,i=r(112),o=(n=i)&&n.__esModule?n:{default:n},a=r(23)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){var a=e.shape,s=a.x,c=a.y,p=a.width,u=a.height,d=a.radius,h=[];if(h.push(s+d,c),l(s+p-d,c,s+p,c,s+p,c+d,h),l(s+p,c+u-d,s+p,c+u,s+p-d,c+u,h),l(s+d,c+u,s,c+u,s,c+u-d,h),l(s,c+d,s,c,s+d+1e-10,c,h),e.fill){for(var f=(0,o.hex2rgb)(e.fillColor),m=e.fillAlpha,g=f[0]*m,y=f[1]*m,v=f[2]*m,b=t.points,S=t.indices,T=b.length/6,w=(0,n.default)(h,null,2),E=0,x=w.length;E<x;E+=3)S.push(w[E]+T),S.push(w[E]+T),S.push(w[E+1]+T),S.push(w[E+2]+T),S.push(w[E+2]+T);for(var _=0,k=h.length;_<k;_++)b.push(h[_],h[++_],g,y,v,m)}if(e.lineWidth){var O=e.points;e.points=h,(0,i.default)(e,t,r),e.points=O}};var n=a(r(152)),i=a(r(112)),o=r(23);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){return e+(t-e)*r}function l(e,t,r,n,i,o){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=20,c=a,p=0,u=0,d=0,h=0,f=0,m=0,g=0,y=0;g<=l;++g)p=s(e,r,y=g/l),u=s(t,n,y),d=s(r,i,y),h=s(n,o,y),f=s(p,d,y),m=s(u,h,y),c.push(f,m);return c}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){var n=e.shape,i=n.x,l=n.y,c=void 0,p=void 0;e.type===a.SHAPES.CIRC?(c=n.radius,p=n.radius):(c=n.width,p=n.height);if(0===c||0===p)return;var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),d=2*Math.PI/u;if(e.fill){var h=(0,s.hex2rgb)(e.fillColor),f=e.fillAlpha,m=h[0]*f,g=h[1]*f,y=h[2]*f,v=t.points,b=t.indices,S=v.length/6;b.push(S);for(var T=0;T<u+1;T++)v.push(i,l,m,g,y,f),v.push(i+Math.sin(d*T)*c,l+Math.cos(d*T)*p,m,g,y,f),b.push(S++,S++);b.push(S-1)}if(e.lineWidth){var w=e.points;e.points=[];for(var E=0;E<u;E++)e.points.push(i+Math.sin(d*-E)*c,l+Math.cos(d*-E)*p);e.points.push(e.points[0],e.points[1]),(0,o.default)(e,t,r),e.points=w}};var n,i=r(112),o=(n=i)&&n.__esModule?n:{default:n},a=r(13),s=r(23)},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(88),o=(n=i)&&n.__esModule?n:{default:n},a=r(13);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,n=e.worldAlpha,i=e.transform.worldTransform,o=t.resolution;r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),e.canvasTintDirty===e.dirty&&e._prevTint===e.tint||this.updateGraphicsTint(e),t.setBlendMode(e.blendMode);for(var s=0;s<e.graphicsData.length;s++){var l=e.graphicsData[s],c=l.shape,p=l._fillTint,u=l._lineTint;if(r.lineWidth=l.lineWidth,l.type===a.SHAPES.POLY){r.beginPath();var d=c.points,h=l.holes,f=void 0,m=void 0,g=void 0,y=void 0;r.moveTo(d[0],d[1]);for(var v=2;v<d.length;v+=2)r.lineTo(d[v],d[v+1]);if(c.closed&&r.closePath(),h.length>0){f=0,g=d[0],y=d[1];for(var b=2;b+2<d.length;b+=2)f+=(d[b]-g)*(d[b+3]-y)-(d[b+2]-g)*(d[b+1]-y);for(var S=0;S<h.length;S++)if(d=h[S].points){m=0,g=d[0],y=d[1];for(var T=2;T+2<d.length;T+=2)m+=(d[T]-g)*(d[T+3]-y)-(d[T+2]-g)*(d[T+1]-y);if(m*f<0){r.moveTo(d[0],d[1]);for(var w=2;w<d.length;w+=2)r.lineTo(d[w],d[w+1])}else{r.moveTo(d[d.length-2],d[d.length-1]);for(var E=d.length-4;E>=0;E-=2)r.lineTo(d[E],d[E+1])}h[S].close&&r.closePath()}}l.fill&&(r.globalAlpha=l.fillAlpha*n,r.fillStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.fill()),l.lineWidth&&(r.globalAlpha=l.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.stroke())}else if(l.type===a.SHAPES.RECT)(l.fillColor||0===l.fillColor)&&(r.globalAlpha=l.fillAlpha*n,r.fillStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.fillRect(c.x,c.y,c.width,c.height)),l.lineWidth&&(r.globalAlpha=l.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.strokeRect(c.x,c.y,c.width,c.height));else if(l.type===a.SHAPES.CIRC)r.beginPath(),r.arc(c.x,c.y,c.radius,0,2*Math.PI),r.closePath(),l.fill&&(r.globalAlpha=l.fillAlpha*n,r.fillStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.fill()),l.lineWidth&&(r.globalAlpha=l.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.stroke());else if(l.type===a.SHAPES.ELIP){var x=2*c.width,_=2*c.height,k=c.x-x/2,O=c.y-_/2;r.beginPath();var A=.5522848,C=x/2*A,M=_/2*A,P=k+x,R=O+_,I=k+x/2,B=O+_/2;r.moveTo(k,B),r.bezierCurveTo(k,B-M,I-C,O,I,O),r.bezierCurveTo(I+C,O,P,B-M,P,B),r.bezierCurveTo(P,B+M,I+C,R,I,R),r.bezierCurveTo(I-C,R,k,B+M,k,B),r.closePath(),l.fill&&(r.globalAlpha=l.fillAlpha*n,r.fillStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.fill()),l.lineWidth&&(r.globalAlpha=l.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.stroke())}else if(l.type===a.SHAPES.RREC){var D=c.x,L=c.y,F=c.width,N=c.height,j=c.radius,V=Math.min(F,N)/2|0;j=j>V?V:j,r.beginPath(),r.moveTo(D,L+j),r.lineTo(D,L+N-j),r.quadraticCurveTo(D,L+N,D+j,L+N),r.lineTo(D+F-j,L+N),r.quadraticCurveTo(D+F,L+N,D+F,L+N-j),r.lineTo(D+F,L+j),r.quadraticCurveTo(D+F,L,D+F-j,L),r.lineTo(D+j,L),r.quadraticCurveTo(D,L,D,L+j),r.closePath(),(l.fillColor||0===l.fillColor)&&(r.globalAlpha=l.fillAlpha*n,r.fillStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.fill()),l.lineWidth&&(r.globalAlpha=l.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.stroke())}}},e.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint,e.canvasTintDirty=e.dirty;for(var t=(e.tint>>16&255)/255,r=(e.tint>>8&255)/255,n=(255&e.tint)/255,i=0;i<e.graphicsData.length;++i){var o=e.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*t*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255,o._lineTint=((s>>16&255)/255*t*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255}},e.prototype.renderPolygon=function(e,t,r){r.moveTo(e[0],e[1]);for(var n=1;n<e.length/2;++n)r.lineTo(e[2*n],e[2*n+1]);t&&r.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();t.default=s,o.default.registerPlugin("graphics",s)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(16),o=r(23);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a(this,e),this.baseTexture=t,this.textures={},this.animations={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(e,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),e.prototype._updateResolution=function(e){var t=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(e,null);return null===r&&(r=void 0!==t?parseFloat(t):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE,o=this.baseTexture.sourceScale;r-t<n&&r<this._frameKeys.length;){var a=this._frameKeys[r],s=this._frames[a],l=s.frame;if(l){var c=null,p=null,u=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,d=new i.Rectangle(0,0,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution);c=s.rotated?new i.Rectangle(Math.floor(l.x*o)/this.resolution,Math.floor(l.y*o)/this.resolution,Math.floor(l.h*o)/this.resolution,Math.floor(l.w*o)/this.resolution):new i.Rectangle(Math.floor(l.x*o)/this.resolution,Math.floor(l.y*o)/this.resolution,Math.floor(l.w*o)/this.resolution,Math.floor(l.h*o)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(p=new i.Rectangle(Math.floor(s.spriteSourceSize.x*o)/this.resolution,Math.floor(s.spriteSourceSize.y*o)/this.resolution,Math.floor(l.w*o)/this.resolution,Math.floor(l.h*o)/this.resolution)),this.textures[a]=new i.Texture(this.baseTexture,c,d,p,s.rotated?2:0,s.anchor),i.Texture.addToCache(this.textures[a],a)}r++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];var r=e[t],n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var a=o;this.animations[t].push(this.textures[a])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},e}();t.default=s},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=e.mesh,r=e.particles,n=e.extras,o=e.filters,a=e.prepare,s=e.loaders,l=e.interaction;Object.defineProperties(e,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),e.Container}},DisplayObjectContainer:{get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),e.Container}},Strip:{get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),t.Mesh}},Rope:{get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),t.Rope}},ParticleContainer:{get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),e.BLEND_MODES}},scaleModes:{get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),e.SCALE_MODES}},BaseTextureCache:{get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),e.utils.BaseTextureCache}},TextureCache:{get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),e.utils.TextureCache}},math:{get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),e}},AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),e.Filter}},TransformManual:{get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),e.TransformBase}},TARGET_FPMS:{get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),e.settings.TARGET_FPMS},set:function(t){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),e.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),e.settings.FILTER_RESOLUTION},set:function(t){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),e.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),e.settings.RESOLUTION},set:function(t){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),e.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),e.settings.MIPMAP_TEXTURES},set:function(t){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),e.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),e.settings.SPRITE_BATCH_SIZE},set:function(t){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),e.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),e.settings.SPRITE_MAX_TEXTURES},set:function(t){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),e.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),e.settings.RETINA_PREFIX},set:function(t){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),e.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),e.settings.RENDER_OPTIONS}}});for(var c=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],p=function(t){var r=c[t];Object.defineProperty(e[r.parent],"DEFAULT",{get:function(){return i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),e.settings[r.target]},set:function(t){i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),e.settings[r.target]=t}})},u=0;u<c.length;u++)p(u);Object.defineProperties(e.settings,{PRECISION:{get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),e.settings.PRECISION_FRAGMENT},set:function(t){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),e.settings.PRECISION_FRAGMENT=t}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}});n&&Object.defineProperties(n,{TextureTransform:{get:function(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),e.TextureMatrix}}});e.DisplayObject.prototype.generateTexture=function(e,t,r){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),e.generateTexture(this,t,r)},e.Graphics.prototype.generateTexture=function(e,t){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(e,t)},e.GroupD8.isSwapWidthHeight=function(t){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),e.GroupD8.isVertical(t)},e.RenderTexture.prototype.render=function(e,t,r,n){this.legacyRenderer.render(e,this,r,t,!n),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},e.RenderTexture.prototype.getImage=function(e){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(e)},e.RenderTexture.prototype.getBase64=function(e){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(e)},e.RenderTexture.prototype.getCanvas=function(e){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(e)},e.RenderTexture.prototype.getPixels=function(e){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(e)},e.Sprite.prototype.setTexture=function(e){this.texture=e,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function(e){this.text=e,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});e.Text.prototype.setText=function(e){this.text=e,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},e.Text.calculateFontProperties=function(t){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),e.TextMetrics.measureFont(t)},Object.defineProperties(e.Text,{fontPropertiesCache:{get:function(){return i("Text.fontPropertiesCache is deprecated"),e.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i("Text.fontPropertiesCanvas is deprecated"),e.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i("Text.fontPropertiesContext is deprecated"),e.TextMetrics._context}}}),e.Text.prototype.setStyle=function(e){this.style=e,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},e.Text.prototype.determineFontProperties=function(t){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),e.TextMetrics.measureFont(t)},e.Text.getFontStyle=function(t){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(t=t||{})instanceof e.TextStyle||(t=new e.TextStyle(t)),t.toFontString()},Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e="number"===typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function(e){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),e.indexOf("italic")>1?this._fontStyle="italic":e.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",e.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var t=e.split(" "),r=-1;this._fontSize=26;for(var n=0;n<t.length;++n)if(t[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=t[n];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(t[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=t[o];break}if(r>-1&&r<t.length-1){this._fontFamily="";for(var a=r+1;a<t.length;++a)this._fontFamily+=t[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),e.Texture.prototype.setFrame=function(e){this.frame=e,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},e.Texture.addTextureToCache=function(t,r){e.Texture.addToCache(t,r),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},e.Texture.removeTextureFromCache=function(t){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),e.BaseTexture.removeFromCache(t),e.Texture.removeFromCache(t)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),e.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),e.SpriteMaskFilter}},VoidFilter:{get:function(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),e.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),e.utils.uid()},e.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),e.CanvasTinter.canUseMultiply};var d=!0;Object.defineProperty(e.utils,"_saidHello",{set:function(e){e&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),d=e},get:function(){return d}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(e,t){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),e&&this.registerFindHook(e),t&&this.registerUploadHook(t),this});a.canvas&&Object.defineProperty(a.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});a.webgl&&Object.defineProperty(a.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(s.Loader){var h=s.Resource,f=s.Loader;Object.defineProperties(h.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===h.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===h.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===h.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===h.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===h.TYPE.VIDEO}}}),Object.defineProperties(f.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}})}l.interactiveTarget&&Object.defineProperty(l.interactiveTarget,"defaultCursor",{set:function(e){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=e},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});l.InteractionManager&&(Object.defineProperty(l.InteractionManager,"defaultCursorStyle",{set:function(e){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=e},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(l.InteractionManager,"currentCursorStyle",{set:function(e){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=e},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var n={};function i(e){if(!n[e]){var t=(new Error).stack;"undefined"===typeof t?console.warn("Deprecation Warning: ",e):(t=t.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e),console.warn(t),console.groupEnd()):(console.warn("Deprecation Warning: ",e),console.warn(t))),n[e]=!0}}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(259);Object.defineProperty(t,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}});var i=r(924);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),i=a(r(150)),o=a(r(259));function a(e){return e&&e.__esModule?e:{default:e}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,o.default);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width="100px",r.style.height="100px",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.zIndex=2,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2,t.style.backgroundColor="#FF0000",t.title="HOOK DIV",t.addEventListener("focus",(function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(t)})),document.body.appendChild(t)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,r=e.height/this.renderer.height,i=this.div;i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var a=this.children[o];if(a.renderId!==this.renderId)a._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=a._accessibleDiv;var s=a.hitArea,l=a.worldTransform;a.hitArea?(i.style.left=(l.tx+s.x*l.a)*t+"px",i.style.top=(l.ty+s.y*l.d)*r+"px",i.style.width=s.width*l.a*t+"px",i.style.height=s.height*l.d*r+"px"):(s=a.getBounds(),this.capHitArea(s),i.style.left=s.x*t+"px",i.style.top=s.y*r+"px",i.style.width=s.width*t+"px",i.style.height=s.height*r+"px",i.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(i.title=a.accessibleTitle),i.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&i.setAttribute("aria-label",a.accessibleHint))}}this.renderId++}},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2,t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();t.default=s,n.WebGLRenderer.registerPlugin("accessibility",s),n.CanvasRenderer.registerPlugin("accessibility",s)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(926);Object.defineProperty(t,"webgl",{enumerable:!0,get:function(){return o(n).default}});var i=r(927);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));var i=new n.Rectangle,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r=void 0,o=void 0,a=void 0,s=!1,l=void 0,c=!1;e&&(e instanceof n.RenderTexture?l=e:(l=this.renderer.generateTexture(e),c=!0)),l?(o=(r=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=l.frame,s=!1):(o=(r=this.renderer.rootRenderTarget).resolution,s=!0,(a=i).width=r.size.width,a.height=r.size.height);var p=Math.floor(a.width*o+1e-4),u=Math.floor(a.height*o+1e-4),d=new n.CanvasRenderTarget(p,u,1);if(r){t.bindRenderTarget(r);var h=new Uint8Array(4*p*u),f=t.gl;f.readPixels(a.x*o,a.y*o,p,u,f.RGBA,f.UNSIGNED_BYTE,h);var m=d.context.getImageData(0,0,p,u);m.data.set(h),d.context.putImageData(m,0,0),s&&(d.context.scale(1,-1),d.context.drawImage(d.canvas,0,-u))}return c&&l.destroy(!0),d.canvas},e.prototype.pixels=function(e){var t=this.renderer,r=void 0,o=void 0,a=void 0,s=void 0,l=!1;e&&(e instanceof n.RenderTexture?s=e:(s=this.renderer.generateTexture(e),l=!0)),s?(o=(r=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=s.frame):(o=(r=this.renderer.rootRenderTarget).resolution,(a=i).width=r.size.width,a.height=r.size.height);var c=a.width*o,p=a.height*o,u=new Uint8Array(4*c*p);if(r){t.bindRenderTarget(r);var d=t.gl;d.readPixels(a.x*o,a.y*o,c,p,d.RGBA,d.UNSIGNED_BYTE,u)}return l&&s.destroy(!0),u},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();t.default=o,n.WebGLRenderer.registerPlugin("extract",o)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));var i=new n.Rectangle,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r=void 0,o=void 0,a=void 0,s=void 0;e&&(s=e instanceof n.RenderTexture?e:t.generateTexture(e)),s?(r=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(r=t.rootContext,o=t.resolution,(a=i).width=this.renderer.width,a.height=this.renderer.height);var l=Math.floor(a.width*o+1e-4),c=Math.floor(a.height*o+1e-4),p=new n.CanvasRenderTarget(l,c,1),u=r.getImageData(a.x*o,a.y*o,l,c);return p.context.putImageData(u,0,0),p.canvas},e.prototype.pixels=function(e){var t=this.renderer,r=void 0,o=void 0,a=void 0,s=void 0;return e&&(s=e instanceof n.RenderTexture?e:t.generateTexture(e)),s?(r=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(r=t.rootContext,(a=i).width=t.width,a.height=t.height),r.getImageData(0,0,a.width*o,a.height*o).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();t.default=o,n.CanvasRenderer.registerPlugin("extract",o)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));var o=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r[0]instanceof i.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==n,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},t.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=t/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},t.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},t.fromFrames=function(e){for(var r=[],n=0;n<e.length;++n)r.push(i.Texture.fromFrame(e[n]));return new t(r)},t.fromImages=function(e){for(var r=[],n=0;n<e.length;++n)r.push(i.Texture.fromImage(e[n]));return new t(r)},n(t,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof i.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}]),t}(i.Sprite);t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),a=r(108),s=(n=a)&&n.__esModule?n:{default:n};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=new o.Point,u=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;l(this,t);var a=c(this,e.call(this,r));return a.tileTransform=new o.TransformStatic,a._width=n,a._height=i,a._canvasPattern=null,a.uvTransform=r.transform||new o.TextureMatrix(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},t.prototype._renderWebGL=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var r=e.context,n=this.worldTransform,i=e.resolution,a=2===t.rotate,l=t.baseTexture,c=l.resolution,p=this.tilePosition.x/this.tileScale.x%t.orig.width*c,u=this.tilePosition.y/this.tileScale.y%t.orig.height*c;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var d=new o.CanvasRenderTarget(t.orig.width,t.orig.height,c);if(16777215!==this.tint)this.tintedTexture=s.default.getTintedTexture(this,this.tint),d.context.drawImage(this.tintedTexture,0,0);else{var h=t._frame.x*c,f=t._frame.y*c,m=t._frame.width*c,g=t._frame.height*c,y=(t.trim?t.trim.width:t.orig.width)*c,v=(t.trim?t.trim.height:t.orig.height)*c,b=(t.trim?t.trim.x:0)*c,S=(t.trim?t.trim.y:0)*c;a?(d.context.rotate(-Math.PI/2),d.context.translate(-v,0),d.context.drawImage(l.source,h,f,m,g,-S,b,v,y)):d.context.drawImage(l.source,h,f,m,g,b,S,y,v)}this.cachedTint=this.tint,this._canvasPattern=d.context.createPattern(d.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/c,this.tileScale.y/c);var T=this.anchor.x*-this._width*c,w=this.anchor.y*-this._height*c;this.uvRespectAnchor?(r.translate(p,u),r.fillRect(-p+T,-u+w,this._width/this.tileScale.x*c,this._height/this.tileScale.y*c)):(r.translate(p+T,u+w),r.fillRect(-p,-u,this._width/this.tileScale.x*c,this._height/this.tileScale.y*c))}},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,n)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,p);var t=this._width,r=this._height,n=-t*this.anchor._x;if(p.x>=n&&p.x<n+t){var i=-r*this.anchor._y;if(p.y>=i&&p.y<i+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},t.from=function(e,r,n){return new t(o.Texture.from(e),r,n)},t.fromFrame=function(e,r,n){var i=o.utils.TextureCache[e];if(!i)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new t(i,r,n)},t.fromImage=function(e,r,n,i,a){return new t(o.Texture.fromImage(e,i,a),r,n)},i(t,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copy(e)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copy(e)}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),t}(o.Sprite);t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),i=r(13);r(48);var o=new n.Matrix,a=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new n.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new n.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new n.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},t.prototype.render=function(e){var t=this.renderer,r=this.quad;t.bindVao(r.vao);var a=r.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((a=r.uvs)[0]=a[6]=-e.anchor.x,a[1]=a[3]=-e.anchor.y,a[2]=a[4]=1-e.anchor.x,a[5]=a[7]=1-e.anchor.y),r.upload();var s=e._texture,l=s.baseTexture,c=e.tileTransform.localTransform,p=e.uvTransform,u=l.isPowerOfTwo&&s.frame.width===l.width&&s.frame.height===l.height;u&&(l._glTextures[t.CONTEXT_UID]?u=l.wrapMode!==i.WRAP_MODES.CLAMP:l.wrapMode===i.WRAP_MODES.CLAMP&&(l.wrapMode=i.WRAP_MODES.REPEAT));var d=u?this.simpleShader:this.shader;t.bindShader(d);var h=s.width,f=s.height,m=e._width,g=e._height;o.set(c.a*h/m,c.b*h/g,c.c*f/m,c.d*f/g,c.tx/m,c.ty/g),o.invert(),u?o.prepend(p.mapCoord):(d.uniforms.uMapCoord=p.mapCoord.toArray(!0),d.uniforms.uClampFrame=p.uClampFrame,d.uniforms.uClampOffset=p.uClampOffset),d.uniforms.uTransform=o.toArray(!0),d.uniforms.uColor=n.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,d.uniforms.uColor,l.premultipliedAlpha),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=t.bindTexture(s),t.setBlendMode(n.utils.correctBlendMode(e.blendMode,l.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},t}(n.ObjectRenderer);t.default=a,n.WebGLRenderer.registerPlugin("tilingSprite",a)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=l(r(228)),a=r(23),s=l(r(29));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,t);var i=p(this,e.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default((function(){i.dirty=!0}),i,0,0),i.dirty=!1,i.updateText(),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateText=function(){for(var e=t.fonts[this._font.name],r=this._font.size/e.size,n=new i.Point,o=[],a=[],s=this.text.replace(/(?:\r\n|\r)/g,"\n"),l=s.length,c=this._maxWidth*e.size/this._font.size,p=null,u=0,d=0,h=0,f=-1,m=0,g=0,y=0,v=0;v<l;v++){var b=s.charCodeAt(v),S=s.charAt(v);if(/(?:\s)/.test(S)&&(f=v,m=u),"\r"!==S&&"\n"!==S){var T=e.chars[b];T&&(p&&T.kerning[p]&&(n.x+=T.kerning[p]),o.push({texture:T.texture,line:h,charCode:b,position:new i.Point(n.x+T.xOffset+this._letterSpacing/2,n.y+T.yOffset)}),n.x+=T.xAdvance+this._letterSpacing,u=n.x,y=Math.max(y,T.yOffset+T.texture.height),p=b,-1!==f&&c>0&&n.x>c&&(++g,i.utils.removeItems(o,1+f-g,1+v-f),v=f,f=-1,a.push(m),d=Math.max(d,m),h++,n.x=0,n.y+=e.lineHeight,p=null))}else a.push(u),d=Math.max(d,u),++h,++g,n.x=0,n.y+=e.lineHeight,p=null}var w=s.charAt(s.length-1);"\r"!==w&&"\n"!==w&&(/(?:\s)/.test(w)&&(u=m),a.push(u),d=Math.max(d,u));for(var E=[],x=0;x<=h;x++){var _=0;"right"===this._font.align?_=d-a[x]:"center"===this._font.align&&(_=(d-a[x])/2),E.push(_)}for(var k=o.length,O=this.tint,A=0;A<k;A++){var C=this._glyphs[A];C?C.texture=o[A].texture:(C=new i.Sprite(o[A].texture),this._glyphs.push(C)),C.position.x=(o[A].position.x+E[o[A].line])*r,C.position.y=o[A].position.y*r,C.scale.x=C.scale.y=r,C.tint=O,C.parent||this.addChild(C)}for(var M=k;M<this._glyphs.length;++M)this.removeChild(this._glyphs[M]);if(this._textWidth=d*r,this._textHeight=(n.y+e.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var P=0;P<k;P++)this._glyphs[P].x-=this._textWidth*this.anchor.x,this._glyphs[P].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*r},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},t.registerFont=function(e,r){var n={},o=e.getElementsByTagName("info")[0],l=e.getElementsByTagName("common")[0],c=e.getElementsByTagName("page"),p=(0,a.getResolutionOfUrl)(c[0].getAttribute("file"),s.default.RESOLUTION),u={};n.font=o.getAttribute("face"),n.size=parseInt(o.getAttribute("size"),10),n.lineHeight=parseInt(l.getAttribute("lineHeight"),10)/p,n.chars={},r instanceof i.Texture&&(r=[r]);for(var d=0;d<c.length;d++){var h=c[d].getAttribute("id"),f=c[d].getAttribute("file");u[h]=r instanceof Array?r[d]:r[f]}for(var m=e.getElementsByTagName("char"),g=0;g<m.length;g++){var y=m[g],v=parseInt(y.getAttribute("id"),10),b=y.getAttribute("page")||0,S=new i.Rectangle(parseInt(y.getAttribute("x"),10)/p+u[b].frame.x/p,parseInt(y.getAttribute("y"),10)/p+u[b].frame.y/p,parseInt(y.getAttribute("width"),10)/p,parseInt(y.getAttribute("height"),10)/p);n.chars[v]={xOffset:parseInt(y.getAttribute("xoffset"),10)/p,yOffset:parseInt(y.getAttribute("yoffset"),10)/p,xAdvance:parseInt(y.getAttribute("xadvance"),10)/p,kerning:{},texture:new i.Texture(u[b].baseTexture,S),page:b}}for(var T=e.getElementsByTagName("kerning"),w=0;w<T.length;w++){var E=T[w],x=parseInt(E.getAttribute("first"),10)/p,_=parseInt(E.getAttribute("second"),10)/p,k=parseInt(E.getAttribute("amount"),10)/p;n.chars[_]&&(n.chars[_].kerning[x]=k)}return t.fonts[n.font]=n,n},n(t,[{key:"tint",get:function(){return this._font.tint},set:function(e){this._font.tint="number"===typeof e&&e>=0?e:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(e){this._font.align=e||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"===typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:"font",get:function(){return this._font},set:function(e){e&&("string"===typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=e.length>=2?parseInt(e[0],10):t.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"===typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),t}(i.Container);t.default=u,u.fonts={}},function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),i=s(r(64)),o=s(r(77)),a=r(23);function s(e){return e&&e.__esModule?e:{default:e}}var l=n.DisplayObject,c=new n.Matrix;l.prototype._cacheAsBitmap=!1,l.prototype._cacheData=!1;var p=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(l.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t=void 0;e?(this._cacheData||(this._cacheData=new p),(t=this._cacheData).originalRenderWebGL=this.renderWebGL,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=t.originalRenderWebGL,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),l.prototype._renderCachedWebGL=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},l.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.alpha;this.alpha=1,e.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var s=this._filters[0].padding;r.pad(s)}r.ceil(n.settings.RESOLUTION);var l=e._activeRenderTarget,p=e.filterManager.filterStack,u=n.RenderTexture.create(r.width,r.height),d="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=d,o.default.addToCache(u.baseTexture,d),i.default.addToCache(u,d);var h=c;h.tx=-r.x,h.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,u,!0,h,!0),e.bindRenderTarget(l),e.filterManager.filterStack=p,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var f=new n.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-r.x/r.width,f.anchor.y=-r.y/r.height,f.alpha=t,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},l.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},l.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(),r=this.alpha;this.alpha=1;var s=e.context;t.ceil(n.settings.RESOLUTION);var l=n.RenderTexture.create(t.width,t.height),p="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=p,o.default.addToCache(l.baseTexture,p),i.default.addToCache(l,p);var u=c;this.transform.localTransform.copy(u),u.invert(),u.tx-=t.x,u.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,l,!0,u,!1),e.context=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var d=new n.Sprite(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-t.x/t.width,d.anchor.y=-t.y/t.height,d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},l.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},l.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},l.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},l.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}},function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));n.DisplayObject.prototype.getGlobalPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(936);Object.defineProperty(t,"FXAAFilter",{enumerable:!0,get:function(){return u(n).default}});var i=r(937);Object.defineProperty(t,"NoiseFilter",{enumerable:!0,get:function(){return u(i).default}});var o=r(938);Object.defineProperty(t,"DisplacementFilter",{enumerable:!0,get:function(){return u(o).default}});var a=r(939);Object.defineProperty(t,"BlurFilter",{enumerable:!0,get:function(){return u(a).default}});var s=r(261);Object.defineProperty(t,"BlurXFilter",{enumerable:!0,get:function(){return u(s).default}});var l=r(265);Object.defineProperty(t,"BlurYFilter",{enumerable:!0,get:function(){return u(l).default}});var c=r(940);Object.defineProperty(t,"ColorMatrixFilter",{enumerable:!0,get:function(){return u(c).default}});var p=r(941);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AlphaFilter",{enumerable:!0,get:function(){return u(p).default}})},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));r(48);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.Filter);t.default=i},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));r(48);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();o(this,t);var i=a(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),t}(i.Filter);t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));r(48);var o=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=new i.Matrix;r.renderable=!1;var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return a.maskSprite=r,a.maskMatrix=o,a.uniforms.mapSampler=r._texture,a.uniforms.filterMatrix=o,a.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),a.scale=new i.Point(n,n),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.apply=function(e,t,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,e.applyFilter(this,t,r)},n(t,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),t}(i.Filter);t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=s(r(261)),a=s(r(265));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(r,n,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return c.blurXFilter=new o.default(r,n,s,l),c.blurYFilter=new a.default(r,n,s,l),c.padding=0,c.resolution=s||i.settings.RESOLUTION,c.quality=n||4,c.blur=r||8,c}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.apply=function(e,t,r){var n=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,n,!0),this.blurYFilter.apply(e,n,r,!1),e.returnRenderTarget(n)},n(t,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),t}(i.Filter);t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));r(48);var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._loadMatrix=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.greyscale=function(e,t){var r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),n=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),a=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.saturate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=2*e/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,n,i){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,l=((n=n||3375104)>>16&255)/255,c=(n>>8&255)/255,p=(255&n)/255,u=[.3,.59,.11,0,0,o,a,s,e=e||.2,0,l,c,p,t=t||.15,0,o-l,a-c,s-p,0,0];this._loadMatrix(u,i)},t.prototype.night=function(e,t){var r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){var r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(t,[{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(i.Filter);t.default=o,o.prototype.grayscale=o.prototype.greyscale},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));r(48);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;o(this,t);var n=a(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(i.Filter);t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n=r(266);Object.defineProperty(t,"InteractionData",{enumerable:!0,get:function(){return l(n).default}});var i=r(943);Object.defineProperty(t,"InteractionManager",{enumerable:!0,get:function(){return l(i).default}});var o=r(269);Object.defineProperty(t,"interactiveTarget",{enumerable:!0,get:function(){return l(o).default}});var a=r(268);Object.defineProperty(t,"InteractionTrackingData",{enumerable:!0,get:function(){return l(a).default}});var s=r(267);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"InteractionEvent",{enumerable:!0,get:function(){return l(s).default}})},function(e,t,r){"use strict";t.__esModule=!0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=p(r(266)),a=p(r(267)),s=p(r(268)),l=p(r(70)),c=p(r(269));function p(e){return e&&e.__esModule?e:{default:e}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,c.default);var u={target:null,data:{global:null}},d=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return n=n||{},s.renderer=r,s.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,s.interactionFrequency=n.interactionFrequency||10,s.mouse=new o.default,s.mouse.identifier=1,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[1]=s.mouse,s.interactionDataPool=[],s.eventData=new a.default,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents="ontouchstart"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new i.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hitTest=function(e,t){return u.target=null,u.data.global=e,t||(t=this.renderer._lastObjectRendered),this.processInteractive(u,t,null,!0),u.target},t.prototype.setTargetElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var r=this.activeInteractionData[t];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch("undefined"===typeof t?"undefined":n(t)){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!==typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){r.stopped||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.mapPositionToPoint=function(e,t,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-n.left)*(this.interactionDOMElement.width/n.width)*i,e.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},t.prototype.processInteractive=function(e,t,r,n,i){if(!t||!t.visible)return!1;var o=e.data.global,a=!1,s=i=t.interactive||i,l=!0;if(t.hitArea?(n&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(n=!1,l=!1)),s=!1):t._mask&&n&&(t._mask.containsPoint(o)||(n=!1,l=!1)),l&&t.interactiveChildren&&t.children)for(var c=t.children,p=c.length-1;p>=0;p--){var u=c[p],d=this.processInteractive(e,u,r,n,s);if(d){if(!u.parent)continue;s=!1,d&&(e.target&&(n=!1),a=!0)}}return i&&(n&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),r&&r(e,t,!!a))),a},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var r=t.length,n=0;n<r;n++){var i=t[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var n=e.data,i=e.data.identifier;if(r)if(t.trackedPointers[i]||(t.trackedPointers[i]=new s.default(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===n.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,r){for(var n=this.normalizeToPointerData(e),i=n.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=n[a],l=this.getInteractionDataForPointerId(s),c=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(c.data.originalEvent=e,this.processInteractive(c,this.renderer._lastObjectRendered,r,t||!o),this.emit(t?"pointercancel":"pointerup"+o,c),"mouse"===s.pointerType||"pen"===s.pointerType){var p=2===s.button;this.emit(p?"rightup"+o:"mouseup"+o,c)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,c),this.releaseInteractionDataForPointerId(s.pointerId,l))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,n=e.data.identifier;void 0!==t.trackedPointers[n]&&(delete t.trackedPointers[n],this.dispatchEvent(t,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var n=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===n.pointerType,l="mouse"===n.pointerType||"pen"===n.pointerType,c=!1;if(l){var p=2===n.button,u=s.default.FLAGS,d=p?u.RIGHT_DOWN:u.LEFT_DOWN,h=void 0!==o&&o.flags&d;r?(this.dispatchEvent(t,p?"rightup":"mouseup",e),h&&(this.dispatchEvent(t,p?"rightclick":"click",e),c=!0)):h&&this.dispatchEvent(t,p?"rightupoutside":"mouseupoutside",e),o&&(p?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),o&&(l&&!c||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=t.length,n=0;n<r;n++){var i=t[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var n=e.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(e,t,r),this.moveWhenInside&&!r||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(t),n=this.configureInteractionEventForDOMEvent(this.eventData,t,r);n.data.originalEvent=t,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var n=e.data,i=e.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,a=t.trackedPointers[i];r&&!a&&(a=t.trackedPointers[i]=new s.default(i)),void 0!==a&&(r&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(t,"pointerover",e),o&&this.dispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],r=this.getInteractionDataForPointerId(t),n=this.configureInteractionEventForDOMEvent(this.eventData,t,r);n.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",n)},t.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,r=void 0;return 1===t||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[t]?r=this.activeInteractionData[t]:((r=this.interactionDataPool.pop()||new o.default).identifier=t,this.activeInteractionData[t]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),navigator.isCocoonJS&&"touch"===t.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,n=e.changedTouches.length;r<n;r++){var i=e.changedTouches[r];"undefined"===typeof i.button&&(i.button=e.touches.length?1:0),"undefined"===typeof i.buttons&&(i.buttons=e.touches.length?1:0),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent||("undefined"===typeof e.isPrimary&&(e.isPrimary=!0),"undefined"===typeof e.width&&(e.width=1),"undefined"===typeof e.height&&(e.height=1),"undefined"===typeof e.tiltX&&(e.tiltX=0),"undefined"===typeof e.tiltY&&(e.tiltY=0),"undefined"===typeof e.pointerType&&(e.pointerType="mouse"),"undefined"===typeof e.pointerId&&(e.pointerId=1),"undefined"===typeof e.pressure&&(e.pressure=.5),"undefined"===typeof e.twist&&(e.twist=0),"undefined"===typeof e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0),t.push(e);return t},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},t}(l.default);t.default=d,i.WebGLRenderer.registerPlugin("interaction",d),i.CanvasRenderer.registerPlugin("interaction",d)},function(e,t,r){"use strict";t.__esModule=!0,t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=void 0;var n=r(270);Object.defineProperty(t,"bitmapFontParser",{enumerable:!0,get:function(){return c(n).default}}),Object.defineProperty(t,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=r(275);Object.defineProperty(t,"spritesheetParser",{enumerable:!0,get:function(){return c(i).default}}),Object.defineProperty(t,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=r(276);Object.defineProperty(t,"textureParser",{enumerable:!0,get:function(){return c(o).default}});var a=r(91);Object.defineProperty(t,"Resource",{enumerable:!0,get:function(){return a.Resource}});var s=c(r(257)),l=c(r(946));function c(e){return e&&e.__esModule?e:{default:e}}t.Loader=l.default;var p=new l.default;p.destroy=function(){},t.shared=p;var u=s.default.prototype;u._loader=null,Object.defineProperty(u,"loader",{get:function(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?p:new l.default}return this._loader}}),u._parentDestroy=u.destroy,u.destroy=function(e,t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,t)}},function(e,t,r){"use strict";t.__esModule=!0,t.Loader=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=c(r(271)),a=c(r(272)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(273)),l=r(158);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=/(#[\w-]+)?$/,d=t.Loader=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;p(this,e),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,r){return t._loadResource(e,r)},this._queue=s.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var i=0;i<e._defaultBeforeMiddleware.length;++i)this.pre(e._defaultBeforeMiddleware[i]);for(var a=0;a<e._defaultAfterMiddleware.length;++a)this.use(e._defaultAfterMiddleware[a])}return e.prototype.add=function(e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;++o)this.add(e[o]);return this}if("object"===("undefined"===typeof e?"undefined":n(e))&&(i=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),"string"!==typeof t&&(i=r,r=t,t=e),"string"!==typeof t)throw new Error("No url passed to add resource to loader.");if("function"===typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new l.Resource(e,t,r),"function"===typeof i&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=r.parentResource,s=[],c=0;c<a.children.length;++c)a.children[c].isComplete||s.push(a.children[c]);var p=a.progressChunk*(s.length+1)/(s.length+2);a.children.push(this.resources[e]),a.progressChunk=p;for(var u=0;u<s.length;++u)s[u].progressChunk=p;this.resources[e].progressChunk=p}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},e.prototype.load=function(e){if("function"===typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},e.prototype._prepareUrl=function(e){var t=(0,a.default)(e,{strictMode:!0}),r=void 0;if(r=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var n=u.exec(r)[0];-1!==(r=r.substr(0,r.length-n.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},e.prototype._loadResource=function(e,t){var r=this;e._dequeue=t,s.eachSeries(this._beforeMiddleware,(function(t,n){t.call(r,e,(function(){n(e.isComplete?{}:null)}))}),(function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())}),!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),s.eachSeries(this._afterMiddleware,(function(r,n){r.call(t,e,n)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},i(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();d._defaultBeforeMiddleware=[],d._defaultAfterMiddleware=[],d.pre=function(e){return d._defaultBeforeMiddleware.push(e),d},d.use=function(e){return d._defaultAfterMiddleware.push(e),d}},function(e,t,r){"use strict";t.__esModule=!0;var n=c(r(91)),i=r(947),o=c(r(70)),a=c(r(276)),s=c(r(275)),l=c(r(270));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r,n));o.default.call(i);for(var a=0;a<t._pixiMiddleware.length;++a)i.use(t._pixiMiddleware[a]());return i.onStart.add((function(e){return i.emit("start",e)})),i.onProgress.add((function(e,t){return i.emit("progress",e,t)})),i.onError.add((function(e,t,r){return i.emit("error",e,t,r)})),i.onLoad.add((function(e,t){return i.emit("load",e,t)})),i.onComplete.add((function(e,t){return i.emit("complete",e,t)})),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.addPixiMiddleware=function(e){t._pixiMiddleware.push(e)},t.prototype.destroy=function(){this.removeAllListeners(),this.reset()},t}(n.default);for(var u in t.default=p,o.default.prototype)p.prototype[u]=o.default.prototype[u];p._pixiMiddleware=[i.blobMiddlewareFactory,a.default,s.default,l.default];var d=n.default.Resource;d.setExtensionXhrType("fnt",d.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,r){"use strict";t.__esModule=!0,t.blobMiddlewareFactory=function(){return function(e,t){if(e.data){if(e.xhr&&e.xhrType===n.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!==typeof e.data){if(0===e.data.type.indexOf("image")){var r=o.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=r,e.type=n.Resource.TYPE.IMAGE,void(e.data.onload=function(){o.revokeObjectURL(r),e.data.onload=null,t()})}}else{var a=e.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image"))return e.data=new Image,e.data.src="data:"+a+";base64,"+(0,i.encodeBinary)(e.xhr.responseText),e.type=n.Resource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}};var n=r(158),i=r(274),o=window.URL||window.webkitURL},function(e,t,r){"use strict";t.__esModule=!0;var n=r(92);Object.defineProperty(t,"Mesh",{enumerable:!0,get:function(){return c(n).default}});var i=r(949);Object.defineProperty(t,"MeshRenderer",{enumerable:!0,get:function(){return c(i).default}});var o=r(950);Object.defineProperty(t,"CanvasMeshRenderer",{enumerable:!0,get:function(){return c(o).default}});var a=r(277);Object.defineProperty(t,"Plane",{enumerable:!0,get:function(){return c(a).default}});var s=r(951);Object.defineProperty(t,"NineSlicePlane",{enumerable:!0,get:function(){return c(s).default}});var l=r(952);function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Rope",{enumerable:!0,get:function(){return c(l).default}})},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),i=a(r(40)),o=a(r(92));r(48);function a(e){return e&&e.__esModule?e:{default:e}}var s=n.Matrix.IDENTITY,l=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.shader=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new n.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},t.prototype.render=function(e){var t=this.renderer,r=t.gl,a=e._texture;if(a.valid){var l=e._glDatas[t.CONTEXT_UID];l||(t.bindVao(null),(l={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(r,e.vertices,r.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(r,e.uvs,r.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(r,e.indices,r.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty,vertexDirty:e.vertexDirty}).vao=new i.default.VertexArrayObject(r).addIndex(l.indexBuffer).addAttribute(l.vertexBuffer,l.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(l.uvBuffer,l.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),e._glDatas[t.CONTEXT_UID]=l),t.bindVao(l.vao),e.dirty!==l.dirty&&(l.dirty=e.dirty,l.uvBuffer.upload(e.uvs)),e.indexDirty!==l.indexDirty&&(l.indexDirty=e.indexDirty,l.indexBuffer.upload(e.indices)),e.vertexDirty!==l.vertexDirty&&(l.vertexDirty=e.vertexDirty,l.vertexBuffer.upload(e.vertices)),t.bindShader(l.shader),l.shader.uniforms.uSampler=t.bindTexture(a),t.state.setBlendMode(n.utils.correctBlendMode(e.blendMode,a.baseTexture.premultipliedAlpha)),l.shader.uniforms.uTransform&&(e.uploadUvTransform?l.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):l.shader.uniforms.uTransform=s.toArray(!0)),l.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),l.shader.uniforms.uColor=n.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,l.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var c=e.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;l.vao.draw(c,e.indices.length,0)}},t}(n.ObjectRenderer);t.default=l,n.WebGLRenderer.registerPlugin("mesh",l)},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=r(92),a=(n=o)&&n.__esModule?n:{default:n};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,n=e.worldTransform,i=t.resolution;t.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.context.globalAlpha=e.worldAlpha,t.setBlendMode(e.blendMode),e.drawMode===a.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var t=e.vertices.length/2,r=0;r<t-2;r++){var n=2*r;this._renderDrawTriangle(e,n,n+2,n+4)}},e.prototype._renderTriangles=function(e){for(var t=e.indices,r=t.length,n=0;n<r;n+=3){var i=2*t[n],o=2*t[n+1],a=2*t[n+2];this._renderDrawTriangle(e,i,o,a)}},e.prototype._renderDrawTriangle=function(e,t,r,n){var i=this.renderer.context,o=e.uvs,a=e.vertices,s=e._texture;if(s.valid){var l=s.baseTexture,c=l.source,p=l.width,u=l.height,d=void 0,h=void 0,f=void 0,m=void 0,g=void 0,y=void 0;if(e.uploadUvTransform){var v=e._uvTransform.mapCoord;d=(o[t]*v.a+o[t+1]*v.c+v.tx)*l.width,h=(o[r]*v.a+o[r+1]*v.c+v.tx)*l.width,f=(o[n]*v.a+o[n+1]*v.c+v.tx)*l.width,m=(o[t]*v.b+o[t+1]*v.d+v.ty)*l.height,g=(o[r]*v.b+o[r+1]*v.d+v.ty)*l.height,y=(o[n]*v.b+o[n+1]*v.d+v.ty)*l.height}else d=o[t]*l.width,h=o[r]*l.width,f=o[n]*l.width,m=o[t+1]*l.height,g=o[r+1]*l.height,y=o[n+1]*l.height;var b=a[t],S=a[r],T=a[n],w=a[t+1],E=a[r+1],x=a[n+1],_=e.canvasPadding/this.renderer.resolution;if(_>0){var k=_/Math.abs(e.worldTransform.a),O=_/Math.abs(e.worldTransform.d),A=(b+S+T)/3,C=(w+E+x)/3,M=b-A,P=w-C,R=Math.sqrt(M*M+P*P);b=A+M/R*(R+k),w=C+P/R*(R+O),P=E-C,S=A+(M=S-A)/(R=Math.sqrt(M*M+P*P))*(R+k),E=C+P/R*(R+O),P=x-C,T=A+(M=T-A)/(R=Math.sqrt(M*M+P*P))*(R+k),x=C+P/R*(R+O)}i.save(),i.beginPath(),i.moveTo(b,w),i.lineTo(S,E),i.lineTo(T,x),i.closePath(),i.clip();var I=d*g+m*f+h*y-g*f-m*h-d*y,B=b*g+m*T+S*y-g*T-m*S-b*y,D=d*S+b*f+h*T-S*f-b*h-d*T,L=d*g*T+m*S*f+b*h*y-b*g*f-m*h*T-d*S*y,F=w*g+m*x+E*y-g*x-m*E-w*y,N=d*E+w*f+h*x-E*f-w*h-d*x,j=d*g*x+m*E*f+w*h*y-w*g*f-m*h*x-d*E*y;i.transform(B/I,F/I,D/I,N/I,L/I,j/I),i.drawImage(c,0,0,p*l.resolution,u*l.resolution,0,0,p,u),i.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,r=e.vertices,n=r.length/2;t.beginPath();for(var i=1;i<n-2;++i){var o=2*i,a=r[o],s=r[o+1],l=r[o+2],c=r[o+3],p=r[o+4],u=r[o+5];t.moveTo(a,s),t.lineTo(l,c),t.lineTo(p,u)}t.fillStyle="#FF0000",t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();t.default=s,i.CanvasRenderer.registerPlugin("mesh",s)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=a(r(277)),o=a(r(108));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(r,n,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r,4,4));return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth="undefined"!==typeof n?n:10,s._rightWidth="undefined"!==typeof o?o:10,s._topHeight="undefined"!==typeof i?i:10,s._bottomHeight="undefined"!==typeof a?a:10,s._cachedTint=16777215,s._tintedTexture=null,s._canvasUvs=null,s.refresh(!0),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._topHeight+this._bottomHeight,r=this._height>t?1:this._height/t;e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._leftWidth+this._rightWidth,r=this._width>t?1:this._width/t;e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._renderCanvas=function(e){var t=e.context,r=this.worldTransform,n=e.resolution,i=16777215!==this.tint,a=this._texture;i&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=o.default.getTintedTexture(this,this.tint));var s=i?this._tintedTexture:a.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var l=this.vertices,c=this._canvasUvs,p=i?0:a.frame.x,u=i?0:a.frame.y,d=p+a.frame.width,h=u+a.frame.height;c[0]=p,c[1]=p+this._leftWidth,c[2]=d-this._rightWidth,c[3]=d,c[4]=u,c[5]=u+this._topHeight,c[6]=h-this._bottomHeight,c[7]=h;for(var f=0;f<8;f++)c[f]*=a.baseTexture.resolution;t.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode),e.roundPixels?t.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):t.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);for(var m=0;m<3;m++)for(var g=0;g<3;g++){var y=2*g+8*m,v=Math.max(1,c[g+1]-c[g]),b=Math.max(1,c[m+5]-c[m+4]),S=Math.max(1,l[y+10]-l[y]),T=Math.max(1,l[y+11]-l[y+1]);t.drawImage(s,c[g],c[m+4],v,b,l[y],l[y+1],S,T)}},t.prototype._refresh=function(){e.prototype._refresh.call(this);var t=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(t,[{key:"width",get:function(){return this._width},set:function(e){this._width=e,this._refresh()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()}}]),t}(i.default);t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(92);var o=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._refresh=function(){var e=this.points;if(!(e.length<1)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var t=this.uvs,r=this.indices,n=this.colors;t[0]=0,t[1]=0,t[2]=0,t[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=e.length,o=1;o<i;o++){var a=4*o,s=o/(i-1);t[a]=s,t[a+1]=0,t[a+2]=s,t[a+3]=1,n[a=2*o]=1,n[a+1]=1,r[a=2*o]=a,r[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},t.prototype.refreshVertices=function(){var e=this.points;if(!(e.length<1))for(var t=e[0],r=void 0,n=0,i=0,o=this.vertices,a=e.length,s=0;s<a;s++){var l=e[s],c=4*s;i=-((r=s<e.length-1?e[s+1]:l).x-t.x),n=r.y-t.y;var p=10*(1-s/(a-1));p>1&&(p=1);var u=Math.sqrt(n*n+i*i),d=this._texture.height/2;n/=u,i/=u,n*=d,i*=d,o[c]=l.x+n,o[c+1]=l.y+i,o[c+2]=l.x-n,o[c+3]=l.y-i,t=l}},t.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},t}(((n=i)&&n.__esModule?n:{default:n}).default);t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=r(954);Object.defineProperty(t,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}});var i=r(955);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=r(23);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a(this,t);var c=s(this,e.call(this)),p=16384;return o>p&&(o=p),o>r&&(o=r),c._properties=[!1,!0,!1,!1,!1],c._maxSize=r,c._batchSize=o,c._glBuffers={},c._bufferUpdateIDs=[],c._updateID=0,c.interactiveChildren=!1,c.blendMode=i.BLEND_MODES.NORMAL,c.autoResize=l,c.roundPixels=!0,c.baseTexture=null,c.setProperties(n),c._tint=0,c.tintRgb=new Float32Array(4),c.tint=16777215,c}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},t.prototype.renderWebGL=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.context,r=this.worldTransform,n=!0,i=0,o=0,a=0,s=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var c=this.children[l];if(c.visible){var p=c._texture.frame;if(t.globalAlpha=this.worldAlpha*c.alpha,c.rotation%(2*Math.PI)===0)n&&(t.setTransform(r.a,r.b,r.c,r.d,r.tx*e.resolution,r.ty*e.resolution),n=!1),i=c.anchor.x*(-p.width*c.scale.x)+c.position.x+.5,o=c.anchor.y*(-p.height*c.scale.y)+c.position.y+.5,a=p.width*c.scale.x,s=p.height*c.scale.y;else{n||(n=!0),c.displayObjectUpdateTransform();var u=c.worldTransform;e.roundPixels?t.setTransform(u.a,u.b,u.c,u.d,u.tx*e.resolution|0,u.ty*e.resolution|0):t.setTransform(u.a,u.b,u.c,u.d,u.tx*e.resolution,u.ty*e.resolution),i=c.anchor.x*-p.width+.5,o=c.anchor.y*-p.height+.5,a=p.width,s=p.height}var d=c._texture.baseTexture.resolution;t.drawImage(c._texture.baseTexture.source,p.x*d,p.y*d,p.width*d,p.height*d,i*e.resolution,o*e.resolution,a*e.resolution,s*e.resolution)}}}},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(t,[{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,(0,o.hex2rgb)(e,this.tintRgb)}}]),t}(i.Container);t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),i=s(r(956)),o=s(r(957)),a=r(23);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new n.Matrix,i.CONTEXT_UID=0,i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},t.prototype.start=function(){this.renderer.bindShader(this.shader)},t.prototype.render=function(e){var t=e.children,r=e._maxSize,i=e._batchSize,o=this.renderer,a=t.length;if(0!==a){a>r&&(a=r);var s=e._glBuffers[o.CONTEXT_UID];s||(s=e._glBuffers[o.CONTEXT_UID]=this.generateBuffers(e));var l=t[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(e.blendMode,l.premultipliedAlpha));var c=o.gl,p=e.worldTransform.copy(this.tempMatrix);p.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=p.toArray(!0),this.shader.uniforms.uColor=n.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(l);for(var u=!1,d=0,h=0;d<a;d+=i,h+=1){var f=a-d;if(f>i&&(f=i),h>=s.length){if(!e.autoResize)break;s.push(this._generateOneMoreBuffer(e))}var m=s[h];m.uploadDynamic(t,d,f);var g=e._bufferUpdateIDs[h]||0;(u=u||m._updateID<g)&&(m._updateID=e._updateID,m.uploadStatic(t,d,f)),o.bindVao(m.vao),m.vao.draw(c.TRIANGLES,6*f)}}},t.prototype.generateBuffers=function(e){for(var t=this.renderer.gl,r=[],n=e._maxSize,i=e._batchSize,a=e._properties,s=0;s<n;s+=i)r.push(new o.default(t,this.properties,a,i));return r},t.prototype._generateOneMoreBuffer=function(e){var t=this.renderer.gl,r=e._batchSize,n=e._properties;return new o.default(t,this.properties,n,r)},t.prototype.uploadVertices=function(e,t,r,n,i,o){for(var a=0,s=0,l=0,c=0,p=0;p<r;++p){var u=e[t+p],d=u._texture,h=u.scale.x,f=u.scale.y,m=d.trim,g=d.orig;m?(a=(s=m.x-u.anchor.x*g.width)+m.width,l=(c=m.y-u.anchor.y*g.height)+m.height):(a=g.width*(1-u.anchor.x),s=g.width*-u.anchor.x,l=g.height*(1-u.anchor.y),c=g.height*-u.anchor.y),n[o]=s*h,n[o+1]=c*f,n[o+i]=a*h,n[o+i+1]=c*f,n[o+2*i]=a*h,n[o+2*i+1]=l*f,n[o+3*i]=s*h,n[o+3*i+1]=l*f,o+=4*i}},t.prototype.uploadPosition=function(e,t,r,n,i,o){for(var a=0;a<r;a++){var s=e[t+a].position;n[o]=s.x,n[o+1]=s.y,n[o+i]=s.x,n[o+i+1]=s.y,n[o+2*i]=s.x,n[o+2*i+1]=s.y,n[o+3*i]=s.x,n[o+3*i+1]=s.y,o+=4*i}},t.prototype.uploadRotation=function(e,t,r,n,i,o){for(var a=0;a<r;a++){var s=e[t+a].rotation;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},t.prototype.uploadUvs=function(e,t,r,n,i,o){for(var a=0;a<r;++a){var s=e[t+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+i]=s.x1,n[o+i+1]=s.y1,n[o+2*i]=s.x2,n[o+2*i+1]=s.y2,n[o+3*i]=s.x3,n[o+3*i+1]=s.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},t.prototype.uploadTint=function(e,t,r,n,i,o){for(var s=0;s<r;++s){var l=e[t+s],c=l._texture.baseTexture.premultipliedAlpha,p=l.alpha,u=p<1&&c?(0,a.premultiplyTint)(l._tintRGB,p):l._tintRGB+(255*p<<24);n[o]=u,n[o+i]=u,n[o+2*i]=u,n[o+3*i]=u,o+=4*i}},t.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},t}(n.ObjectRenderer);t.default=l,n.WebGLRenderer.registerPlugin("particle",l)},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(90);var o=function(e){function t(r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=i)&&n.__esModule?n:{default:n}).default);t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(40)),i=o(r(157));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var a=r[o];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},n[o]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.gl,t=0;this.indices=(0,i.default)(this.size),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];o.offset=t,t+=o.size,this.dynamicStride+=o.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(e,a,e.STREAM_DRAW);var s=0;this.staticStride=0;for(var l=0;l<this.staticProperties.length;++l){var c=this.staticProperties[l];c.offset=s,s+=c.size,this.staticStride+=c.size}var p=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(p),this.staticDataUint32=new Uint32Array(p),this.staticBuffer=n.default.GLBuffer.createVertexBuffer(e,p,e.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var u=0;u<this.dynamicProperties.length;++u){var d=this.dynamicProperties[u];d.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,d.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*d.offset):this.vao.addAttribute(this.dynamicBuffer,d.attribute,e.FLOAT,!1,4*this.dynamicStride,4*d.offset)}for(var h=0;h<this.staticProperties.length;++h){var f=this.staticProperties[h];f.unsignedByte?this.vao.addAttribute(this.staticBuffer,f.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*f.offset):this.vao.addAttribute(this.staticBuffer,f.attribute,e.FLOAT,!1,4*this.staticStride,4*f.offset)}},e.prototype.uploadDynamic=function(e,t,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(e,t,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},e.prototype.uploadStatic=function(e,t,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(e,t,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},e.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},e}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=r(959);Object.defineProperty(t,"webgl",{enumerable:!0,get:function(){return l(n).default}});var i=r(960);Object.defineProperty(t,"canvas",{enumerable:!0,get:function(){return l(i).default}});var o=r(159);Object.defineProperty(t,"BasePrepare",{enumerable:!0,get:function(){return l(o).default}});var a=r(278);Object.defineProperty(t,"CountLimiter",{enumerable:!0,get:function(){return l(a).default}});var s=r(961);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"TimeLimiter",{enumerable:!0,get:function(){return l(s).default}})},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=r(159);var a=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(c),n.registerUploadHook(s),n.registerUploadHook(l),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);function s(e,t){return t instanceof i.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function l(e,t){return t instanceof i.Graphics&&((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0)}function c(e,t){return e instanceof i.Graphics&&(t.push(e),!0)}t.default=a,i.WebGLRenderer.registerPlugin("prepare",a)},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),o=r(159),a=(n=o)&&n.__esModule?n:{default:n};var s=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=16,n.canvas.height=16,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(l),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(a.default);function l(e,t){if(t instanceof i.BaseTexture){var r=t.source,n=0===r.width?e.canvas.width:Math.min(e.canvas.width,r.width),o=0===r.height?e.canvas.height:Math.min(e.canvas.height,r.height);return e.ctx.drawImage(r,0,0,n,o,0,0,e.canvas.width,e.canvas.height),!0}return!1}t.default=s,i.CanvasRenderer.registerPlugin("prepare",s)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();t.default=n},function(e,t,r){var n=r(963),i=r(282),o=r(281);function a(){this.vertices=[]}e.exports=a,a.prototype.at=function(e){var t=this.vertices,r=t.length;return t[e<0?e%r+r:e%r]},a.prototype.first=function(){return this.vertices[0]},a.prototype.last=function(){return this.vertices[this.vertices.length-1]},a.prototype.clear=function(){this.vertices.length=0},a.prototype.append=function(e,t,r){if("undefined"==typeof t)throw new Error("From is not given!");if("undefined"==typeof r)throw new Error("To is not given!");if(r-1<t)throw new Error("lol1");if(r>e.vertices.length)throw new Error("lol2");if(t<0)throw new Error("lol3");for(var n=t;n<r;n++)this.vertices.push(e.vertices[n])},a.prototype.makeCCW=function(){for(var e=0,t=this.vertices,r=1;r<this.vertices.length;++r)(t[r][1]<t[e][1]||t[r][1]==t[e][1]&&t[r][0]>t[e][0])&&(e=r);i.left(this.at(e-1),this.at(e),this.at(e+1))||this.reverse()},a.prototype.reverse=function(){for(var e=[],t=0,r=this.vertices.length;t!==r;t++)e.push(this.vertices.pop());this.vertices=e},a.prototype.isReflex=function(e){return i.right(this.at(e-1),this.at(e),this.at(e+1))};var s=[],l=[];function c(e,t,r,n,i){i=i||0;var a=t[1]-e[1],s=e[0]-t[0],l=a*e[0]+s*e[1],c=n[1]-r[1],p=r[0]-n[0],u=c*r[0]+p*r[1],d=a*p-c*s;return o.eq(d,0,i)?[0,0]:[(p*l-s*u)/d,(a*u-c*l)/d]}a.prototype.canSee=function(e,t){var r,o,a=s,c=l;if(i.leftOn(this.at(e+1),this.at(e),this.at(t))&&i.rightOn(this.at(e-1),this.at(e),this.at(t)))return!1;o=i.sqdist(this.at(e),this.at(t));for(var p=0;p!==this.vertices.length;++p)if((p+1)%this.vertices.length!==e&&p!==e&&i.leftOn(this.at(e),this.at(t),this.at(p+1))&&i.rightOn(this.at(e),this.at(t),this.at(p))&&(a[0]=this.at(e),a[1]=this.at(t),c[0]=this.at(p),c[1]=this.at(p+1),r=n.lineInt(a,c),i.sqdist(this.at(e),r)<o))return!1;return!0},a.prototype.copy=function(e,t,r){var n=r||new a;if(n.clear(),e<t)for(var i=e;i<=t;i++)n.vertices.push(this.vertices[i]);else{for(i=0;i<=t;i++)n.vertices.push(this.vertices[i]);for(i=e;i<this.vertices.length;i++)n.vertices.push(this.vertices[i])}return n},a.prototype.getCutEdges=function(){for(var e=[],t=[],r=[],n=new a,i=Number.MAX_VALUE,o=0;o<this.vertices.length;++o)if(this.isReflex(o))for(var s=0;s<this.vertices.length;++s)if(this.canSee(o,s)){t=this.copy(o,s,n).getCutEdges(),r=this.copy(s,o,n).getCutEdges();for(var l=0;l<r.length;l++)t.push(r[l]);t.length<i&&(e=t,i=t.length,e.push([this.at(o),this.at(s)]))}return e},a.prototype.decomp=function(){var e=this.getCutEdges();return e.length>0?this.slice(e):[this]},a.prototype.slice=function(e){if(0==e.length)return[this];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2==e[0].length&&e[0][0]instanceof Array){for(var t=[this],r=0;r<e.length;r++)for(var n=e[r],i=0;i<t.length;i++){var o=t[i].slice(n);if(o){t.splice(i,1),t.push(o[0],o[1]);break}}return t}n=e,r=this.vertices.indexOf(n[0]),i=this.vertices.indexOf(n[1]);return-1!=r&&-1!=i&&[this.copy(r,i),this.copy(i,r)]},a.prototype.isSimple=function(){for(var e=this.vertices,t=0;t<e.length-1;t++)for(var r=0;r<t-1;r++)if(n.segmentsIntersect(e[t],e[t+1],e[r],e[r+1]))return!1;for(t=1;t<e.length-2;t++)if(n.segmentsIntersect(e[0],e[e.length-1],e[t],e[t+1]))return!1;return!0},a.prototype.quickDecomp=function(e,t,r,n,o,s){o=o||100,s=s||0,n=n||25,e="undefined"!=typeof e?e:[],t=t||[],r=r||[];var l=[0,0],p=[0,0],u=[0,0],d=0,h=0,f=0,m=0,g=0,y=0,v=0,b=new a,S=new a,T=this,w=this.vertices;if(w.length<3)return e;if(++s>o)return console.warn("quickDecomp: max level ("+o+") reached."),e;for(var E=0;E<this.vertices.length;++E)if(T.isReflex(E)){t.push(T.vertices[E]),d=h=Number.MAX_VALUE;for(var x=0;x<this.vertices.length;++x)i.left(T.at(E-1),T.at(E),T.at(x))&&i.rightOn(T.at(E-1),T.at(E),T.at(x-1))&&(u=c(T.at(E-1),T.at(E),T.at(x),T.at(x-1)),i.right(T.at(E+1),T.at(E),u)&&(f=i.sqdist(T.vertices[E],u))<h&&(h=f,p=u,y=x)),i.left(T.at(E+1),T.at(E),T.at(x+1))&&i.rightOn(T.at(E+1),T.at(E),T.at(x))&&(u=c(T.at(E+1),T.at(E),T.at(x),T.at(x+1)),i.left(T.at(E-1),T.at(E),u)&&(f=i.sqdist(T.vertices[E],u))<d&&(d=f,l=u,g=x));if(y==(g+1)%this.vertices.length)u[0]=(p[0]+l[0])/2,u[1]=(p[1]+l[1])/2,r.push(u),E<g?(b.append(T,E,g+1),b.vertices.push(u),S.vertices.push(u),0!=y&&S.append(T,y,T.vertices.length),S.append(T,0,E+1)):(0!=E&&b.append(T,E,T.vertices.length),b.append(T,0,g+1),b.vertices.push(u),S.vertices.push(u),S.append(T,y,E+1));else{if(y>g&&(g+=this.vertices.length),m=Number.MAX_VALUE,g<y)return e;for(x=y;x<=g;++x)i.leftOn(T.at(E-1),T.at(E),T.at(x))&&i.rightOn(T.at(E+1),T.at(E),T.at(x))&&(f=i.sqdist(T.at(E),T.at(x)))<m&&(m=f,v=x%this.vertices.length);E<v?(b.append(T,E,v+1),0!=v&&S.append(T,v,w.length),S.append(T,0,E+1)):(0!=E&&b.append(T,E,w.length),b.append(T,0,v+1),S.append(T,v,E+1))}return b.vertices.length<S.vertices.length?(b.quickDecomp(e,t,r,n,o,s),S.quickDecomp(e,t,r,n,o,s)):(S.quickDecomp(e,t,r,n,o,s),b.quickDecomp(e,t,r,n,o,s)),e}return e.push(this),e},a.prototype.removeCollinearPoints=function(e){for(var t=0,r=this.vertices.length-1;this.vertices.length>3&&r>=0;--r)i.collinear(this.at(r-1),this.at(r),this.at(r+1),e)&&(this.vertices.splice(r%this.vertices.length,1),r--,t++);return t}},function(e,t,r){var n=r(281);function i(){}e.exports=i,i.lineInt=function(e,t,r){r=r||0;var i,o,a,s,l,c,p,u=[0,0];return i=e[1][1]-e[0][1],o=e[0][0]-e[1][0],a=i*e[0][0]+o*e[0][1],s=t[1][1]-t[0][1],l=t[0][0]-t[1][0],c=s*t[0][0]+l*t[0][1],p=i*l-s*o,n.eq(p,0,r)||(u[0]=(l*a-o*c)/p,u[1]=(i*c-s*a)/p),u},i.segmentsIntersect=function(e,t,r,n){var i=t[0]-e[0],o=t[1]-e[1],a=n[0]-r[0],s=n[1]-r[1];if(a*o-s*i==0)return!1;var l=(i*(r[1]-e[1])+o*(e[0]-r[0]))/(a*o-s*i),c=(a*(e[1]-r[1])+s*(r[0]-e[0]))/(s*i-a*o);return l>=0&&l<=1&&c>=0&&c<=1}},function(e,t){var r={GetArea:function(e){if(e.length<6)return 0;for(var t=e.length-2,r=0,n=0;n<t;n+=2)r+=(e[n+2]-e[n])*(e[n+1]+e[n+3]);return.5*-(r+=(e[0]-e[t])*(e[t+1]+e[1]))},Triangulate:function(e){var t=e.length>>1;if(t<3)return[];for(var n=[],i=[],o=0;o<t;o++)i.push(o);o=0;for(var a=t;a>3;){var s=i[(o+0)%a],l=i[(o+1)%a],c=i[(o+2)%a],p=e[2*s],u=e[2*s+1],d=e[2*l],h=e[2*l+1],f=e[2*c],m=e[2*c+1],g=!1;if(r._convex(p,u,d,h,f,m)){g=!0;for(var y=0;y<a;y++){var v=i[y];if(v!=s&&v!=l&&v!=c&&r._PointInTriangle(e[2*v],e[2*v+1],p,u,d,h,f,m)){g=!1;break}}}if(g)n.push(s,l,c),i.splice((o+1)%a,1),a--,o=0;else if(o++>3*a)break}return n.push(i[0],i[1],i[2]),n},_PointInTriangle:function(e,t,r,n,i,o,a,s){var l=a-r,c=s-n,p=i-r,u=o-n,d=e-r,h=t-n,f=l*l+c*c,m=l*p+c*u,g=l*d+c*h,y=p*p+u*u,v=p*d+u*h,b=1/(f*y-m*m),S=(y*g-m*v)*b,T=(f*v-m*g)*b;return S>=0&&T>=0&&S+T<1},_convex:function(e,t,r,n,i,o){return(t-n)*(i-r)+(r-e)*(o-n)>=0}};e.exports=r},function(e,t,r){var n=r(37),i=r(11);r(27);function o(e){if(Array.isArray(arguments[0])){if(e={heights:arguments[0]},"object"===typeof arguments[1])for(var t in arguments[1])e[t]=arguments[1][t];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}e=e||{},this.heights=e.heights?e.heights.slice(0):[],this.maxValue=e.maxValue||null,this.minValue=e.minValue||null,this.elementWidth=e.elementWidth||.1,void 0!==e.maxValue&&void 0!==e.minValue||this.updateMaxMinValues(),e.type=n.HEIGHTFIELD,n.call(this,e)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.updateMaxMinValues=function(){for(var e=this.heights,t=e[0],r=e[0],n=0;n!==e.length;n++){var i=e[n];i>t&&(t=i),i<r&&(r=i)}this.maxValue=t,this.minValue=r},o.prototype.computeMomentOfInertia=function(e){return Number.MAX_VALUE},o.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},o.prototype.updateArea=function(){for(var e=this.heights,t=0,r=0;r<e.length-1;r++)t+=(e[r]+e[r+1])/2*this.elementWidth;this.area=t};var a=[i.create(),i.create(),i.create(),i.create()];o.prototype.computeAABB=function(e,t,r){i.set(a[0],0,this.maxValue),i.set(a[1],this.elementWidth*this.heights.length,this.maxValue),i.set(a[2],this.elementWidth*this.heights.length,this.minValue),i.set(a[3],0,this.minValue),e.setFromPoints(a,t,r)},o.prototype.getLineSegment=function(e,t,r){var n=this.heights,o=this.elementWidth;i.set(e,r*o,n[r]),i.set(t,(r+1)*o,n[r+1])},o.prototype.getSegmentIndex=function(e){return Math.floor(e[0]/this.elementWidth)},o.prototype.getClampedSegmentIndex=function(e){var t=this.getSegmentIndex(e);return t=Math.min(this.heights.length,Math.max(t,0))};i.create();var s=i.create(),l=i.create(),c=i.create(),p=i.create(),u=i.create();i.fromValues(0,1);o.prototype.raycast=function(e,t,r,n){var o=t.from,a=t.to,d=(t.direction,s),h=l,f=c,m=p,g=u;i.toLocalFrame(m,o,r,n),i.toLocalFrame(g,a,r,n);var y=this.getClampedSegmentIndex(m),v=this.getClampedSegmentIndex(g);if(y>v){var b=y;y=v,v=b}for(var S=0;S<this.heights.length-1;S++){this.getLineSegment(h,f,S);var T=i.getLineSegmentsIntersectionFraction(m,g,h,f);if(T>=0&&(i.sub(d,f,h),i.rotate(d,d,n+Math.PI/2),i.normalize(d,d),t.reportIntersection(e,T,d,-1),e.shouldStop(t)))return}}},function(e,t,r){r(117),r(163),r(37),r(164);var n=r(116);r(11);function i(){n.call(this,n.NAIVE)}e.exports=i,i.prototype=new n,i.prototype.constructor=i,i.prototype.getCollisionPairs=function(e){var t=e.bodies,r=this.result;r.length=0;for(var i=0,o=t.length;i!==o;i++)for(var a=t[i],s=0;s<i;s++){var l=t[s];n.canCollide(a,l)&&this.boundingVolumeCheck(a,l)&&r.push(a,l)}return r},i.prototype.aabbQuery=function(e,t,r){r=r||[];for(var n=e.bodies,i=0;i<n.length;i++){var o=n[i];o.aabbNeedsUpdate&&o.updateAABB(),o.aabb.overlaps(t)&&r.push(o)}return r}},function(e,t,r){var n=r(11),i=(r(27),r(66)),o=r(94),a=r(65);function s(e,t){t=t||{},this.chassisBody=e,this.wheels=[],this.groundBody=new a({mass:0}),this.world=null;var r=this;this.preStepCallback=function(){r.update()}}function l(e,t){t=t||{},this.vehicle=e,this.forwardEquation=new o(e.chassisBody,e.groundBody),this.sideEquation=new o(e.chassisBody,e.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==t.sideFriction?t.sideFriction:5),this.localForwardVector=n.fromValues(0,1),t.localForwardVector&&n.copy(this.localForwardVector,t.localForwardVector),this.localPosition=n.fromValues(0,0),t.localPosition&&n.copy(this.localPosition,t.localPosition),i.apply(this,e.chassisBody,e.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}e.exports=s,s.prototype.addToWorld=function(e){this.world=e,e.addBody(this.groundBody),e.on("preStep",this.preStepCallback);for(var t=0;t<this.wheels.length;t++){var r=this.wheels[t];e.addConstraint(r)}},s.prototype.removeFromWorld=function(){var e=this.world;e.removeBody(this.groundBody),e.off("preStep",this.preStepCallback);for(var t=0;t<this.wheels.length;t++){var r=this.wheels[t];e.removeConstraint(r)}this.world=null},s.prototype.addWheel=function(e){var t=new l(this,e);return this.wheels.push(t),t},s.prototype.update=function(){for(var e=0;e<this.wheels.length;e++)this.wheels[e].update()},l.prototype=new i,l.prototype.setBrakeForce=function(e){this.forwardEquation.setSlipForce(e)},l.prototype.setSideFriction=function(e){this.sideEquation.setSlipForce(e)};var c=n.create(),p=n.create();l.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(p,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(c,p),n.dot(c,p)};var u=n.create();l.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),n.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),n.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),n.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),n.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),n.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),n.normalize(u,this.forwardEquation.t),n.scale(u,u,this.engineForce),this.vehicle.chassisBody.applyForce(u,this.forwardEquation.contactPointA)}},function(e,t,r){var n=r(289),i=(r(162),r(114),r(11)),o=r(117),a=r(93),s=(r(290),r(163)),l=r(283),c=r(164),p=r(115),u=r(65),d=(r(37),r(300),r(161)),h=r(285),f=(r(286),r(66),r(291),r(295),r(298),r(288),r(302),r(116),r(113)),m=r(299),g=r(292),y=r(27),v=r(969),b=r(971);r(301);function S(e){p.apply(this),e=e||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=e.solver||new n,this.narrowphase=new g(this),this.islandManager=new b,this.gravity=i.fromValues(0,-9.78),e.gravity&&i.copy(this.gravity,e.gravity),this.frictionGravity=i.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=e.broadphase||new m,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new d,this.defaultContactMaterial=new h(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit="undefined"===typeof e.islandSplit||!!e.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=S.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new v}e.exports=S,S.prototype=new Object(p.prototype),S.prototype.constructor=S,S.NO_SLEEPING=1,S.BODY_SLEEPING=2,S.ISLAND_SLEEPING=4,S.prototype.addConstraint=function(e){this.constraints.push(e)},S.prototype.addContactMaterial=function(e){this.contactMaterials.push(e)},S.prototype.removeContactMaterial=function(e){var t=this.contactMaterials.indexOf(e);-1!==t&&y.splice(this.contactMaterials,t,1)},S.prototype.getContactMaterial=function(e,t){for(var r=this.contactMaterials,n=0,i=r.length;n!==i;n++){var o=r[n];if(o.materialA.id===e.id&&o.materialB.id===t.id||o.materialA.id===t.id&&o.materialB.id===e.id)return o}return!1},S.prototype.removeConstraint=function(e){var t=this.constraints.indexOf(e);-1!==t&&y.splice(this.constraints,t,1)};i.create(),i.create(),i.create(),i.create(),i.create(),i.create();var T=i.create(),w=i.fromValues(0,0),E=i.fromValues(0,0);i.fromValues(0,0),i.fromValues(0,0);S.prototype.step=function(e,t,r){if(r=r||10,0===(t=t||0))this.internalStep(e),this.time+=e;else{this.accumulator+=t;for(var n=0;this.accumulator>=e&&n<r;)this.internalStep(e),this.time+=e,this.accumulator-=e,n++;for(var o=this.accumulator%e/e,a=0;a!==this.bodies.length;a++){var s=this.bodies[a];i.lerp(s.interpolatedPosition,s.previousPosition,s.position,o),s.interpolatedAngle=s.previousAngle+o*(s.angle-s.previousAngle)}}};var x=[];S.prototype.internalStep=function(e){this.stepping=!0;var t=this.springs.length,r=this.springs,n=this.bodies,o=this.gravity,a=this.solver,s=this.bodies.length,l=this.broadphase,c=this.narrowphase,p=this.constraints,d=T,h=(i.scale,i.add),f=(i.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=e,this.useWorldGravityAsFrictionGravity){var m=i.length(this.gravity);0===m&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=m)}if(this.applyGravity)for(var g=0;g!==s;g++){var v=(b=n[g]).force;b.type===u.DYNAMIC&&b.sleepState!==u.SLEEPING&&(i.scale(d,o,b.mass*b.gravityScale),h(v,v,d))}if(this.applySpringForces)for(g=0;g!==t;g++){r[g].applyForce()}if(this.applyDamping)for(g=0;g!==s;g++){var b;(b=n[g]).type===u.DYNAMIC&&b.applyDamping(e)}var w=l.getCollisionPairs(this),E=this.disabledBodyCollisionPairs;for(g=E.length-2;g>=0;g-=2)for(var _=w.length-2;_>=0;_-=2)(E[g]===w[_]&&E[g+1]===w[_+1]||E[g+1]===w[_]&&E[g]===w[_+1])&&w.splice(_,2);var k=p.length;for(g=0;g!==k;g++){var O=p[g];if(!O.collideConnected)for(_=w.length-2;_>=0;_-=2)(O.bodyA===w[_]&&O.bodyB===w[_+1]||O.bodyB===w[_]&&O.bodyA===w[_+1])&&w.splice(_,2)}this.postBroadphaseEvent.pairs=w,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,c.reset(this);g=0;for(var A=w.length;g!==A;g+=2)for(var C=w[g],M=w[g+1],P=0,R=C.shapes.length;P!==R;P++)for(var I=C.shapes[P],B=I.position,D=I.angle,L=0,F=M.shapes.length;L!==F;L++){var N=M.shapes[L],j=N.position,V=N.angle,G=this.defaultContactMaterial;if(I.material&&N.material){var U=this.getContactMaterial(I.material,N.material);U&&(G=U)}this.runNarrowphase(c,C,I,B,D,M,N,j,V,G,this.frictionGravity)}for(g=0;g!==s;g++){($=n[g])._wakeUpAfterNarrowphase&&($.wakeUp(),$._wakeUpAfterNarrowphase=!1)}if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(x);var W=this.endContactEvent;for(L=x.length;L--;){var z=x[L];W.shapeA=z.shapeA,W.shapeB=z.shapeB,W.bodyA=z.bodyA,W.bodyB=z.bodyB,this.emit(W)}x.length=0}var H=this.preSolveEvent;H.contactEquations=c.contactEquations,H.frictionEquations=c.frictionEquations,this.emit(H),H.contactEquations=H.frictionEquations=null;k=p.length;for(g=0;g!==k;g++)p[g].update();if(c.contactEquations.length||c.frictionEquations.length||k)if(this.islandSplit){for(f.equations.length=0,y.appendArray(f.equations,c.contactEquations),y.appendArray(f.equations,c.frictionEquations),g=0;g!==k;g++)y.appendArray(f.equations,p[g].equations);f.split(this);for(g=0;g!==f.islands.length;g++){(K=f.islands[g]).equations.length&&a.solveIsland(e,K)}}else{for(a.addEquations(c.contactEquations),a.addEquations(c.frictionEquations),g=0;g!==k;g++)a.addEquations(p[g].equations);this.solveConstraints&&a.solve(e,this),a.removeAllEquations()}for(g=0;g!==s;g++){var $;($=n[g]).integrate(e)}for(g=0;g!==s;g++)n[g].setZeroForce();if(this.emitImpactEvent&&this.has("impact")){var X=this.impactEvent;for(g=0;g!==c.contactEquations.length;g++){var Y=c.contactEquations[g];Y.firstImpact&&(X.bodyA=Y.bodyA,X.bodyB=Y.bodyB,X.shapeA=Y.shapeA,X.shapeB=Y.shapeB,X.contactEquation=Y,this.emit(X))}}if(this.sleepMode===S.BODY_SLEEPING)for(g=0;g!==s;g++)n[g].sleepTick(this.time,!1,e);else if(this.sleepMode===S.ISLAND_SLEEPING&&this.islandSplit){for(g=0;g!==s;g++)n[g].sleepTick(this.time,!0,e);for(g=0;g<this.islandManager.islands.length;g++){var K;(K=this.islandManager.islands[g]).wantsToSleep()&&K.sleep()}}this.stepping=!1;var q=this.bodiesToBeRemoved;for(g=0;g!==q.length;g++)this.removeBody(q[g]);q.length=0,this.emit(this.postStepEvent)},S.prototype.runNarrowphase=function(e,t,r,n,o,a,s,l,c,p,d){if(0!==(r.collisionGroup&s.collisionMask)&&0!==(s.collisionGroup&r.collisionMask)){i.rotate(w,n,t.angle),i.rotate(E,l,a.angle),i.add(w,w,t.position),i.add(E,E,a.position);var h,f=o+t.angle,m=c+a.angle;e.enableFriction=p.friction>0,e.frictionCoefficient=p.friction,h=t.type===u.STATIC||t.type===u.KINEMATIC?a.mass:a.type===u.STATIC||a.type===u.KINEMATIC?t.mass:t.mass*a.mass/(t.mass+a.mass),e.slipForce=p.friction*d*h,e.restitution=p.restitution,e.surfaceVelocity=p.surfaceVelocity,e.frictionStiffness=p.frictionStiffness,e.frictionRelaxation=p.frictionRelaxation,e.stiffness=p.stiffness,e.relaxation=p.relaxation,e.contactSkinSize=p.contactSkinSize,e.enabledEquations=t.collisionResponse&&a.collisionResponse&&r.collisionResponse&&s.collisionResponse;var g=e[r.type|s.type],y=0;if(g){var v=r.sensor||s.sensor,b=e.frictionEquations.length;y=r.type<s.type?g.call(e,t,r,w,f,a,s,E,m,v):g.call(e,a,s,E,m,t,r,w,f,v);var S=e.frictionEquations.length-b;if(y){if(t.allowSleep&&t.type===u.DYNAMIC&&t.sleepState===u.SLEEPING&&a.sleepState===u.AWAKE&&a.type!==u.STATIC)i.squaredLength(a.velocity)+Math.pow(a.angularVelocity,2)>=2*Math.pow(a.sleepSpeedLimit,2)&&(t._wakeUpAfterNarrowphase=!0);if(a.allowSleep&&a.type===u.DYNAMIC&&a.sleepState===u.SLEEPING&&t.sleepState===u.AWAKE&&t.type!==u.STATIC)i.squaredLength(t.velocity)+Math.pow(t.angularVelocity,2)>=2*Math.pow(t.sleepSpeedLimit,2)&&(a._wakeUpAfterNarrowphase=!0);if(this.overlapKeeper.setOverlapping(t,r,a,s),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(r,s)){var T=this.beginContactEvent;if(T.shapeA=r,T.shapeB=s,T.bodyA=t,T.bodyB=a,T.contactEquations.length=0,"number"===typeof y)for(var x=e.contactEquations.length-y;x<e.contactEquations.length;x++)T.contactEquations.push(e.contactEquations[x]);this.emit(T)}if("number"===typeof y&&S>1)for(x=e.frictionEquations.length-S;x<e.frictionEquations.length;x++){var _=e.frictionEquations[x];_.setSlipForce(_.getSlipForce()/S)}}}}},S.prototype.addSpring=function(e){this.springs.push(e);var t=this.addSpringEvent;t.spring=e,this.emit(t),t.spring=null},S.prototype.removeSpring=function(e){var t=this.springs.indexOf(e);-1!==t&&y.splice(this.springs,t,1)},S.prototype.addBody=function(e){if(-1===this.bodies.indexOf(e)){this.bodies.push(e),e.world=this;var t=this.addBodyEvent;t.body=e,this.emit(t),t.body=null}},S.prototype.removeBody=function(e){if(this.stepping)this.bodiesToBeRemoved.push(e);else{e.world=null;var t=this.bodies.indexOf(e);-1!==t&&(y.splice(this.bodies,t,1),this.removeBodyEvent.body=e,e.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},S.prototype.getBodyById=function(e){for(var t=this.bodies,r=0;r<t.length;r++){var n=t[r];if(n.id===e)return n}return!1},S.prototype.disableBodyCollision=function(e,t){this.disabledBodyCollisionPairs.push(e,t)},S.prototype.enableBodyCollision=function(e,t){for(var r=this.disabledBodyCollisionPairs,n=0;n<r.length;n+=2)if(r[n]===e&&r[n+1]===t||r[n+1]===e&&r[n]===t)return void r.splice(n,2)},S.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var e=this.constraints,t=e.length-1;t>=0;t--)this.removeConstraint(e[t]);var r=this.bodies;for(t=r.length-1;t>=0;t--)this.removeBody(r[t]);var n=this.springs;for(t=n.length-1;t>=0;t--)this.removeSpring(n[t]);var i=this.contactMaterials;for(t=i.length-1;t>=0;t--)this.removeContactMaterial(i[t]);S.apply(this)};var _=i.create(),k=(i.fromValues(0,0),i.fromValues(0,0));S.prototype.hitTest=function(e,t,r){r=r||0;var n=new u({position:e}),p=new c,d=e,h=_,f=k;n.addShape(p);for(var m=this.narrowphase,g=[],y=0,v=t.length;y!==v;y++)for(var b=t[y],S=0,T=b.shapes.length;S!==T;S++){var w=b.shapes[S];i.rotate(h,w.position,b.angle),i.add(h,h,b.position);var E=w.angle+b.angle;(w instanceof o&&m.circleParticle(b,w,h,E,n,p,d,0,!0)||w instanceof a&&m.particleConvex(n,p,d,0,b,w,h,E,!0)||w instanceof s&&m.particlePlane(n,p,d,0,b,w,h,E,!0)||w instanceof l&&m.particleCapsule(n,p,d,0,b,w,h,E,!0)||w instanceof c&&i.squaredLength(i.sub(f,h,e))<r*r)&&g.push(b)}return g},S.prototype.setGlobalStiffness=function(e){for(var t=this.constraints,r=0;r!==t.length;r++)for(var n=t[r],i=0;i!==n.equations.length;i++){var o=n.equations[i];o.stiffness=e,o.needsUpdate=!0}var a=this.contactMaterials;for(r=0;r!==a.length;r++){(n=a[r]).stiffness=n.frictionStiffness=e}(n=this.defaultContactMaterial).stiffness=n.frictionStiffness=e},S.prototype.setGlobalRelaxation=function(e){for(var t=0;t!==this.constraints.length;t++)for(var r=this.constraints[t],n=0;n!==r.equations.length;n++){var i=r.equations[n];i.relaxation=e,i.needsUpdate=!0}for(t=0;t!==this.contactMaterials.length;t++){(r=this.contactMaterials[t]).relaxation=r.frictionRelaxation=e}(r=this.defaultContactMaterial).relaxation=r.frictionRelaxation=e};var O=new f,A=[];S.prototype.raycast=function(e,t){return t.getAABB(O),this.broadphase.aabbQuery(this,O,A),t.intersectBodies(e,A),A.length=0,e.hasHit()}},function(e,t,r){var n=r(293),i=(r(303),r(970));r(27);function o(){this.overlappingShapesLastState=new n,this.overlappingShapesCurrentState=new n,this.recordPool=new i({size:16}),this.tmpDict=new n,this.tmpArray1=[]}e.exports=o,o.prototype.tick=function(){for(var e=this.overlappingShapesLastState,t=this.overlappingShapesCurrentState,r=e.keys.length;r--;){var n=e.keys[r],i=e.getByKey(n);t.getByKey(n);i&&this.recordPool.release(i)}e.reset(),e.copy(t),t.reset()},o.prototype.setOverlapping=function(e,t,r,n){this.overlappingShapesLastState;var i=this.overlappingShapesCurrentState;if(!i.get(t.id,n.id)){var o=this.recordPool.get();o.set(e,t,r,n),i.set(t.id,n.id,o)}},o.prototype.getNewOverlaps=function(e){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,e)},o.prototype.getEndOverlaps=function(e){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,e)},o.prototype.bodiesAreOverlapping=function(e,t){for(var r=this.overlappingShapesCurrentState,n=r.keys.length;n--;){var i=r.keys[n],o=r.data[i];if(o.bodyA===e&&o.bodyB===t||o.bodyA===t&&o.bodyB===e)return!0}return!1},o.prototype.getDiff=function(e,t,r){var n=e,i=t;(r=r||[]).length=0;for(var o=i.keys.length;o--;){var a=i.keys[o],s=i.data[a];if(!s)throw new Error("Key "+a+" had no data!");n.data[a]||r.push(s)}return r},o.prototype.isNewOverlap=function(e,t){var r=0|e.id,n=0|t.id,i=this.overlappingShapesLastState,o=this.overlappingShapesCurrentState;return!i.get(r,n)&&!!o.get(r,n)},o.prototype.getNewBodyOverlaps=function(e){this.tmpArray1.length=0;var t=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(t,e)},o.prototype.getEndBodyOverlaps=function(e){this.tmpArray1.length=0;var t=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(t,e)},o.prototype.getBodyDiff=function(e,t){t=t||[];for(var r=this.tmpDict,n=e.length;n--;){var i=e[n];r.set(0|i.bodyA.id,0|i.bodyB.id,i)}for(n=r.keys.length;n--;){(i=r.getByKey(r.keys[n]))&&t.push(i.bodyA,i.bodyB)}return r.reset(),t}},function(e,t,r){var n=r(303),i=r(78);function o(){i.apply(this,arguments)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.bodyA=e.bodyB=e.shapeA=e.shapeB=null,this}},function(e,t,r){r(11),r(304),r(305);var n=r(972),i=r(973),o=r(65);function a(e){this.nodePool=new n({size:16}),this.islandPool=new i({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}e.exports=a,a.getUnvisitedNode=function(e){for(var t=e.length,r=0;r!==t;r++){var n=e[r];if(!n.visited&&n.body.type===o.DYNAMIC)return n}return!1},a.prototype.visit=function(e,t,r){t.push(e.body);for(var n=e.equations.length,i=0;i!==n;i++){var o=e.equations[i];-1===r.indexOf(o)&&r.push(o)}},a.prototype.bfs=function(e,t,r){var n=this.queue;for(n.length=0,n.push(e),e.visited=!0,this.visit(e,t,r);n.length;)for(var i,s=n.pop();i=a.getUnvisitedNode(s.neighbors);)i.visited=!0,this.visit(i,t,r),i.body.type===o.DYNAMIC&&n.push(i)},a.prototype.split=function(e){for(var t=e.bodies,r=this.nodes,n=this.equations;r.length;)this.nodePool.release(r.pop());for(var i=0;i!==t.length;i++){var o=this.nodePool.get();o.body=t[i],r.push(o)}for(var s=0;s!==n.length;s++){var l=n[s],c=(i=t.indexOf(l.bodyA),t.indexOf(l.bodyB)),p=r[i],u=r[c];p.neighbors.push(u),u.neighbors.push(p),p.equations.push(l),u.equations.push(l)}var d,h=this.islands;for(i=0;i<h.length;i++)this.islandPool.release(h[i]);for(h.length=0;d=a.getUnvisitedNode(r);){var f=this.islandPool.get();this.bfs(d,f.bodies,f.equations),h.push(f)}return h}},function(e,t,r){var n=r(305),i=r(78);function o(){i.apply(this,arguments)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.reset(),this}},function(e,t,r){var n=r(304),i=r(78);function o(){i.apply(this,arguments)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.reset(),this}},function(e,t,r){"use strict";var n=r(41),i=r(306),o=r(976),a=r(166);function s(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var l=s(a);l.Axios=o,l.create=function(e){return s(n.merge(a,e))},l.Cancel=r(310),l.CancelToken=r(989),l.isCancel=r(309),l.all=function(e){return Promise.all(e)},l.spread=r(990),e.exports=l,e.exports.default=l},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,r){"use strict";var n=r(166),i=r(41),o=r(984),a=r(985);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}})),e.exports=s},function(e,t,r){"use strict";var n=r(41);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(308);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e}},function(e,t,r){"use strict";var n=r(41);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,r){"use strict";var n=r(41),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var n=r(41);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(41);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(41);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(41),i=r(986),o=r(309),a=r(166),s=r(987),l=r(988);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(41);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(310);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/default-backdrop.c479238f.png"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/default-backdrop.c479238f.png"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/default-costume.baa85a59.png"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/default-costume.baa85a59.png"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(95),i=r(119);t.shared=e=>(...t)=>Object.assign({[n.SHARED]:!0},e(...t)),t.client=e=>(...t)=>Object.assign({[n.SHARED]:!0,[n.CLIENT]:!0},e(...t)),t.connectToSharedStore=e=>({type:i.CONNECT,payload:{socket:e}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(119),i=r(95);t.combineClients=e=>(t,r)=>{if("undefined"===typeof t)return{items:[],mappings:{}};if(r.type===n.PRESENT){const{clients:t,shared:i}=r.payload.state;return{items:t.items.map((t=>e(t,{type:n.PRESENT,payload:{state:{shared:i,client:t}}}))),mappings:t.mappings}}if(r.type===n.ADD_CLIENT){if("undefined"===typeof t.mappings[r[i.CLIENT]]){const n=[...t.items,e({id:r[i.CLIENT]},r)];return{items:n,mappings:Object.assign({},t.mappings,{[r[i.CLIENT]]:n.length-1})}}return t}return t&&"undefined"!==typeof r[i.CLIENT]?((e,t,r)=>{const n=r.items.slice();return n[r.mappings[e]]=t,{items:n,mappings:r.mappings}})(r[i.CLIENT],e(((e,t)=>t.items[t.mappings[e]])(r[i.CLIENT],t),r),t):{items:t.items.map((t=>e(t,r))),mappings:t.mappings}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(119),i=r(95),o=r(998)("redux-socket-client");t.sharedStoreMiddleware=function(e,t={clientFirst:!1}){const r=[],a=2===arguments.length||1===arguments.length&&"undefined"===typeof e.clientFirst;a||(t=e,e=null);const s=s=>{const l=Symbol("server"),c=[];let p=-100,u=t&&t.clientFirst;const d=e=>{e[l]=!0,o("incoming action",e),s.dispatch(e),p++},h=e=>{for(p=-100,s.dispatch({[l]:!0,type:n.PRESENT,payload:{state:e.state}}),p=e.version;c.length;){const{version:e,action:t}=c.pop();u&&e!==p+1||d(t)}},f=e=>p=e,m=e=>{if(u&&e.version!==p+1)return c.unshift(e);e.client&&(e.action[i.CLIENT]=e.client),d(e.action)};let g=null;function y(t){t&&(g=t.emit.bind(t),e&&t!==e&&(e.removeListener("present",h),e.removeListener("version",f),e.removeListener("action",m)),t.on("present",h),t.on("version",f),t.on("action",m),g("present"))}return r.push(y),a&&y(e),e=>t=>{if(t.type===n.CONNECT)y(t.payload.socket);else if(g){if(t[l])return delete t[l],e(t);if(t[i.SHARED])return o("outgoing action",t),g(t[i.CLIENT]?"client-action":"action",t),e(u?t:{type:n.SKIP,payload:t})}return e(t)}};return s.switchSocket=e=>{for(let t of r)t(e)},s}},function(e,t,r){(function(n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(999)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,r(32))},function(e,t,r){e.exports=function(e){function t(e){let r,i,o,a=null;function s(...e){if(!s.enabled)return;const n=s,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";a++;const o=t.formatters[i];if("function"===typeof o){const t=e[a];r=o.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"===typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+("undefined"===typeof r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(1e3),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var r=1e3,n=60*r,i=60*n,o=24*i,a=7*o,s=365.25*o;function l(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var l=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*a;case"days":case"day":case"d":return l*o;case"hours":case"hour":case"hrs":case"hr":case"h":return l*i;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return l(e,t,o,"day");if(t>=i)return l(e,t,i,"hour");if(t>=n)return l(e,t,n,"minute");if(t>=r)return l(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(95);t.extractClientId=function(e){return(t,r)=>(r[n.CLIENT]&&(r.meta=Object.assign({},r.meta||{},{clientId:r[n.CLIENT]})),e(t,r))}},function(e,t,r){var n=r(311),i=r(120)("socket.io-client:url");e.exports=function(e,t){var r=e;t=t||"undefined"!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=n(e));r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443"));r.path=r.path||"/";var o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;l++;var i=t.formatters[n];if("function"===typeof i){var o=a[l];r=i.call(e,o),a.splice(l,1),l--}return r})),t.formatArgs.call(e,a);var c=n.log||t.log||console.log.bind(console);c.apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=i,"function"===typeof t.init&&t.init(n),t.instances.push(n),n}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var o=t.instances[r];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(167),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,r){(function(n){function i(){var e;try{e=t.storage.debug}catch(r){}return!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DEBUG),e}(t=e.exports=r(1005)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,r(32))},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;l++;var i=t.formatters[n];if("function"===typeof i){var o=a[l];r=i.call(e,o),a.splice(l,1),l--}return r})),t.formatArgs.call(e,a);var c=n.log||t.log||console.log.bind(console);c.apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=i,"function"===typeof t.init&&t.init(n),t.instances.push(n),n}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var o=t.instances[r];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(167),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,r){var n=r(312),i=r(313),o=Object.prototype.toString,a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===o.call(File);function l(e,t){if(!e)return e;if(i(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}if(n(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=l(e[a],t);return o}if("object"===typeof e&&!(e instanceof Date)){o={};for(var s in e)o[s]=l(e[s],t);return o}return e}function c(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(n(e))for(var r=0;r<e.length;r++)e[r]=c(e[r],t);else if("object"===typeof e)for(var i in e)e[i]=c(e[i],t);return e}t.deconstructPacket=function(e){var t=[],r=e.data,n=e;return n.data=l(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=c(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var r=0,o=e;!function e(l,c,p){if(!l)return l;if(a&&l instanceof Blob||s&&l instanceof File){r++;var u=new FileReader;u.onload=function(){p?p[c]=this.result:o=this.result,--r||t(o)},u.readAsArrayBuffer(l)}else if(n(l))for(var d=0;d<l.length;d++)e(l[d],d,l);else if("object"===typeof l&&!i(l))for(var h in l)e(l[h],h,l)}(o),r||t(o)}},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],l=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),p=0,u=s>0?a-4:a;for(r=0;r<u;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[p++]=t>>16&255,l[p++]=t>>8&255,l[p++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[p++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[p++]=t>>8&255,l[p++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,l=r-i;s<l;s+=a)o.push(p(e,s,s+a>l?l:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function p(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,p=-7,u=r?i-1:0,d=r?-1:1,h=e[t+u];for(u+=d,o=h&(1<<-p)-1,h>>=-p,p+=s;p>0;o=256*o+e[t+u],u+=d,p-=8);for(a=o&(1<<-p)-1,o>>=-p,p+=n;p>0;a=256*a+e[t+u],u+=d,p-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,p=(1<<c)-1,u=p>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=p?(s=0,a=p):a+u>=1?(s=(t*l-1)*Math.pow(2,i),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=f,a/=256,c-=8);e[r+h-f]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){e.exports=r(1011),e.exports.parser=r(80)},function(e,t,r){var n=r(315),i=r(79),o=r(123)("engine.io-client:socket"),a=r(319),s=r(80),l=r(311),c=r(121);function p(e,t){if(!(this instanceof p))return new p(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=p,p.priorWebsocketSuccess=!1,i(p.prototype),p.protocol=s.protocol,p.Socket=p,p.Transport=r(172),p.transports=r(315),p.parser=r(80),p.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var r=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},p.prototype.open=function(){var e;if(this.rememberUpgrade&&p.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},p.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},p.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,n=this;function i(){if(n.onlyBinaryUpgrades){var i=!this.supportsBinary&&n.transport.supportsBinary;r=r||i}r||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!r)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),n.upgrading=!0,n.emit("upgrading",t),!t)return;p.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',n.transport.name),n.transport.pause((function(){r||"closed"!==n.readyState&&(o("changing transport and sending upgrade packet"),d(),n.setTransport(t),t.send([{type:"upgrade"}]),n.emit("upgrade",t),t=null,n.upgrading=!1,n.flush())}))}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,n.emit("upgradeError",a)}})))}function a(){r||(r=!0,d(),t.close(),t=null)}function s(r){var i=new Error("probe error: "+r);i.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,r),n.emit("upgradeError",i)}function l(){s("transport closed")}function c(){s("socket closed")}function u(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function d(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",l),n.removeListener("close",c),n.removeListener("upgrading",u)}p.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",l),this.once("close",c),this.once("upgrading",u),t.open()},p.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},p.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},p.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},p.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},p.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},p.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},p.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},p.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},p.prototype.write=p.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},p.prototype.sendPacket=function(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:e,data:t,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}},p.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():t()})):this.upgrading?n():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function n(){e.once("upgrade",r),e.once("upgradeError",r)}return this},p.prototype.onError=function(e){o("socket error %j",e),p.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},p.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},p.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~a(this.transports,e[r])&&t.push(e[r]);return t}},function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){e.exports=!1}},function(e,t,r){var n=r(170),i=r(316),o=r(79),a=r(122),s=r(123)("engine.io-client:polling-xhr"),l=r(171);function c(){}function p(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=p,e.exports.Request=u,a(p,i),p.prototype.supportsBinary=!0,p.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},p.prototype.doWrite=function(e,t){var r="string"!==typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),i=this;n.on("success",t),n.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=n},p.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),r=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(r.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError("number"===typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){r.onError(o)}),0)}"undefined"!==typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(r){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(r){this.onError(r)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",d);else if("function"===typeof addEventListener){addEventListener("onpagehide"in l?"pagehide":"unload",d,!1)}function d(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(r-t),a=t,s=0;a<r;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){function r(){}e.exports=function(e,t,n){var i=!1;return n=n||r,o.count=e,0===e?t():o;function o(e,r){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}}},function(e,t){var r,n,i,o=String.fromCharCode;function a(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return o(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return o(e);var r="";return 0==(4294965248&e)?r=o(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),r=o(e>>12&15|224),r+=l(e,6)):0==(4292870144&e)&&(r=o(e>>18&7|240),r+=l(e,12),r+=l(e,6)),r+=o(63&e|128)}function p(){if(i>=n)throw Error("Invalid byte index");var e=255&r[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(e){var t,o;if(i>n)throw Error("Invalid byte index");if(i==n)return!1;if(t=255&r[i],i++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|p())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|p()<<6|p())>=2048)return s(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|p()<<12|p()<<6|p())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=a(e),i=n.length,o=-1,s="";++o<i;)s+=c(n[o],r);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;r=a(e),n=r.length,i=0;for(var l,c=[];!1!==(l=u(s));)c.push(l);return function(e){for(var t,r=e.length,n=-1,i="";++n<r;)(t=e[n])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(c)}}},function(e,t){!function(e){"use strict";t.encode=function(t){var r,n=new Uint8Array(t),i=n.length,o="";for(r=0;r<i;r+=3)o+=e[n[r]>>2],o+=e[(3&n[r])<<4|n[r+1]>>4],o+=e[(15&n[r+1])<<2|n[r+2]>>6],o+=e[63&n[r+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var r,n,i,o,a,s=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var p=new ArrayBuffer(s),u=new Uint8Array(p);for(r=0;r<l;r+=4)n=e.indexOf(t[r]),i=e.indexOf(t[r+1]),o=e.indexOf(t[r+2]),a=e.indexOf(t[r+3]),u[c++]=n<<2|i>>4,u[c++]=(15&i)<<4|o>>2,u[c++]=(3&o)<<6|63&a;return p}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){var r="undefined"!==typeof r?r:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;function a(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e}))}function s(e,t){t=t||{};var n=new r;return a(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function l(e,t){return new Blob(a(e),t||{})}"undefined"!==typeof Blob&&(s.prototype=Blob.prototype,l.prototype=Blob.prototype),e.exports=n?i?Blob:l:o?s:void 0},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;l++;var i=t.formatters[n];if("function"===typeof i){var o=a[l];r=i.call(e,o),a.splice(l,1),l--}return r})),t.formatArgs.call(e,a);var c=n.log||t.log||console.log.bind(console);c.apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=i,"function"===typeof t.init&&t.init(n),t.instances.push(n),n}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var o=t.instances[r];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(167),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,r){var n=r(316),i=r(122),o=r(171);e.exports=p;var a,s=/\n/g,l=/\\n/g;function c(){}function p(e){n.call(this,e),this.query=this.query||{},a||(a=o.___eio=o.___eio||[]),this.index=a.length;var t=this;a.push((function(e){t.onData(e)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=c)}),!1)}i(p,n),p.prototype.supportsBinary=!1,p.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},p.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},p.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,i=document.createElement("form"),o=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=a,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){p(),t()}function p(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),p(),e=e.replace(l,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&c()}:this.iframe.onload=c}},function(e,t,r){(function(t){var n,i,o=r(172),a=r(80),s=r(121),l=r(122),c=r(318),p=r(123)("engine.io-client:websocket");if("undefined"!==typeof WebSocket?n=WebSocket:"undefined"!==typeof self&&(n=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{i=r(1024)}catch(h){}var u=n||i;function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=i),o.call(this,e)}e.exports=d,l(d,o),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new u(e,t):new u(e):new u(e,t,r)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var r=this;this.writable=!1;for(var n=e.length,i=0,o=n;i<o;i++)!function(e){a.encodePacket(e,r.supportsBinary,(function(i){if(!r.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),r.perMessageDeflate)("string"===typeof i?t.byteLength(i):i.length)<r.perMessageDeflate.threshold&&(o.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,o)}catch(h){p("websocket closed before onclose event")}--n||s()}))}(e[i]);function s(){r.emit("flush"),setTimeout((function(){r.writable=!0,r.emit("drain")}),0)}},d.prototype.onClose=function(){o.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e},d.prototype.check=function(){return!!u&&!("__initialize"in u&&this.name===d.prototype.name)}}).call(this,r(169).Buffer)},,function(e,t){e.exports=function(e,t){for(var r=[],n=(t=t||0)||0;n<e.length;n++)r[n-t]=e[n];return r}},function(e,t){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},function(e,t,r){var n;!function(i,o){var a={};function s(e){return function(){var t={method:e},r=Array.prototype.slice.call(arguments);/^get/.test(e)?(a.assert(r.length>0,"Get methods require a callback."),r.unshift(t)):(/^set/.test(e)&&(a.assert(0!==r.length,"Set methods require a value."),t.value=r[0]),r=[t]),this.send.apply(this,r)}}a.DEBUG=!1,a.VERSION="0.0.11",a.CONTEXT="player.js",a.POST_MESSAGE=!!i.postMessage,a.origin=function(e){return"//"===e.substr(0,2)&&(e=i.location.protocol+e),e.split("/").slice(0,3).join("/")},a.addEvent=function(e,t,r){e&&(e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r)},a.log=function(){a.log.history=a.log.history||[],a.log.history.push(arguments),i.console&&a.DEBUG&&i.console.log(Array.prototype.slice.call(arguments))},a.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},a.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},a.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isNone=function(e){return null===e||void 0===e},a.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.indexOf=function(e,t){if(null==e)return-1;var r=0,n=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;r<n;r++)if(e[r]===t)return r;return-1},a.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},a.Keeper=function(){this.init()},a.Keeper.prototype.init=function(){this.data={}},a.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},a.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(a.isNone(t))return!0;for(var r=this.data[e],n=0;n<r.length;n++)if(r[n].id===t)return!0;return!1},a.Keeper.prototype.add=function(e,t,r,n,i){var o={id:e,event:t,cb:r,ctx:n,one:i};this.has(t)?this.data[t].push(o):this.data[t]=[o]},a.Keeper.prototype.execute=function(e,t,r,n){if(!this.has(e,t))return!1;for(var i=[],o=[],s=0;s<this.data[e].length;s++){var l=this.data[e][s];a.isNone(t)||!a.isNone(t)&&l.id===t?(o.push({cb:l.cb,ctx:l.ctx?l.ctx:n,data:r}),!1===l.one&&i.push(l)):i.push(l)}0===i.length?delete this.data[e]:this.data[e]=i;for(var c=0;c<o.length;c++){var p=o[c];p.cb.call(p.ctx,p.data)}},a.Keeper.prototype.on=function(e,t,r,n){this.add(e,t,r,n,!1)},a.Keeper.prototype.one=function(e,t,r,n){this.add(e,t,r,n,!0)},a.Keeper.prototype.off=function(e,t){var r=[];if(!this.data.hasOwnProperty(e))return r;for(var n=[],i=0;i<this.data[e].length;i++){var o=this.data[e][i];a.isNone(t)||o.cb===t?a.isNone(o.id)||r.push(o.id):n.push(o)}return 0===n.length?delete this.data[e]:this.data[e]=n,r},a.Player=function(e,t){if(!(this instanceof a.Player))return new a.Player(e,t);this.init(e,t)},a.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},a.EVENTS.all=function(){var e=[];for(var t in a.EVENTS)a.has(a.EVENTS,t)&&a.isString(a.EVENTS[t])&&e.push(a.EVENTS[t]);return e},a.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},a.METHODS.all=function(){var e=[];for(var t in a.METHODS)a.has(a.METHODS,t)&&a.isString(a.METHODS[t])&&e.push(a.METHODS[t]);return e},a.READIED=[],a.Player.prototype.init=function(e,t){var r=this;a.isString(e)&&(e=o.getElementById(e)),this.elem=e,a.assert("IFRAME"===e.nodeName,'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),a.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=a.origin(e.src),this.keeper=new a.Keeper,this.isReady=!1,this.queue=[],this.events=a.EVENTS.all(),this.methods=a.METHODS.all(),a.POST_MESSAGE?a.addEvent(i,"message",(function(e){r.receive(e)})):a.log("Post Message is not Available."),a.indexOf(a.READIED,e.src)>-1?r.loaded=!0:this.elem.onload=function(){r.loaded=!0}},a.Player.prototype.send=function(e,t,r){if(e.context=a.CONTEXT,e.version=a.VERSION,t){var n=this.keeper.getUUID();e.listener=n,this.keeper.one(n,e.method,t,r)}return this.isReady||"ready"===e.value?(a.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(a.log("Player.queue",e),this.queue.push(e),!1)},a.Player.prototype.receive=function(e){if(a.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch(r){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},a.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var r=this.queue[t];a.log("Player.dequeue",r),"ready"===e.event&&this.keeper.execute(r.event,r.listener,!0,this),this.send(r)}this.queue=[]},a.Player.prototype.on=function(e,t,r){var n=this.keeper.getUUID();return"ready"===e?this.keeper.one(n,e,t,r):this.keeper.on(n,e,t,r),this.send({method:"addEventListener",value:e,listener:n}),!0},a.Player.prototype.off=function(e,t){var r=this.keeper.off(e,t);if(a.log("Player.off",r),r.length>0)for(var n in r)return this.send({method:"removeEventListener",value:e,listener:r[n]}),!0;return!1},a.Player.prototype.supports=function(e,t){a.assert(a.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=a.isArray(t)?t:[t];for(var r="event"===e?this.events:this.methods,n=0;n<t.length;n++)if(-1===a.indexOf(r,t[n]))return!1;return!0};for(var l=0,c=a.METHODS.all().length;l<c;l++){var p=a.METHODS.all()[l];a.Player.prototype.hasOwnProperty(p)||(a.Player.prototype[p]=s(p))}a.addEvent(i,"message",(function(e){var t;try{t=JSON.parse(e.data)}catch(r){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&a.READIED.push(t.value.src)})),a.Receiver=function(e,t){this.init(e,t)},a.Receiver.prototype.init=function(e,t){var r=this;this.isReady=!1,this.origin=a.origin(o.referrer),this.methods={},this.supported={events:e||a.EVENTS.all(),methods:t||a.METHODS.all()},this.eventListeners={},this.reject=!(i.self!==i.top&&a.POST_MESSAGE),this.reject||a.addEvent(i,"message",(function(e){r.receive(e)}))},a.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(a.isObject(e.data))t=e.data;else try{t=i.JSON.parse(e.data)}catch(o){a.log("JSON Parse Error",o)}if(a.log("Receiver.receive",e,t),!t.method)return!1;if(t.context!==a.CONTEXT)return!1;if(-1===a.indexOf(a.METHODS.all(),t.method))return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var r=a.isNone(t.listener)?null:t.listener;if("addEventListener"===t.method)this.eventListeners.hasOwnProperty(t.value)?-1===a.indexOf(this.eventListeners[t.value],r)&&this.eventListeners[t.value].push(r):this.eventListeners[t.value]=[r],"ready"===t.value&&this.isReady&&this.ready();else if("removeEventListener"===t.method){if(this.eventListeners.hasOwnProperty(t.value)){var n=a.indexOf(this.eventListeners[t.value],r);n>-1&&this.eventListeners[t.value].splice(n,1),0===this.eventListeners[t.value].length&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,r)},a.Receiver.prototype.get=function(e,t,r){var n=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var i=this.methods[e];if("get"===e.substr(0,3)){i.call(this,(function(t){n.send(e,t,r)}))}else i.call(this,t)},a.Receiver.prototype.on=function(e,t){this.methods[e]=t},a.Receiver.prototype.send=function(e,t,r){if(a.log("Receiver.send",e,t,r),this.reject)return a.log("Receiver.send.reject",e,t,r),!1;var n={context:a.CONTEXT,version:a.VERSION,event:e};a.isNone(t)||(n.value=t),a.isNone(r)||(n.listener=r);var o=JSON.stringify(n);i.parent.postMessage(o,""===this.origin?"*":this.origin)},a.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;a.log("Instance.emit",e,t,this.eventListeners[e]);for(var r=0;r<this.eventListeners[e].length;r++){var n=this.eventListeners[e][r];this.send(e,t,n)}return!0},a.Receiver.prototype.ready=function(){a.log("Receiver.ready"),this.isReady=!0;var e={src:i.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},a.HTML5Adapter=function(e){if(!(this instanceof a.HTML5Adapter))return new a.HTML5Adapter(e);this.init(e)},a.HTML5Adapter.prototype.init=function(e){a.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new a.Receiver;e.addEventListener("playing",(function(){t.emit("play")})),e.addEventListener("pause",(function(){t.emit("pause")})),e.addEventListener("ended",(function(){t.emit("ended")})),e.addEventListener("timeupdate",(function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})})),e.addEventListener("progress",(function(){t.emit("buffered",{percent:e.buffered.length})})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(100*e.volume)})),t.on("setVolume",(function(t){e.volume=t/100})),t.on("mute",(function(){e.muted=!0})),t.on("unmute",(function(){e.muted=!1})),t.on("getMuted",(function(t){t(e.muted)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},a.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},a.JWPlayerAdapter=function(e){if(!(this instanceof a.JWPlayerAdapter))return new a.JWPlayerAdapter(e);this.init(e)},a.JWPlayerAdapter.prototype.init=function(e){a.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new a.Receiver;this.looped=!1,e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("time",(function(e){var r=e.position,n=e.duration;if(!r||!n)return!1;var i={seconds:r,duration:n};t.emit("timeupdate",i)}));var r=this;e.on("complete",(function(){!0===r.looped?e.seek(0):t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play(!0)})),t.on("pause",(function(){e.pause(!0)})),t.on("getPaused",(function(t){t(e.getState().toLowerCase()!=="PLAYING".toLowerCase())})),t.on("getCurrentTime",(function(t){t(e.getPosition())})),t.on("setCurrentTime",(function(t){e.seek(t)})),t.on("getDuration",(function(t){t(e.getDuration())})),t.on("getVolume",(function(t){t(e.getVolume())})),t.on("setVolume",(function(t){e.setVolume(t)})),t.on("mute",(function(){e.setMute(!0)})),t.on("unmute",(function(){e.setMute(!1)})),t.on("getMuted",(function(t){t(!0===e.getMute())})),t.on("getLoop",(function(e){e(this.looped)}),this),t.on("setLoop",(function(e){this.looped=e}),this)},a.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},a.MockAdapter=function(){if(!(this instanceof a.MockAdapter))return new a.MockAdapter;this.init()},a.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval((function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})}),250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new a.Receiver;t.on("play",(function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}})),t.on("pause",(function(){e.pause(),this.emit("pause")})),t.on("getPaused",(function(t){t(!e.playing)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(e.volume)})),t.on("setVolume",(function(t){e.volume=t})),t.on("mute",(function(){e.mute=!0})),t.on("unmute",(function(){e.mute=!1})),t.on("getMuted",(function(t){t(e.mute)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},a.MockAdapter.prototype.ready=function(){this.receiver.ready()},a.VideoJSAdapter=function(e){if(!(this instanceof a.VideoJSAdapter))return new a.VideoJSAdapter(e);this.init(e)},a.VideoJSAdapter.prototype.init=function(e){a.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new a.Receiver;e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("timeupdate",(function(r){var n=e.currentTime(),i=e.duration();if(!n||!i)return!1;var o={seconds:n,duration:i};t.emit("timeupdate",o)})),e.on("ended",(function(){t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused())})),t.on("getCurrentTime",(function(t){t(e.currentTime())})),t.on("setCurrentTime",(function(t){e.currentTime(t)})),t.on("getDuration",(function(t){t(e.duration())})),t.on("getVolume",(function(t){t(100*e.volume())})),t.on("setVolume",(function(t){e.volume(t/100)})),t.on("mute",(function(){e.volume(0)})),t.on("unmute",(function(){e.volume(1)})),t.on("getMuted",(function(t){t(0===e.volume())})),t.on("getLoop",(function(t){t(e.loop())})),t.on("setLoop",(function(t){e.loop(t)}))},a.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}(window,document)},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){var n;!function(i,o){"use strict";var a="function",s="undefined",l="object",c="string",p="model",u="name",d="type",h="vendor",f="version",m="architecture",g="console",y="mobile",v="tablet",b="smarttv",S="wearable",T="embedded",w={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2===0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return typeof e===c&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},E={rgx:function(e,t){for(var r,n,i,s,c,p,u=0;u<t.length&&!c;){var d=t[u],h=t[u+1];for(r=n=0;r<d.length&&!c;)if(c=d[r++].exec(e))for(i=0;i<h.length;i++)p=c[++n],typeof(s=h[i])===l&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,p):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=p?p.replace(s[1],s[2]):o:this[s[0]]=p?s[1].call(this,p,s[2]):o:4==s.length&&(this[s[0]]=p?s[3].call(this,p.replace(s[1],s[2])):o):this[s]=p||o;u+=2}},str:function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(w.has(t[r][n],e))return"?"===r?o:r}else if(w.has(t[r],e))return"?"===r?o:r;return e}},x={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/(?:edge|edgios|edga|edg)\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[u,f],[/opios[\/\s]+([\w\.]+)/i],[f,[u,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[f,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[f,[u,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[f,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],f],[/focus\/([\w\.]+)/i],[f,[u,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[f,[u,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[f,[u,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[u,f],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[u],[/;fbav\/([\w\.]+);/i],[f,[u,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[u,f],[/\bgsa\/([\w\.]+)\s.*safari\//i],[f,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[f,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],f],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[f,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[f,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[f,E.str,x.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],f],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[f,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,w.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[p,[h,"Samsung"],[d,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[p,[h,"Samsung"],[d,y]],[/\((ip(?:hone|od)[\s\w]*);/i],[p,[h,"Apple"],[d,y]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[h,"Apple"],[d,v]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[p,[h,"Huawei"],[d,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[p,[h,"Huawei"],[d,y]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[p,/_/g," "],[h,"Xiaomi"],[d,y]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[p,/_/g," "],[h,"Xiaomi"],[d,v]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[p,[h,"OPPO"],[d,y]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[p,[h,"Vivo"],[d,y]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[p,[h,"Realme"],[d,y]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[p,[h,"Motorola"],[d,y]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[p,[h,"Motorola"],[d,v]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[p,[h,"LG"],[d,v]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[p,[h,"LG"],[d,y]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[p,[h,"Lenovo"],[d,v]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[p,/_/g," "],[h,"Nokia"],[d,y]],[/droid.+;\s(pixel\sc)[\s)]/i],[p,[h,"Google"],[d,v]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[p,[h,"Google"],[d,y]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[h,"Sony"],[d,y]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[p,"Xperia Tablet"],[h,"Sony"],[d,v]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[p,[h,"OnePlus"],[d,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[p,[h,"Amazon"],[d,v]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[p,"Fire Phone"],[h,"Amazon"],[d,y]],[/\((playbook);[\w\s\),;-]+(rim)/i],[p,h,[d,v]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[p,[h,"BlackBerry"],[d,y]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[p,[h,"ASUS"],[d,v]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[p,[h,"ASUS"],[d,y]],[/(nexus\s9)/i],[p,[h,"HTC"],[d,v]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[p,/_/g," "],[d,y]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[p,[h,"Acer"],[d,v]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[p,[h,"Meizu"],[d,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,p,[d,y]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[h,p,[d,v]],[/\s(surface\sduo)\s/i],[p,[h,"Microsoft"],[d,v]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[p,[h,"Fairphone"],[d,y]],[/\s(u304aa)\sbuild/i],[p,[h,"AT&T"],[d,y]],[/sie-(\w*)/i],[p,[h,"Siemens"],[d,y]],[/[;\/]\s?(rct\w+)\sbuild/i],[p,[h,"RCA"],[d,v]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[p,[h,"Dell"],[d,v]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[p,[h,"Verizon"],[d,v]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[p,[h,"Barnes & Noble"],[d,v]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[p,[h,"NuVision"],[d,v]],[/;\s(k88)\sbuild/i],[p,[h,"ZTE"],[d,v]],[/;\s(nx\d{3}j)\sbuild/i],[p,[h,"ZTE"],[d,y]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[p,[h,"Swiss"],[d,y]],[/[;\/]\s?(zur\d{3})\sbuild/i],[p,[h,"Swiss"],[d,v]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[p,[h,"Zeki"],[d,v]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[h,"Dragon Touch"],p,[d,v]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[p,[h,"Insignia"],[d,v]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[p,[h,"NextBook"],[d,v]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[h,"Voice"],p,[d,y]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[h,"LvTel"],p,[d,y]],[/;\s(ph-1)\s/i],[p,[h,"Essential"],[d,y]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[p,[h,"Envizen"],[d,v]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[p,[h,"MachSpeed"],[d,v]],[/[;\/]\s?tu_(1491)\sbuild/i],[p,[h,"Rotor"],[d,v]],[/(shield[\w\s]+)\sbuild/i],[p,[h,"Nvidia"],[d,v]],[/(sprint)\s(\w+)/i],[h,p,[d,y]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[h,"Microsoft"],[d,y]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[h,"Zebra"],[d,v]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[h,"Zebra"],[d,y]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[h,p,[d,g]],[/droid.+;\s(shield)\sbuild/i],[p,[h,"Nvidia"],[d,g]],[/(playstation\s[345portablevi]+)/i],[p,[h,"Sony"],[d,g]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[p,[h,"Microsoft"],[d,g]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[h,"Samsung"],[d,b]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[h,"LG"],[d,b]],[/(apple)\s?tv/i],[h,[p,"Apple TV"],[d,b]],[/crkey/i],[[p,"Chromecast"],[h,"Google"],[d,b]],[/droid.+aft([\w])(\sbuild\/|\))/i],[p,[h,"Amazon"],[d,b]],[/\(dtv[\);].+(aquos)/i],[p,[h,"Sharp"],[d,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,w.trim],[p,w.trim],[d,b]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[d,b]],[/((pebble))app\/[\d\.]+\s/i],[h,p,[d,S]],[/droid.+;\s(glass)\s\d/i],[p,[h,"Google"],[d,S]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[p,[h,"Zebra"],[d,S]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[h,[d,T]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[p,[d,y]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[p,[d,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,w.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[p,[h,"Generic"]],[/(phone)/i],[[d,y]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[u,[f,E.str,x.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[f,E.str,x.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[u,"Mac OS"],[f,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[u,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],f],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[u,f],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,f]]},k=function(e,t){if("object"===typeof e&&(t=e,e=o),!(this instanceof k))return new k(e,t).getResult();var r=e||("undefined"!==typeof i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?w.extend(_,t):_;return this.getBrowser=function(){var e={name:o,version:o};return E.rgx.call(e,r,n.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:o};return E.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return E.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:o,version:o};return E.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:o,version:o};return E.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>255?w.trim(e,255):e,this},this.setUA(r),this};k.VERSION="0.7.28",k.BROWSER={NAME:u,MAJOR:"major",VERSION:f},k.CPU={ARCHITECTURE:m},k.DEVICE={MODEL:p,VENDOR:h,TYPE:d,CONSOLE:g,MOBILE:y,SMARTTV:b,TABLET:v,WEARABLE:S,EMBEDDED:T},k.ENGINE={NAME:u,VERSION:f},k.OS={NAME:u,VERSION:f},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=k),t.UAParser=k):(n=function(){return k}.call(t,r,t,e))===o||(e.exports=n);var O="undefined"!==typeof i&&(i.jQuery||i.Zepto);if(O&&!O.ua){var A=new k;O.ua=A.getResult(),O.ua.get=function(){return A.getUA()},O.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var r in t)O.ua[r]=t[r]}}}("object"===typeof window?window:this)},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(3),i=r(96);function o(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=r.clone?Object(n.a)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(n){"__proto__"!==n&&(o(t[n])&&n in e?i[n]=a(e[n],t[n],r):i[n]=t[n])})),i}},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(10),l=r(14),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},p=o.forwardRef((function(e,t){var r=e.align,s=void 0===r?"inherit":r,p=e.classes,u=e.className,d=e.color,h=void 0===d?"initial":d,f=e.component,m=e.display,g=void 0===m?"initial":m,y=e.gutterBottom,v=void 0!==y&&y,b=e.noWrap,S=void 0!==b&&b,T=e.paragraph,w=void 0!==T&&T,E=e.variant,x=void 0===E?"body1":E,_=e.variantMapping,k=void 0===_?c:_,O=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),A=f||(w?"p":k[x]||c[x])||"span";return o.createElement(A,Object(n.a)({className:Object(a.a)(p.root,u,"inherit"!==x&&p[x],"initial"!==h&&p["color".concat(Object(l.a)(h))],S&&p.noWrap,v&&p.gutterBottom,w&&p.paragraph,"inherit"!==s&&p["align".concat(Object(l.a)(s))],"initial"!==g&&p["display".concat(Object(l.a)(g))]),ref:t},O))}));t.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(p)},function(e,t,r){"use strict";var n=r(3),i=r(53),o=r(6),a=r(0),s=(r(7),r(344)),l=r(55),c=r(31),p=r(45),u=r(21),d={entering:{opacity:1},entered:{opacity:1}},h={enter:l.b.enteringScreen,exit:l.b.leavingScreen},f=a.forwardRef((function(e,t){var r=e.children,l=e.disableStrictModeCompat,f=void 0!==l&&l,m=e.in,g=e.onEnter,y=e.onEntered,v=e.onEntering,b=e.onExit,S=e.onExited,T=e.onExiting,w=e.style,E=e.TransitionComponent,x=void 0===E?s.a:E,_=e.timeout,k=void 0===_?h:_,O=Object(o.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),A=Object(c.a)(),C=A.unstable_strictMode&&!f,M=a.useRef(null),P=Object(u.a)(r.ref,t),R=Object(u.a)(C?M:void 0,P),I=function(e){return function(t,r){if(e){var n=C?[M.current,t]:[t,r],o=Object(i.a)(n,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},B=I(v),D=I((function(e,t){Object(p.b)(e);var r=Object(p.a)({style:w,timeout:k},{mode:"enter"});e.style.webkitTransition=A.transitions.create("opacity",r),e.style.transition=A.transitions.create("opacity",r),g&&g(e,t)})),L=I(y),F=I(T),N=I((function(e){var t=Object(p.a)({style:w,timeout:k},{mode:"exit"});e.style.webkitTransition=A.transitions.create("opacity",t),e.style.transition=A.transitions.create("opacity",t),b&&b(e)})),j=I(S);return a.createElement(x,Object(n.a)({appear:!0,in:m,nodeRef:C?M:void 0,onEnter:D,onEntered:L,onEntering:B,onExit:N,onExited:j,onExiting:F,timeout:k},O),(function(e,t){return a.cloneElement(r,Object(n.a)({style:Object(n.a)({opacity:0,visibility:"exited"!==e||m?void 0:"hidden"},d[e],w,r.props.style),ref:R},t))}))}));t.a=f},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(3),i=r(0),o=r.n(i),a=(r(7),r(127)),s=r(342),l=r(128);t.a=function(e){var t=e.children,r=e.theme,i=Object(s.a)(),c=o.a.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):Object(n.a)({},e,t)}(i,r);return null!=e&&(e[l.a]=null!==i),e}),[r,i]);return o.a.createElement(a.a.Provider,{value:c},t)}},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(10),l=r(14),c=44,p=o.forwardRef((function(e,t){var r=e.classes,s=e.className,p=e.color,u=void 0===p?"primary":p,d=e.disableShrink,h=void 0!==d&&d,f=e.size,m=void 0===f?40:f,g=e.style,y=e.thickness,v=void 0===y?3.6:y,b=e.value,S=void 0===b?0:b,T=e.variant,w=void 0===T?"indeterminate":T,E=Object(i.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),x={},_={},k={};if("determinate"===w||"static"===w){var O=2*Math.PI*((c-v)/2);x.strokeDasharray=O.toFixed(3),k["aria-valuenow"]=Math.round(S),x.strokeDashoffset="".concat(((100-S)/100*O).toFixed(3),"px"),_.transform="rotate(-90deg)"}return o.createElement("div",Object(n.a)({className:Object(a.a)(r.root,s,"inherit"!==u&&r["color".concat(Object(l.a)(u))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[w]),style:Object(n.a)({width:m,height:m},_,g),ref:t,role:"progressbar"},k,E),o.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(c," ").concat(c)},o.createElement("circle",{className:Object(a.a)(r.circle,h&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[w]),style:x,cx:c,cy:c,r:(c-v)/2,fill:"none",strokeWidth:v})))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(p)},function(e,t,r){"use strict";function n(e){var t=e.theme,r=e.name,n=e.props;if(!t||!t.props||!t.props[r])return n;var i,o=t.props[r];for(i in o)void 0===n[i]&&(n[i]=o[i]);return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(6),i=r(3),o=r(0),a=(r(7),r(8)),s=r(10),l=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=parseFloat(e);return"".concat(r/t).concat(String(e).replace(String(r),"")||"px")}var u=o.forwardRef((function(e,t){var r=e.alignContent,s=void 0===r?"stretch":r,l=e.alignItems,c=void 0===l?"stretch":l,p=e.classes,u=e.className,d=e.component,h=void 0===d?"div":d,f=e.container,m=void 0!==f&&f,g=e.direction,y=void 0===g?"row":g,v=e.item,b=void 0!==v&&v,S=e.justify,T=e.justifyContent,w=void 0===T?"flex-start":T,E=e.lg,x=void 0!==E&&E,_=e.md,k=void 0!==_&&_,O=e.sm,A=void 0!==O&&O,C=e.spacing,M=void 0===C?0:C,P=e.wrap,R=void 0===P?"wrap":P,I=e.xl,B=void 0!==I&&I,D=e.xs,L=void 0!==D&&D,F=e.zeroMinWidth,N=void 0!==F&&F,j=Object(n.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),V=Object(a.a)(p.root,u,m&&[p.container,0!==M&&p["spacing-xs-".concat(String(M))]],b&&p.item,N&&p.zeroMinWidth,"row"!==y&&p["direction-xs-".concat(String(y))],"wrap"!==R&&p["wrap-xs-".concat(String(R))],"stretch"!==c&&p["align-items-xs-".concat(String(c))],"stretch"!==s&&p["align-content-xs-".concat(String(s))],"flex-start"!==(S||w)&&p["justify-content-xs-".concat(String(S||w))],!1!==L&&p["grid-xs-".concat(String(L))],!1!==A&&p["grid-sm-".concat(String(A))],!1!==k&&p["grid-md-".concat(String(k))],!1!==x&&p["grid-lg-".concat(String(x))],!1!==B&&p["grid-xl-".concat(String(B))]);return o.createElement(h,Object(i.a)({className:V,ref:t},j))})),d=Object(s.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var r={};return l.forEach((function(n){var i=e.spacing(n);0!==i&&(r["spacing-".concat(t,"-").concat(n)]={margin:"-".concat(p(i,2)),width:"calc(100% + ".concat(p(i),")"),"& > $item":{padding:p(i,2)}})})),r}(e,"xs"),e.breakpoints.keys.reduce((function(t,r){return function(e,t,r){var n={};c.forEach((function(e){var t="grid-".concat(r,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");n[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else n[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===r?Object(i.a)(e,n):e[t.breakpoints.up(r)]=n}(t,e,r),t}),{}))}),{name:"MuiGrid"})(u);t.a=d},function(e,t,r){"use strict";var n=r(6),i=r(3),o=r(0),a=(r(7),r(8)),s=r(10),l=r(25),c=r(343),p=r(14),u=o.forwardRef((function(e,t){var r=e.children,s=e.classes,l=e.className,u=e.color,d=void 0===u?"default":u,h=e.component,f=void 0===h?"button":h,m=e.disabled,g=void 0!==m&&m,y=e.disableElevation,v=void 0!==y&&y,b=e.disableFocusRipple,S=void 0!==b&&b,T=e.endIcon,w=e.focusVisibleClassName,E=e.fullWidth,x=void 0!==E&&E,_=e.size,k=void 0===_?"medium":_,O=e.startIcon,A=e.type,C=void 0===A?"button":A,M=e.variant,P=void 0===M?"text":M,R=Object(n.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),I=O&&o.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(p.a)(k))])},O),B=T&&o.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(p.a)(k))])},T);return o.createElement(c.a,Object(i.a)({className:Object(a.a)(s.root,s[P],l,"inherit"===d?s.colorInherit:"default"!==d&&s["".concat(P).concat(Object(p.a)(d))],"medium"!==k&&[s["".concat(P,"Size").concat(Object(p.a)(k))],s["size".concat(Object(p.a)(k))]],v&&s.disableElevation,g&&s.disabled,x&&s.fullWidth),component:f,disabled:g,focusRipple:!S,focusVisibleClassName:Object(a.a)(s.focusVisible,w),ref:t,type:C},R),o.createElement("span",{className:s.label},I,r,B))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(l.a)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(l.a)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(l.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(l.a)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(l.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(u)},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(10),l=r(25),c=r(343),p=r(14),u=o.forwardRef((function(e,t){var r=e.edge,s=void 0!==r&&r,l=e.children,u=e.classes,d=e.className,h=e.color,f=void 0===h?"default":h,m=e.disabled,g=void 0!==m&&m,y=e.disableFocusRipple,v=void 0!==y&&y,b=e.size,S=void 0===b?"medium":b,T=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(c.a,Object(n.a)({className:Object(a.a)(u.root,d,"default"!==f&&u["color".concat(Object(p.a)(f))],g&&u.disabled,"small"===S&&u["size".concat(Object(p.a)(S))],{start:u.edgeStart,end:u.edgeEnd}[s]),centerRipple:!0,focusRipple:!v,disabled:g,ref:t},T),o.createElement("span",{className:u.label},l))}));t.a=Object(s.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(l.a)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(u)},function(e,t,r){"use strict";var n=r(6),i=r(3),o=r(0),a=(r(7),r(8)),s=r(10),l=o.forwardRef((function(e,t){var r=e.classes,s=e.className,l=e.component,c=void 0===l?"div":l,p=e.square,u=void 0!==p&&p,d=e.elevation,h=void 0===d?1:d,f=e.variant,m=void 0===f?"elevation":f,g=Object(n.a)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(c,Object(i.a)({className:Object(a.a)(r.root,s,"outlined"===m?r.outlined:r["elevation".concat(h)],!u&&r.rounded),ref:t},g))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,r){t["elevation".concat(r)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(l)},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(10),l=r(1033),c=o.forwardRef((function(e,t){var r=e.children,s=e.classes,c=e.className,p=e.disableTypography,u=void 0!==p&&p,d=Object(i.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(n.a)({className:Object(a.a)(s.root,c),ref:t},d),u?r:o.createElement(l.a,{component:"h2",variant:"h6"},r))}));t.a=Object(s.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(c)},function(e,t,r){"use strict";var n=r(0),i=r(28),o=(r(7),r(56)),a=r(21);var s="undefined"!==typeof window?n.useLayoutEffect:n.useEffect,l=n.forwardRef((function(e,t){var r=e.children,l=e.container,c=e.disablePortal,p=void 0!==c&&c,u=e.onRendered,d=n.useState(null),h=d[0],f=d[1],m=Object(a.a)(n.isValidElement(r)?r.ref:null,t);return s((function(){p||f(function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(l)||document.body)}),[l,p]),s((function(){if(h&&!p)return Object(o.a)(t,h),function(){Object(o.a)(t,null)}}),[t,h,p]),s((function(){u&&(h||p)&&u()}),[u,h,p]),p?n.isValidElement(r)?n.cloneElement(r,{ref:m}):r:h?i.createPortal(r,h):h}));t.a=l},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(10),l=r(1034),c=o.forwardRef((function(e,t){var r=e.children,s=e.classes,c=e.className,p=e.invisible,u=void 0!==p&&p,d=e.open,h=e.transitionDuration,f=e.TransitionComponent,m=void 0===f?l.a:f,g=Object(i.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return o.createElement(m,Object(n.a)({in:d,timeout:h},g),o.createElement("div",{className:Object(a.a)(s.root,c,u&&s.invisible),"aria-hidden":!0,ref:t},r))}));t.a=Object(s.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(c)},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(10),l=o.forwardRef((function(e,t){var r=e.classes,s=e.className,l=e.dividers,c=void 0!==l&&l,p=Object(i.a)(e,["classes","className","dividers"]);return o.createElement("div",Object(n.a)({className:Object(a.a)(r.root,s,c&&r.dividers),ref:t},p))}));t.a=Object(s.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(l)},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(10),l=o.forwardRef((function(e,t){var r=e.disableSpacing,s=void 0!==r&&r,l=e.classes,c=e.className,p=Object(i.a)(e,["disableSpacing","classes","className"]);return o.createElement("div",Object(n.a)({className:Object(a.a)(l.root,c,!s&&l.spacing),ref:t},p))}));t.a=Object(s.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(l)},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=r(8),s=(r(7),r(25)),l=r(10),c=o.forwardRef((function(e,t){var r=e.animation,s=void 0===r?"pulse":r,l=e.classes,c=e.className,p=e.component,u=void 0===p?"span":p,d=e.height,h=e.variant,f=void 0===h?"text":h,m=e.width,g=Object(i.a)(e,["animation","classes","className","component","height","variant","width"]),y=Boolean(g.children);return o.createElement(u,Object(n.a)({ref:t,className:Object(a.a)(l.root,l[f],c,y&&[l.withChildren,!m&&l.fitContent,!d&&l.heightAuto],!1!==s&&l[s])},g,{style:Object(n.a)({width:m,height:d},g.style)}))}));t.a=Object(l.a)((function(e){return{root:{display:"block",backgroundColor:Object(s.a)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(c)},function(e,t,r){"use strict";var n=r(57),i=r(50),o=r(54);var a=Object(o.a)("facebook",(function(e,t){var r=t.quote,o=t.hashtag;return Object(n.a)(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+Object(i.a)({u:e,quote:r,hashtag:o})}),(function(e){return{quote:e.quote,hashtag:e.hashtag}}),{windowWidth:550,windowHeight:400});t.a=a},function(e,t,r){"use strict";var n=r(51),i=Object(n.a)({color:"#3b5998",networkName:"facebook",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"});t.a=i},function(e,t,r){"use strict";var n=r(57),i=r(50),o=r(54);var a=Object(o.a)("twitter",(function(e,t){var r=t.title,o=t.via,a=t.hashtags,s=void 0===a?[]:a,l=t.related,c=void 0===l?[]:l;return Object(n.a)(e,"twitter.url"),Object(n.a)(Array.isArray(s),"twitter.hashtags is not an array"),Object(n.a)(Array.isArray(c),"twitter.related is not an array"),"https://twitter.com/share"+Object(i.a)({url:e,text:r,via:o,hashtags:s.length>0?s.join(","):void 0,related:c.length>0?c.join(","):void 0})}),(function(e){return{hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}}),{windowWidth:550,windowHeight:400});t.a=a},function(e,t,r){"use strict";var n=r(51),i=Object(n.a)({color:"#00aced",networkName:"twitter",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});t.a=i},function(e,t,r){"use strict";var n=r(57),i=r(50),o=r(54);var a=Object(o.a)("viber",(function(e,t){var r=t.title,o=t.separator;return Object(n.a)(e,"viber.url"),"viber://forward"+Object(i.a)({text:r?r+o+e:e})}),(function(e){return{title:e.title,separator:e.separator||" "}}),{windowWidth:660,windowHeight:460});t.a=a},function(e,t,r){"use strict";var n=r(51),i=Object(n.a)({color:"#7C529E",networkName:"viber",path:"m31.0,12.3c9.0,0.2 16.4,6.2 18.0,15.2c0.2,1.5 0.3,3.0 0.4,4.6a1.0,1.0 0 0 1 -0.8,1.2l-0.1,0a1.1,1.1 0 0 1 -1.0,-1.2l0,0c-0.0,-1.2 -0.1,-2.5 -0.3,-3.8a16.1,16.1 0 0 0 -13.0,-13.5c-1.0,-0.1 -2.0,-0.2 -3.0,-0.3c-0.6,-0.0 -1.4,-0.1 -1.6,-0.8a1.1,1.1 0 0 1 0.9,-1.2l0.6,0l0.0,-0.0zm10.6,39.2a19.9,19.9 0 0 1 -2.1,-0.6c-6.9,-2.9 -13.2,-6.6 -18.3,-12.2a47.5,47.5 0 0 1 -7.0,-10.7c-0.8,-1.8 -1.6,-3.7 -2.4,-5.6c-0.6,-1.7 0.3,-3.4 1.4,-4.7a11.3,11.3 0 0 1 3.7,-2.8a2.4,2.4 0 0 1 3.0,0.7a39.0,39.0 0 0 1 4.7,6.5a3.1,3.1 0 0 1 -0.8,4.2c-0.3,0.2 -0.6,0.5 -1.0,0.8a3.3,3.3 0 0 0 -0.7,0.7a2.1,2.1 0 0 0 -0.1,1.9c1.7,4.9 4.7,8.7 9.7,10.8a5.0,5.0 0 0 0 2.5,0.6c1.5,-0.1 2.0,-1.8 3.1,-2.7a2.9,2.9 0 0 1 3.5,-0.1c1.1,0.7 2.2,1.4 3.3,2.2a37.8,37.8 0 0 1 3.1,2.4a2.4,2.4 0 0 1 0.7,3.0a10.4,10.4 0 0 1 -4.4,4.8a10.8,10.8 0 0 1 -1.9,0.6c-0.7,-0.2 0.6,-0.2 0,0l0.0,0l0,-0.0zm3.1,-21.4a4.2,4.2 0 0 1 -0.0,0.6a1.0,1.0 0 0 1 -1.9,0.1a2.7,2.7 0 0 1 -0.1,-0.8a10.9,10.9 0 0 0 -1.4,-5.5a10.2,10.2 0 0 0 -4.2,-4.0a12.3,12.3 0 0 0 -3.4,-1.0c-0.5,-0.0 -1.0,-0.1 -1.5,-0.2a0.9,0.9 0 0 1 -0.9,-1.0l0,-0.1a0.9,0.9 0 0 1 0.9,-0.9l0.1,0a14.1,14.1 0 0 1 5.9,1.5a11.9,11.9 0 0 1 6.5,9.3c0,0.1 0.0,0.3 0.0,0.5c0,0.4 0.0,0.9 0.0,1.5l0,0l0.0,0.0zm-5.6,-0.2a1.1,1.1 0 0 1 -1.2,-0.9l0,-0.1a11.3,11.3 0 0 0 -0.2,-1.4a4.0,4.0 0 0 0 -1.5,-2.3a3.9,3.9 0 0 0 -1.2,-0.5c-0.5,-0.1 -1.1,-0.1 -1.6,-0.2a1.0,1.0 0 0 1 -0.8,-1.1l0,0l0,0a1.0,1.0 0 0 1 1.1,-0.8c3.4,0.2 6.0,2.0 6.3,6.2a2.8,2.8 0 0 1 0,0.8a0.8,0.8 0 0 1 -0.8,0.7l0,0l0.0,-0.0z"});t.a=i},function(e,t,r){"use strict";var n=r(57),i=r(50),o=r(54);var a=Object(o.a)("whatsapp",(function(e,t){var r=t.title,o=t.separator;return Object(n.a)(e,"whatsapp.url"),"https://"+(/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?"api":"web")+".whatsapp.com/send"+Object(i.a)({text:r?r+o+e:e})}),(function(e){return{title:e.title,separator:e.separator||" "}}),{windowWidth:550,windowHeight:400});t.a=a},function(e,t,r){"use strict";var n=r(51),i=Object(n.a)({color:"#25D366",networkName:"whatsapp",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});t.a=i},function(e,t,r){"use strict";var n=r(50),i=r(54);var o=Object(i.a)("email",(function(e,t){var r=t.subject,i=t.body,o=t.separator;return"mailto:"+Object(n.a)({subject:r,body:i?i+o+e:e})}),(function(e){return{subject:e.subject,body:e.body,separator:e.separator||" "}}),{openShareDialogOnClick:!1,onClick:function(e,t){window.location.href=t}});t.a=o},function(e,t,r){"use strict";var n=r(51),i=Object(n.a)({color:"#7f7f7f",networkName:"email",path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"});t.a=i},function(e,t,r){"use strict";var n=r(3),i=r(53),o=r(6),a=r(0),s=r(8),l=(r(7),r(344)),c=r(10),p=r(55),u=r(45),d=r(31),h=r(21),f=a.forwardRef((function(e,t){var r=e.children,c=e.classes,f=e.className,m=e.collapsedHeight,g=e.collapsedSize,y=void 0===g?"0px":g,v=e.component,b=void 0===v?"div":v,S=e.disableStrictModeCompat,T=void 0!==S&&S,w=e.in,E=e.onEnter,x=e.onEntered,_=e.onEntering,k=e.onExit,O=e.onExited,A=e.onExiting,C=e.style,M=e.timeout,P=void 0===M?p.b.standard:M,R=e.TransitionComponent,I=void 0===R?l.a:R,B=Object(o.a)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),D=Object(d.a)(),L=a.useRef(),F=a.useRef(null),N=a.useRef(),j="number"===typeof(m||y)?"".concat(m||y,"px"):m||y;a.useEffect((function(){return function(){clearTimeout(L.current)}}),[]);var V=D.unstable_strictMode&&!T,G=a.useRef(null),U=Object(h.a)(t,V?G:void 0),W=function(e){return function(t,r){if(e){var n=V?[G.current,t]:[t,r],o=Object(i.a)(n,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},z=W((function(e,t){e.style.height=j,E&&E(e,t)})),H=W((function(e,t){var r=F.current?F.current.clientHeight:0,n=Object(u.a)({style:C,timeout:P},{mode:"enter"}).duration;if("auto"===P){var i=D.transitions.getAutoHeightDuration(r);e.style.transitionDuration="".concat(i,"ms"),N.current=i}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height="".concat(r,"px"),_&&_(e,t)})),$=W((function(e,t){e.style.height="auto",x&&x(e,t)})),X=W((function(e){var t=F.current?F.current.clientHeight:0;e.style.height="".concat(t,"px"),k&&k(e)})),Y=W(O),K=W((function(e){var t=F.current?F.current.clientHeight:0,r=Object(u.a)({style:C,timeout:P},{mode:"exit"}).duration;if("auto"===P){var n=D.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),N.current=n}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height=j,A&&A(e)}));return a.createElement(I,Object(n.a)({in:w,onEnter:z,onEntered:$,onEntering:H,onExit:X,onExited:Y,onExiting:K,addEndListener:function(e,t){var r=V?e:t;"auto"===P&&(L.current=setTimeout(r,N.current||0))},nodeRef:V?G:void 0,timeout:"auto"===P?null:P},B),(function(e,t){return a.createElement(b,Object(n.a)({className:Object(s.a)(c.root,c.container,f,{entered:c.entered,exited:!w&&"0px"===j&&c.hidden}[e]),style:Object(n.a)({minHeight:j},C),ref:U},t),a.createElement("div",{className:c.wrapper,ref:F},a.createElement("div",{className:c.wrapperInner},r)))}))}));f.muiSupportAuto=!0,t.a=Object(c.a)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(f)},function(e,t,r){"use strict";var n=r(3),i=r(0),o=(r(7),r(10)),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},s=function(e){return Object(n.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(o.a)((function(e){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(n.a)({margin:0},s(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,r=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,r)}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return fr}));var n=r(6),i=r(3),o=r(0),a=r.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,c=(r(60),r(84)),p=r(62),u=r(72),d=r(67),h={}.constructor;function f(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==h)return e;var t={};for(var r in e)t[r]=f(e[r]);return t}function m(e,t,r){void 0===e&&(e="unnamed");var n=r.jss,i=f(t),o=n.plugins.onCreateRule(e,i,r);return o||(e[0],null)}var g=function(e,t){for(var r="",n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=t),r+=e[n];return r},y=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=", "),r+=g(e[n]," ");else r=g(e,", ");return t||"!important"!==e[e.length-1]||(r+=" !important"),r};function v(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}function b(e,t,r){void 0===r&&(r={});var n="";if(!t)return n;var i=r.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var l=a[s];for(var c in l){var p=l[c];null!=p&&(n&&(n+="\n"),n+=v(c+": "+y(p)+";",o))}}else for(var u in a){var d=a[u];null!=d&&(n&&(n+="\n"),n+=v(u+": "+y(d)+";",o))}for(var h in t){var f=t[h];null!=f&&"fallbacks"!==h&&(n&&(n+="\n"),n+=v(h+": "+y(f)+";",o))}return(n||r.allowEmpty)&&e?(n&&(n="\n"+n+"\n"),v(e+" {"+n,--o)+v("}",o)):n}var S=/([[\].#*$><+~=|^:(),"'`\s])/g,T="undefined"!==typeof CSS&&CSS.escape,w=function(e){return T?T(e):e.replace(S,"\\$1")},E=function(){function e(e,t,r){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var n=r.sheet,i=r.Renderer;this.key=e,this.options=r,this.style=t,n?this.renderer=n.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,r){if(void 0===t)return this.style[e];var n=!!r&&r.force;if(!n&&this.style[e]===t)return this;var i=t;r&&!1===r.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!n)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),x=function(e){function t(t,r,n){var i;(i=e.call(this,t,r,n)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=n.selector,a=n.scoped,s=n.sheet,l=n.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l(Object(u.a)(Object(u.a)(i)),s),i.selectorText="."+w(i.id)),i}Object(p.a)(t,e);var r=t.prototype;return r.applyTo=function(e){var t=this.renderer;if(t){var r=this.toJSON();for(var n in r)t.setProperty(e,n,r[n])}return this},r.toJSON=function(){var e={};for(var t in this.style){var r=this.style[t];"object"!==typeof r?e[t]=r:Array.isArray(r)&&(e[t]=y(r))}return e},r.toString=function(e){var t=this.options.sheet,r=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,r)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,r=this.renderable;if(r&&t)t.setSelector(r,e)||t.replaceRule(r,this)}},get:function(){return this.selectorText}}]),t}(E),_={onCreateRule:function(e,t,r){return"@"===e[0]||r.parent&&"keyframes"===r.parent.type?null:new x(e,t,r)}},k={indent:1,children:!0},O=/@([\w-]+)/,A=function(){function e(e,t,r){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var n=e.match(O);for(var o in this.at=n?n[1]:"unknown",this.query=r.name||"@"+this.at,this.options=r,this.rules=new J(Object(i.a)({},r,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,r){var n=this.rules.add(e,t,r);return n?(this.options.jss.plugins.onProcessRule(n),n):null},t.toString=function(e){if(void 0===e&&(e=k),null==e.indent&&(e.indent=k.indent),null==e.children&&(e.children=k.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),C=/@media|@supports\s+/,M={onCreateRule:function(e,t,r){return C.test(e)?new A(e,t,r):null}},P={indent:1,children:!0},R=/@keyframes\s+([\w-]+)/,I=function(){function e(e,t,r){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var n=e.match(R);n&&n[1]?this.name=n[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=r;var o=r.scoped,a=r.sheet,s=r.generateId;for(var l in this.id=!1===o?this.name:w(s(this,a)),this.rules=new J(Object(i.a)({},r,{parent:this})),t)this.rules.add(l,t[l],Object(i.a)({},r,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=P),null==e.indent&&(e.indent=P.indent),null==e.children&&(e.children=P.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),B=/@keyframes\s+/,D=/\$([\w-]+)/g,L=function(e,t){return"string"===typeof e?e.replace(D,(function(e,r){return r in t?t[r]:e})):e},F=function(e,t,r){var n=e[t],i=L(n,r);i!==n&&(e[t]=i)},N={onCreateRule:function(e,t,r){return"string"===typeof e&&B.test(e)?new I(e,t,r):null},onProcessStyle:function(e,t,r){return"style"===t.type&&r?("animation-name"in e&&F(e,"animation-name",r.keyframes),"animation"in e&&F(e,"animation",r.keyframes),e):e},onChangeValue:function(e,t,r){var n=r.options.sheet;if(!n)return e;switch(t){case"animation":case"animation-name":return L(e,n.keyframes);default:return e}}},j=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).renderable=void 0,t}return Object(p.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,r=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,r)},t}(E),V={onCreateRule:function(e,t,r){return r.parent&&"keyframes"===r.parent.type?new j(e,t,r):null}},G=function(){function e(e,t,r){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=r}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",r=0;r<this.style.length;r++)t+=b(this.at,this.style[r]),this.style[r+1]&&(t+="\n");return t}return b(this.at,this.style,e)},e}(),U=/@font-face/,W={onCreateRule:function(e,t,r){return U.test(e)?new G(e,t,r):null}},z=function(){function e(e,t,r){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=r}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,r){return"@viewport"===e||"@-ms-viewport"===e?new z(e,t,r):null}},$=function(){function e(e,t,r){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=r}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",r=0;r<this.value.length;r++)t+=this.key+" "+this.value[r]+";",this.value[r+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),X={"@charset":!0,"@import":!0,"@namespace":!0},Y=[_,M,N,V,W,H,{onCreateRule:function(e,t,r){return e in X?new $(e,t,r):null}}],K={process:!0},q={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,r){var n=this.options,o=n.parent,a=n.sheet,s=n.jss,l=n.Renderer,c=n.generateId,p=n.scoped,u=Object(i.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:c,scoped:p,name:e,keyframes:this.keyframes,selector:void 0},r),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(u.selector="."+w(this.classes[d]));var h=m(d,t,u);if(!h)return null;this.register(h);var f=void 0===u.index?this.index.length:u.index;return this.index.splice(f,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof x?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof I&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof x?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof I&&delete this.keyframes[e.name]},t.update=function(){var e,t,r;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,r);else for(var n=0;n<this.index.length;n++)this.updateOne(this.index[n],t,r)},t.updateOne=function(t,r,n){void 0===n&&(n=K);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(r,n);else{var s=t,l=s.style;if(o.onUpdate(r,t,a,n),n.process&&l&&l!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var p=s.style[c];p!==l[c]&&s.prop(c,p,q)}for(var u in l){var d=s.style[u],h=l[u];null==d&&d!==h&&s.prop(u,null,q)}}}},t.toString=function(e){for(var t="",r=this.options.sheet,n=!!r&&r.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||n)&&(t&&(t+="\n"),t+=o)}return t},e}(),Z=function(){function e(e,t){for(var r in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(r,e[r]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var i=this.rules.add(e,t,r);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(n?n.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var r=[];for(var n in e){var i=this.addRule(n,e[n],t);i&&r.push(i)}return r},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,r){return this.rules.updateOne(e,t,r),this},t.toString=function(e){return this.rules.toString(e)},e}(),Q=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,r){for(var n=0;n<this.registry.onCreateRule.length;n++){var i=this.registry.onCreateRule[n](e,t,r);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,r){for(var n=0;n<this.registry.onProcessStyle.length;n++)t.style=this.registry.onProcessStyle[n](t.style,t,r)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,r,n){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,r,n)},t.onChangeValue=function(e,t,r){for(var n=e,i=0;i<this.registry.onChangeValue.length;i++)n=this.registry.onChangeValue[i](n,t,r);return n},t.use=function(e,t){void 0===t&&(t={queue:"external"});var r=this.plugins[t.queue];-1===r.indexOf(e)&&(r.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var r in t)r in e&&e[r].push(t[r]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,r=e.options.index;if(-1===t.indexOf(e))if(0===t.length||r>=this.index)t.push(e);else for(var n=0;n<t.length;n++)if(t[n].options.index>r)return void t.splice(n,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,r=t.attached,n=Object(d.a)(t,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=r&&a.attached!==r||(i&&(i+="\n"),i+=a.toString(n))}return i},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),re="2f1acc6c3a606b082e5eef5e54414ffb";null==te[re]&&(te[re]=0);var ne=te[re]++,ie=function(e){void 0===e&&(e={});var t=0;return function(r,n){t+=1;var i="",o="";return n&&(n.options.classNamePrefix&&(o=n.options.classNamePrefix),null!=n.options.jss.id&&(i=String(n.options.jss.id))),e.minify?""+(o||"c")+ne+i+t:o+r.key+"-"+ne+(i?"-"+i:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ae=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(r){return""}},se=function(e,t,r){try{var n=r;if(Array.isArray(r)&&(n=y(r,!0),"!important"===r[r.length-1]))return e.style.setProperty(t,n,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,n):e.style.setProperty(t,n)}catch(i){return!1}return!0},le=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(r){}},ce=function(e,t){return e.selectorText=t,e.selectorText===t},pe=oe((function(){return document.querySelector("head")}));function ue(e){var t=ee.registry;if(t.length>0){var r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if((r=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e))&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&"string"===typeof n){var i=function(e){for(var t=pe(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===e)return n}return null}(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),he=function(e,t,r){try{if("insertRule"in e)e.insertRule(t,r);else if("appendRule"in e){e.appendRule(t)}}catch(n){return!1}return e.cssRules[r]},fe=function(e,t){var r=e.cssRules.length;return void 0===t||t>r?r:t},me=function(){function e(e){this.getPropertyValue=ae,this.setProperty=se,this.removeProperty=le,this.setSelector=ce,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},r=t.media,n=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),n&&this.element.setAttribute("data-meta",n);var o=de();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var r=t.insertionPoint,n=ue(t);if(!1!==n&&n.parent)n.parent.insertBefore(e,n.node);else if(r&&"number"===typeof r.nodeType){var i=r,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else pe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var r=0;r<e.index.length;r++)this.insertRule(e.index[r],r,t)},t.insertRule=function(e,t,r){if(void 0===r&&(r=this.element.sheet),e.rules){var n=e,i=r;if("conditional"===e.type||"keyframes"===e.type){var o=fe(r,t);if(!1===(i=he(r,n.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(n.rules,i),i}var a=e.toString();if(!a)return!1;var s=fe(r,t),l=he(r,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,r){e.renderable=r,e.options.parent instanceof Z&&(this.cssRules[t]=r)},t.deleteRule=function(e){var t=this.element.sheet,r=this.indexOf(e);return-1!==r&&(t.deleteRule(r),this.cssRules.splice(r,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var r=this.indexOf(e);return-1!==r&&(this.element.sheet.deleteRule(r),this.cssRules.splice(r,1),this.insertRule(t,r))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,ye=function(){function e(e){this.id=ge++,this.version="10.7.1",this.plugins=new Q,this.options={id:{minify:!1},createGenerateId:ie,Renderer:l?me:null,plugins:[]},this.generateId=ie({minify:!1});for(var t=0;t<Y.length;t++)this.plugins.use(Y[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var r=t.index;"number"!==typeof r&&(r=0===ee.index?0:ee.index+1);var n=new Z(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(n),n},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),"object"===typeof e)return this.createRule(void 0,e,t);var n=Object(i.a)({},r,{name:e,jss:this,Renderer:this.options.Renderer});n.generateId||(n.generateId=this.generateId),n.classes||(n.classes={}),n.keyframes||(n.keyframes={});var o=m(e,t,n);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){e.plugins.use(t)})),this},e}();function ve(e){var t=null;for(var r in e){var n=e[r],i=typeof n;if("function"===i)t||(t={}),t[r]=n;else if("object"===i&&null!==n&&!Array.isArray(n)){var o=ve(n);o&&(t||(t={}),t[r]=o)}}return t}var be="object"===typeof CSS&&null!=CSS&&"number"in CSS,Se=function(e){return new ye(e)};Se();function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,r=e.newClasses;e.Component;if(!r)return t;var n=Object(i.a)({},t);return Object.keys(r).forEach((function(e){r[e]&&(n[e]="".concat(t[e]," ").concat(r[e]))})),n}var we={set:function(e,t,r,n){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(r,n)},get:function(e,t,r){var n=e.get(t);return n?n.get(r):void 0},delete:function(e,t,r){e.get(t).delete(r)}},Ee=r(342),xe=(r(7),r(128)),_e=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ke=Date.now(),Oe="fnValues"+ke,Ae="fnStyle"+ ++ke,Ce=function(){return{onCreateRule:function(e,t,r){if("function"!==typeof t)return null;var n=m(e,{},r);return n[Ae]=t,n},onProcessStyle:function(e,t){if(Oe in t||Ae in t)return e;var r={};for(var n in e){var i=e[n];"function"===typeof i&&(delete e[n],r[n]=i)}return t[Oe]=r,e},onUpdate:function(e,t,r,n){var i=t,o=i[Ae];o&&(i.style=o(e)||{});var a=i[Oe];if(a)for(var s in a)i.prop(s,a[s](e),n)}}},Me="@global",Pe="@global ",Re=function(){function e(e,t,r){for(var n in this.type="global",this.at=Me,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=r,this.rules=new J(Object(i.a)({},r,{parent:this})),t)this.rules.add(n,t[n]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,r){var n=this.rules.add(e,t,r);return n&&this.options.jss.plugins.onProcessRule(n),n},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Ie=function(){function e(e,t,r){this.type="global",this.at=Me,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=r;var n=e.substr(Pe.length);this.rule=r.jss.createRule(n,t,Object(i.a)({},r,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Be=/\s*,\s*/g;function De(e,t){for(var r=e.split(Be),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}var Le=function(){return{onCreateRule:function(e,t,r){if(!e)return null;if(e===Me)return new Re(e,t,r);if("@"===e[0]&&e.substr(0,Pe.length)===Pe)return new Ie(e,t,r);var n=r.parent;return n&&("global"===n.type||n.options.parent&&"global"===n.options.parent.type)&&(r.scoped=!1),!1===r.scoped&&(r.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var r=e.options,n=e.style,o=n?n[Me]:null;if(o){for(var a in o)t.addRule(a,o[a],Object(i.a)({},r,{selector:De(a,e.selector)}));delete n[Me]}}(e,t),function(e,t){var r=e.options,n=e.style;for(var o in n)if("@"===o[0]&&o.substr(0,Me.length)===Me){var a=De(o.substr(Me.length),e.selector);t.addRule(a,n[o],Object(i.a)({},r,{selector:a})),delete n[o]}}(e,t))}}},Fe=/\s*,\s*/g,Ne=/&/g,je=/\$([\w-]+)/g;var Ve=function(){function e(e,t){return function(r,n){var i=e.getRule(n)||t&&t.getRule(n);return i?(i=i).selector:n}}function t(e,t){for(var r=t.split(Fe),n=e.split(Fe),i="",o=0;o<r.length;o++)for(var a=r[o],s=0;s<n.length;s++){var l=n[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Ne,a):a+" "+l}return i}function r(e,t,r){if(r)return Object(i.a)({},r,{index:r.index+1});var n=e.options.nestingLevel;n=void 0===n?1:n+1;var o=Object(i.a)({},e.options,{nestingLevel:n,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(n,o,a){if("style"!==o.type)return n;var s,l,c=o,p=c.options.parent;for(var u in n){var d=-1!==u.indexOf("&"),h="@"===u[0];if(d||h){if(s=r(c,p,s),d){var f=t(u,c.selector);l||(l=e(p,a)),f=f.replace(je,l),p.addRule(f,n[u],Object(i.a)({},s,{selector:f}))}else h&&p.addRule(u,{},s).addRule(c.key,n[u],{selector:c.selector});delete n[u]}}return n}}},Ge=/[A-Z]/g,Ue=/^ms-/,We={};function ze(e){return"-"+e.toLowerCase()}var He=function(e){if(We.hasOwnProperty(e))return We[e];var t=e.replace(Ge,ze);return We[e]=Ue.test(t)?"-"+t:t};function $e(e){var t={};for(var r in e){t[0===r.indexOf("--")?r:He(r)]=e[r]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map($e):t.fallbacks=$e(e.fallbacks)),t}var Xe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=$e(e[t]);return e}return $e(e)},onChangeValue:function(e,t,r){if(0===t.indexOf("--"))return e;var n=He(t);return t===n?e:(r.prop(n,e),null)}}},Ye=be&&CSS?CSS.px:"px",Ke=be&&CSS?CSS.ms:"ms",qe=be&&CSS?CSS.percent:"%";function Je(e){var t=/(-[a-z])/g,r=function(e){return e[1].toUpperCase()},n={};for(var i in e)n[i]=e[i],n[i.replace(t,r)]=e[i];return n}var Ze=Je({"animation-delay":Ke,"animation-duration":Ke,"background-position":Ye,"background-position-x":Ye,"background-position-y":Ye,"background-size":Ye,border:Ye,"border-bottom":Ye,"border-bottom-left-radius":Ye,"border-bottom-right-radius":Ye,"border-bottom-width":Ye,"border-left":Ye,"border-left-width":Ye,"border-radius":Ye,"border-right":Ye,"border-right-width":Ye,"border-top":Ye,"border-top-left-radius":Ye,"border-top-right-radius":Ye,"border-top-width":Ye,"border-width":Ye,"border-block":Ye,"border-block-end":Ye,"border-block-end-width":Ye,"border-block-start":Ye,"border-block-start-width":Ye,"border-block-width":Ye,"border-inline":Ye,"border-inline-end":Ye,"border-inline-end-width":Ye,"border-inline-start":Ye,"border-inline-start-width":Ye,"border-inline-width":Ye,"border-start-start-radius":Ye,"border-start-end-radius":Ye,"border-end-start-radius":Ye,"border-end-end-radius":Ye,margin:Ye,"margin-bottom":Ye,"margin-left":Ye,"margin-right":Ye,"margin-top":Ye,"margin-block":Ye,"margin-block-end":Ye,"margin-block-start":Ye,"margin-inline":Ye,"margin-inline-end":Ye,"margin-inline-start":Ye,padding:Ye,"padding-bottom":Ye,"padding-left":Ye,"padding-right":Ye,"padding-top":Ye,"padding-block":Ye,"padding-block-end":Ye,"padding-block-start":Ye,"padding-inline":Ye,"padding-inline-end":Ye,"padding-inline-start":Ye,"mask-position-x":Ye,"mask-position-y":Ye,"mask-size":Ye,height:Ye,width:Ye,"min-height":Ye,"max-height":Ye,"min-width":Ye,"max-width":Ye,bottom:Ye,left:Ye,top:Ye,right:Ye,inset:Ye,"inset-block":Ye,"inset-block-end":Ye,"inset-block-start":Ye,"inset-inline":Ye,"inset-inline-end":Ye,"inset-inline-start":Ye,"box-shadow":Ye,"text-shadow":Ye,"column-gap":Ye,"column-rule":Ye,"column-rule-width":Ye,"column-width":Ye,"font-size":Ye,"font-size-delta":Ye,"letter-spacing":Ye,"text-decoration-thickness":Ye,"text-indent":Ye,"text-stroke":Ye,"text-stroke-width":Ye,"word-spacing":Ye,motion:Ye,"motion-offset":Ye,outline:Ye,"outline-offset":Ye,"outline-width":Ye,perspective:Ye,"perspective-origin-x":qe,"perspective-origin-y":qe,"transform-origin":qe,"transform-origin-x":qe,"transform-origin-y":qe,"transform-origin-z":qe,"transition-delay":Ke,"transition-duration":Ke,"vertical-align":Ye,"flex-basis":Ye,"shape-margin":Ye,size:Ye,gap:Ye,grid:Ye,"grid-gap":Ye,"row-gap":Ye,"grid-row-gap":Ye,"grid-column-gap":Ye,"grid-template-rows":Ye,"grid-template-columns":Ye,"grid-auto-rows":Ye,"grid-auto-columns":Ye,"box-shadow-x":Ye,"box-shadow-y":Ye,"box-shadow-blur":Ye,"box-shadow-spread":Ye,"font-line-height":Ye,"text-shadow-x":Ye,"text-shadow-y":Ye,"text-shadow-blur":Ye});function Qe(e,t,r){if(null==t)return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=Qe(e,t[n],r);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Qe(i,t[i],r);else for(var o in t)t[o]=Qe(e+"-"+o,t[o],r);else if("number"===typeof t&&!1===isNaN(t)){var a=r[e]||Ze[e];return!a||0===t&&a===Ye?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var et=function(e){void 0===e&&(e={});var t=Je(e);return{onProcessStyle:function(e,r){if("style"!==r.type)return e;for(var n in e)e[n]=Qe(n,e[n],t);return e},onChangeValue:function(e,r){return Qe(r,e,t)}}},tt=r(52),rt="",nt="",it="",ot="",at=l&&"ontouchstart"in document.documentElement;if(l){var st={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},lt=document.createElement("p").style;for(var ct in st)if(ct+"Transform"in lt){rt=ct,nt=st[ct];break}"Webkit"===rt&&"msHyphens"in lt&&(rt="ms",nt=st.ms,ot="edge"),"Webkit"===rt&&"-apple-trailing-word"in lt&&(it="apple")}var pt=rt,ut=nt,dt=it,ht=ot,ft=at;var mt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===pt?"-webkit-"+e:ut+e)}},gt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===pt?ut+"print-"+e:e)}},yt=/[-\s]+(.)?/g;function vt(e,t){return t?t.toUpperCase():""}function bt(e){return e.replace(yt,vt)}function St(e){return bt("-"+e)}var Tt,wt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===pt){var r="mask-image";if(bt(r)in t)return e;if(pt+St(r)in t)return ut+e}return e}},Et={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==dt||ft?e:ut+e)}},xt={noPrefill:["transform"],supportedProperty:function(e,t,r){return"transform"===e&&(r.transform?e:ut+e)}},_t={noPrefill:["transition"],supportedProperty:function(e,t,r){return"transition"===e&&(r.transition?e:ut+e)}},kt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===pt||"ms"===pt&&"edge"!==ht?ut+e:e)}},Ot={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===pt||"ms"===pt||"apple"===dt?ut+e:e)}},At={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===pt?"WebkitColumn"+St(e)in t&&ut+"column-"+e:"Moz"===pt&&("page"+St(e)in t&&"page-"+e))}},Ct={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===pt)return e;var r=e.replace("-inline","");return pt+St(r)in t&&ut+r}},Mt={supportedProperty:function(e,t){return bt(e)in t&&e}},Pt={supportedProperty:function(e,t){var r=St(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:pt+r in t?ut+e:"Webkit"!==pt&&"Webkit"+r in t&&"-webkit-"+e}},Rt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===pt?""+ut+e:e)}},It={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===pt?ut+"scroll-chaining":e)}},Bt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Dt={supportedProperty:function(e,t){var r=Bt[e];return!!r&&(pt+St(r)in t&&ut+r)}},Lt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ft=Object.keys(Lt),Nt=function(e){return ut+e},jt=[mt,gt,wt,Et,xt,_t,kt,Ot,At,Ct,Mt,Pt,Rt,It,Dt,{supportedProperty:function(e,t,r){var n=r.multiple;if(Ft.indexOf(e)>-1){var i=Lt[e];if(!Array.isArray(i))return pt+St(i)in t&&ut+i;if(!n)return!1;for(var o=0;o<i.length;o++)if(!(pt+St(i[0])in t))return!1;return i.map(Nt)}return!1}}],Vt=jt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Gt=jt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(tt.a)(t.noPrefill)),e}),[]),Ut={};if(l){Tt=document.createElement("p");var Wt=window.getComputedStyle(document.documentElement,"");for(var zt in Wt)isNaN(zt)||(Ut[Wt[zt]]=Wt[zt]);Gt.forEach((function(e){return delete Ut[e]}))}function Ht(e,t){if(void 0===t&&(t={}),!Tt)return e;if(null!=Ut[e])return Ut[e];"transition"!==e&&"transform"!==e||(t[e]=e in Tt.style);for(var r=0;r<Vt.length&&(Ut[e]=Vt[r](e,Tt.style,t),!Ut[e]);r++);try{Tt.style[e]=""}catch(n){return!1}return Ut[e]}var $t,Xt={},Yt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Kt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function qt(e,t,r){if("var"===t)return"var";if("all"===t)return"all";if("all"===r)return", all";var n=t?Ht(t):", "+Ht(r);return n||(t||r)}function Jt(e,t){var r=t;if(!$t||"content"===e)return t;if("string"!==typeof r||!isNaN(parseInt(r,10)))return r;var n=e+r;if(null!=Xt[n])return Xt[n];try{$t.style[e]=r}catch(i){return Xt[n]=!1,!1}if(Yt[e])r=r.replace(Kt,qt);else if(""===$t.style[e]&&("-ms-flex"===(r=ut+r)&&($t.style[e]="-ms-flexbox"),$t.style[e]=r,""===$t.style[e]))return Xt[n]=!1,!1;return $t.style[e]="",Xt[n]=r,Xt[n]}l&&($t=document.createElement("p"));var Zt=function(){function e(t){for(var r in t){var n=t[r];if("fallbacks"===r&&Array.isArray(n))t[r]=n.map(e);else{var i=!1,o=Ht(r);o&&o!==r&&(i=!0);var a=!1,s=Jt(o,y(n));s&&s!==n&&(a=!0),(i||a)&&(i&&delete t[r],t[o||r]=s||n)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(r=t.at)[1]||"ms"===pt?r:"@"+ut+"keyframes"+r.substr(10)}var r},onProcessStyle:function(t,r){return"style"!==r.type?t:e(t)},onChangeValue:function(e,t){return Jt(t,y(e))||e}}};var Qt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,r){if("style"!==r.type)return t;for(var n={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)n[i[o]]=t[i[o]];return n}}};function er(){return{plugins:[Ce(),Le(),Ve(),Xe(),et(),"undefined"===typeof window?null:Zt(),Qt()]}}var tr=Se(er()),rr={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,r=void 0!==t&&t,n=e.productionPrefix,i=void 0===n?"jss":n,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,c=function(){return l+=1};return function(e,t){var n=t.options.name;if(n&&0===n.indexOf("Mui")&&!t.options.link&&!r){if(-1!==_e.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(n,"-").concat(e.key);return t.options.theme[xe.a]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(i).concat(c())}}(),jss:tr,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},nr=a.a.createContext(rr);var ir=-1e9;function or(){return ir+=1}r(96);var ar=r(1032);function sr(e){var t="function"===typeof e;return{create:function(r,n){var o;try{o=t?e(r):e}catch(l){throw l}if(!n||!r.overrides||!r.overrides[n])return o;var a=r.overrides[n],s=Object(i.a)({},o);return Object.keys(a).forEach((function(e){s[e]=Object(ar.a)(s[e],a[e])})),s},options:{}}}var lr={};function cr(e,t,r){var n=e.state;if(e.stylesOptions.disableGeneration)return t||{};n.cacheClasses||(n.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return n.classes!==n.cacheClasses.lastJSS&&(n.cacheClasses.lastJSS=n.classes,i=!0),t!==n.cacheClasses.lastProp&&(n.cacheClasses.lastProp=t,i=!0),i&&(n.cacheClasses.value=Te({baseClasses:n.cacheClasses.lastJSS,newClasses:t,Component:r})),n.cacheClasses.value}function pr(e,t){var r=e.state,n=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var l=we.get(o.sheetsManager,a,n);l||(l={refs:0,staticSheet:null,dynamicStyles:null},we.set(o.sheetsManager,a,n,l));var c=Object(i.a)({},a.options,o,{theme:n,flip:"boolean"===typeof o.flip?o.flip:"rtl"===n.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var p=o.sheetsRegistry;if(0===l.refs){var u;o.sheetsCache&&(u=we.get(o.sheetsCache,a,n));var d=a.create(n,s);u||((u=o.jss.createStyleSheet(d,Object(i.a)({link:!1},c))).attach(),o.sheetsCache&&we.set(o.sheetsCache,a,n,u)),p&&p.add(u),l.staticSheet=u,l.dynamicStyles=ve(d)}if(l.dynamicStyles){var h=o.jss.createStyleSheet(l.dynamicStyles,Object(i.a)({link:!0},c));h.update(t),h.attach(),r.dynamicSheet=h,r.classes=Te({baseClasses:l.staticSheet.classes,newClasses:h.classes}),p&&p.add(h)}else r.classes=l.staticSheet.classes;l.refs+=1}}function ur(e,t){var r=e.state;r.dynamicSheet&&r.dynamicSheet.update(t)}function dr(e){var t=e.state,r=e.theme,n=e.stylesOptions,i=e.stylesCreator;if(!n.disableGeneration){var o=we.get(n.sheetsManager,i,r);o.refs-=1;var a=n.sheetsRegistry;0===o.refs&&(we.delete(n.sheetsManager,i,r),n.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(n.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function hr(e,t){var r,n=a.a.useRef([]),i=a.a.useMemo((function(){return{}}),t);n.current!==i&&(n.current=i,r=e()),a.a.useEffect((function(){return function(){r&&r()}}),[i])}function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.name,o=t.classNamePrefix,s=t.Component,l=t.defaultTheme,c=void 0===l?lr:l,p=Object(n.a)(t,["name","classNamePrefix","Component","defaultTheme"]),u=sr(e),d=r||o||"makeStyles";u.options={index:or(),name:r,meta:d,classNamePrefix:d};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Ee.a)()||c,n=Object(i.a)({},a.a.useContext(nr),p),o=a.a.useRef(),l=a.a.useRef();hr((function(){var i={name:r,state:{},stylesCreator:u,stylesOptions:n,theme:t};return pr(i,e),l.current=!1,o.current=i,function(){dr(i)}}),[t,u]),a.a.useEffect((function(){l.current&&ur(o.current,e),l.current=!0}));var d=cr(o.current,e.classes,s);return d};return h}},function(e,t,r){"use strict";var n=r(52),i=r(3),o=(r(7),r(61));function a(e,t){var r={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(r[n]=e[n])})),r}function s(e){var t=function(t){var r=e(t);return t.css?Object(i.a)({},Object(o.a)(r,e(Object(i.a)({theme:t.theme},t.css))),a(t.css,[e.filterProps])):t.sx?Object(i.a)({},Object(o.a)(r,e(Object(i.a)({theme:t.theme},t.sx))),a(t.sx,[e.filterProps])):r};return t.propTypes={},t.filterProps=["css","sx"].concat(Object(n.a)(e.filterProps)),t}var l=s;var c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=function(e){return t.reduce((function(t,r){var n=r(e);return n?Object(o.a)(t,n):t}),{})};return n.propTypes={},n.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),n},p=r(24),u=r(125);function d(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var h=function(e){var t=e.prop,r=e.cssProperty,n=void 0===r?e.prop:r,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var r=e[t],a=d(e.theme,i)||{};return Object(u.a)(e,r,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=d(a,e)||e,o&&(t=o(t))),!1===n?t:Object(p.a)({},n,t)}))};return a.propTypes={},a.filterProps=[t],a};function f(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var m=c(h({prop:"border",themeKey:"borders",transform:f}),h({prop:"borderTop",themeKey:"borders",transform:f}),h({prop:"borderRight",themeKey:"borders",transform:f}),h({prop:"borderBottom",themeKey:"borders",transform:f}),h({prop:"borderLeft",themeKey:"borders",transform:f}),h({prop:"borderColor",themeKey:"palette"}),h({prop:"borderRadius",themeKey:"shape"})),g=c(h({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),h({prop:"display"}),h({prop:"overflow"}),h({prop:"textOverflow"}),h({prop:"visibility"}),h({prop:"whiteSpace"})),y=c(h({prop:"flexBasis"}),h({prop:"flexDirection"}),h({prop:"flexWrap"}),h({prop:"justifyContent"}),h({prop:"alignItems"}),h({prop:"alignContent"}),h({prop:"order"}),h({prop:"flex"}),h({prop:"flexGrow"}),h({prop:"flexShrink"}),h({prop:"alignSelf"}),h({prop:"justifyItems"}),h({prop:"justifySelf"})),v=c(h({prop:"gridGap"}),h({prop:"gridColumnGap"}),h({prop:"gridRowGap"}),h({prop:"gridColumn"}),h({prop:"gridRow"}),h({prop:"gridAutoFlow"}),h({prop:"gridAutoColumns"}),h({prop:"gridAutoRows"}),h({prop:"gridTemplateColumns"}),h({prop:"gridTemplateRows"}),h({prop:"gridTemplateAreas"}),h({prop:"gridArea"})),b=c(h({prop:"position"}),h({prop:"zIndex",themeKey:"zIndex"}),h({prop:"top"}),h({prop:"right"}),h({prop:"bottom"}),h({prop:"left"})),S=c(h({prop:"color",themeKey:"palette"}),h({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),T=h({prop:"boxShadow",themeKey:"shadows"});function w(e){return e<=1?"".concat(100*e,"%"):e}var E=h({prop:"width",transform:w}),x=h({prop:"maxWidth",transform:w}),_=h({prop:"minWidth",transform:w}),k=h({prop:"height",transform:w}),O=h({prop:"maxHeight",transform:w}),A=h({prop:"minHeight",transform:w}),C=(h({prop:"size",cssProperty:"width",transform:w}),h({prop:"size",cssProperty:"height",transform:w}),c(E,x,_,k,O,A,h({prop:"boxSizing"}))),M=r(1090),P=c(h({prop:"fontFamily",themeKey:"typography"}),h({prop:"fontSize",themeKey:"typography"}),h({prop:"fontStyle",themeKey:"typography"}),h({prop:"fontWeight",themeKey:"typography"}),h({prop:"letterSpacing"}),h({prop:"lineHeight"}),h({prop:"textAlign"})),R=r(6),I=r(0),B=r.n(I),D=r(8),L=r(44),F=r.n(L),N=r(1081);function j(e,t){var r={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(r[n]=e[n])})),r}var V=r(83),G=function(e){var t=function(e){return function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.name,a=Object(R.a)(n,["name"]),s=o,l="function"===typeof t?function(e){return{root:function(r){return t(Object(i.a)({theme:e},r))}}}:{root:t},c=Object(N.a)(l,Object(i.a)({Component:e,name:o||e.displayName,classNamePrefix:s},a));t.filterProps&&(r=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var p=B.a.forwardRef((function(t,n){var o=t.children,a=t.className,s=t.clone,l=t.component,p=Object(R.a)(t,["children","className","clone","component"]),u=c(t),d=Object(D.a)(u.root,a),h=p;if(r&&(h=j(h,r)),s)return B.a.cloneElement(o,Object(i.a)({className:Object(D.a)(o.props.className,d)},h));if("function"===typeof o)return o(Object(i.a)({className:d},h));var f=l||e;return B.a.createElement(f,Object(i.a)({ref:n,className:d},h),o)}));return F()(p,e),p}}(e);return function(e,r){return t(e,Object(i.a)({defaultTheme:V.a},r))}},U=l(c(m,g,y,v,b,S,T,C,M.b,P)),W=G("div")(U,{name:"MuiBox"});t.a=W},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(24),a=r(0),s=(r(7),r(8)),l=r(10),c=r(14),p=r(28),u=r(342),d=r(1058);function h(e){return e&&e.ownerDocument||document}var f=r(1064),m=r(86),g=r(21),y=r(58),v=r(126);var b=r(84),S=r(52);function T(e){var t,r=h(e);return r.body===e?(t=r,h(t).defaultView||window).innerWidth>r.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function w(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function E(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function x(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,r].concat(Object(S.a)(n)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&w(e,i)}))}function _(e,t){var r=-1;return e.some((function(e,n){return!!t(e)&&(r=n,!0)})),r}function k(e,t){var r,n=[],i=[],o=e.container;if(!t.disableScrollLock){if(T(o)){var a=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();n.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(E(o)+a,"px"),r=h(o).querySelectorAll(".mui-fixed"),[].forEach.call(r,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(E(e)+a,"px")}))}var s=o.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;n.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){r&&[].forEach.call(r,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),n.forEach((function(e){var t=e.value,r=e.el,n=e.key;t?r.style.setProperty(n,t):r.style.removeProperty(n)}))}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(b.a)(e,[{key:"add",value:function(e,t){var r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&w(e.modalRef,!1);var n=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);x(t,e.mountNode,e.modalRef,n,!0);var i=_(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:n}),r)}},{key:"mount",value:function(e,t){var r=_(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),n=this.containers[r];n.restore||(n.restore=k(n,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var r=_(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),n=this.containers[r];if(n.modals.splice(n.modals.indexOf(e),1),this.modals.splice(t,1),0===n.modals.length)n.restore&&n.restore(),e.modalRef&&w(e.modalRef,!0),x(n.container,e.mountNode,e.modalRef,n.hiddenSiblingNodes,!1),this.containers.splice(r,1);else{var i=n.modals[n.modals.length-1];i.modalRef&&w(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var A=function(e){var t=e.children,r=e.disableAutoFocus,n=void 0!==r&&r,i=e.disableEnforceFocus,o=void 0!==i&&i,s=e.disableRestoreFocus,l=void 0!==s&&s,c=e.getDoc,u=e.isEnabled,d=e.open,f=a.useRef(),m=a.useRef(null),y=a.useRef(null),v=a.useRef(),b=a.useRef(null),S=a.useCallback((function(e){b.current=p.findDOMNode(e)}),[]),T=Object(g.a)(t.ref,S),w=a.useRef();return a.useEffect((function(){w.current=d}),[d]),!w.current&&d&&"undefined"!==typeof window&&(v.current=c().activeElement),a.useEffect((function(){if(d){var e=h(b.current);n||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){null!==b.current&&(e.hasFocus()&&!o&&u()&&!f.current?b.current&&!b.current.contains(e.activeElement)&&b.current.focus():f.current=!1)},r=function(t){!o&&u()&&9===t.keyCode&&e.activeElement===b.current&&(f.current=!0,t.shiftKey?y.current.focus():m.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",r,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",r,!0),l||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[n,o,l,u,d]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:T}),a.createElement("div",{tabIndex:0,ref:y,"data-test":"sentinelEnd"}))},C={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},M=a.forwardRef((function(e,t){var r=e.invisible,o=void 0!==r&&r,s=e.open,l=Object(i.a)(e,["invisible","open"]);return s?a.createElement("div",Object(n.a)({"aria-hidden":!0,ref:t},l,{style:Object(n.a)({},C.root,o?C.invisible:{},l.style)})):null}));var P=new O,R=a.forwardRef((function(e,t){var r=Object(u.a)(),o=Object(d.a)({name:"MuiModal",props:Object(n.a)({},e),theme:r}),s=o.BackdropComponent,l=void 0===s?M:s,c=o.BackdropProps,b=o.children,S=o.closeAfterTransition,T=void 0!==S&&S,E=o.container,x=o.disableAutoFocus,_=void 0!==x&&x,k=o.disableBackdropClick,O=void 0!==k&&k,C=o.disableEnforceFocus,R=void 0!==C&&C,I=o.disableEscapeKeyDown,B=void 0!==I&&I,D=o.disablePortal,L=void 0!==D&&D,F=o.disableRestoreFocus,N=void 0!==F&&F,j=o.disableScrollLock,V=void 0!==j&&j,G=o.hideBackdrop,U=void 0!==G&&G,W=o.keepMounted,z=void 0!==W&&W,H=o.manager,$=void 0===H?P:H,X=o.onBackdropClick,Y=o.onClose,K=o.onEscapeKeyDown,q=o.onRendered,J=o.open,Z=Object(i.a)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Q=a.useState(!0),ee=Q[0],te=Q[1],re=a.useRef({}),ne=a.useRef(null),ie=a.useRef(null),oe=Object(g.a)(ie,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),se=function(){return h(ne.current)},le=function(){return re.current.modalRef=ie.current,re.current.mountNode=ne.current,re.current},ce=function(){$.mount(le(),{disableScrollLock:V}),ie.current.scrollTop=0},pe=Object(y.a)((function(){var e=function(e){return e="function"===typeof e?e():e,p.findDOMNode(e)}(E)||se().body;$.add(le(),e),ie.current&&ce()})),ue=a.useCallback((function(){return $.isTopModal(le())}),[$]),de=Object(y.a)((function(e){ne.current=e,e&&(q&&q(),J&&ue()?ce():w(ie.current,!0))})),he=a.useCallback((function(){$.remove(le())}),[$]);if(a.useEffect((function(){return function(){he()}}),[he]),a.useEffect((function(){J?pe():ae&&T||he()}),[J,he,ae,T,pe]),!z&&!J&&(!ae||ee))return null;var fe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:v.a}),me={};return void 0===b.props.tabIndex&&(me.tabIndex=b.props.tabIndex||"-1"),ae&&(me.onEnter=Object(m.a)((function(){te(!1)}),b.props.onEnter),me.onExited=Object(m.a)((function(){te(!0),T&&he()}),b.props.onExited)),a.createElement(f.a,{ref:de,container:E,disablePortal:L},a.createElement("div",Object(n.a)({ref:oe,onKeyDown:function(e){"Escape"===e.key&&ue()&&(K&&K(e),B||(e.stopPropagation(),Y&&Y(e,"escapeKeyDown")))},role:"presentation"},Z,{style:Object(n.a)({},fe.root,!J&&ee?fe.hidden:{},Z.style)}),U?null:a.createElement(l,Object(n.a)({open:J,onClick:function(e){e.target===e.currentTarget&&(X&&X(e),!O&&Y&&Y(e,"backdropClick"))}},c)),a.createElement(A,{disableEnforceFocus:R,disableAutoFocus:_,disableRestoreFocus:N,getDoc:se,isEnabled:ue,open:J},a.cloneElement(b,me))))})),I=r(1065),B=r(1034),D=r(55),L=r(1062),F={enter:D.b.enteringScreen,exit:D.b.leavingScreen},N=a.forwardRef((function(e,t){var r=e.BackdropProps,o=e.children,l=e.classes,p=e.className,u=e.disableBackdropClick,d=void 0!==u&&u,h=e.disableEscapeKeyDown,f=void 0!==h&&h,m=e.fullScreen,g=void 0!==m&&m,y=e.fullWidth,v=void 0!==y&&y,b=e.maxWidth,S=void 0===b?"sm":b,T=e.onBackdropClick,w=e.onClose,E=e.onEnter,x=e.onEntered,_=e.onEntering,k=e.onEscapeKeyDown,O=e.onExit,A=e.onExited,C=e.onExiting,M=e.open,P=e.PaperComponent,D=void 0===P?L.a:P,N=e.PaperProps,j=void 0===N?{}:N,V=e.scroll,G=void 0===V?"paper":V,U=e.TransitionComponent,W=void 0===U?B.a:U,z=e.transitionDuration,H=void 0===z?F:z,$=e.TransitionProps,X=e["aria-describedby"],Y=e["aria-labelledby"],K=Object(i.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),q=a.useRef();return a.createElement(R,Object(n.a)({className:Object(s.a)(l.root,p),BackdropComponent:I.a,BackdropProps:Object(n.a)({transitionDuration:H},r),closeAfterTransition:!0},d?{disableBackdropClick:d}:{},{disableEscapeKeyDown:f,onEscapeKeyDown:k,onClose:w,open:M,ref:t},K),a.createElement(W,Object(n.a)({appear:!0,in:M,timeout:H,onEnter:E,onEntering:_,onEntered:x,onExit:O,onExiting:C,onExited:A,role:"none presentation"},$),a.createElement("div",{className:Object(s.a)(l.container,l["scroll".concat(Object(c.a)(G))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===q.current&&(q.current=null,T&&T(e),!d&&w&&w(e,"backdropClick"))},onMouseDown:function(e){q.current=e.target}},a.createElement(D,Object(n.a)({elevation:24,role:"dialog","aria-describedby":X,"aria-labelledby":Y},j,{className:Object(s.a)(l.paper,l["paperScroll".concat(Object(c.a)(G))],l["paperWidth".concat(Object(c.a)(String(S)))],j.className,g&&l.paperFullScreen,v&&l.paperFullWidth)}),o))))}));t.a=Object(l.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(N)},function(e,t,r){"use strict";var n=r(6),i=r(3),o=r(0),a=r.n(o),s=(r(7),r(8)),l=r(25),c=r(10),p=r(1062),u=r(14),d=o.forwardRef((function(e,t){var r=e.children,a=e.classes,l=e.className,c=e.color,p=void 0===c?"inherit":c,d=e.component,h=void 0===d?"svg":d,f=e.fontSize,m=void 0===f?"medium":f,g=e.htmlColor,y=e.titleAccess,v=e.viewBox,b=void 0===v?"0 0 24 24":v,S=Object(n.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(h,Object(i.a)({className:Object(s.a)(a.root,l,"inherit"!==p&&a["color".concat(Object(u.a)(p))],"default"!==m&&"medium"!==m&&a["fontSize".concat(Object(u.a)(m))]),focusable:"false",viewBox:b,color:g,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},S),r,y?o.createElement("title",null,y):null)}));d.muiName="SvgIcon";var h=Object(c.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(d);function f(e,t){var r=function(t,r){return a.a.createElement(h,Object(i.a)({ref:r},t),e)};return r.muiName=h.muiName,a.a.memo(a.a.forwardRef(r))}var m=f(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),g=f(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),y=f(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),v=f(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),b=f(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),S=r(1061),T={success:o.createElement(m,{fontSize:"inherit"}),warning:o.createElement(g,{fontSize:"inherit"}),error:o.createElement(y,{fontSize:"inherit"}),info:o.createElement(v,{fontSize:"inherit"})},w=o.createElement(b,{fontSize:"small"}),E=o.forwardRef((function(e,t){var r=e.action,a=e.children,l=e.classes,c=e.className,d=e.closeText,h=void 0===d?"Close":d,f=e.color,m=e.icon,g=e.iconMapping,y=void 0===g?T:g,v=e.onClose,b=e.role,E=void 0===b?"alert":b,x=e.severity,_=void 0===x?"success":x,k=e.variant,O=void 0===k?"standard":k,A=Object(n.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return o.createElement(p.a,Object(i.a)({role:E,square:!0,elevation:0,className:Object(s.a)(l.root,l["".concat(O).concat(Object(u.a)(f||_))],c),ref:t},A),!1!==m?o.createElement("div",{className:l.icon},m||y[_]||T[_]):null,o.createElement("div",{className:l.message},a),null!=r?o.createElement("div",{className:l.action},r):null,null==r&&v?o.createElement("div",{className:l.action},o.createElement(S.a,{size:"small","aria-label":h,title:h,color:"inherit",onClick:v},w)):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?l.b:l.d,r="light"===e.palette.type?l.d:l.b;return{root:Object(i.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:r(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:r(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:r(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:r(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(E)},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=r(7),s=r.n(a),l=r(1058),c=r(44),p=r.n(c),u=r(31),d=r(46),h=r(342);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(h.a)(),i=Object(l.a)({theme:r,name:"MuiUseMediaQuery",props:{}});var a="function"===typeof e?e(r):e;a=a.replace(/^@media( ?)/m,"");var s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,c=Object(n.a)({},i,t),p=c.defaultMatches,u=void 0!==p&&p,d=c.matchMedia,f=void 0===d?s?window.matchMedia:null:d,m=c.noSsr,g=void 0!==m&&m,y=c.ssrMatchMedia,v=void 0===y?null:y,b=o.useState((function(){return g&&s?f(a).matches:v?v(a).matches:u})),S=b[0],T=b[1];return o.useEffect((function(){var e=!0;if(s){var t=f(a),r=function(){e&&T(t.matches)};return r(),t.addListener(r),function(){e=!1,t.removeListener(r)}}}),[a,f,s]),S}var m=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r?d.b.indexOf(e)<=d.b.indexOf(t):d.b.indexOf(e)<d.b.indexOf(t)},g=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r?d.b.indexOf(t)<=d.b.indexOf(e):d.b.indexOf(t)<d.b.indexOf(e)},y="undefined"===typeof window?o.useEffect:o.useLayoutEffect,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var r=e.withTheme,a=void 0!==r&&r,s=e.noSSR,c=void 0!==s&&s,d=e.initialWidth;function h(e){var r=Object(u.a)(),s=e.theme||r,p=Object(l.a)({theme:s,name:"MuiWithWidth",props:Object(n.a)({},e)}),h=p.initialWidth,m=p.width,g=Object(i.a)(p,["initialWidth","width"]),v=o.useState(!1),b=v[0],S=v[1];y((function(){S(!0)}),[]);var T=s.breakpoints.keys.slice().reverse().reduce((function(e,t){var r=f(s.breakpoints.up(t));return!e&&r?t:e}),null),w=Object(n.a)({width:m||(b||c?T:void 0)||h||d},a?{theme:s}:{},g);return void 0===w.width?null:o.createElement(t,w)}return p()(h,t),h}};function b(e){var t=e.children,r=e.only,n=e.width,i=Object(u.a)(),o=!0;if(r)if(Array.isArray(r))for(var a=0;a<r.length;a+=1){if(n===r[a]){o=!1;break}}else r&&n===r&&(o=!1);if(o)for(var s=0;s<i.breakpoints.keys.length;s+=1){var l=i.breakpoints.keys[s],c=e["".concat(l,"Up")],p=e["".concat(l,"Down")];if(c&&m(l,n)||p&&g(l,n)){o=!1;break}}return o?t:null}b.propTypes={children:s.a.node,className:s.a.string,implementation:s.a.oneOf(["js","css"]),initialWidth:s.a.oneOf(["xs","sm","md","lg","xl"]),lgDown:s.a.bool,lgUp:s.a.bool,mdDown:s.a.bool,mdUp:s.a.bool,only:s.a.oneOfType([s.a.oneOf(["xs","sm","md","lg","xl"]),s.a.arrayOf(s.a.oneOf(["xs","sm","md","lg","xl"]))]),smDown:s.a.bool,smUp:s.a.bool,width:s.a.string.isRequired,xlDown:s.a.bool,xlUp:s.a.bool,xsDown:s.a.bool,xsUp:s.a.bool};var S=v()(b),T=r(24),w=r(14),E=r(10);var x=Object(E.a)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(r,n){return r["only".concat(Object(w.a)(n))]=Object(T.a)({},e.breakpoints.only(n),t),r["".concat(n,"Up")]=Object(T.a)({},e.breakpoints.up(n),t),r["".concat(n,"Down")]=Object(T.a)({},e.breakpoints.down(n),t),r}),{})}),{name:"PrivateHiddenCss"})((function(e){var t=e.children,r=e.classes,n=e.className,a=e.only,s=(Object(i.a)(e,["children","classes","className","only"]),Object(u.a)()),l=[];n&&l.push(n);for(var c=0;c<s.breakpoints.keys.length;c+=1){var p=s.breakpoints.keys[c],d=e["".concat(p,"Up")],h=e["".concat(p,"Down")];d&&l.push(r["".concat(p,"Up")]),h&&l.push(r["".concat(p,"Down")])}return a&&(Array.isArray(a)?a:[a]).forEach((function(e){l.push(r["only".concat(Object(w.a)(e))])})),o.createElement("div",{className:l.join(" ")},t)}));t.a=function(e){var t=e.implementation,r=void 0===t?"js":t,a=e.lgDown,s=void 0!==a&&a,l=e.lgUp,c=void 0!==l&&l,p=e.mdDown,u=void 0!==p&&p,d=e.mdUp,h=void 0!==d&&d,f=e.smDown,m=void 0!==f&&f,g=e.smUp,y=void 0!==g&&g,v=e.xlDown,b=void 0!==v&&v,T=e.xlUp,w=void 0!==T&&T,E=e.xsDown,_=void 0!==E&&E,k=e.xsUp,O=void 0!==k&&k,A=Object(i.a)(e,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===r?o.createElement(S,Object(n.a)({lgDown:s,lgUp:c,mdDown:u,mdUp:h,smDown:m,smUp:y,xlDown:b,xlUp:w,xsDown:_,xsUp:O},A)):o.createElement(x,Object(n.a)({lgDown:s,lgUp:c,mdDown:u,mdUp:h,smDown:m,smUp:y,xlDown:b,xlUp:w,xsDown:_,xsUp:O},A))}},function(e,t,r){"use strict";var n=r(3),i=r(53),o=r(6),a=r(24),s=r(0),l=r(28),c=(r(7),r(8)),p=r(1032),u=r(25),d=r(10),h=r(14),f=r(344),m=r(31),g=r(45),y=r(21);function v(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var b={entering:{opacity:1,transform:v(1)},entered:{opacity:1,transform:"none"}},S=s.forwardRef((function(e,t){var r=e.children,a=e.disableStrictModeCompat,l=void 0!==a&&a,c=e.in,p=e.onEnter,u=e.onEntered,d=e.onEntering,h=e.onExit,S=e.onExited,T=e.onExiting,w=e.style,E=e.timeout,x=void 0===E?"auto":E,_=e.TransitionComponent,k=void 0===_?f.a:_,O=Object(o.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),A=s.useRef(),C=s.useRef(),M=Object(m.a)(),P=M.unstable_strictMode&&!l,R=s.useRef(null),I=Object(y.a)(r.ref,t),B=Object(y.a)(P?R:void 0,I),D=function(e){return function(t,r){if(e){var n=P?[R.current,t]:[t,r],o=Object(i.a)(n,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},L=D(d),F=D((function(e,t){Object(g.b)(e);var r,n=Object(g.a)({style:w,timeout:x},{mode:"enter"}),i=n.duration,o=n.delay;"auto"===x?(r=M.transitions.getAutoHeightDuration(e.clientHeight),C.current=r):r=i,e.style.transition=[M.transitions.create("opacity",{duration:r,delay:o}),M.transitions.create("transform",{duration:.666*r,delay:o})].join(","),p&&p(e,t)})),N=D(u),j=D(T),V=D((function(e){var t,r=Object(g.a)({style:w,timeout:x},{mode:"exit"}),n=r.duration,i=r.delay;"auto"===x?(t=M.transitions.getAutoHeightDuration(e.clientHeight),C.current=t):t=n,e.style.transition=[M.transitions.create("opacity",{duration:t,delay:i}),M.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=v(.75),h&&h(e)})),G=D(S);return s.useEffect((function(){return function(){clearTimeout(A.current)}}),[]),s.createElement(k,Object(n.a)({appear:!0,in:c,nodeRef:P?R:void 0,onEnter:F,onEntered:N,onEntering:L,onExit:V,onExited:G,onExiting:j,addEndListener:function(e,t){var r=P?e:t;"auto"===x&&(A.current=setTimeout(r,C.current||0))},timeout:"auto"===x?null:x},O),(function(e,t){return s.cloneElement(r,Object(n.a)({style:Object(n.a)({opacity:0,transform:v(.75),visibility:"exited"!==e||c?void 0:"hidden"},b[e],w,r.props.style),ref:B},t))}))}));S.muiSupportAuto=!0;var T=S,w=r(335),E=r(342),x=r(1064),_=r(86),k=r(56);function O(e){return"function"===typeof e?e():e}var A="undefined"!==typeof window?s.useLayoutEffect:s.useEffect,C={},M=s.forwardRef((function(e,t){var r=e.anchorEl,i=e.children,a=e.container,l=e.disablePortal,c=void 0!==l&&l,p=e.keepMounted,u=void 0!==p&&p,d=e.modifiers,h=e.open,f=e.placement,m=void 0===f?"bottom":f,g=e.popperOptions,v=void 0===g?C:g,b=e.popperRef,S=e.style,T=e.transition,M=void 0!==T&&T,P=Object(o.a)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),R=s.useRef(null),I=Object(y.a)(R,t),B=s.useRef(null),D=Object(y.a)(B,b),L=s.useRef(D);A((function(){L.current=D}),[D]),s.useImperativeHandle(b,(function(){return B.current}),[]);var F=s.useState(!0),N=F[0],j=F[1],V=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(m,Object(E.a)()),G=s.useState(V),U=G[0],W=G[1];s.useEffect((function(){B.current&&B.current.update()}));var z=s.useCallback((function(){if(R.current&&r&&h){B.current&&(B.current.destroy(),L.current(null));var e=function(e){W(e.placement)},t=(O(r),new w.a(O(r),R.current,Object(n.a)({placement:V},v,{modifiers:Object(n.a)({},c?{}:{preventOverflow:{boundariesElement:"window"}},d,v.modifiers),onCreate:Object(_.a)(e,v.onCreate),onUpdate:Object(_.a)(e,v.onUpdate)})));L.current(t)}}),[r,c,d,h,V,v]),H=s.useCallback((function(e){Object(k.a)(I,e),z()}),[I,z]),$=function(){B.current&&(B.current.destroy(),L.current(null))};if(s.useEffect((function(){return function(){$()}}),[]),s.useEffect((function(){h||M||$()}),[h,M]),!u&&!h&&(!M||N))return null;var X={placement:U};return M&&(X.TransitionProps={in:h,onEnter:function(){j(!1)},onExited:function(){j(!0),$()}}),s.createElement(x.a,{disablePortal:c,container:a},s.createElement("div",Object(n.a)({ref:H,role:"tooltip"},P,{style:Object(n.a)({position:"fixed",top:0,left:0,display:h||!u||M?null:"none"},S)}),"function"===typeof i?i(X):i))}));var P=r(130);function R(e){return Math.round(1e5*e)/1e5}var I=!1,B=null;var D=s.forwardRef((function(e,t){var r=e.arrow,a=void 0!==r&&r,u=e.children,d=e.classes,f=e.disableFocusListener,g=void 0!==f&&f,v=e.disableHoverListener,b=void 0!==v&&v,S=e.disableTouchListener,w=void 0!==S&&S,E=e.enterDelay,x=void 0===E?100:E,_=e.enterNextDelay,O=void 0===_?0:_,A=e.enterTouchDelay,C=void 0===A?700:A,R=e.id,D=e.interactive,L=void 0!==D&&D,F=e.leaveDelay,N=void 0===F?0:F,j=e.leaveTouchDelay,V=void 0===j?1500:j,G=e.onClose,U=e.onOpen,W=e.open,z=e.placement,H=void 0===z?"bottom":z,$=e.PopperComponent,X=void 0===$?M:$,Y=e.PopperProps,K=e.title,q=e.TransitionComponent,J=void 0===q?T:q,Z=e.TransitionProps,Q=Object(o.a)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),ee=Object(m.a)(),te=s.useState(),re=te[0],ne=te[1],ie=s.useState(null),oe=ie[0],ae=ie[1],se=s.useRef(!1),le=s.useRef(),ce=s.useRef(),pe=s.useRef(),ue=s.useRef(),de=function(e){var t=e.controlled,r=e.default,n=(e.name,e.state,s.useRef(void 0!==t).current),i=s.useState(r),o=i[0],a=i[1];return[n?t:o,s.useCallback((function(e){n||a(e)}),[])]}({controlled:W,default:!1,name:"Tooltip",state:"open"}),he=Object(i.a)(de,2),fe=he[0],me=he[1],ge=fe,ye=function(e){var t=s.useState(e),r=t[0],n=t[1],i=e||r;return s.useEffect((function(){null==r&&n("mui-".concat(Math.round(1e5*Math.random())))}),[r]),i}(R);s.useEffect((function(){return function(){clearTimeout(le.current),clearTimeout(ce.current),clearTimeout(pe.current),clearTimeout(ue.current)}}),[]);var ve=function(e){clearTimeout(B),I=!0,me(!0),U&&U(e)},be=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var r=u.props;"mouseover"===t.type&&r.onMouseOver&&e&&r.onMouseOver(t),se.current&&"touchstart"!==t.type||(re&&re.removeAttribute("title"),clearTimeout(ce.current),clearTimeout(pe.current),x||I&&O?(t.persist(),ce.current=setTimeout((function(){ve(t)}),I?O:x)):ve(t))}},Se=Object(P.a)(),Te=Se.isFocusVisible,we=Se.onBlurVisible,Ee=Se.ref,xe=s.useState(!1),_e=xe[0],ke=xe[1],Oe=function(){_e&&(ke(!1),we())},Ae=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){re||ne(t.currentTarget),Te(t)&&(ke(!0),be()(t));var r=u.props;r.onFocus&&e&&r.onFocus(t)}},Ce=function(e){clearTimeout(B),B=setTimeout((function(){I=!1}),800+N),me(!1),G&&G(e),clearTimeout(le.current),le.current=setTimeout((function(){se.current=!1}),ee.transitions.duration.shortest)},Me=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var r=u.props;"blur"===t.type&&(r.onBlur&&e&&r.onBlur(t),Oe()),"mouseleave"===t.type&&r.onMouseLeave&&t.currentTarget===re&&r.onMouseLeave(t),clearTimeout(ce.current),clearTimeout(pe.current),t.persist(),pe.current=setTimeout((function(){Ce(t)}),N)}},Pe=function(e){se.current=!0;var t=u.props;t.onTouchStart&&t.onTouchStart(e)},Re=Object(y.a)(ne,t),Ie=Object(y.a)(Ee,Re),Be=s.useCallback((function(e){Object(k.a)(Ie,l.findDOMNode(e))}),[Ie]),De=Object(y.a)(u.ref,Be);""===K&&(ge=!1);var Le=!ge&&!b,Fe=Object(n.a)({"aria-describedby":ge?ye:null,title:Le&&"string"===typeof K?K:null},Q,u.props,{className:Object(c.a)(Q.className,u.props.className),onTouchStart:Pe,ref:De}),Ne={};w||(Fe.onTouchStart=function(e){Pe(e),clearTimeout(pe.current),clearTimeout(le.current),clearTimeout(ue.current),e.persist(),ue.current=setTimeout((function(){be()(e)}),C)},Fe.onTouchEnd=function(e){u.props.onTouchEnd&&u.props.onTouchEnd(e),clearTimeout(ue.current),clearTimeout(pe.current),e.persist(),pe.current=setTimeout((function(){Ce(e)}),V)}),b||(Fe.onMouseOver=be(),Fe.onMouseLeave=Me(),L&&(Ne.onMouseOver=be(!1),Ne.onMouseLeave=Me(!1))),g||(Fe.onFocus=Ae(),Fe.onBlur=Me(),L&&(Ne.onFocus=Ae(!1),Ne.onBlur=Me(!1)));var je=s.useMemo((function(){return Object(p.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(oe),element:oe}}}},Y)}),[oe,Y]);return s.createElement(s.Fragment,null,s.cloneElement(u,Fe),s.createElement(X,Object(n.a)({className:Object(c.a)(d.popper,L&&d.popperInteractive,a&&d.popperArrow),placement:H,anchorEl:re,open:!!re&&ge,id:Fe["aria-describedby"],transition:!0},Ne,je),(function(e){var t=e.placement,r=e.TransitionProps;return s.createElement(J,Object(n.a)({timeout:ee.transitions.duration.shorter},r,Z),s.createElement("div",{className:Object(c.a)(d.tooltip,d["tooltipPlacement".concat(Object(h.a)(t.split("-")[0]))],se.current&&d.touch,a&&d.tooltipArrow)},K,a?s.createElement("span",{className:d.arrow,ref:ae}):null))})))}));t.a=Object(d.a)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:Object(u.a)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(R(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(u.a)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(R(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:Object(a.a)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(a.a)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(a.a)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(a.a)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(D)},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(341),l=r(131),c=r(73),p=r(10),u=r(14),d=r(21);function h(e,t){return parseInt(e[t],10)||0}var f="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,m={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},g=o.forwardRef((function(e,t){var r=e.onChange,a=e.rows,s=e.rowsMax,l=e.rowsMin,c=e.maxRows,p=e.minRows,u=void 0===p?1:p,g=e.style,y=e.value,v=Object(i.a)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),b=c||s,S=a||l||u,T=o.useRef(null!=y).current,w=o.useRef(null),E=Object(d.a)(t,w),x=o.useRef(null),_=o.useRef(0),k=o.useState({}),O=k[0],A=k[1],C=o.useCallback((function(){var t=w.current,r=window.getComputedStyle(t),n=x.current;n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");var i=r["box-sizing"],o=h(r,"padding-bottom")+h(r,"padding-top"),a=h(r,"border-bottom-width")+h(r,"border-top-width"),s=n.scrollHeight-o;n.value="x";var l=n.scrollHeight-o,c=s;S&&(c=Math.max(Number(S)*l,c)),b&&(c=Math.min(Number(b)*l,c));var p=(c=Math.max(c,l))+("border-box"===i?o+a:0),u=Math.abs(c-s)<=1;A((function(e){return _.current<20&&(p>0&&Math.abs((e.outerHeightStyle||0)-p)>1||e.overflow!==u)?(_.current+=1,{overflow:u,outerHeightStyle:p}):e}))}),[b,S,e.placeholder]);o.useEffect((function(){var e=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=this,s=function(){e.apply(a,i)};clearTimeout(t),t=setTimeout(s,r)}return n.clear=function(){clearTimeout(t)},n}((function(){_.current=0,C()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[C]),f((function(){C()})),o.useEffect((function(){_.current=0}),[y]);return o.createElement(o.Fragment,null,o.createElement("textarea",Object(n.a)({value:y,onChange:function(e){_.current=0,T||C(),r&&r(e)},ref:E,rows:S,style:Object(n.a)({height:O.outerHeightStyle,overflow:O.overflow?"hidden":null},g)},v)),o.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:x,tabIndex:-1,style:Object(n.a)({},m,g)}))})),y=r(100),v="undefined"===typeof window?o.useEffect:o.useLayoutEffect,b=o.forwardRef((function(e,t){var r=e["aria-describedby"],p=e.autoComplete,h=e.autoFocus,f=e.classes,m=e.className,b=(e.color,e.defaultValue),S=e.disabled,T=e.endAdornment,w=(e.error,e.fullWidth),E=void 0!==w&&w,x=e.id,_=e.inputComponent,k=void 0===_?"input":_,O=e.inputProps,A=void 0===O?{}:O,C=e.inputRef,M=(e.margin,e.multiline),P=void 0!==M&&M,R=e.name,I=e.onBlur,B=e.onChange,D=e.onClick,L=e.onFocus,F=e.onKeyDown,N=e.onKeyUp,j=e.placeholder,V=e.readOnly,G=e.renderSuffix,U=e.rows,W=e.rowsMax,z=e.rowsMin,H=e.maxRows,$=e.minRows,X=e.startAdornment,Y=e.type,K=void 0===Y?"text":Y,q=e.value,J=Object(i.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Z=null!=A.value?A.value:q,Q=o.useRef(null!=Z).current,ee=o.useRef(),te=o.useCallback((function(e){0}),[]),re=Object(d.a)(A.ref,te),ne=Object(d.a)(C,re),ie=Object(d.a)(ee,ne),oe=o.useState(!1),ae=oe[0],se=oe[1],le=Object(c.b)();var ce=Object(l.a)({props:e,muiFormControl:le,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ce.focused=le?le.focused:ae,o.useEffect((function(){!le&&S&&ae&&(se(!1),I&&I())}),[le,S,ae,I]);var pe=le&&le.onFilled,ue=le&&le.onEmpty,de=o.useCallback((function(e){Object(y.b)(e)?pe&&pe():ue&&ue()}),[pe,ue]);v((function(){Q&&de({value:Z})}),[Z,de,Q]);o.useEffect((function(){de(ee.current)}),[]);var he=k,fe=Object(n.a)({},A,{ref:ie});"string"!==typeof he?fe=Object(n.a)({inputRef:ie,type:K},fe,{ref:null}):P?!U||H||$||W||z?(fe=Object(n.a)({minRows:U||$,rowsMax:W,maxRows:H},fe),he=g):he="textarea":fe=Object(n.a)({type:K},fe);return o.useEffect((function(){le&&le.setAdornedStart(Boolean(X))}),[le,X]),o.createElement("div",Object(n.a)({className:Object(a.a)(f.root,f["color".concat(Object(u.a)(ce.color||"primary"))],m,ce.disabled&&f.disabled,ce.error&&f.error,E&&f.fullWidth,ce.focused&&f.focused,le&&f.formControl,P&&f.multiline,X&&f.adornedStart,T&&f.adornedEnd,"dense"===ce.margin&&f.marginDense),onClick:function(e){ee.current&&e.currentTarget===e.target&&ee.current.focus(),D&&D(e)},ref:t},J),X,o.createElement(c.a.Provider,{value:null},o.createElement(he,Object(n.a)({"aria-invalid":ce.error,"aria-describedby":r,autoComplete:p,autoFocus:h,defaultValue:b,disabled:ce.disabled,id:x,onAnimationStart:function(e){de("mui-auto-fill-cancel"===e.animationName?ee.current:{value:"x"})},name:R,placeholder:j,readOnly:V,required:ce.required,rows:U,value:Z,onKeyDown:F,onKeyUp:N},fe,{className:Object(a.a)(f.input,A.className,ce.disabled&&f.disabled,P&&f.inputMultiline,ce.hiddenLabel&&f.inputHiddenLabel,X&&f.inputAdornedStart,T&&f.inputAdornedEnd,"search"===K&&f.inputTypeSearch,"dense"===ce.margin&&f.inputMarginDense),onBlur:function(e){I&&I(e),A.onBlur&&A.onBlur(e),le&&le.onBlur?le.onBlur(e):se(!1)},onChange:function(e){if(!Q){var t=e.target||ee.current;if(null==t)throw new Error(Object(s.a)(1));de({value:t.value})}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];A.onChange&&A.onChange.apply(A,[e].concat(n)),B&&B.apply(void 0,[e].concat(n))},onFocus:function(e){ce.disabled?e.stopPropagation():(L&&L(e),A.onFocus&&A.onFocus(e),le&&le.onFocus?le.onFocus(e):se(!0))}}))),T,G?G(Object(n.a)({},ce,{startAdornment:X})):null)})),S=Object(p.a)((function(e){var t="light"===e.palette.type,r={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},o={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(n.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(b),T=r(24),w=r(31),E=o.forwardRef((function(e,t){e.children;var r=e.classes,s=e.className,l=e.label,c=e.labelWidth,p=e.notched,d=e.style,h=Object(i.a)(e,["children","classes","className","label","labelWidth","notched","style"]),f="rtl"===Object(w.a)().direction?"right":"left";if(void 0!==l)return o.createElement("fieldset",Object(n.a)({"aria-hidden":!0,className:Object(a.a)(r.root,s),ref:t,style:d},h),o.createElement("legend",{className:Object(a.a)(r.legendLabelled,p&&r.legendNotched)},l?o.createElement("span",null,l):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var m=c>0?.75*c+8:.01;return o.createElement("fieldset",Object(n.a)({"aria-hidden":!0,style:Object(n.a)(Object(T.a)({},"padding".concat(Object(u.a)(f)),8),d),className:Object(a.a)(r.root,s),ref:t},h),o.createElement("legend",{className:r.legend,style:{width:p?m:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),x=Object(p.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(E),_=o.forwardRef((function(e,t){var r=e.classes,s=e.fullWidth,l=void 0!==s&&s,c=e.inputComponent,p=void 0===c?"input":c,u=e.label,d=e.labelWidth,h=void 0===d?0:d,f=e.multiline,m=void 0!==f&&f,g=e.notched,y=e.type,v=void 0===y?"text":y,b=Object(i.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(S,Object(n.a)({renderSuffix:function(e){return o.createElement(x,{className:r.notchedOutline,label:u,labelWidth:h,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(n.a)({},r,{root:Object(a.a)(r.root,r.underline),notchedOutline:null}),fullWidth:l,inputComponent:p,multiline:m,ref:t,type:v},b))}));_.muiName="Input";t.a=Object(p.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(_)},function(e,t,r){"use strict";var n=r(3),i=r(6),o=r(0),a=(r(7),r(8)),s=r(100),l=r(10),c=r(14);function p(e,t){return o.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var u=r(73),d=o.forwardRef((function(e,t){var r=e.children,l=e.classes,d=e.className,h=e.color,f=void 0===h?"primary":h,m=e.component,g=void 0===m?"div":m,y=e.disabled,v=void 0!==y&&y,b=e.error,S=void 0!==b&&b,T=e.fullWidth,w=void 0!==T&&T,E=e.focused,x=e.hiddenLabel,_=void 0!==x&&x,k=e.margin,O=void 0===k?"none":k,A=e.required,C=void 0!==A&&A,M=e.size,P=e.variant,R=void 0===P?"standard":P,I=Object(i.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),B=o.useState((function(){var e=!1;return r&&o.Children.forEach(r,(function(t){if(p(t,["Input","Select"])){var r=p(t,["Select"])?t.props.input:t;r&&Object(s.a)(r.props)&&(e=!0)}})),e})),D=B[0],L=B[1],F=o.useState((function(){var e=!1;return r&&o.Children.forEach(r,(function(t){p(t,["Input","Select"])&&Object(s.b)(t.props,!0)&&(e=!0)})),e})),N=F[0],j=F[1],V=o.useState(!1),G=V[0],U=V[1],W=void 0!==E?E:G;v&&W&&U(!1);var z=o.useCallback((function(){j(!0)}),[]),H={adornedStart:D,setAdornedStart:L,color:f,disabled:v,error:S,filled:N,focused:W,fullWidth:w,hiddenLabel:_,margin:("small"===M?"dense":void 0)||O,onBlur:function(){U(!1)},onEmpty:o.useCallback((function(){j(!1)}),[]),onFilled:z,onFocus:function(){U(!0)},registerEffect:undefined,required:C,variant:R};return o.createElement(u.a.Provider,{value:H},o.createElement(g,Object(n.a)({className:Object(a.a)(l.root,d,"none"!==O&&l["margin".concat(Object(c.a)(O))],w&&l.fullWidth),ref:t},I),r))}));t.a=Object(l.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(d)},function(e,t,r){"use strict";var n=r(6),i=r(3),o=r(0),a=(r(7),r(8)),s=r(131),l=r(73);var c=r(10),p=o.forwardRef((function(e,t){var r=e.children,c=e.classes,p=e.className,u=e.component,d=void 0===u?"p":u,h=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(n.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),f=o.useContext(l.a),m=Object(s.a)({props:e,muiFormControl:f,states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(d,Object(i.a)({className:Object(a.a)(c.root,("filled"===m.variant||"outlined"===m.variant)&&c.contained,p,m.disabled&&c.disabled,m.error&&c.error,m.filled&&c.filled,m.focused&&c.focused,m.required&&c.required,"dense"===m.margin&&c.marginDense),ref:t},h)," "===r?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)}));t.a=Object(c.a)((function(e){return{root:Object(i.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(p)},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(53),i=r(125),o=r(61);var a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),r=Object(n.a)(t,2),i=r[0],o=r[1],c=a[i],p=s[o]||"";return Array.isArray(p)?p.map((function(e){return c+e})):[c+p]})),p=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function u(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function d(e,t){return function(r){return e.reduce((function(e,n){return e[n]=function(e,t){if("string"===typeof t||null==t)return t;var r=e(Math.abs(t));return t>=0?r:"number"===typeof r?-r:"-".concat(r)}(t,r),e}),{})}}function h(e){var t=u(e.theme);return Object.keys(e).map((function(r){if(-1===p.indexOf(r))return null;var n=d(c(r),t),o=e[r];return Object(i.a)(e,o,n)})).reduce(o.a,{})}h.propTypes={},h.filterProps=p;t.b=h}]]);
//# sourceMappingURL=2.a8e78b64.chunk.js.map